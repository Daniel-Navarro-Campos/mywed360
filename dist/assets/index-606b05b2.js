var tK=Object.defineProperty;var nK=(t,e,n)=>e in t?tK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ut=(t,e,n)=>(nK(t,typeof e!="symbol"?e+"":e,n),n);function rK(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Fr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ss(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bU={exports:{}},b2={},_U={exports:{}},Yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yv=Symbol.for("react.element"),iK=Symbol.for("react.portal"),sK=Symbol.for("react.fragment"),oK=Symbol.for("react.strict_mode"),aK=Symbol.for("react.profiler"),lK=Symbol.for("react.provider"),AK=Symbol.for("react.context"),cK=Symbol.for("react.forward_ref"),uK=Symbol.for("react.suspense"),hK=Symbol.for("react.memo"),dK=Symbol.for("react.lazy"),vN=Symbol.iterator;function fK(t){return t===null||typeof t!="object"?null:(t=vN&&t[vN]||t["@@iterator"],typeof t=="function"?t:null)}var CU={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xU=Object.assign,BU={};function Jf(t,e,n){this.props=t,this.context=e,this.refs=BU,this.updater=n||CU}Jf.prototype.isReactComponent={};Jf.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Jf.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function EU(){}EU.prototype=Jf.prototype;function j5(t,e,n){this.props=t,this.context=e,this.refs=BU,this.updater=n||CU}var H5=j5.prototype=new EU;H5.constructor=j5;xU(H5,Jf.prototype);H5.isPureReactComponent=!0;var yN=Array.isArray,SU=Object.prototype.hasOwnProperty,V5={current:null},TU={key:!0,ref:!0,__self:!0,__source:!0};function IU(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)SU.call(e,r)&&!TU.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),A=0;A<a;A++)l[A]=arguments[A+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yv,type:t,key:s,ref:o,props:i,_owner:V5.current}}function pK(t,e){return{$$typeof:yv,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $5(t){return typeof t=="object"&&t!==null&&t.$$typeof===yv}function gK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var wN=/\/+/g;function S_(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gK(""+t.key):e.toString(36)}function zy(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yv:case iK:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+S_(o,0):r,yN(i)?(n="",t!=null&&(n=t.replace(wN,"$&/")+"/"),zy(i,e,n,"",function(A){return A})):i!=null&&($5(i)&&(i=pK(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(wN,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yN(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+S_(s,a);o+=zy(s,e,n,l,i)}else if(l=fK(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+S_(s,a++),o+=zy(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function D0(t,e,n){if(t==null)return t;var r=[],i=0;return zy(t,r,"","",function(s){return e.call(n,s,i++)}),r}function mK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Cs={current:null},Ky={transition:null},vK={ReactCurrentDispatcher:Cs,ReactCurrentBatchConfig:Ky,ReactCurrentOwner:V5};function NU(){throw Error("act(...) is not supported in production builds of React.")}Yt.Children={map:D0,forEach:function(t,e,n){D0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return D0(t,function(){e++}),e},toArray:function(t){return D0(t,function(e){return e})||[]},only:function(t){if(!$5(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Yt.Component=Jf;Yt.Fragment=sK;Yt.Profiler=aK;Yt.PureComponent=j5;Yt.StrictMode=oK;Yt.Suspense=uK;Yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vK;Yt.act=NU;Yt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xU({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=V5.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)SU.call(e,l)&&!TU.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var A=0;A<l;A++)a[A]=arguments[A+2];r.children=a}return{$$typeof:yv,type:t.type,key:i,ref:s,props:r,_owner:o}};Yt.createContext=function(t){return t={$$typeof:AK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:lK,_context:t},t.Consumer=t};Yt.createElement=IU;Yt.createFactory=function(t){var e=IU.bind(null,t);return e.type=t,e};Yt.createRef=function(){return{current:null}};Yt.forwardRef=function(t){return{$$typeof:cK,render:t}};Yt.isValidElement=$5;Yt.lazy=function(t){return{$$typeof:dK,_payload:{_status:-1,_result:t},_init:mK}};Yt.memo=function(t,e){return{$$typeof:hK,type:t,compare:e===void 0?null:e}};Yt.startTransition=function(t){var e=Ky.transition;Ky.transition={};try{t()}finally{Ky.transition=e}};Yt.unstable_act=NU;Yt.useCallback=function(t,e){return Cs.current.useCallback(t,e)};Yt.useContext=function(t){return Cs.current.useContext(t)};Yt.useDebugValue=function(){};Yt.useDeferredValue=function(t){return Cs.current.useDeferredValue(t)};Yt.useEffect=function(t,e){return Cs.current.useEffect(t,e)};Yt.useId=function(){return Cs.current.useId()};Yt.useImperativeHandle=function(t,e,n){return Cs.current.useImperativeHandle(t,e,n)};Yt.useInsertionEffect=function(t,e){return Cs.current.useInsertionEffect(t,e)};Yt.useLayoutEffect=function(t,e){return Cs.current.useLayoutEffect(t,e)};Yt.useMemo=function(t,e){return Cs.current.useMemo(t,e)};Yt.useReducer=function(t,e,n){return Cs.current.useReducer(t,e,n)};Yt.useRef=function(t){return Cs.current.useRef(t)};Yt.useState=function(t){return Cs.current.useState(t)};Yt.useSyncExternalStore=function(t,e,n){return Cs.current.useSyncExternalStore(t,e,n)};Yt.useTransition=function(){return Cs.current.useTransition()};Yt.version="18.3.1";_U.exports=Yt;var $=_U.exports;const re=ss($),yK=rK({__proto__:null,default:re},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wK=$,bK=Symbol.for("react.element"),_K=Symbol.for("react.fragment"),CK=Object.prototype.hasOwnProperty,xK=wK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BK={key:!0,ref:!0,__self:!0,__source:!0};function FU(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)CK.call(e,r)&&!BK.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:bK,type:t,key:s,ref:o,props:i,_owner:xK.current}}b2.Fragment=_K;b2.jsx=FU;b2.jsxs=FU;bU.exports=b2;var y=bU.exports,Dx={},kU={exports:{}},ho={},PU={exports:{}},DU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ne,se){var ue=ne.length;ne.push(se);e:for(;0<ue;){var le=ue-1>>>1,U=ne[le];if(0<i(U,se))ne[le]=se,ne[ue]=U,ue=le;else break e}}function n(ne){return ne.length===0?null:ne[0]}function r(ne){if(ne.length===0)return null;var se=ne[0],ue=ne.pop();if(ue!==se){ne[0]=ue;e:for(var le=0,U=ne.length,z=U>>>1;le<z;){var q=2*(le+1)-1,ee=ne[q],fe=q+1,me=ne[fe];if(0>i(ee,ue))fe<U&&0>i(me,ee)?(ne[le]=me,ne[fe]=ue,le=fe):(ne[le]=ee,ne[q]=ue,le=q);else if(fe<U&&0>i(me,ue))ne[le]=me,ne[fe]=ue,le=fe;else break e}}return se}function i(ne,se){var ue=ne.sortIndex-se.sortIndex;return ue!==0?ue:ne.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],A=[],c=1,u=null,h=3,d=!1,p=!1,f=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(ne){for(var se=n(A);se!==null;){if(se.callback===null)r(A);else if(se.startTime<=ne)r(A),se.sortIndex=se.expirationTime,e(l,se);else break;se=n(A)}}function x(ne){if(f=!1,_(ne),!p)if(n(l)!==null)p=!0,oe(F);else{var se=n(A);se!==null&&ie(x,se.startTime-ne)}}function F(ne,se){p=!1,f&&(f=!1,g(B),B=-1),d=!0;var ue=h;try{for(_(se),u=n(l);u!==null&&(!(u.expirationTime>se)||ne&&!D());){var le=u.callback;if(typeof le=="function"){u.callback=null,h=u.priorityLevel;var U=le(u.expirationTime<=se);se=t.unstable_now(),typeof U=="function"?u.callback=U:u===n(l)&&r(l),_(se)}else r(l);u=n(l)}if(u!==null)var z=!0;else{var q=n(A);q!==null&&ie(x,q.startTime-se),z=!1}return z}finally{u=null,h=ue,d=!1}}var O=!1,I=null,B=-1,T=5,R=-1;function D(){return!(t.unstable_now()-R<T)}function E(){if(I!==null){var ne=t.unstable_now();R=ne;var se=!0;try{se=I(!0,ne)}finally{se?k():(O=!1,I=null)}}else O=!1}var k;if(typeof v=="function")k=function(){v(E)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Y=N.port2;N.port1.onmessage=E,k=function(){Y.postMessage(null)}}else k=function(){b(E,0)};function oe(ne){I=ne,O||(O=!0,k())}function ie(ne,se){B=b(function(){ne(t.unstable_now())},se)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ne){ne.callback=null},t.unstable_continueExecution=function(){p||d||(p=!0,oe(F))},t.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<ne?Math.floor(1e3/ne):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(ne){switch(h){case 1:case 2:case 3:var se=3;break;default:se=h}var ue=h;h=se;try{return ne()}finally{h=ue}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ne,se){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ue=h;h=ne;try{return se()}finally{h=ue}},t.unstable_scheduleCallback=function(ne,se,ue){var le=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?le+ue:le):ue=le,ne){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ue+U,ne={id:c++,callback:se,priorityLevel:ne,startTime:ue,expirationTime:U,sortIndex:-1},ue>le?(ne.sortIndex=ue,e(A,ne),n(l)===null&&ne===n(A)&&(f?(g(B),B=-1):f=!0,ie(x,ue-le))):(ne.sortIndex=U,e(l,ne),p||d||(p=!0,oe(F))),ne},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(ne){var se=h;return function(){var ue=h;h=se;try{return ne.apply(this,arguments)}finally{h=ue}}}})(DU);PU.exports=DU;var EK=PU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SK=$,Ao=EK;function Je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var LU=new Set,dm={};function Sh(t,e){bf(t,e),bf(t+"Capture",e)}function bf(t,e){for(dm[t]=e,t=0;t<e.length;t++)LU.add(e[t])}var Jl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lx=Object.prototype.hasOwnProperty,TK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,bN={},_N={};function IK(t){return Lx.call(_N,t)?!0:Lx.call(bN,t)?!1:TK.test(t)?_N[t]=!0:(bN[t]=!0,!1)}function NK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function FK(t,e,n,r){if(e===null||typeof e>"u"||NK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xs(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pi[t]=new xs(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pi[e]=new xs(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pi[t]=new xs(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pi[t]=new xs(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pi[t]=new xs(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pi[t]=new xs(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pi[t]=new xs(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pi[t]=new xs(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pi[t]=new xs(t,5,!1,t.toLowerCase(),null,!1,!1)});var z5=/[\-:]([a-z])/g;function K5(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z5,K5);Pi[e]=new xs(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z5,K5);Pi[e]=new xs(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z5,K5);Pi[e]=new xs(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pi[t]=new xs(t,1,!1,t.toLowerCase(),null,!1,!1)});Pi.xlinkHref=new xs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pi[t]=new xs(t,1,!1,t.toLowerCase(),null,!0,!0)});function W5(t,e,n,r){var i=Pi.hasOwnProperty(e)?Pi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(FK(e,n,i,r)&&(n=null),r||i===null?IK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var hA=SK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L0=Symbol.for("react.element"),kd=Symbol.for("react.portal"),Pd=Symbol.for("react.fragment"),G5=Symbol.for("react.strict_mode"),Rx=Symbol.for("react.profiler"),RU=Symbol.for("react.provider"),UU=Symbol.for("react.context"),q5=Symbol.for("react.forward_ref"),Ux=Symbol.for("react.suspense"),Ox=Symbol.for("react.suspense_list"),Y5=Symbol.for("react.memo"),ZA=Symbol.for("react.lazy"),OU=Symbol.for("react.offscreen"),CN=Symbol.iterator;function jp(t){return t===null||typeof t!="object"?null:(t=CN&&t[CN]||t["@@iterator"],typeof t=="function"?t:null)}var Ar=Object.assign,T_;function fg(t){if(T_===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);T_=e&&e[1]||""}return`
`+T_+t}var I_=!1;function N_(t,e){if(!t||I_)return"";I_=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(A){var r=A}Reflect.construct(t,[],e)}else{try{e.call()}catch(A){r=A}t.call(e.prototype)}else{try{throw Error()}catch(A){r=A}t()}}catch(A){if(A&&r&&typeof A.stack=="string"){for(var i=A.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{I_=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?fg(t):""}function kK(t){switch(t.tag){case 5:return fg(t.type);case 16:return fg("Lazy");case 13:return fg("Suspense");case 19:return fg("SuspenseList");case 0:case 2:case 15:return t=N_(t.type,!1),t;case 11:return t=N_(t.type.render,!1),t;case 1:return t=N_(t.type,!0),t;default:return""}}function Mx(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Pd:return"Fragment";case kd:return"Portal";case Rx:return"Profiler";case G5:return"StrictMode";case Ux:return"Suspense";case Ox:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UU:return(t.displayName||"Context")+".Consumer";case RU:return(t._context.displayName||"Context")+".Provider";case q5:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y5:return e=t.displayName||null,e!==null?e:Mx(t.type)||"Memo";case ZA:e=t._payload,t=t._init;try{return Mx(t(e))}catch{}}return null}function PK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mx(e);case 8:return e===G5?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function DK(t){var e=MU(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function R0(t){t._valueTracker||(t._valueTracker=DK(t))}function QU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=MU(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function T1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qx(t,e){var n=e.checked;return Ar({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jU(t,e){e=e.checked,e!=null&&W5(t,"checked",e,!1)}function jx(t,e){jU(t,e);var n=Rc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Hx(t,e.type,n):e.hasOwnProperty("defaultValue")&&Hx(t,e.type,Rc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function BN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Hx(t,e,n){(e!=="number"||T1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pg=Array.isArray;function Zd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Vx(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Je(91));return Ar({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function EN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Je(92));if(pg(n)){if(1<n.length)throw Error(Je(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rc(n)}}function HU(t,e){var n=Rc(e.value),r=Rc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $x(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var U0,$U=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(U0=U0||document.createElement("div"),U0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=U0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fm(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LK=["Webkit","ms","Moz","O"];Object.keys(Pg).forEach(function(t){LK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pg[e]=Pg[t]})});function zU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pg.hasOwnProperty(t)&&Pg[t]?(""+e).trim():e+"px"}function KU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=zU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var RK=Ar({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function zx(t,e){if(e){if(RK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Je(62))}}function Kx(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wx=null;function X5(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gx=null,ef=null,tf=null;function TN(t){if(t=_v(t)){if(typeof Gx!="function")throw Error(Je(280));var e=t.stateNode;e&&(e=E2(e),Gx(t.stateNode,t.type,e))}}function WU(t){ef?tf?tf.push(t):tf=[t]:ef=t}function GU(){if(ef){var t=ef,e=tf;if(tf=ef=null,TN(t),e)for(t=0;t<e.length;t++)TN(e[t])}}function qU(t,e){return t(e)}function YU(){}var F_=!1;function XU(t,e,n){if(F_)return t(e,n);F_=!0;try{return qU(t,e,n)}finally{F_=!1,(ef!==null||tf!==null)&&(YU(),GU())}}function pm(t,e){var n=t.stateNode;if(n===null)return null;var r=E2(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Je(231,e,typeof n));return n}var qx=!1;if(Jl)try{var Hp={};Object.defineProperty(Hp,"passive",{get:function(){qx=!0}}),window.addEventListener("test",Hp,Hp),window.removeEventListener("test",Hp,Hp)}catch{qx=!1}function UK(t,e,n,r,i,s,o,a,l){var A=Array.prototype.slice.call(arguments,3);try{e.apply(n,A)}catch(c){this.onError(c)}}var Dg=!1,I1=null,N1=!1,Yx=null,OK={onError:function(t){Dg=!0,I1=t}};function MK(t,e,n,r,i,s,o,a,l){Dg=!1,I1=null,UK.apply(OK,arguments)}function QK(t,e,n,r,i,s,o,a,l){if(MK.apply(this,arguments),Dg){if(Dg){var A=I1;Dg=!1,I1=null}else throw Error(Je(198));N1||(N1=!0,Yx=A)}}function Th(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function JU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function IN(t){if(Th(t)!==t)throw Error(Je(188))}function jK(t){var e=t.alternate;if(!e){if(e=Th(t),e===null)throw Error(Je(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return IN(i),t;if(s===r)return IN(i),e;s=s.sibling}throw Error(Je(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Je(189))}}if(n.alternate!==r)throw Error(Je(190))}if(n.tag!==3)throw Error(Je(188));return n.stateNode.current===n?t:e}function ZU(t){return t=jK(t),t!==null?eO(t):null}function eO(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=eO(t);if(e!==null)return e;t=t.sibling}return null}var tO=Ao.unstable_scheduleCallback,NN=Ao.unstable_cancelCallback,HK=Ao.unstable_shouldYield,VK=Ao.unstable_requestPaint,Sr=Ao.unstable_now,$K=Ao.unstable_getCurrentPriorityLevel,J5=Ao.unstable_ImmediatePriority,nO=Ao.unstable_UserBlockingPriority,F1=Ao.unstable_NormalPriority,zK=Ao.unstable_LowPriority,rO=Ao.unstable_IdlePriority,_2=null,Xa=null;function KK(t){if(Xa&&typeof Xa.onCommitFiberRoot=="function")try{Xa.onCommitFiberRoot(_2,t,void 0,(t.current.flags&128)===128)}catch{}}var _a=Math.clz32?Math.clz32:qK,WK=Math.log,GK=Math.LN2;function qK(t){return t>>>=0,t===0?32:31-(WK(t)/GK|0)|0}var O0=64,M0=4194304;function gg(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function k1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=gg(a):(s&=o,s!==0&&(r=gg(s)))}else o=n&~i,o!==0?r=gg(o):s!==0&&(r=gg(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_a(e),i=1<<n,r|=t[n],e&=~i;return r}function YK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-_a(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=YK(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Xx(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iO(){var t=O0;return O0<<=1,!(O0&4194240)&&(O0=64),t}function k_(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wv(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_a(e),t[e]=n}function JK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_a(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Z5(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_a(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xn=0;function sO(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var oO,eS,aO,lO,AO,Jx=!1,Q0=[],mc=null,vc=null,yc=null,gm=new Map,mm=new Map,rc=[],ZK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function FN(t,e){switch(t){case"focusin":case"focusout":mc=null;break;case"dragenter":case"dragleave":vc=null;break;case"mouseover":case"mouseout":yc=null;break;case"pointerover":case"pointerout":gm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mm.delete(e.pointerId)}}function Vp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_v(e),e!==null&&eS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function eW(t,e,n,r,i){switch(e){case"focusin":return mc=Vp(mc,t,e,n,r,i),!0;case"dragenter":return vc=Vp(vc,t,e,n,r,i),!0;case"mouseover":return yc=Vp(yc,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gm.set(s,Vp(gm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,mm.set(s,Vp(mm.get(s)||null,t,e,n,r,i)),!0}return!1}function cO(t){var e=Ru(t.target);if(e!==null){var n=Th(e);if(n!==null){if(e=n.tag,e===13){if(e=JU(n),e!==null){t.blockedOn=e,AO(t.priority,function(){aO(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Zx(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wx=r,n.target.dispatchEvent(r),Wx=null}else return e=_v(n),e!==null&&eS(e),t.blockedOn=n,!1;e.shift()}return!0}function kN(t,e,n){Wy(t)&&n.delete(e)}function tW(){Jx=!1,mc!==null&&Wy(mc)&&(mc=null),vc!==null&&Wy(vc)&&(vc=null),yc!==null&&Wy(yc)&&(yc=null),gm.forEach(kN),mm.forEach(kN)}function $p(t,e){t.blockedOn===e&&(t.blockedOn=null,Jx||(Jx=!0,Ao.unstable_scheduleCallback(Ao.unstable_NormalPriority,tW)))}function vm(t){function e(i){return $p(i,t)}if(0<Q0.length){$p(Q0[0],t);for(var n=1;n<Q0.length;n++){var r=Q0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mc!==null&&$p(mc,t),vc!==null&&$p(vc,t),yc!==null&&$p(yc,t),gm.forEach(e),mm.forEach(e),n=0;n<rc.length;n++)r=rc[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<rc.length&&(n=rc[0],n.blockedOn===null);)cO(n),n.blockedOn===null&&rc.shift()}var nf=hA.ReactCurrentBatchConfig,P1=!0;function nW(t,e,n,r){var i=xn,s=nf.transition;nf.transition=null;try{xn=1,tS(t,e,n,r)}finally{xn=i,nf.transition=s}}function rW(t,e,n,r){var i=xn,s=nf.transition;nf.transition=null;try{xn=4,tS(t,e,n,r)}finally{xn=i,nf.transition=s}}function tS(t,e,n,r){if(P1){var i=Zx(t,e,n,r);if(i===null)H_(t,e,r,D1,n),FN(t,r);else if(eW(i,t,e,n,r))r.stopPropagation();else if(FN(t,r),e&4&&-1<ZK.indexOf(t)){for(;i!==null;){var s=_v(i);if(s!==null&&oO(s),s=Zx(t,e,n,r),s===null&&H_(t,e,r,D1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else H_(t,e,r,null,n)}}var D1=null;function Zx(t,e,n,r){if(D1=null,t=X5(r),t=Ru(t),t!==null)if(e=Th(t),e===null)t=null;else if(n=e.tag,n===13){if(t=JU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return D1=t,null}function uO(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($K()){case J5:return 1;case nO:return 4;case F1:case zK:return 16;case rO:return 536870912;default:return 16}default:return 16}}var Ac=null,nS=null,Gy=null;function hO(){if(Gy)return Gy;var t,e=nS,n=e.length,r,i="value"in Ac?Ac.value:Ac.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Gy=i.slice(t,1<r?1-r:void 0)}function qy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function j0(){return!0}function PN(){return!1}function fo(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?j0:PN,this.isPropagationStopped=PN,this}return Ar(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=j0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=j0)},persist:function(){},isPersistent:j0}),e}var Zf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rS=fo(Zf),bv=Ar({},Zf,{view:0,detail:0}),iW=fo(bv),P_,D_,zp,C2=Ar({},bv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zp&&(zp&&t.type==="mousemove"?(P_=t.screenX-zp.screenX,D_=t.screenY-zp.screenY):D_=P_=0,zp=t),P_)},movementY:function(t){return"movementY"in t?t.movementY:D_}}),DN=fo(C2),sW=Ar({},C2,{dataTransfer:0}),oW=fo(sW),aW=Ar({},bv,{relatedTarget:0}),L_=fo(aW),lW=Ar({},Zf,{animationName:0,elapsedTime:0,pseudoElement:0}),AW=fo(lW),cW=Ar({},Zf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),uW=fo(cW),hW=Ar({},Zf,{data:0}),LN=fo(hW),dW={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fW={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pW={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gW(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=pW[t])?!!e[t]:!1}function iS(){return gW}var mW=Ar({},bv,{key:function(t){if(t.key){var e=dW[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=qy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fW[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iS,charCode:function(t){return t.type==="keypress"?qy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),vW=fo(mW),yW=Ar({},C2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RN=fo(yW),wW=Ar({},bv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iS}),bW=fo(wW),_W=Ar({},Zf,{propertyName:0,elapsedTime:0,pseudoElement:0}),CW=fo(_W),xW=Ar({},C2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BW=fo(xW),EW=[9,13,27,32],sS=Jl&&"CompositionEvent"in window,Lg=null;Jl&&"documentMode"in document&&(Lg=document.documentMode);var SW=Jl&&"TextEvent"in window&&!Lg,dO=Jl&&(!sS||Lg&&8<Lg&&11>=Lg),UN=String.fromCharCode(32),ON=!1;function fO(t,e){switch(t){case"keyup":return EW.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pO(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Dd=!1;function TW(t,e){switch(t){case"compositionend":return pO(e);case"keypress":return e.which!==32?null:(ON=!0,UN);case"textInput":return t=e.data,t===UN&&ON?null:t;default:return null}}function IW(t,e){if(Dd)return t==="compositionend"||!sS&&fO(t,e)?(t=hO(),Gy=nS=Ac=null,Dd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return dO&&e.locale!=="ko"?null:e.data;default:return null}}var NW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function MN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NW[t.type]:e==="textarea"}function gO(t,e,n,r){WU(r),e=L1(e,"onChange"),0<e.length&&(n=new rS("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Rg=null,ym=null;function FW(t){SO(t,0)}function x2(t){var e=Ud(t);if(QU(e))return t}function kW(t,e){if(t==="change")return e}var mO=!1;if(Jl){var R_;if(Jl){var U_="oninput"in document;if(!U_){var QN=document.createElement("div");QN.setAttribute("oninput","return;"),U_=typeof QN.oninput=="function"}R_=U_}else R_=!1;mO=R_&&(!document.documentMode||9<document.documentMode)}function jN(){Rg&&(Rg.detachEvent("onpropertychange",vO),ym=Rg=null)}function vO(t){if(t.propertyName==="value"&&x2(ym)){var e=[];gO(e,ym,t,X5(t)),XU(FW,e)}}function PW(t,e,n){t==="focusin"?(jN(),Rg=e,ym=n,Rg.attachEvent("onpropertychange",vO)):t==="focusout"&&jN()}function DW(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return x2(ym)}function LW(t,e){if(t==="click")return x2(e)}function RW(t,e){if(t==="input"||t==="change")return x2(e)}function UW(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ba=typeof Object.is=="function"?Object.is:UW;function wm(t,e){if(Ba(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lx.call(e,i)||!Ba(t[i],e[i]))return!1}return!0}function HN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function VN(t,e){var n=HN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HN(n)}}function yO(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yO(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wO(){for(var t=window,e=T1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=T1(t.document)}return e}function oS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OW(t){var e=wO(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yO(n.ownerDocument.documentElement,n)){if(r!==null&&oS(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=VN(n,s);var o=VN(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var MW=Jl&&"documentMode"in document&&11>=document.documentMode,Ld=null,eB=null,Ug=null,tB=!1;function $N(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;tB||Ld==null||Ld!==T1(r)||(r=Ld,"selectionStart"in r&&oS(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ug&&wm(Ug,r)||(Ug=r,r=L1(eB,"onSelect"),0<r.length&&(e=new rS("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ld)))}function H0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Rd={animationend:H0("Animation","AnimationEnd"),animationiteration:H0("Animation","AnimationIteration"),animationstart:H0("Animation","AnimationStart"),transitionend:H0("Transition","TransitionEnd")},O_={},bO={};Jl&&(bO=document.createElement("div").style,"AnimationEvent"in window||(delete Rd.animationend.animation,delete Rd.animationiteration.animation,delete Rd.animationstart.animation),"TransitionEvent"in window||delete Rd.transitionend.transition);function B2(t){if(O_[t])return O_[t];if(!Rd[t])return t;var e=Rd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in bO)return O_[t]=e[n];return t}var _O=B2("animationend"),CO=B2("animationiteration"),xO=B2("animationstart"),BO=B2("transitionend"),EO=new Map,zN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yc(t,e){EO.set(t,e),Sh(e,[t])}for(var M_=0;M_<zN.length;M_++){var Q_=zN[M_],QW=Q_.toLowerCase(),jW=Q_[0].toUpperCase()+Q_.slice(1);Yc(QW,"on"+jW)}Yc(_O,"onAnimationEnd");Yc(CO,"onAnimationIteration");Yc(xO,"onAnimationStart");Yc("dblclick","onDoubleClick");Yc("focusin","onFocus");Yc("focusout","onBlur");Yc(BO,"onTransitionEnd");bf("onMouseEnter",["mouseout","mouseover"]);bf("onMouseLeave",["mouseout","mouseover"]);bf("onPointerEnter",["pointerout","pointerover"]);bf("onPointerLeave",["pointerout","pointerover"]);Sh("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sh("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sh("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sh("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sh("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),HW=new Set("cancel close invalid load scroll toggle".split(" ").concat(mg));function KN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,QK(r,e,void 0,t),t.currentTarget=null}function SO(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,A=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;KN(i,a,A),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,A=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;KN(i,a,A),s=l}}}if(N1)throw t=Yx,N1=!1,Yx=null,t}function Kn(t,e){var n=e[oB];n===void 0&&(n=e[oB]=new Set);var r=t+"__bubble";n.has(r)||(TO(e,t,2,!1),n.add(r))}function j_(t,e,n){var r=0;e&&(r|=4),TO(n,t,r,e)}var V0="_reactListening"+Math.random().toString(36).slice(2);function bm(t){if(!t[V0]){t[V0]=!0,LU.forEach(function(n){n!=="selectionchange"&&(HW.has(n)||j_(n,!1,t),j_(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[V0]||(e[V0]=!0,j_("selectionchange",!1,e))}}function TO(t,e,n,r){switch(uO(e)){case 1:var i=nW;break;case 4:i=rW;break;default:i=tS}n=i.bind(null,e,n,t),i=void 0,!qx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function H_(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ru(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}XU(function(){var A=s,c=X5(n),u=[];e:{var h=EO.get(t);if(h!==void 0){var d=rS,p=t;switch(t){case"keypress":if(qy(n)===0)break e;case"keydown":case"keyup":d=vW;break;case"focusin":p="focus",d=L_;break;case"focusout":p="blur",d=L_;break;case"beforeblur":case"afterblur":d=L_;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=DN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=oW;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=bW;break;case _O:case CO:case xO:d=AW;break;case BO:d=CW;break;case"scroll":d=iW;break;case"wheel":d=BW;break;case"copy":case"cut":case"paste":d=uW;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=RN}var f=(e&4)!==0,b=!f&&t==="scroll",g=f?h!==null?h+"Capture":null:h;f=[];for(var v=A,_;v!==null;){_=v;var x=_.stateNode;if(_.tag===5&&x!==null&&(_=x,g!==null&&(x=pm(v,g),x!=null&&f.push(_m(v,x,_)))),b)break;v=v.return}0<f.length&&(h=new d(h,p,null,n,c),u.push({event:h,listeners:f}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",h&&n!==Wx&&(p=n.relatedTarget||n.fromElement)&&(Ru(p)||p[Zl]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(p=n.relatedTarget||n.toElement,d=A,p=p?Ru(p):null,p!==null&&(b=Th(p),p!==b||p.tag!==5&&p.tag!==6)&&(p=null)):(d=null,p=A),d!==p)){if(f=DN,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(f=RN,x="onPointerLeave",g="onPointerEnter",v="pointer"),b=d==null?h:Ud(d),_=p==null?h:Ud(p),h=new f(x,v+"leave",d,n,c),h.target=b,h.relatedTarget=_,x=null,Ru(c)===A&&(f=new f(g,v+"enter",p,n,c),f.target=_,f.relatedTarget=b,x=f),b=x,d&&p)t:{for(f=d,g=p,v=0,_=f;_;_=cd(_))v++;for(_=0,x=g;x;x=cd(x))_++;for(;0<v-_;)f=cd(f),v--;for(;0<_-v;)g=cd(g),_--;for(;v--;){if(f===g||g!==null&&f===g.alternate)break t;f=cd(f),g=cd(g)}f=null}else f=null;d!==null&&WN(u,h,d,f,!1),p!==null&&b!==null&&WN(u,b,p,f,!0)}}e:{if(h=A?Ud(A):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var F=kW;else if(MN(h))if(mO)F=RW;else{F=DW;var O=PW}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(F=LW);if(F&&(F=F(t,A))){gO(u,F,n,c);break e}O&&O(t,h,A),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&Hx(h,"number",h.value)}switch(O=A?Ud(A):window,t){case"focusin":(MN(O)||O.contentEditable==="true")&&(Ld=O,eB=A,Ug=null);break;case"focusout":Ug=eB=Ld=null;break;case"mousedown":tB=!0;break;case"contextmenu":case"mouseup":case"dragend":tB=!1,$N(u,n,c);break;case"selectionchange":if(MW)break;case"keydown":case"keyup":$N(u,n,c)}var I;if(sS)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Dd?fO(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(dO&&n.locale!=="ko"&&(Dd||B!=="onCompositionStart"?B==="onCompositionEnd"&&Dd&&(I=hO()):(Ac=c,nS="value"in Ac?Ac.value:Ac.textContent,Dd=!0)),O=L1(A,B),0<O.length&&(B=new LN(B,t,null,n,c),u.push({event:B,listeners:O}),I?B.data=I:(I=pO(n),I!==null&&(B.data=I)))),(I=SW?TW(t,n):IW(t,n))&&(A=L1(A,"onBeforeInput"),0<A.length&&(c=new LN("onBeforeInput","beforeinput",null,n,c),u.push({event:c,listeners:A}),c.data=I))}SO(u,e)})}function _m(t,e,n){return{instance:t,listener:e,currentTarget:n}}function L1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pm(t,n),s!=null&&r.unshift(_m(t,s,i)),s=pm(t,e),s!=null&&r.push(_m(t,s,i))),t=t.return}return r}function cd(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function WN(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,A=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&A!==null&&(a=A,i?(l=pm(n,s),l!=null&&o.unshift(_m(n,l,a))):i||(l=pm(n,s),l!=null&&o.push(_m(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VW=/\r\n?/g,$W=/\u0000|\uFFFD/g;function GN(t){return(typeof t=="string"?t:""+t).replace(VW,`
`).replace($W,"")}function $0(t,e,n){if(e=GN(e),GN(t)!==e&&n)throw Error(Je(425))}function R1(){}var nB=null,rB=null;function iB(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sB=typeof setTimeout=="function"?setTimeout:void 0,zW=typeof clearTimeout=="function"?clearTimeout:void 0,qN=typeof Promise=="function"?Promise:void 0,KW=typeof queueMicrotask=="function"?queueMicrotask:typeof qN<"u"?function(t){return qN.resolve(null).then(t).catch(WW)}:sB;function WW(t){setTimeout(function(){throw t})}function V_(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vm(e)}function wc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function YN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ep=Math.random().toString(36).slice(2),$a="__reactFiber$"+ep,Cm="__reactProps$"+ep,Zl="__reactContainer$"+ep,oB="__reactEvents$"+ep,GW="__reactListeners$"+ep,qW="__reactHandles$"+ep;function Ru(t){var e=t[$a];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zl]||n[$a]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=YN(t);t!==null;){if(n=t[$a])return n;t=YN(t)}return e}t=n,n=t.parentNode}return null}function _v(t){return t=t[$a]||t[Zl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ud(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Je(33))}function E2(t){return t[Cm]||null}var aB=[],Od=-1;function Xc(t){return{current:t}}function Xn(t){0>Od||(t.current=aB[Od],aB[Od]=null,Od--)}function $n(t,e){Od++,aB[Od]=t.current,t.current=e}var Uc={},rs=Xc(Uc),Os=Xc(!1),th=Uc;function _f(t,e){var n=t.type.contextTypes;if(!n)return Uc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ms(t){return t=t.childContextTypes,t!=null}function U1(){Xn(Os),Xn(rs)}function XN(t,e,n){if(rs.current!==Uc)throw Error(Je(168));$n(rs,e),$n(Os,n)}function IO(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Je(108,PK(t)||"Unknown",i));return Ar({},n,r)}function O1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Uc,th=rs.current,$n(rs,t),$n(Os,Os.current),!0}function JN(t,e,n){var r=t.stateNode;if(!r)throw Error(Je(169));n?(t=IO(t,e,th),r.__reactInternalMemoizedMergedChildContext=t,Xn(Os),Xn(rs),$n(rs,t)):Xn(Os),$n(Os,n)}var Ul=null,S2=!1,$_=!1;function NO(t){Ul===null?Ul=[t]:Ul.push(t)}function YW(t){S2=!0,NO(t)}function Jc(){if(!$_&&Ul!==null){$_=!0;var t=0,e=xn;try{var n=Ul;for(xn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ul=null,S2=!1}catch(i){throw Ul!==null&&(Ul=Ul.slice(t+1)),tO(J5,Jc),i}finally{xn=e,$_=!1}}return null}var Md=[],Qd=0,M1=null,Q1=0,Ro=[],Uo=0,nh=null,Ol=1,Ml="";function Cu(t,e){Md[Qd++]=Q1,Md[Qd++]=M1,M1=t,Q1=e}function FO(t,e,n){Ro[Uo++]=Ol,Ro[Uo++]=Ml,Ro[Uo++]=nh,nh=t;var r=Ol;t=Ml;var i=32-_a(r)-1;r&=~(1<<i),n+=1;var s=32-_a(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ol=1<<32-_a(e)+i|n<<i|r,Ml=s+t}else Ol=1<<s|n<<i|r,Ml=t}function aS(t){t.return!==null&&(Cu(t,1),FO(t,1,0))}function lS(t){for(;t===M1;)M1=Md[--Qd],Md[Qd]=null,Q1=Md[--Qd],Md[Qd]=null;for(;t===nh;)nh=Ro[--Uo],Ro[Uo]=null,Ml=Ro[--Uo],Ro[Uo]=null,Ol=Ro[--Uo],Ro[Uo]=null}var oo=null,io=null,er=!1,ma=null;function kO(t,e){var n=jo(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ZN(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,oo=t,io=wc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,oo=t,io=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nh!==null?{id:Ol,overflow:Ml}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jo(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,oo=t,io=null,!0):!1;default:return!1}}function lB(t){return(t.mode&1)!==0&&(t.flags&128)===0}function AB(t){if(er){var e=io;if(e){var n=e;if(!ZN(t,e)){if(lB(t))throw Error(Je(418));e=wc(n.nextSibling);var r=oo;e&&ZN(t,e)?kO(r,n):(t.flags=t.flags&-4097|2,er=!1,oo=t)}}else{if(lB(t))throw Error(Je(418));t.flags=t.flags&-4097|2,er=!1,oo=t}}}function eF(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;oo=t}function z0(t){if(t!==oo)return!1;if(!er)return eF(t),er=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!iB(t.type,t.memoizedProps)),e&&(e=io)){if(lB(t))throw PO(),Error(Je(418));for(;e;)kO(t,e),e=wc(e.nextSibling)}if(eF(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){io=wc(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}io=null}}else io=oo?wc(t.stateNode.nextSibling):null;return!0}function PO(){for(var t=io;t;)t=wc(t.nextSibling)}function Cf(){io=oo=null,er=!1}function AS(t){ma===null?ma=[t]:ma.push(t)}var XW=hA.ReactCurrentBatchConfig;function Kp(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Je(309));var r=n.stateNode}if(!r)throw Error(Je(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Je(284));if(!n._owner)throw Error(Je(290,t))}return t}function K0(t,e){throw t=Object.prototype.toString.call(e),Error(Je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function tF(t){var e=t._init;return e(t._payload)}function DO(t){function e(g,v){if(t){var _=g.deletions;_===null?(g.deletions=[v],g.flags|=16):_.push(v)}}function n(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function r(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=xc(g,v),g.index=0,g.sibling=null,g}function s(g,v,_){return g.index=_,t?(_=g.alternate,_!==null?(_=_.index,_<v?(g.flags|=2,v):_):(g.flags|=2,v)):(g.flags|=1048576,v)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,v,_,x){return v===null||v.tag!==6?(v=X_(_,g.mode,x),v.return=g,v):(v=i(v,_),v.return=g,v)}function l(g,v,_,x){var F=_.type;return F===Pd?c(g,v,_.props.children,x,_.key):v!==null&&(v.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ZA&&tF(F)===v.type)?(x=i(v,_.props),x.ref=Kp(g,v,_),x.return=g,x):(x=n1(_.type,_.key,_.props,null,g.mode,x),x.ref=Kp(g,v,_),x.return=g,x)}function A(g,v,_,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=J_(_,g.mode,x),v.return=g,v):(v=i(v,_.children||[]),v.return=g,v)}function c(g,v,_,x,F){return v===null||v.tag!==7?(v=zu(_,g.mode,x,F),v.return=g,v):(v=i(v,_),v.return=g,v)}function u(g,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=X_(""+v,g.mode,_),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case L0:return _=n1(v.type,v.key,v.props,null,g.mode,_),_.ref=Kp(g,null,v),_.return=g,_;case kd:return v=J_(v,g.mode,_),v.return=g,v;case ZA:var x=v._init;return u(g,x(v._payload),_)}if(pg(v)||jp(v))return v=zu(v,g.mode,_,null),v.return=g,v;K0(g,v)}return null}function h(g,v,_,x){var F=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return F!==null?null:a(g,v,""+_,x);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case L0:return _.key===F?l(g,v,_,x):null;case kd:return _.key===F?A(g,v,_,x):null;case ZA:return F=_._init,h(g,v,F(_._payload),x)}if(pg(_)||jp(_))return F!==null?null:c(g,v,_,x,null);K0(g,_)}return null}function d(g,v,_,x,F){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(_)||null,a(v,g,""+x,F);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case L0:return g=g.get(x.key===null?_:x.key)||null,l(v,g,x,F);case kd:return g=g.get(x.key===null?_:x.key)||null,A(v,g,x,F);case ZA:var O=x._init;return d(g,v,_,O(x._payload),F)}if(pg(x)||jp(x))return g=g.get(_)||null,c(v,g,x,F,null);K0(v,x)}return null}function p(g,v,_,x){for(var F=null,O=null,I=v,B=v=0,T=null;I!==null&&B<_.length;B++){I.index>B?(T=I,I=null):T=I.sibling;var R=h(g,I,_[B],x);if(R===null){I===null&&(I=T);break}t&&I&&R.alternate===null&&e(g,I),v=s(R,v,B),O===null?F=R:O.sibling=R,O=R,I=T}if(B===_.length)return n(g,I),er&&Cu(g,B),F;if(I===null){for(;B<_.length;B++)I=u(g,_[B],x),I!==null&&(v=s(I,v,B),O===null?F=I:O.sibling=I,O=I);return er&&Cu(g,B),F}for(I=r(g,I);B<_.length;B++)T=d(I,g,B,_[B],x),T!==null&&(t&&T.alternate!==null&&I.delete(T.key===null?B:T.key),v=s(T,v,B),O===null?F=T:O.sibling=T,O=T);return t&&I.forEach(function(D){return e(g,D)}),er&&Cu(g,B),F}function f(g,v,_,x){var F=jp(_);if(typeof F!="function")throw Error(Je(150));if(_=F.call(_),_==null)throw Error(Je(151));for(var O=F=null,I=v,B=v=0,T=null,R=_.next();I!==null&&!R.done;B++,R=_.next()){I.index>B?(T=I,I=null):T=I.sibling;var D=h(g,I,R.value,x);if(D===null){I===null&&(I=T);break}t&&I&&D.alternate===null&&e(g,I),v=s(D,v,B),O===null?F=D:O.sibling=D,O=D,I=T}if(R.done)return n(g,I),er&&Cu(g,B),F;if(I===null){for(;!R.done;B++,R=_.next())R=u(g,R.value,x),R!==null&&(v=s(R,v,B),O===null?F=R:O.sibling=R,O=R);return er&&Cu(g,B),F}for(I=r(g,I);!R.done;B++,R=_.next())R=d(I,g,B,R.value,x),R!==null&&(t&&R.alternate!==null&&I.delete(R.key===null?B:R.key),v=s(R,v,B),O===null?F=R:O.sibling=R,O=R);return t&&I.forEach(function(E){return e(g,E)}),er&&Cu(g,B),F}function b(g,v,_,x){if(typeof _=="object"&&_!==null&&_.type===Pd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case L0:e:{for(var F=_.key,O=v;O!==null;){if(O.key===F){if(F=_.type,F===Pd){if(O.tag===7){n(g,O.sibling),v=i(O,_.props.children),v.return=g,g=v;break e}}else if(O.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ZA&&tF(F)===O.type){n(g,O.sibling),v=i(O,_.props),v.ref=Kp(g,O,_),v.return=g,g=v;break e}n(g,O);break}else e(g,O);O=O.sibling}_.type===Pd?(v=zu(_.props.children,g.mode,x,_.key),v.return=g,g=v):(x=n1(_.type,_.key,_.props,null,g.mode,x),x.ref=Kp(g,v,_),x.return=g,g=x)}return o(g);case kd:e:{for(O=_.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){n(g,v.sibling),v=i(v,_.children||[]),v.return=g,g=v;break e}else{n(g,v);break}else e(g,v);v=v.sibling}v=J_(_,g.mode,x),v.return=g,g=v}return o(g);case ZA:return O=_._init,b(g,v,O(_._payload),x)}if(pg(_))return p(g,v,_,x);if(jp(_))return f(g,v,_,x);K0(g,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(n(g,v.sibling),v=i(v,_),v.return=g,g=v):(n(g,v),v=X_(_,g.mode,x),v.return=g,g=v),o(g)):n(g,v)}return b}var xf=DO(!0),LO=DO(!1),j1=Xc(null),H1=null,jd=null,cS=null;function uS(){cS=jd=H1=null}function hS(t){var e=j1.current;Xn(j1),t._currentValue=e}function cB(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function rf(t,e){H1=t,cS=jd=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ls=!0),t.firstContext=null)}function Ko(t){var e=t._currentValue;if(cS!==t)if(t={context:t,memoizedValue:e,next:null},jd===null){if(H1===null)throw Error(Je(308));jd=t,H1.dependencies={lanes:0,firstContext:t}}else jd=jd.next=t;return e}var Uu=null;function dS(t){Uu===null?Uu=[t]:Uu.push(t)}function RO(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dS(e)):(n.next=i.next,i.next=n),e.interleaved=n,eA(t,r)}function eA(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ec=!1;function fS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function UO(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bc(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,cn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,eA(t,n)}return i=r.interleaved,i===null?(e.next=e,dS(r)):(e.next=i.next,i.next=e),r.interleaved=e,eA(t,n)}function Yy(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Z5(t,n)}}function nF(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function V1(t,e,n,r){var i=t.updateQueue;ec=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,A=l.next;l.next=null,o===null?s=A:o.next=A,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=A:a.next=A,c.lastBaseUpdate=l))}if(s!==null){var u=i.baseState;o=0,c=A=l=null,a=s;do{var h=a.lane,d=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=t,f=a;switch(h=e,d=n,f.tag){case 1:if(p=f.payload,typeof p=="function"){u=p.call(d,u,h);break e}u=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=f.payload,h=typeof p=="function"?p.call(d,u,h):p,h==null)break e;u=Ar({},u,h);break e;case 2:ec=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else d={eventTime:d,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(A=c=d,l=u):c=c.next=d,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(1);if(c===null&&(l=u),i.baseState=l,i.firstBaseUpdate=A,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ih|=o,t.lanes=o,t.memoizedState=u}}function rF(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Je(191,i));i.call(r)}}}var Cv={},Ja=Xc(Cv),xm=Xc(Cv),Bm=Xc(Cv);function Ou(t){if(t===Cv)throw Error(Je(174));return t}function pS(t,e){switch($n(Bm,e),$n(xm,t),$n(Ja,Cv),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$x(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$x(e,t)}Xn(Ja),$n(Ja,e)}function Bf(){Xn(Ja),Xn(xm),Xn(Bm)}function OO(t){Ou(Bm.current);var e=Ou(Ja.current),n=$x(e,t.type);e!==n&&($n(xm,t),$n(Ja,n))}function gS(t){xm.current===t&&(Xn(Ja),Xn(xm))}var nr=Xc(0);function $1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var z_=[];function mS(){for(var t=0;t<z_.length;t++)z_[t]._workInProgressVersionPrimary=null;z_.length=0}var Xy=hA.ReactCurrentDispatcher,K_=hA.ReactCurrentBatchConfig,rh=0,ar=null,Zr=null,pi=null,z1=!1,Og=!1,Em=0,JW=0;function Qi(){throw Error(Je(321))}function vS(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ba(t[n],e[n]))return!1;return!0}function yS(t,e,n,r,i,s){if(rh=s,ar=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Xy.current=t===null||t.memoizedState===null?nG:rG,t=n(r,i),Og){s=0;do{if(Og=!1,Em=0,25<=s)throw Error(Je(301));s+=1,pi=Zr=null,e.updateQueue=null,Xy.current=iG,t=n(r,i)}while(Og)}if(Xy.current=K1,e=Zr!==null&&Zr.next!==null,rh=0,pi=Zr=ar=null,z1=!1,e)throw Error(Je(300));return t}function wS(){var t=Em!==0;return Em=0,t}function Ha(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?ar.memoizedState=pi=t:pi=pi.next=t,pi}function Wo(){if(Zr===null){var t=ar.alternate;t=t!==null?t.memoizedState:null}else t=Zr.next;var e=pi===null?ar.memoizedState:pi.next;if(e!==null)pi=e,Zr=t;else{if(t===null)throw Error(Je(310));Zr=t,t={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},pi===null?ar.memoizedState=pi=t:pi=pi.next=t}return pi}function Sm(t,e){return typeof e=="function"?e(t):e}function W_(t){var e=Wo(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=Zr,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,A=s;do{var c=A.lane;if((rh&c)===c)l!==null&&(l=l.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),r=A.hasEagerState?A.eagerState:t(r,A.action);else{var u={lane:c,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};l===null?(a=l=u,o=r):l=l.next=u,ar.lanes|=c,ih|=c}A=A.next}while(A!==null&&A!==s);l===null?o=r:l.next=a,Ba(r,e.memoizedState)||(Ls=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ar.lanes|=s,ih|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function G_(t){var e=Wo(),n=e.queue;if(n===null)throw Error(Je(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Ba(s,e.memoizedState)||(Ls=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function MO(){}function QO(t,e){var n=ar,r=Wo(),i=e(),s=!Ba(r.memoizedState,i);if(s&&(r.memoizedState=i,Ls=!0),r=r.queue,bS(VO.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||pi!==null&&pi.memoizedState.tag&1){if(n.flags|=2048,Tm(9,HO.bind(null,n,r,i,e),void 0,null),yi===null)throw Error(Je(349));rh&30||jO(n,e,i)}return i}function jO(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function HO(t,e,n,r){e.value=n,e.getSnapshot=r,$O(e)&&zO(t)}function VO(t,e,n){return n(function(){$O(e)&&zO(t)})}function $O(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ba(t,n)}catch{return!0}}function zO(t){var e=eA(t,1);e!==null&&Ca(e,t,1,-1)}function iF(t){var e=Ha();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:t},e.queue=t,t=t.dispatch=tG.bind(null,ar,t),[e.memoizedState,t]}function Tm(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ar.updateQueue,e===null?(e={lastEffect:null,stores:null},ar.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function KO(){return Wo().memoizedState}function Jy(t,e,n,r){var i=Ha();ar.flags|=t,i.memoizedState=Tm(1|e,n,void 0,r===void 0?null:r)}function T2(t,e,n,r){var i=Wo();r=r===void 0?null:r;var s=void 0;if(Zr!==null){var o=Zr.memoizedState;if(s=o.destroy,r!==null&&vS(r,o.deps)){i.memoizedState=Tm(e,n,s,r);return}}ar.flags|=t,i.memoizedState=Tm(1|e,n,s,r)}function sF(t,e){return Jy(8390656,8,t,e)}function bS(t,e){return T2(2048,8,t,e)}function WO(t,e){return T2(4,2,t,e)}function GO(t,e){return T2(4,4,t,e)}function qO(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function YO(t,e,n){return n=n!=null?n.concat([t]):null,T2(4,4,qO.bind(null,e,t),n)}function _S(){}function XO(t,e){var n=Wo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vS(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function JO(t,e){var n=Wo();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&vS(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ZO(t,e,n){return rh&21?(Ba(n,e)||(n=iO(),ar.lanes|=n,ih|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ls=!0),t.memoizedState=n)}function ZW(t,e){var n=xn;xn=n!==0&&4>n?n:4,t(!0);var r=K_.transition;K_.transition={};try{t(!1),e()}finally{xn=n,K_.transition=r}}function eM(){return Wo().memoizedState}function eG(t,e,n){var r=Cc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},tM(t))nM(e,n);else if(n=RO(t,e,n,r),n!==null){var i=_s();Ca(n,t,r,i),rM(n,e,r)}}function tG(t,e,n){var r=Cc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(tM(t))nM(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Ba(a,o)){var l=e.interleaved;l===null?(i.next=i,dS(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=RO(t,e,i,r),n!==null&&(i=_s(),Ca(n,t,r,i),rM(n,e,r))}}function tM(t){var e=t.alternate;return t===ar||e!==null&&e===ar}function nM(t,e){Og=z1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function rM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Z5(t,n)}}var K1={readContext:Ko,useCallback:Qi,useContext:Qi,useEffect:Qi,useImperativeHandle:Qi,useInsertionEffect:Qi,useLayoutEffect:Qi,useMemo:Qi,useReducer:Qi,useRef:Qi,useState:Qi,useDebugValue:Qi,useDeferredValue:Qi,useTransition:Qi,useMutableSource:Qi,useSyncExternalStore:Qi,useId:Qi,unstable_isNewReconciler:!1},nG={readContext:Ko,useCallback:function(t,e){return Ha().memoizedState=[t,e===void 0?null:e],t},useContext:Ko,useEffect:sF,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Jy(4194308,4,qO.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Jy(4194308,4,t,e)},useInsertionEffect:function(t,e){return Jy(4,2,t,e)},useMemo:function(t,e){var n=Ha();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ha();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eG.bind(null,ar,t),[r.memoizedState,t]},useRef:function(t){var e=Ha();return t={current:t},e.memoizedState=t},useState:iF,useDebugValue:_S,useDeferredValue:function(t){return Ha().memoizedState=t},useTransition:function(){var t=iF(!1),e=t[0];return t=ZW.bind(null,t[1]),Ha().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ar,i=Ha();if(er){if(n===void 0)throw Error(Je(407));n=n()}else{if(n=e(),yi===null)throw Error(Je(349));rh&30||jO(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,sF(VO.bind(null,r,s,t),[t]),r.flags|=2048,Tm(9,HO.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ha(),e=yi.identifierPrefix;if(er){var n=Ml,r=Ol;n=(r&~(1<<32-_a(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Em++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JW++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rG={readContext:Ko,useCallback:XO,useContext:Ko,useEffect:bS,useImperativeHandle:YO,useInsertionEffect:WO,useLayoutEffect:GO,useMemo:JO,useReducer:W_,useRef:KO,useState:function(){return W_(Sm)},useDebugValue:_S,useDeferredValue:function(t){var e=Wo();return ZO(e,Zr.memoizedState,t)},useTransition:function(){var t=W_(Sm)[0],e=Wo().memoizedState;return[t,e]},useMutableSource:MO,useSyncExternalStore:QO,useId:eM,unstable_isNewReconciler:!1},iG={readContext:Ko,useCallback:XO,useContext:Ko,useEffect:bS,useImperativeHandle:YO,useInsertionEffect:WO,useLayoutEffect:GO,useMemo:JO,useReducer:G_,useRef:KO,useState:function(){return G_(Sm)},useDebugValue:_S,useDeferredValue:function(t){var e=Wo();return Zr===null?e.memoizedState=t:ZO(e,Zr.memoizedState,t)},useTransition:function(){var t=G_(Sm)[0],e=Wo().memoizedState;return[t,e]},useMutableSource:MO,useSyncExternalStore:QO,useId:eM,unstable_isNewReconciler:!1};function fa(t,e){if(t&&t.defaultProps){e=Ar({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function uB(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ar({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var I2={isMounted:function(t){return(t=t._reactInternals)?Th(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=_s(),i=Cc(t),s=zl(r,i);s.payload=e,n!=null&&(s.callback=n),e=bc(t,s,i),e!==null&&(Ca(e,t,i,r),Yy(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=_s(),i=Cc(t),s=zl(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bc(t,s,i),e!==null&&(Ca(e,t,i,r),Yy(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=_s(),r=Cc(t),i=zl(n,r);i.tag=2,e!=null&&(i.callback=e),e=bc(t,i,r),e!==null&&(Ca(e,t,r,n),Yy(e,t,r))}};function oF(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!wm(n,r)||!wm(i,s):!0}function iM(t,e,n){var r=!1,i=Uc,s=e.contextType;return typeof s=="object"&&s!==null?s=Ko(s):(i=Ms(e)?th:rs.current,r=e.contextTypes,s=(r=r!=null)?_f(t,i):Uc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=I2,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function aF(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&I2.enqueueReplaceState(e,e.state,null)}function hB(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},fS(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ko(s):(s=Ms(e)?th:rs.current,i.context=_f(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(uB(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&I2.enqueueReplaceState(i,i.state,null),V1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ef(t,e){try{var n="",r=e;do n+=kK(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function q_(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dB(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sG=typeof WeakMap=="function"?WeakMap:Map;function sM(t,e,n){n=zl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){G1||(G1=!0,CB=r),dB(t,e)},n}function oM(t,e,n){n=zl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){dB(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dB(t,e),typeof r!="function"&&(_c===null?_c=new Set([this]):_c.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lF(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sG;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=yG.bind(null,t,e,n),e.then(t,t))}function AF(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function cF(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zl(-1,1),e.tag=2,bc(n,e,1))),n.lanes|=1),t)}var oG=hA.ReactCurrentOwner,Ls=!1;function ys(t,e,n,r){e.child=t===null?LO(e,null,n,r):xf(e,t.child,n,r)}function uF(t,e,n,r,i){n=n.render;var s=e.ref;return rf(e,i),r=yS(t,e,n,r,s,i),n=wS(),t!==null&&!Ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tA(t,e,i)):(er&&n&&aS(e),e.flags|=1,ys(t,e,r,i),e.child)}function hF(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!NS(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,aM(t,e,s,r,i)):(t=n1(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:wm,n(o,r)&&t.ref===e.ref)return tA(t,e,i)}return e.flags|=1,t=xc(s,r),t.ref=e.ref,t.return=e,e.child=t}function aM(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(wm(s,r)&&t.ref===e.ref)if(Ls=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Ls=!0);else return e.lanes=t.lanes,tA(t,e,i)}return fB(t,e,n,r,i)}function lM(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$n(Vd,ro),ro|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$n(Vd,ro),ro|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$n(Vd,ro),ro|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$n(Vd,ro),ro|=r;return ys(t,e,i,n),e.child}function AM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fB(t,e,n,r,i){var s=Ms(n)?th:rs.current;return s=_f(e,s),rf(e,i),n=yS(t,e,n,r,s,i),r=wS(),t!==null&&!Ls?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,tA(t,e,i)):(er&&r&&aS(e),e.flags|=1,ys(t,e,n,i),e.child)}function dF(t,e,n,r,i){if(Ms(n)){var s=!0;O1(e)}else s=!1;if(rf(e,i),e.stateNode===null)Zy(t,e),iM(e,n,r),hB(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,A=n.contextType;typeof A=="object"&&A!==null?A=Ko(A):(A=Ms(n)?th:rs.current,A=_f(e,A));var c=n.getDerivedStateFromProps,u=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";u||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==A)&&aF(e,o,r,A),ec=!1;var h=e.memoizedState;o.state=h,V1(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Os.current||ec?(typeof c=="function"&&(uB(e,n,c,r),l=e.memoizedState),(a=ec||oF(e,n,a,r,h,l,A))?(u||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=A,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,UO(t,e),a=e.memoizedProps,A=e.type===e.elementType?a:fa(e.type,a),o.props=A,u=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ko(l):(l=Ms(n)?th:rs.current,l=_f(e,l));var d=n.getDerivedStateFromProps;(c=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==u||h!==l)&&aF(e,o,r,l),ec=!1,h=e.memoizedState,o.state=h,V1(e,r,o,i);var p=e.memoizedState;a!==u||h!==p||Os.current||ec?(typeof d=="function"&&(uB(e,n,d,r),p=e.memoizedState),(A=ec||oF(e,n,A,r,h,p,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,p,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,p,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=l,r=A):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return pB(t,e,n,r,s,i)}function pB(t,e,n,r,i,s){AM(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&JN(e,n,!1),tA(t,e,s);r=e.stateNode,oG.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=xf(e,t.child,null,s),e.child=xf(e,null,a,s)):ys(t,e,a,s),e.memoizedState=r.state,i&&JN(e,n,!0),e.child}function cM(t){var e=t.stateNode;e.pendingContext?XN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&XN(t,e.context,!1),pS(t,e.containerInfo)}function fF(t,e,n,r,i){return Cf(),AS(i),e.flags|=256,ys(t,e,n,r),e.child}var gB={dehydrated:null,treeContext:null,retryLane:0};function mB(t){return{baseLanes:t,cachePool:null,transitions:null}}function uM(t,e,n){var r=e.pendingProps,i=nr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$n(nr,i&1),t===null)return AB(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=k2(o,r,0,null),t=zu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mB(n),e.memoizedState=gB,t):CS(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return aG(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=xc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=xc(a,s):(s=zu(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?mB(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=gB,r}return s=t.child,t=s.sibling,r=xc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function CS(t,e){return e=k2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function W0(t,e,n,r){return r!==null&&AS(r),xf(e,t.child,null,n),t=CS(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aG(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=q_(Error(Je(422))),W0(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=k2({mode:"visible",children:r.children},i,0,null),s=zu(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&xf(e,t.child,null,o),e.child.memoizedState=mB(o),e.memoizedState=gB,s);if(!(e.mode&1))return W0(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Je(419)),r=q_(s,r,void 0),W0(t,e,o,r)}if(a=(o&t.childLanes)!==0,Ls||a){if(r=yi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,eA(t,i),Ca(r,t,i,-1))}return IS(),r=q_(Error(Je(421))),W0(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=wG.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,io=wc(i.nextSibling),oo=e,er=!0,ma=null,t!==null&&(Ro[Uo++]=Ol,Ro[Uo++]=Ml,Ro[Uo++]=nh,Ol=t.id,Ml=t.overflow,nh=e),e=CS(e,r.children),e.flags|=4096,e)}function pF(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cB(t.return,e,n)}function Y_(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hM(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ys(t,e,r.children,n),r=nr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pF(t,n,e);else if(t.tag===19)pF(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($n(nr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Y_(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Y_(e,!0,n,null,s);break;case"together":Y_(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zy(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function tA(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ih|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Je(153));if(e.child!==null){for(t=e.child,n=xc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=xc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lG(t,e,n){switch(e.tag){case 3:cM(e),Cf();break;case 5:OO(e);break;case 1:Ms(e.type)&&O1(e);break;case 4:pS(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$n(j1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($n(nr,nr.current&1),e.flags|=128,null):n&e.child.childLanes?uM(t,e,n):($n(nr,nr.current&1),t=tA(t,e,n),t!==null?t.sibling:null);$n(nr,nr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hM(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$n(nr,nr.current),r)break;return null;case 22:case 23:return e.lanes=0,lM(t,e,n)}return tA(t,e,n)}var dM,vB,fM,pM;dM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};vB=function(){};fM=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ou(Ja.current);var s=null;switch(n){case"input":i=Qx(t,i),r=Qx(t,r),s=[];break;case"select":i=Ar({},i,{value:void 0}),r=Ar({},r,{value:void 0}),s=[];break;case"textarea":i=Vx(t,i),r=Vx(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=R1)}zx(n,r);var o;n=null;for(A in i)if(!r.hasOwnProperty(A)&&i.hasOwnProperty(A)&&i[A]!=null)if(A==="style"){var a=i[A];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(dm.hasOwnProperty(A)?s||(s=[]):(s=s||[]).push(A,null));for(A in r){var l=r[A];if(a=i!=null?i[A]:void 0,r.hasOwnProperty(A)&&l!==a&&(l!=null||a!=null))if(A==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(A,n)),n=l;else A==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(A,l)):A==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(A,""+l):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(dm.hasOwnProperty(A)?(l!=null&&A==="onScroll"&&Kn("scroll",t),s||a===l||(s=[])):(s=s||[]).push(A,l))}n&&(s=s||[]).push("style",n);var A=s;(e.updateQueue=A)&&(e.flags|=4)}};pM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wp(t,e){if(!er)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ji(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function AG(t,e,n){var r=e.pendingProps;switch(lS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ji(e),null;case 1:return Ms(e.type)&&U1(),ji(e),null;case 3:return r=e.stateNode,Bf(),Xn(Os),Xn(rs),mS(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(z0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ma!==null&&(EB(ma),ma=null))),vB(t,e),ji(e),null;case 5:gS(e);var i=Ou(Bm.current);if(n=e.type,t!==null&&e.stateNode!=null)fM(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Je(166));return ji(e),null}if(t=Ou(Ja.current),z0(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[$a]=e,r[Cm]=s,t=(e.mode&1)!==0,n){case"dialog":Kn("cancel",r),Kn("close",r);break;case"iframe":case"object":case"embed":Kn("load",r);break;case"video":case"audio":for(i=0;i<mg.length;i++)Kn(mg[i],r);break;case"source":Kn("error",r);break;case"img":case"image":case"link":Kn("error",r),Kn("load",r);break;case"details":Kn("toggle",r);break;case"input":xN(r,s),Kn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Kn("invalid",r);break;case"textarea":EN(r,s),Kn("invalid",r)}zx(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&$0(r.textContent,a,t),i=["children",""+a]):dm.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kn("scroll",r)}switch(n){case"input":R0(r),BN(r,s,!0);break;case"textarea":R0(r),SN(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=R1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$a]=e,t[Cm]=r,dM(t,e,!1,!1),e.stateNode=t;e:{switch(o=Kx(n,r),n){case"dialog":Kn("cancel",t),Kn("close",t),i=r;break;case"iframe":case"object":case"embed":Kn("load",t),i=r;break;case"video":case"audio":for(i=0;i<mg.length;i++)Kn(mg[i],t);i=r;break;case"source":Kn("error",t),i=r;break;case"img":case"image":case"link":Kn("error",t),Kn("load",t),i=r;break;case"details":Kn("toggle",t),i=r;break;case"input":xN(t,r),i=Qx(t,r),Kn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ar({},r,{value:void 0}),Kn("invalid",t);break;case"textarea":EN(t,r),i=Vx(t,r),Kn("invalid",t);break;default:i=r}zx(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?KU(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&$U(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fm(t,l):typeof l=="number"&&fm(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(dm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Kn("scroll",t):l!=null&&W5(t,s,l,o))}switch(n){case"input":R0(t),BN(t,r,!1);break;case"textarea":R0(t),SN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Zd(t,!!r.multiple,s,!1):r.defaultValue!=null&&Zd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=R1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ji(e),null;case 6:if(t&&e.stateNode!=null)pM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Je(166));if(n=Ou(Bm.current),Ou(Ja.current),z0(e)){if(r=e.stateNode,n=e.memoizedProps,r[$a]=e,(s=r.nodeValue!==n)&&(t=oo,t!==null))switch(t.tag){case 3:$0(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$0(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$a]=e,e.stateNode=r}return ji(e),null;case 13:if(Xn(nr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(er&&io!==null&&e.mode&1&&!(e.flags&128))PO(),Cf(),e.flags|=98560,s=!1;else if(s=z0(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Je(317));s[$a]=e}else Cf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ji(e),s=!1}else ma!==null&&(EB(ma),ma=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nr.current&1?ri===0&&(ri=3):IS())),e.updateQueue!==null&&(e.flags|=4),ji(e),null);case 4:return Bf(),vB(t,e),t===null&&bm(e.stateNode.containerInfo),ji(e),null;case 10:return hS(e.type._context),ji(e),null;case 17:return Ms(e.type)&&U1(),ji(e),null;case 19:if(Xn(nr),s=e.memoizedState,s===null)return ji(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wp(s,!1);else{if(ri!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$1(t),o!==null){for(e.flags|=128,Wp(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $n(nr,nr.current&1|2),e.child}t=t.sibling}s.tail!==null&&Sr()>Sf&&(e.flags|=128,r=!0,Wp(s,!1),e.lanes=4194304)}else{if(!r)if(t=$1(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!er)return ji(e),null}else 2*Sr()-s.renderingStartTime>Sf&&n!==1073741824&&(e.flags|=128,r=!0,Wp(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Sr(),e.sibling=null,n=nr.current,$n(nr,r?n&1|2:n&1),e):(ji(e),null);case 22:case 23:return TS(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ro&1073741824&&(ji(e),e.subtreeFlags&6&&(e.flags|=8192)):ji(e),null;case 24:return null;case 25:return null}throw Error(Je(156,e.tag))}function cG(t,e){switch(lS(e),e.tag){case 1:return Ms(e.type)&&U1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Bf(),Xn(Os),Xn(rs),mS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gS(e),null;case 13:if(Xn(nr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Je(340));Cf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xn(nr),null;case 4:return Bf(),null;case 10:return hS(e.type._context),null;case 22:case 23:return TS(),null;case 24:return null;default:return null}}var G0=!1,Ji=!1,uG=typeof WeakSet=="function"?WeakSet:Set,ht=null;function Hd(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){pr(t,e,r)}else n.current=null}function yB(t,e,n){try{n()}catch(r){pr(t,e,r)}}var gF=!1;function hG(t,e){if(nB=P1,t=wO(),oS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,A=0,c=0,u=t,h=null;t:for(;;){for(var d;u!==n||i!==0&&u.nodeType!==3||(a=o+i),u!==s||r!==0&&u.nodeType!==3||(l=o+r),u.nodeType===3&&(o+=u.nodeValue.length),(d=u.firstChild)!==null;)h=u,u=d;for(;;){if(u===t)break t;if(h===n&&++A===i&&(a=o),h===s&&++c===r&&(l=o),(d=u.nextSibling)!==null)break;u=h,h=u.parentNode}u=d}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(rB={focusedElem:t,selectionRange:n},P1=!1,ht=e;ht!==null;)if(e=ht,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ht=t;else for(;ht!==null;){e=ht;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var f=p.memoizedProps,b=p.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?f:fa(e.type,f),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Je(163))}}catch(x){pr(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,ht=t;break}ht=e.return}return p=gF,gF=!1,p}function Mg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&yB(e,n,s)}i=i.next}while(i!==r)}}function N2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wB(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gM(t){var e=t.alternate;e!==null&&(t.alternate=null,gM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$a],delete e[Cm],delete e[oB],delete e[GW],delete e[qW])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mM(t){return t.tag===5||t.tag===3||t.tag===4}function mF(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function bB(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=R1));else if(r!==4&&(t=t.child,t!==null))for(bB(t,e,n),t=t.sibling;t!==null;)bB(t,e,n),t=t.sibling}function _B(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_B(t,e,n),t=t.sibling;t!==null;)_B(t,e,n),t=t.sibling}var Si=null,ga=!1;function $A(t,e,n){for(n=n.child;n!==null;)vM(t,e,n),n=n.sibling}function vM(t,e,n){if(Xa&&typeof Xa.onCommitFiberUnmount=="function")try{Xa.onCommitFiberUnmount(_2,n)}catch{}switch(n.tag){case 5:Ji||Hd(n,e);case 6:var r=Si,i=ga;Si=null,$A(t,e,n),Si=r,ga=i,Si!==null&&(ga?(t=Si,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Si.removeChild(n.stateNode));break;case 18:Si!==null&&(ga?(t=Si,n=n.stateNode,t.nodeType===8?V_(t.parentNode,n):t.nodeType===1&&V_(t,n),vm(t)):V_(Si,n.stateNode));break;case 4:r=Si,i=ga,Si=n.stateNode.containerInfo,ga=!0,$A(t,e,n),Si=r,ga=i;break;case 0:case 11:case 14:case 15:if(!Ji&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&yB(n,e,o),i=i.next}while(i!==r)}$A(t,e,n);break;case 1:if(!Ji&&(Hd(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){pr(n,e,a)}$A(t,e,n);break;case 21:$A(t,e,n);break;case 22:n.mode&1?(Ji=(r=Ji)||n.memoizedState!==null,$A(t,e,n),Ji=r):$A(t,e,n);break;default:$A(t,e,n)}}function vF(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new uG),e.forEach(function(r){var i=bG.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ca(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Si=a.stateNode,ga=!1;break e;case 3:Si=a.stateNode.containerInfo,ga=!0;break e;case 4:Si=a.stateNode.containerInfo,ga=!0;break e}a=a.return}if(Si===null)throw Error(Je(160));vM(s,o,i),Si=null,ga=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(A){pr(i,e,A)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yM(e,t),e=e.sibling}function yM(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ca(e,t),Ma(t),r&4){try{Mg(3,t,t.return),N2(3,t)}catch(f){pr(t,t.return,f)}try{Mg(5,t,t.return)}catch(f){pr(t,t.return,f)}}break;case 1:ca(e,t),Ma(t),r&512&&n!==null&&Hd(n,n.return);break;case 5:if(ca(e,t),Ma(t),r&512&&n!==null&&Hd(n,n.return),t.flags&32){var i=t.stateNode;try{fm(i,"")}catch(f){pr(t,t.return,f)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&jU(i,s),Kx(a,o);var A=Kx(a,s);for(o=0;o<l.length;o+=2){var c=l[o],u=l[o+1];c==="style"?KU(i,u):c==="dangerouslySetInnerHTML"?$U(i,u):c==="children"?fm(i,u):W5(i,c,u,A)}switch(a){case"input":jx(i,s);break;case"textarea":HU(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?Zd(i,!!s.multiple,d,!1):h!==!!s.multiple&&(s.defaultValue!=null?Zd(i,!!s.multiple,s.defaultValue,!0):Zd(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cm]=s}catch(f){pr(t,t.return,f)}}break;case 6:if(ca(e,t),Ma(t),r&4){if(t.stateNode===null)throw Error(Je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(f){pr(t,t.return,f)}}break;case 3:if(ca(e,t),Ma(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vm(e.containerInfo)}catch(f){pr(t,t.return,f)}break;case 4:ca(e,t),Ma(t);break;case 13:ca(e,t),Ma(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(ES=Sr())),r&4&&vF(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Ji=(A=Ji)||c,ca(e,t),Ji=A):ca(e,t),Ma(t),r&8192){if(A=t.memoizedState!==null,(t.stateNode.isHidden=A)&&!c&&t.mode&1)for(ht=t,c=t.child;c!==null;){for(u=ht=c;ht!==null;){switch(h=ht,d=h.child,h.tag){case 0:case 11:case 14:case 15:Mg(4,h,h.return);break;case 1:Hd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(f){pr(r,n,f)}}break;case 5:Hd(h,h.return);break;case 22:if(h.memoizedState!==null){wF(u);continue}}d!==null?(d.return=h,ht=d):wF(u)}c=c.sibling}e:for(c=null,u=t;;){if(u.tag===5){if(c===null){c=u;try{i=u.stateNode,A?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=u.stateNode,l=u.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zU("display",o))}catch(f){pr(t,t.return,f)}}}else if(u.tag===6){if(c===null)try{u.stateNode.nodeValue=A?"":u.memoizedProps}catch(f){pr(t,t.return,f)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===t)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===t)break e;for(;u.sibling===null;){if(u.return===null||u.return===t)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:ca(e,t),Ma(t),r&4&&vF(t);break;case 21:break;default:ca(e,t),Ma(t)}}function Ma(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mM(n)){var r=n;break e}n=n.return}throw Error(Je(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fm(i,""),r.flags&=-33);var s=mF(t);_B(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=mF(t);bB(t,a,o);break;default:throw Error(Je(161))}}catch(l){pr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dG(t,e,n){ht=t,wM(t)}function wM(t,e,n){for(var r=(t.mode&1)!==0;ht!==null;){var i=ht,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||G0;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Ji;a=G0;var A=Ji;if(G0=o,(Ji=l)&&!A)for(ht=i;ht!==null;)o=ht,l=o.child,o.tag===22&&o.memoizedState!==null?bF(i):l!==null?(l.return=o,ht=l):bF(i);for(;s!==null;)ht=s,wM(s),s=s.sibling;ht=i,G0=a,Ji=A}yF(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ht=s):yF(t)}}function yF(t){for(;ht!==null;){var e=ht;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ji||N2(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ji)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:fa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&rF(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rF(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var A=e.alternate;if(A!==null){var c=A.memoizedState;if(c!==null){var u=c.dehydrated;u!==null&&vm(u)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Je(163))}Ji||e.flags&512&&wB(e)}catch(h){pr(e,e.return,h)}}if(e===t){ht=null;break}if(n=e.sibling,n!==null){n.return=e.return,ht=n;break}ht=e.return}}function wF(t){for(;ht!==null;){var e=ht;if(e===t){ht=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ht=n;break}ht=e.return}}function bF(t){for(;ht!==null;){var e=ht;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{N2(4,e)}catch(l){pr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){pr(e,i,l)}}var s=e.return;try{wB(e)}catch(l){pr(e,s,l)}break;case 5:var o=e.return;try{wB(e)}catch(l){pr(e,o,l)}}}catch(l){pr(e,e.return,l)}if(e===t){ht=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ht=a;break}ht=e.return}}var fG=Math.ceil,W1=hA.ReactCurrentDispatcher,xS=hA.ReactCurrentOwner,$o=hA.ReactCurrentBatchConfig,cn=0,yi=null,Kr=null,Fi=0,ro=0,Vd=Xc(0),ri=0,Im=null,ih=0,F2=0,BS=0,Qg=null,Ds=null,ES=0,Sf=1/0,Ll=null,G1=!1,CB=null,_c=null,q0=!1,cc=null,q1=0,jg=0,xB=null,e1=-1,t1=0;function _s(){return cn&6?Sr():e1!==-1?e1:e1=Sr()}function Cc(t){return t.mode&1?cn&2&&Fi!==0?Fi&-Fi:XW.transition!==null?(t1===0&&(t1=iO()),t1):(t=xn,t!==0||(t=window.event,t=t===void 0?16:uO(t.type)),t):1}function Ca(t,e,n,r){if(50<jg)throw jg=0,xB=null,Error(Je(185));wv(t,n,r),(!(cn&2)||t!==yi)&&(t===yi&&(!(cn&2)&&(F2|=n),ri===4&&ic(t,Fi)),Qs(t,r),n===1&&cn===0&&!(e.mode&1)&&(Sf=Sr()+500,S2&&Jc()))}function Qs(t,e){var n=t.callbackNode;XK(t,e);var r=k1(t,t===yi?Fi:0);if(r===0)n!==null&&NN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&NN(n),e===1)t.tag===0?YW(_F.bind(null,t)):NO(_F.bind(null,t)),KW(function(){!(cn&6)&&Jc()}),n=null;else{switch(sO(r)){case 1:n=J5;break;case 4:n=nO;break;case 16:n=F1;break;case 536870912:n=rO;break;default:n=F1}n=TM(n,bM.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function bM(t,e){if(e1=-1,t1=0,cn&6)throw Error(Je(327));var n=t.callbackNode;if(sf()&&t.callbackNode!==n)return null;var r=k1(t,t===yi?Fi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Y1(t,r);else{e=r;var i=cn;cn|=2;var s=CM();(yi!==t||Fi!==e)&&(Ll=null,Sf=Sr()+500,$u(t,e));do try{mG();break}catch(a){_M(t,a)}while(1);uS(),W1.current=s,cn=i,Kr!==null?e=0:(yi=null,Fi=0,e=ri)}if(e!==0){if(e===2&&(i=Xx(t),i!==0&&(r=i,e=BB(t,i))),e===1)throw n=Im,$u(t,0),ic(t,r),Qs(t,Sr()),n;if(e===6)ic(t,r);else{if(i=t.current.alternate,!(r&30)&&!pG(i)&&(e=Y1(t,r),e===2&&(s=Xx(t),s!==0&&(r=s,e=BB(t,s))),e===1))throw n=Im,$u(t,0),ic(t,r),Qs(t,Sr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Je(345));case 2:xu(t,Ds,Ll);break;case 3:if(ic(t,r),(r&130023424)===r&&(e=ES+500-Sr(),10<e)){if(k1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){_s(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=sB(xu.bind(null,t,Ds,Ll),e);break}xu(t,Ds,Ll);break;case 4:if(ic(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-_a(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fG(r/1960))-r,10<r){t.timeoutHandle=sB(xu.bind(null,t,Ds,Ll),r);break}xu(t,Ds,Ll);break;case 5:xu(t,Ds,Ll);break;default:throw Error(Je(329))}}}return Qs(t,Sr()),t.callbackNode===n?bM.bind(null,t):null}function BB(t,e){var n=Qg;return t.current.memoizedState.isDehydrated&&($u(t,e).flags|=256),t=Y1(t,e),t!==2&&(e=Ds,Ds=n,e!==null&&EB(e)),t}function EB(t){Ds===null?Ds=t:Ds.push.apply(Ds,t)}function pG(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Ba(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ic(t,e){for(e&=~BS,e&=~F2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_a(e),r=1<<n;t[n]=-1,e&=~r}}function _F(t){if(cn&6)throw Error(Je(327));sf();var e=k1(t,0);if(!(e&1))return Qs(t,Sr()),null;var n=Y1(t,e);if(t.tag!==0&&n===2){var r=Xx(t);r!==0&&(e=r,n=BB(t,r))}if(n===1)throw n=Im,$u(t,0),ic(t,e),Qs(t,Sr()),n;if(n===6)throw Error(Je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xu(t,Ds,Ll),Qs(t,Sr()),null}function SS(t,e){var n=cn;cn|=1;try{return t(e)}finally{cn=n,cn===0&&(Sf=Sr()+500,S2&&Jc())}}function sh(t){cc!==null&&cc.tag===0&&!(cn&6)&&sf();var e=cn;cn|=1;var n=$o.transition,r=xn;try{if($o.transition=null,xn=1,t)return t()}finally{xn=r,$o.transition=n,cn=e,!(cn&6)&&Jc()}}function TS(){ro=Vd.current,Xn(Vd)}function $u(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zW(n)),Kr!==null)for(n=Kr.return;n!==null;){var r=n;switch(lS(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&U1();break;case 3:Bf(),Xn(Os),Xn(rs),mS();break;case 5:gS(r);break;case 4:Bf();break;case 13:Xn(nr);break;case 19:Xn(nr);break;case 10:hS(r.type._context);break;case 22:case 23:TS()}n=n.return}if(yi=t,Kr=t=xc(t.current,null),Fi=ro=e,ri=0,Im=null,BS=F2=ih=0,Ds=Qg=null,Uu!==null){for(e=0;e<Uu.length;e++)if(n=Uu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Uu=null}return t}function _M(t,e){do{var n=Kr;try{if(uS(),Xy.current=K1,z1){for(var r=ar.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}z1=!1}if(rh=0,pi=Zr=ar=null,Og=!1,Em=0,xS.current=null,n===null||n.return===null){ri=1,Im=e,Kr=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Fi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var A=l,c=a,u=c.tag;if(!(c.mode&1)&&(u===0||u===11||u===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=AF(o);if(d!==null){d.flags&=-257,cF(d,o,a,s,e),d.mode&1&&lF(s,A,e),e=d,l=A;var p=e.updateQueue;if(p===null){var f=new Set;f.add(l),e.updateQueue=f}else p.add(l);break e}else{if(!(e&1)){lF(s,A,e),IS();break e}l=Error(Je(426))}}else if(er&&a.mode&1){var b=AF(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),cF(b,o,a,s,e),AS(Ef(l,a));break e}}s=l=Ef(l,a),ri!==4&&(ri=2),Qg===null?Qg=[s]:Qg.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=sM(s,l,e);nF(s,g);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(_c===null||!_c.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=oM(s,a,e);nF(s,x);break e}}s=s.return}while(s!==null)}BM(n)}catch(F){e=F,Kr===n&&n!==null&&(Kr=n=n.return);continue}break}while(1)}function CM(){var t=W1.current;return W1.current=K1,t===null?K1:t}function IS(){(ri===0||ri===3||ri===2)&&(ri=4),yi===null||!(ih&268435455)&&!(F2&268435455)||ic(yi,Fi)}function Y1(t,e){var n=cn;cn|=2;var r=CM();(yi!==t||Fi!==e)&&(Ll=null,$u(t,e));do try{gG();break}catch(i){_M(t,i)}while(1);if(uS(),cn=n,W1.current=r,Kr!==null)throw Error(Je(261));return yi=null,Fi=0,ri}function gG(){for(;Kr!==null;)xM(Kr)}function mG(){for(;Kr!==null&&!HK();)xM(Kr)}function xM(t){var e=SM(t.alternate,t,ro);t.memoizedProps=t.pendingProps,e===null?BM(t):Kr=e,xS.current=null}function BM(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cG(n,e),n!==null){n.flags&=32767,Kr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ri=6,Kr=null;return}}else if(n=AG(n,e,ro),n!==null){Kr=n;return}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=t}while(e!==null);ri===0&&(ri=5)}function xu(t,e,n){var r=xn,i=$o.transition;try{$o.transition=null,xn=1,vG(t,e,n,r)}finally{$o.transition=i,xn=r}return null}function vG(t,e,n,r){do sf();while(cc!==null);if(cn&6)throw Error(Je(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Je(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(JK(t,s),t===yi&&(Kr=yi=null,Fi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||q0||(q0=!0,TM(F1,function(){return sf(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=$o.transition,$o.transition=null;var o=xn;xn=1;var a=cn;cn|=4,xS.current=null,hG(t,n),yM(n,t),OW(rB),P1=!!nB,rB=nB=null,t.current=n,dG(n),VK(),cn=a,xn=o,$o.transition=s}else t.current=n;if(q0&&(q0=!1,cc=t,q1=i),s=t.pendingLanes,s===0&&(_c=null),KK(n.stateNode),Qs(t,Sr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(G1)throw G1=!1,t=CB,CB=null,t;return q1&1&&t.tag!==0&&sf(),s=t.pendingLanes,s&1?t===xB?jg++:(jg=0,xB=t):jg=0,Jc(),null}function sf(){if(cc!==null){var t=sO(q1),e=$o.transition,n=xn;try{if($o.transition=null,xn=16>t?16:t,cc===null)var r=!1;else{if(t=cc,cc=null,q1=0,cn&6)throw Error(Je(331));var i=cn;for(cn|=4,ht=t.current;ht!==null;){var s=ht,o=s.child;if(ht.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var A=a[l];for(ht=A;ht!==null;){var c=ht;switch(c.tag){case 0:case 11:case 15:Mg(8,c,s)}var u=c.child;if(u!==null)u.return=c,ht=u;else for(;ht!==null;){c=ht;var h=c.sibling,d=c.return;if(gM(c),c===A){ht=null;break}if(h!==null){h.return=d,ht=h;break}ht=d}}}var p=s.alternate;if(p!==null){var f=p.child;if(f!==null){p.child=null;do{var b=f.sibling;f.sibling=null,f=b}while(f!==null)}}ht=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ht=o;else e:for(;ht!==null;){if(s=ht,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Mg(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ht=g;break e}ht=s.return}}var v=t.current;for(ht=v;ht!==null;){o=ht;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ht=_;else e:for(o=v;ht!==null;){if(a=ht,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:N2(9,a)}}catch(F){pr(a,a.return,F)}if(a===o){ht=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,ht=x;break e}ht=a.return}}if(cn=i,Jc(),Xa&&typeof Xa.onPostCommitFiberRoot=="function")try{Xa.onPostCommitFiberRoot(_2,t)}catch{}r=!0}return r}finally{xn=n,$o.transition=e}}return!1}function CF(t,e,n){e=Ef(n,e),e=sM(t,e,1),t=bc(t,e,1),e=_s(),t!==null&&(wv(t,1,e),Qs(t,e))}function pr(t,e,n){if(t.tag===3)CF(t,t,n);else for(;e!==null;){if(e.tag===3){CF(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(_c===null||!_c.has(r))){t=Ef(n,t),t=oM(e,t,1),e=bc(e,t,1),t=_s(),e!==null&&(wv(e,1,t),Qs(e,t));break}}e=e.return}}function yG(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=_s(),t.pingedLanes|=t.suspendedLanes&n,yi===t&&(Fi&n)===n&&(ri===4||ri===3&&(Fi&130023424)===Fi&&500>Sr()-ES?$u(t,0):BS|=n),Qs(t,e)}function EM(t,e){e===0&&(t.mode&1?(e=M0,M0<<=1,!(M0&130023424)&&(M0=4194304)):e=1);var n=_s();t=eA(t,e),t!==null&&(wv(t,e,n),Qs(t,n))}function wG(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),EM(t,n)}function bG(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Je(314))}r!==null&&r.delete(e),EM(t,n)}var SM;SM=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Os.current)Ls=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Ls=!1,lG(t,e,n);Ls=!!(t.flags&131072)}else Ls=!1,er&&e.flags&1048576&&FO(e,Q1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zy(t,e),t=e.pendingProps;var i=_f(e,rs.current);rf(e,n),i=yS(null,e,r,t,i,n);var s=wS();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ms(r)?(s=!0,O1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,fS(e),i.updater=I2,e.stateNode=i,i._reactInternals=e,hB(e,r,t,n),e=pB(null,e,r,!0,s,n)):(e.tag=0,er&&s&&aS(e),ys(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Zy(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=CG(r),t=fa(r,t),i){case 0:e=fB(null,e,r,t,n);break e;case 1:e=dF(null,e,r,t,n);break e;case 11:e=uF(null,e,r,t,n);break e;case 14:e=hF(null,e,r,fa(r.type,t),n);break e}throw Error(Je(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),fB(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),dF(t,e,r,i,n);case 3:e:{if(cM(e),t===null)throw Error(Je(387));r=e.pendingProps,s=e.memoizedState,i=s.element,UO(t,e),V1(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ef(Error(Je(423)),e),e=fF(t,e,r,n,i);break e}else if(r!==i){i=Ef(Error(Je(424)),e),e=fF(t,e,r,n,i);break e}else for(io=wc(e.stateNode.containerInfo.firstChild),oo=e,er=!0,ma=null,n=LO(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Cf(),r===i){e=tA(t,e,n);break e}ys(t,e,r,n)}e=e.child}return e;case 5:return OO(e),t===null&&AB(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,iB(r,i)?o=null:s!==null&&iB(r,s)&&(e.flags|=32),AM(t,e),ys(t,e,o,n),e.child;case 6:return t===null&&AB(e),null;case 13:return uM(t,e,n);case 4:return pS(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=xf(e,null,r,n):ys(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),uF(t,e,r,i,n);case 7:return ys(t,e,e.pendingProps,n),e.child;case 8:return ys(t,e,e.pendingProps.children,n),e.child;case 12:return ys(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$n(j1,r._currentValue),r._currentValue=o,s!==null)if(Ba(s.value,o)){if(s.children===i.children&&!Os.current){e=tA(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=zl(-1,n&-n),l.tag=2;var A=s.updateQueue;if(A!==null){A=A.shared;var c=A.pending;c===null?l.next=l:(l.next=c.next,c.next=l),A.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),cB(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Je(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cB(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ys(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,rf(e,n),i=Ko(i),r=r(i),e.flags|=1,ys(t,e,r,n),e.child;case 14:return r=e.type,i=fa(r,e.pendingProps),i=fa(r.type,i),hF(t,e,r,i,n);case 15:return aM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:fa(r,i),Zy(t,e),e.tag=1,Ms(r)?(t=!0,O1(e)):t=!1,rf(e,n),iM(e,r,i),hB(e,r,i,n),pB(null,e,r,!0,t,n);case 19:return hM(t,e,n);case 22:return lM(t,e,n)}throw Error(Je(156,e.tag))};function TM(t,e){return tO(t,e)}function _G(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jo(t,e,n,r){return new _G(t,e,n,r)}function NS(t){return t=t.prototype,!(!t||!t.isReactComponent)}function CG(t){if(typeof t=="function")return NS(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q5)return 11;if(t===Y5)return 14}return 2}function xc(t,e){var n=t.alternate;return n===null?(n=jo(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function n1(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")NS(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Pd:return zu(n.children,i,s,e);case G5:o=8,i|=8;break;case Rx:return t=jo(12,n,e,i|2),t.elementType=Rx,t.lanes=s,t;case Ux:return t=jo(13,n,e,i),t.elementType=Ux,t.lanes=s,t;case Ox:return t=jo(19,n,e,i),t.elementType=Ox,t.lanes=s,t;case OU:return k2(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RU:o=10;break e;case UU:o=9;break e;case q5:o=11;break e;case Y5:o=14;break e;case ZA:o=16,r=null;break e}throw Error(Je(130,t==null?t:typeof t,""))}return e=jo(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function zu(t,e,n,r){return t=jo(7,t,r,e),t.lanes=n,t}function k2(t,e,n,r){return t=jo(22,t,r,e),t.elementType=OU,t.lanes=n,t.stateNode={isHidden:!1},t}function X_(t,e,n){return t=jo(6,t,null,e),t.lanes=n,t}function J_(t,e,n){return e=jo(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function xG(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=k_(0),this.expirationTimes=k_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=k_(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function FS(t,e,n,r,i,s,o,a,l){return t=new xG(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=jo(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fS(s),t}function BG(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:kd,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function IM(t){if(!t)return Uc;t=t._reactInternals;e:{if(Th(t)!==t||t.tag!==1)throw Error(Je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ms(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Je(171))}if(t.tag===1){var n=t.type;if(Ms(n))return IO(t,n,e)}return e}function NM(t,e,n,r,i,s,o,a,l){return t=FS(n,r,!0,t,i,s,o,a,l),t.context=IM(null),n=t.current,r=_s(),i=Cc(n),s=zl(r,i),s.callback=e??null,bc(n,s,i),t.current.lanes=i,wv(t,i,r),Qs(t,r),t}function P2(t,e,n,r){var i=e.current,s=_s(),o=Cc(i);return n=IM(n),e.context===null?e.context=n:e.pendingContext=n,e=zl(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bc(i,e,o),t!==null&&(Ca(t,i,o,s),Yy(t,i,o)),o}function X1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xF(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function kS(t,e){xF(t,e),(t=t.alternate)&&xF(t,e)}function EG(){return null}var FM=typeof reportError=="function"?reportError:function(t){console.error(t)};function PS(t){this._internalRoot=t}D2.prototype.render=PS.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Je(409));P2(t,e,null,null)};D2.prototype.unmount=PS.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sh(function(){P2(null,t,null,null)}),e[Zl]=null}};function D2(t){this._internalRoot=t}D2.prototype.unstable_scheduleHydration=function(t){if(t){var e=lO();t={blockedOn:null,target:t,priority:e};for(var n=0;n<rc.length&&e!==0&&e<rc[n].priority;n++);rc.splice(n,0,t),n===0&&cO(t)}};function DS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function L2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function BF(){}function SG(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var A=X1(o);s.call(A)}}var o=NM(e,r,t,0,null,!1,!1,"",BF);return t._reactRootContainer=o,t[Zl]=o.current,bm(t.nodeType===8?t.parentNode:t),sh(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var A=X1(l);a.call(A)}}var l=FS(t,0,!1,null,null,!1,!1,"",BF);return t._reactRootContainer=l,t[Zl]=l.current,bm(t.nodeType===8?t.parentNode:t),sh(function(){P2(e,l,n,r)}),l}function R2(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=X1(o);a.call(l)}}P2(e,o,t,i)}else o=SG(n,e,t,i,r);return X1(o)}oO=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=gg(e.pendingLanes);n!==0&&(Z5(e,n|1),Qs(e,Sr()),!(cn&6)&&(Sf=Sr()+500,Jc()))}break;case 13:sh(function(){var r=eA(t,1);if(r!==null){var i=_s();Ca(r,t,1,i)}}),kS(t,1)}};eS=function(t){if(t.tag===13){var e=eA(t,134217728);if(e!==null){var n=_s();Ca(e,t,134217728,n)}kS(t,134217728)}};aO=function(t){if(t.tag===13){var e=Cc(t),n=eA(t,e);if(n!==null){var r=_s();Ca(n,t,e,r)}kS(t,e)}};lO=function(){return xn};AO=function(t,e){var n=xn;try{return xn=t,e()}finally{xn=n}};Gx=function(t,e,n){switch(e){case"input":if(jx(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=E2(r);if(!i)throw Error(Je(90));QU(r),jx(r,i)}}}break;case"textarea":HU(t,n);break;case"select":e=n.value,e!=null&&Zd(t,!!n.multiple,e,!1)}};qU=SS;YU=sh;var TG={usingClientEntryPoint:!1,Events:[_v,Ud,E2,WU,GU,SS]},Gp={findFiberByHostInstance:Ru,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IG={bundleType:Gp.bundleType,version:Gp.version,rendererPackageName:Gp.rendererPackageName,rendererConfig:Gp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:hA.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ZU(t),t===null?null:t.stateNode},findFiberByHostInstance:Gp.findFiberByHostInstance||EG,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Y0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Y0.isDisabled&&Y0.supportsFiber)try{_2=Y0.inject(IG),Xa=Y0}catch{}}ho.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TG;ho.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DS(e))throw Error(Je(200));return BG(t,e,null,n)};ho.createRoot=function(t,e){if(!DS(t))throw Error(Je(299));var n=!1,r="",i=FM;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=FS(t,1,!1,null,null,n,!1,r,i),t[Zl]=e.current,bm(t.nodeType===8?t.parentNode:t),new PS(e)};ho.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Je(188)):(t=Object.keys(t).join(","),Error(Je(268,t)));return t=ZU(e),t=t===null?null:t.stateNode,t};ho.flushSync=function(t){return sh(t)};ho.hydrate=function(t,e,n){if(!L2(e))throw Error(Je(200));return R2(null,t,e,!0,n)};ho.hydrateRoot=function(t,e,n){if(!DS(t))throw Error(Je(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=FM;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NM(e,null,t,1,n??null,i,!1,s,o),t[Zl]=e.current,bm(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new D2(e)};ho.render=function(t,e,n){if(!L2(e))throw Error(Je(200));return R2(null,t,e,!1,n)};ho.unmountComponentAtNode=function(t){if(!L2(t))throw Error(Je(40));return t._reactRootContainer?(sh(function(){R2(null,null,t,!1,function(){t._reactRootContainer=null,t[Zl]=null})}),!0):!1};ho.unstable_batchedUpdates=SS;ho.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!L2(n))throw Error(Je(200));if(t==null||t._reactInternals===void 0)throw Error(Je(38));return R2(t,e,n,!1,r)};ho.version="18.3.1-next-f1338f8080-20240426";function kM(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kM)}catch(t){console.error(t)}}kM(),kU.exports=ho;var PM=kU.exports;const DM=ss(PM);var EF=PM;Dx.createRoot=EF.createRoot,Dx.hydrateRoot=EF.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}var uc;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(uc||(uc={}));const SF="popstate";function NG(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return SB("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J1(i)}return kG(e,n,null,t)}function lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function LM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FG(){return Math.random().toString(36).substr(2,8)}function TF(t,e){return{usr:t.state,key:t.key,idx:e}}function SB(t,e,n,r){return n===void 0&&(n=null),Nm({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?tp(e):e,{state:n,key:e&&e.key||r||FG()})}function J1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function tp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function kG(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=uc.Pop,l=null,A=c();A==null&&(A=0,o.replaceState(Nm({},o.state,{idx:A}),""));function c(){return(o.state||{idx:null}).idx}function u(){a=uc.Pop;let b=c(),g=b==null?null:b-A;A=b,l&&l({action:a,location:f.location,delta:g})}function h(b,g){a=uc.Push;let v=SB(f.location,b,g);n&&n(v,b),A=c()+1;let _=TF(v,A),x=f.createHref(v);try{o.pushState(_,"",x)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(x)}s&&l&&l({action:a,location:f.location,delta:1})}function d(b,g){a=uc.Replace;let v=SB(f.location,b,g);n&&n(v,b),A=c();let _=TF(v,A),x=f.createHref(v);o.replaceState(_,"",x),s&&l&&l({action:a,location:f.location,delta:0})}function p(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:J1(b);return v=v.replace(/ $/,"%20"),lr(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let f={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(SF,u),l=b,()=>{i.removeEventListener(SF,u),l=null}},createHref(b){return e(i,b)},createURL:p,encodeLocation(b){let g=p(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:d,go(b){return o.go(b)}};return f}var IF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(IF||(IF={}));function PG(t,e,n){return n===void 0&&(n="/"),DG(t,e,n,!1)}function DG(t,e,n,r){let i=typeof e=="string"?tp(e):e,s=Tf(i.pathname||"/",n);if(s==null)return null;let o=RM(t);LG(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let A=KG(s);a=$G(o[l],A,r)}return a}function RM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(lr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let A=Bc([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(lr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),RM(s.children,e,c,A)),!(s.path==null&&!s.index)&&e.push({path:A,score:HG(A,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of UM(s.path))i(s,o,l)}),e}function UM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=UM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LG(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:VG(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const RG=/^:[\w-]+$/,UG=3,OG=2,MG=1,QG=10,jG=-2,NF=t=>t==="*";function HG(t,e){let n=t.split("/"),r=n.length;return n.some(NF)&&(r+=jG),e&&(r+=OG),n.filter(i=>!NF(i)).reduce((i,s)=>i+(RG.test(s)?UG:s===""?MG:QG),r)}function VG(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function $G(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],A=a===r.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Z1({path:l.relativePath,caseSensitive:l.caseSensitive,end:A},c),h=l.route;if(!u&&A&&n&&!r[r.length-1].route.index&&(u=Z1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Bc([s,u.pathname]),pathnameBase:YG(Bc([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Bc([s,u.pathnameBase]))}return o}function Z1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zG(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((A,c,u)=>{let{paramName:h,isOptional:d}=c;if(h==="*"){let f=a[u]||"";o=s.slice(0,s.length-f.length).replace(/(.)\/+$/,"$1")}const p=a[u];return d&&!p?A[h]=void 0:A[h]=(p||"").replace(/%2F/g,"/"),A},{}),pathname:s,pathnameBase:o,pattern:t}}function zG(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),LM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function KG(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return LM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function WG(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?tp(t):t;return{pathname:n?n.startsWith("/")?n:GG(n,e):e,search:XG(r),hash:JG(i)}}function GG(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Z_(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qG(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function LS(t,e){let n=qG(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RS(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=tp(t):(i=Nm({},t),lr(!i.pathname||!i.pathname.includes("?"),Z_("?","pathname","search",i)),lr(!i.pathname||!i.pathname.includes("#"),Z_("#","pathname","hash",i)),lr(!i.search||!i.search.includes("#"),Z_("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let u=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),u-=1;i.pathname=h.join("/")}a=u>=0?e[u]:"/"}let l=WG(i,a),A=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(A||c)&&(l.pathname+="/"),l}const Bc=t=>t.join("/").replace(/\/\/+/g,"/"),YG=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),XG=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,JG=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ZG(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OM=["post","put","patch","delete"];new Set(OM);const eq=["get",...OM];new Set(eq);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fm(){return Fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fm.apply(this,arguments)}const U2=$.createContext(null),MM=$.createContext(null),dA=$.createContext(null),O2=$.createContext(null),fA=$.createContext({outlet:null,matches:[],isDataRoute:!1}),QM=$.createContext(null);function tq(t,e){let{relative:n}=e===void 0?{}:e;np()||lr(!1);let{basename:r,navigator:i}=$.useContext(dA),{hash:s,pathname:o,search:a}=M2(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Bc([r,o])),i.createHref({pathname:l,search:a,hash:s})}function np(){return $.useContext(O2)!=null}function pA(){return np()||lr(!1),$.useContext(O2).location}function jM(t){$.useContext(dA).static||$.useLayoutEffect(t)}function Ih(){let{isDataRoute:t}=$.useContext(fA);return t?gq():nq()}function nq(){np()||lr(!1);let t=$.useContext(U2),{basename:e,future:n,navigator:r}=$.useContext(dA),{matches:i}=$.useContext(fA),{pathname:s}=pA(),o=JSON.stringify(LS(i,n.v7_relativeSplatPath)),a=$.useRef(!1);return jM(()=>{a.current=!0}),$.useCallback(function(A,c){if(c===void 0&&(c={}),!a.current)return;if(typeof A=="number"){r.go(A);return}let u=RS(A,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Bc([e,u.pathname])),(c.replace?r.replace:r.push)(u,c.state,c)},[e,r,o,s,t])}const rq=$.createContext(null);function iq(t){let e=$.useContext(fA).outlet;return e&&$.createElement(rq.Provider,{value:t},e)}function M2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=$.useContext(dA),{matches:i}=$.useContext(fA),{pathname:s}=pA(),o=JSON.stringify(LS(i,r.v7_relativeSplatPath));return $.useMemo(()=>RS(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function sq(t,e){return oq(t,e)}function oq(t,e,n,r){np()||lr(!1);let{navigator:i}=$.useContext(dA),{matches:s}=$.useContext(fA),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let A=pA(),c;if(e){var u;let b=typeof e=="string"?tp(e):e;l==="/"||(u=b.pathname)!=null&&u.startsWith(l)||lr(!1),c=b}else c=A;let h=c.pathname||"/",d=h;if(l!=="/"){let b=l.replace(/^\//,"").split("/");d="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let p=PG(t,{pathname:d}),f=uq(p&&p.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Bc([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Bc([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&f?$.createElement(O2.Provider,{value:{location:Fm({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:uc.Pop}},f):f}function aq(){let t=pq(),e=ZG(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),n?$.createElement("pre",{style:i},n):null,s)}const lq=$.createElement(aq,null);class Aq extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?$.createElement(fA.Provider,{value:this.props.routeContext},$.createElement(QM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cq(t){let{routeContext:e,match:n,children:r}=t,i=$.useContext(U2);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(fA.Provider,{value:e},r)}function uq(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(u=>u.route.id&&(a==null?void 0:a[u.route.id])!==void 0);c>=0||lr(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,A=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<o.length;c++){let u=o[c];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(A=c),u.route.id){let{loaderData:h,errors:d}=n,p=u.route.loader&&h[u.route.id]===void 0&&(!d||d[u.route.id]===void 0);if(u.route.lazy||p){l=!0,A>=0?o=o.slice(0,A+1):o=[o[0]];break}}}return o.reduceRight((c,u,h)=>{let d,p=!1,f=null,b=null;n&&(d=a&&u.route.id?a[u.route.id]:void 0,f=u.route.errorElement||lq,l&&(A<0&&h===0?(mq("route-fallback",!1),p=!0,b=null):A===h&&(p=!0,b=u.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,h+1)),v=()=>{let _;return d?_=f:p?_=b:u.route.Component?_=$.createElement(u.route.Component,null):u.route.element?_=u.route.element:_=c,$.createElement(cq,{match:u,routeContext:{outlet:c,matches:g,isDataRoute:n!=null},children:_})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?$.createElement(Aq,{location:n.location,revalidation:n.revalidation,component:f,error:d,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var HM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(HM||{}),ew=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ew||{});function hq(t){let e=$.useContext(U2);return e||lr(!1),e}function dq(t){let e=$.useContext(MM);return e||lr(!1),e}function fq(t){let e=$.useContext(fA);return e||lr(!1),e}function VM(t){let e=fq(),n=e.matches[e.matches.length-1];return n.route.id||lr(!1),n.route.id}function pq(){var t;let e=$.useContext(QM),n=dq(ew.UseRouteError),r=VM(ew.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function gq(){let{router:t}=hq(HM.UseNavigateStable),e=VM(ew.UseNavigateStable),n=$.useRef(!1);return jM(()=>{n.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fm({fromRouteId:e},s)))},[t,e])}const FF={};function mq(t,e,n){!e&&!FF[t]&&(FF[t]=!0)}function vq(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function r1(t){let{to:e,replace:n,state:r,relative:i}=t;np()||lr(!1);let{future:s,static:o}=$.useContext(dA),{matches:a}=$.useContext(fA),{pathname:l}=pA(),A=Ih(),c=RS(e,LS(a,s.v7_relativeSplatPath),l,i==="path"),u=JSON.stringify(c);return $.useEffect(()=>A(JSON.parse(u),{replace:n,state:r,relative:i}),[A,u,i,n,r]),null}function xv(t){return iq(t.context)}function on(t){lr(!1)}function yq(t){let{basename:e="/",children:n=null,location:r,navigationType:i=uc.Pop,navigator:s,static:o=!1,future:a}=t;np()&&lr(!1);let l=e.replace(/^\/*/,"/"),A=$.useMemo(()=>({basename:l,navigator:s,static:o,future:Fm({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=tp(r));let{pathname:c="/",search:u="",hash:h="",state:d=null,key:p="default"}=r,f=$.useMemo(()=>{let b=Tf(c,l);return b==null?null:{location:{pathname:b,search:u,hash:h,state:d,key:p},navigationType:i}},[l,c,u,h,d,p,i]);return f==null?null:$.createElement(dA.Provider,{value:A},$.createElement(O2.Provider,{children:n,value:f}))}function wq(t){let{children:e,location:n}=t;return sq(TB(e),n)}new Promise(()=>{});function TB(t,e){e===void 0&&(e=[]);let n=[];return $.Children.forEach(t,(r,i)=>{if(!$.isValidElement(r))return;let s=[...e,i];if(r.type===$.Fragment){n.push.apply(n,TB(r.props.children,s));return}r.type!==on&&lr(!1),!r.props.index||!r.props.children||lr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=TB(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}function $M(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function bq(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function _q(t,e){return t.button===0&&(!e||e==="_self")&&!bq(t)}const Cq=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xq=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Bq="6";try{window.__reactRouterVersion=Bq}catch{}const Eq=$.createContext({isTransitioning:!1}),Sq="startTransition",kF=yK[Sq];function Tq(t){let{basename:e,children:n,future:r,window:i}=t,s=$.useRef();s.current==null&&(s.current=NG({window:i,v5Compat:!0}));let o=s.current,[a,l]=$.useState({action:o.action,location:o.location}),{v7_startTransition:A}=r||{},c=$.useCallback(u=>{A&&kF?kF(()=>l(u)):l(u)},[l,A]);return $.useLayoutEffect(()=>o.listen(c),[o,c]),$.useEffect(()=>vq(r),[r]),$.createElement(yq,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Iq=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nq=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hi=$.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:A,preventScrollReset:c,viewTransition:u}=e,h=$M(e,Cq),{basename:d}=$.useContext(dA),p,f=!1;if(typeof A=="string"&&Nq.test(A)&&(p=A,Iq))try{let _=new URL(window.location.href),x=A.startsWith("//")?new URL(_.protocol+A):new URL(A),F=Tf(x.pathname,d);x.origin===_.origin&&F!=null?A=F+x.search+x.hash:f=!0}catch{}let b=tq(A,{relative:i}),g=kq(A,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:u});function v(_){r&&r(_),_.defaultPrevented||g(_)}return $.createElement("a",tw({},h,{href:p||b,onClick:f||s?r:v,ref:n,target:l}))}),zM=$.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:A,children:c}=e,u=$M(e,xq),h=M2(l,{relative:u.relative}),d=pA(),p=$.useContext(MM),{navigator:f,basename:b}=$.useContext(dA),g=p!=null&&Pq(h)&&A===!0,v=f.encodeLocation?f.encodeLocation(h).pathname:h.pathname,_=d.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(_=_.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&b&&(x=Tf(x,b)||x);const F=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let O=_===v||!o&&_.startsWith(v)&&_.charAt(F)==="/",I=x!=null&&(x===v||!o&&x.startsWith(v)&&x.charAt(v.length)==="/"),B={isActive:O,isPending:I,isTransitioning:g},T=O?r:void 0,R;typeof s=="function"?R=s(B):R=[s,O?"active":null,I?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(B):a;return $.createElement(hi,tw({},u,{"aria-current":T,className:R,ref:n,style:D,to:l,viewTransition:A}),typeof c=="function"?c(B):c)});var IB;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(IB||(IB={}));var PF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(PF||(PF={}));function Fq(t){let e=$.useContext(U2);return e||lr(!1),e}function kq(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Ih(),A=pA(),c=M2(t,{relative:o});return $.useCallback(u=>{if(_q(u,n)){u.preventDefault();let h=r!==void 0?r:J1(A)===J1(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[A,l,c,r,i,n,t,s,o,a])}function Pq(t,e){e===void 0&&(e={});let n=$.useContext(Eq);n==null&&lr(!1);let{basename:r}=Fq(IB.useViewTransitionState),i=M2(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Tf(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Tf(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Z1(i.pathname,o)!=null||Z1(i.pathname,s)!=null}function KM(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=KM(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Ku(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=KM(t))&&(r&&(r+=" "),r+=e);return r}function Dq(t){if(!t||typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Dq(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Bv=t=>typeof t=="number"&&!isNaN(t),oh=t=>typeof t=="string",nA=t=>typeof t=="function",Lq=t=>oh(t)||Bv(t),NB=t=>oh(t)||nA(t)?t:null,Rq=(t,e)=>t===!1||Bv(t)&&t>0?t:e,FB=t=>$.isValidElement(t)||oh(t)||nA(t)||Bv(t);function Uq(t,e,n=300){let{scrollHeight:r,style:i}=t;requestAnimationFrame(()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(e,n)})})}function Oq({enter:t,exit:e,appendPosition:n=!1,collapse:r=!0,collapseDuration:i=300}){return function({children:s,position:o,preventExitTransition:a,done:l,nodeRef:A,isIn:c,playToast:u}){let h=n?`${t}--${o}`:t,d=n?`${e}--${o}`:e,p=$.useRef(0);return $.useLayoutEffect(()=>{let f=A.current,b=h.split(" "),g=v=>{v.target===A.current&&(u(),f.removeEventListener("animationend",g),f.removeEventListener("animationcancel",g),p.current===0&&v.type!=="animationcancel"&&f.classList.remove(...b))};f.classList.add(...b),f.addEventListener("animationend",g),f.addEventListener("animationcancel",g)},[]),$.useEffect(()=>{let f=A.current,b=()=>{f.removeEventListener("animationend",b),r?Uq(f,l,i):l()};c||(a?b():(p.current=1,f.className+=` ${d}`,f.addEventListener("animationend",b)))},[c]),re.createElement(re.Fragment,null,s)}}function DF(t,e){return{content:WM(t.content,t.props),containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,reason:t.removalReason,status:e}}function WM(t,e,n=!1){return $.isValidElement(t)&&!oh(t.type)?$.cloneElement(t,{closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):nA(t)?t({closeToast:e.closeToast,toastProps:e,data:e.data,isPaused:n}):t}function Mq({closeToast:t,theme:e,ariaLabel:n="close"}){return re.createElement("button",{className:`Toastify__close-button Toastify__close-button--${e}`,type:"button",onClick:r=>{r.stopPropagation(),t(!0)},"aria-label":n},re.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},re.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function Qq({delay:t,isRunning:e,closeToast:n,type:r="default",hide:i,className:s,controlledProgress:o,progress:a,rtl:l,isIn:A,theme:c}){let u=i||o&&a===0,h={animationDuration:`${t}ms`,animationPlayState:e?"running":"paused"};o&&(h.transform=`scaleX(${a})`);let d=Ku("Toastify__progress-bar",o?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${c}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":l}),p=nA(s)?s({rtl:l,type:r,defaultClassName:d}):Ku(d,s),f={[o&&a>=1?"onTransitionEnd":"onAnimationEnd"]:o&&a<1?null:()=>{A&&n()}};return re.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":u},re.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${c} Toastify__progress-bar--${r}`}),re.createElement("div",{role:"progressbar","aria-hidden":u?"true":"false","aria-label":"notification timer",className:p,style:h,...f}))}var jq=1,GM=()=>`${jq++}`;function Hq(t,e,n){let r=1,i=0,s=[],o=[],a=e,l=new Map,A=new Set,c=v=>(A.add(v),()=>A.delete(v)),u=()=>{o=Array.from(l.values()),A.forEach(v=>v())},h=({containerId:v,toastId:_,updateId:x})=>{let F=v?v!==t:t!==1,O=l.has(_)&&x==null;return F||O},d=(v,_)=>{l.forEach(x=>{var F;(_==null||_===x.props.toastId)&&((F=x.toggle)==null||F.call(x,v))})},p=v=>{var _,x;(x=(_=v.props)==null?void 0:_.onClose)==null||x.call(_,v.removalReason),v.isActive=!1},f=v=>{if(v==null)l.forEach(p);else{let _=l.get(v);_&&p(_)}u()},b=()=>{i-=s.length,s=[]},g=v=>{var _,x;let{toastId:F,updateId:O}=v.props,I=O==null;v.staleId&&l.delete(v.staleId),v.isActive=!0,l.set(F,v),u(),n(DF(v,I?"added":"updated")),I&&((x=(_=v.props).onOpen)==null||x.call(_))};return{id:t,props:a,observe:c,toggle:d,removeToast:f,toasts:l,clearQueue:b,buildToast:(v,_)=>{if(h(_))return;let{toastId:x,updateId:F,data:O,staleId:I,delay:B}=_,T=F==null;T&&i++;let R={...a,style:a.toastStyle,key:r++,...Object.fromEntries(Object.entries(_).filter(([E,k])=>k!=null)),toastId:x,updateId:F,data:O,isIn:!1,className:NB(_.className||a.toastClassName),progressClassName:NB(_.progressClassName||a.progressClassName),autoClose:_.isLoading?!1:Rq(_.autoClose,a.autoClose),closeToast(E){l.get(x).removalReason=E,f(x)},deleteToast(){let E=l.get(x);if(E!=null){if(n(DF(E,"removed")),l.delete(x),i--,i<0&&(i=0),s.length>0){g(s.shift());return}u()}}};R.closeButton=a.closeButton,_.closeButton===!1||FB(_.closeButton)?R.closeButton=_.closeButton:_.closeButton===!0&&(R.closeButton=FB(a.closeButton)?a.closeButton:!0);let D={content:v,props:R,staleId:I};a.limit&&a.limit>0&&i>a.limit&&T?s.push(D):Bv(B)?setTimeout(()=>{g(D)},B):g(D)},setProps(v){a=v},setToggle:(v,_)=>{let x=l.get(v);x&&(x.toggle=_)},isToastActive:v=>{var _;return(_=l.get(v))==null?void 0:_.isActive},getSnapshot:()=>o}}var bs=new Map,km=[],kB=new Set,Vq=t=>kB.forEach(e=>e(t)),qM=()=>bs.size>0;function $q(){km.forEach(t=>XM(t.content,t.options)),km=[]}var zq=(t,{containerId:e})=>{var n;return(n=bs.get(e||1))==null?void 0:n.toasts.get(t)};function YM(t,e){var n;if(e)return!!((n=bs.get(e))!=null&&n.isToastActive(t));let r=!1;return bs.forEach(i=>{i.isToastActive(t)&&(r=!0)}),r}function Kq(t){if(!qM()){km=km.filter(e=>t!=null&&e.options.toastId!==t);return}if(t==null||Lq(t))bs.forEach(e=>{e.removeToast(t)});else if(t&&("containerId"in t||"id"in t)){let e=bs.get(t.containerId);e?e.removeToast(t.id):bs.forEach(n=>{n.removeToast(t.id)})}}var Wq=(t={})=>{bs.forEach(e=>{e.props.limit&&(!t.containerId||e.id===t.containerId)&&e.clearQueue()})};function XM(t,e){FB(t)&&(qM()||km.push({content:t,options:e}),bs.forEach(n=>{n.buildToast(t,e)}))}function Gq(t){var e;(e=bs.get(t.containerId||1))==null||e.setToggle(t.id,t.fn)}function JM(t,e){bs.forEach(n=>{(e==null||!(e!=null&&e.containerId)||(e==null?void 0:e.containerId)===n.id)&&n.toggle(t,e==null?void 0:e.id)})}function qq(t){let e=t.containerId||1;return{subscribe(n){let r=Hq(e,t,Vq);bs.set(e,r);let i=r.observe(n);return $q(),()=>{i(),bs.delete(e)}},setProps(n){var r;(r=bs.get(e))==null||r.setProps(n)},getSnapshot(){var n;return(n=bs.get(e))==null?void 0:n.getSnapshot()}}}function Yq(t){return kB.add(t),()=>{kB.delete(t)}}function Xq(t){return t&&(oh(t.toastId)||Bv(t.toastId))?t.toastId:GM()}function Ev(t,e){return XM(t,e),e.toastId}function Q2(t,e){return{...e,type:e&&e.type||t,toastId:Xq(e)}}function j2(t){return(e,n)=>Ev(e,Q2(t,n))}function Rn(t,e){return Ev(t,Q2("default",e))}Rn.loading=(t,e)=>Ev(t,Q2("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e}));function Jq(t,{pending:e,error:n,success:r},i){let s;e&&(s=oh(e)?Rn.loading(e,i):Rn.loading(e.render,{...i,...e}));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(A,c,u)=>{if(c==null){Rn.dismiss(s);return}let h={type:A,...o,...i,data:u},d=oh(c)?{render:c}:c;return s?Rn.update(s,{...h,...d}):Rn(d.render,{...h,...d}),u},l=nA(t)?t():t;return l.then(A=>a("success",r,A)).catch(A=>a("error",n,A)),l}Rn.promise=Jq;Rn.success=j2("success");Rn.info=j2("info");Rn.error=j2("error");Rn.warning=j2("warning");Rn.warn=Rn.warning;Rn.dark=(t,e)=>Ev(t,Q2("default",{theme:"dark",...e}));function Zq(t){Kq(t)}Rn.dismiss=Zq;Rn.clearWaitingQueue=Wq;Rn.isActive=YM;Rn.update=(t,e={})=>{let n=zq(t,e);if(n){let{props:r,content:i}=n,s={delay:100,...r,...e,toastId:e.toastId||t,updateId:GM()};s.toastId!==t&&(s.staleId=t);let o=s.render||i;delete s.render,Ev(o,s)}};Rn.done=t=>{Rn.update(t,{progress:1})};Rn.onChange=Yq;Rn.play=t=>JM(!0,t);Rn.pause=t=>JM(!1,t);function eY(t){var e;let{subscribe:n,getSnapshot:r,setProps:i}=$.useRef(qq(t)).current;i(t);let s=(e=$.useSyncExternalStore(n,r,r))==null?void 0:e.slice();function o(a){if(!s)return[];let l=new Map;return t.newestOnTop&&s.reverse(),s.forEach(A=>{let{position:c}=A.props;l.has(c)||l.set(c,[]),l.get(c).push(A)}),Array.from(l,A=>a(A[0],A[1]))}return{getToastToRender:o,isToastActive:YM,count:s==null?void 0:s.length}}function tY(t){let[e,n]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),o=$.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:a,pauseOnHover:l,closeToast:A,onClick:c,closeOnClick:u}=t;Gq({id:t.toastId,containerId:t.containerId,fn:n}),$.useEffect(()=>{if(t.pauseOnFocusLoss)return h(),()=>{d()}},[t.pauseOnFocusLoss]);function h(){document.hasFocus()||g(),window.addEventListener("focus",b),window.addEventListener("blur",g)}function d(){window.removeEventListener("focus",b),window.removeEventListener("blur",g)}function p(I){if(t.draggable===!0||t.draggable===I.pointerType){v();let B=s.current;o.canCloseOnClick=!0,o.canDrag=!0,B.style.transition="none",t.draggableDirection==="x"?(o.start=I.clientX,o.removalDistance=B.offsetWidth*(t.draggablePercent/100)):(o.start=I.clientY,o.removalDistance=B.offsetHeight*(t.draggablePercent===80?t.draggablePercent*1.5:t.draggablePercent)/100)}}function f(I){let{top:B,bottom:T,left:R,right:D}=s.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&t.pauseOnHover&&I.clientX>=R&&I.clientX<=D&&I.clientY>=B&&I.clientY<=T?g():b()}function b(){n(!0)}function g(){n(!1)}function v(){o.didMove=!1,document.addEventListener("pointermove",x),document.addEventListener("pointerup",F)}function _(){document.removeEventListener("pointermove",x),document.removeEventListener("pointerup",F)}function x(I){let B=s.current;if(o.canDrag&&B){o.didMove=!0,e&&g(),t.draggableDirection==="x"?o.delta=I.clientX-o.start:o.delta=I.clientY-o.start,o.start!==I.clientX&&(o.canCloseOnClick=!1);let T=t.draggableDirection==="x"?`${o.delta}px, var(--y)`:`0, calc(${o.delta}px + var(--y))`;B.style.transform=`translate3d(${T},0)`,B.style.opacity=`${1-Math.abs(o.delta/o.removalDistance)}`}}function F(){_();let I=s.current;if(o.canDrag&&o.didMove&&I){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance){i(!0),t.closeToast(!0),t.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let O={onPointerDown:p,onPointerUp:f};return a&&l&&(O.onMouseEnter=g,t.stacked||(O.onMouseLeave=b)),u&&(O.onClick=I=>{c&&c(I),o.canCloseOnClick&&A(!0)}),{playToast:b,pauseToast:g,isRunning:e,preventExitTransition:r,toastRef:s,eventHandlers:O}}var nY=typeof window<"u"?$.useLayoutEffect:$.useEffect,H2=({theme:t,type:e,isLoading:n,...r})=>re.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${e})`,...r});function rY(t){return re.createElement(H2,{...t},re.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function iY(t){return re.createElement(H2,{...t},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function sY(t){return re.createElement(H2,{...t},re.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function oY(t){return re.createElement(H2,{...t},re.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function aY(){return re.createElement("div",{className:"Toastify__spinner"})}var PB={info:iY,warning:rY,success:sY,error:oY,spinner:aY},lY=t=>t in PB;function AY({theme:t,type:e,isLoading:n,icon:r}){let i=null,s={theme:t,type:e};return r===!1||(nA(r)?i=r({...s,isLoading:n}):$.isValidElement(r)?i=$.cloneElement(r,s):n?i=PB.spinner():lY(e)&&(i=PB[e](s))),i}var cY=t=>{let{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:i,playToast:s}=tY(t),{closeButton:o,children:a,autoClose:l,onClick:A,type:c,hideProgressBar:u,closeToast:h,transition:d,position:p,className:f,style:b,progressClassName:g,updateId:v,role:_,progress:x,rtl:F,toastId:O,deleteToast:I,isIn:B,isLoading:T,closeOnClick:R,theme:D,ariaLabel:E}=t,k=Ku("Toastify__toast",`Toastify__toast-theme--${D}`,`Toastify__toast--${c}`,{"Toastify__toast--rtl":F},{"Toastify__toast--close-on-click":R}),N=nA(f)?f({rtl:F,position:p,type:c,defaultClassName:k}):Ku(k,f),Y=AY(t),oe=!!x||!l,ie={closeToast:h,type:c,theme:D},ne=null;return o===!1||(nA(o)?ne=o(ie):$.isValidElement(o)?ne=$.cloneElement(o,ie):ne=Mq(ie)),re.createElement(d,{isIn:B,done:I,position:p,preventExitTransition:n,nodeRef:r,playToast:s},re.createElement("div",{id:O,tabIndex:0,onClick:A,"data-in":B,className:N,...i,style:b,ref:r,...B&&{role:_,"aria-label":E}},Y!=null&&re.createElement("div",{className:Ku("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!T})},Y),WM(a,t,!e),ne,!t.customProgressBar&&re.createElement(Qq,{...v&&!oe?{key:`p-${v}`}:{},rtl:F,theme:D,delay:l,isRunning:e,isIn:B,closeToast:h,hide:u,type:c,className:g,controlledProgress:oe,progress:x||0})))},uY=(t,e=!1)=>({enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}),hY=Oq(uY("bounce",!0)),dY={position:"top-right",transition:hY,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:t=>t.altKey&&t.code==="KeyT"};function fY(t){let e={...dY,...t},n=t.stacked,[r,i]=$.useState(!0),s=$.useRef(null),{getToastToRender:o,isToastActive:a,count:l}=eY(e),{className:A,style:c,rtl:u,containerId:h,hotKeys:d}=e;function p(b){let g=Ku("Toastify__toast-container",`Toastify__toast-container--${b}`,{"Toastify__toast-container--rtl":u});return nA(A)?A({position:b,rtl:u,defaultClassName:g}):Ku(g,NB(A))}function f(){n&&(i(!0),Rn.play())}return nY(()=>{var b;if(n){let g=s.current.querySelectorAll('[data-in="true"]'),v=12,_=(b=e.position)==null?void 0:b.includes("top"),x=0,F=0;Array.from(g).reverse().forEach((O,I)=>{let B=O;B.classList.add("Toastify__toast--stacked"),I>0&&(B.dataset.collapsed=`${r}`),B.dataset.pos||(B.dataset.pos=_?"top":"bot");let T=x*(r?.2:1)+(r?0:v*I);B.style.setProperty("--y",`${_?T:T*-1}px`),B.style.setProperty("--g",`${v}`),B.style.setProperty("--s",`${1-(r?F:0)}`),x+=B.offsetHeight,F+=.025})}},[r,l,n]),$.useEffect(()=>{function b(g){var v;let _=s.current;d(g)&&((v=_.querySelector('[tabIndex="0"]'))==null||v.focus(),i(!1),Rn.pause()),g.key==="Escape"&&(document.activeElement===_||_!=null&&_.contains(document.activeElement))&&(i(!0),Rn.play())}return document.addEventListener("keydown",b),()=>{document.removeEventListener("keydown",b)}},[d]),re.createElement("section",{ref:s,className:"Toastify",id:h,onMouseEnter:()=>{n&&(i(!1),Rn.pause())},onMouseLeave:f,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":e["aria-label"]},o((b,g)=>{let v=g.length?{...c}:{...c,pointerEvents:"none"};return re.createElement("div",{tabIndex:-1,className:p(b),"data-stacked":n,style:v,key:`c-${b}`},g.map(({content:_,props:x})=>re.createElement(cY,{...x,stacked:n,collapseAll:f,isIn:a(x.toastId,x.containerId),key:`t-${x.key}`},_)))}))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt=function(t,e){if(!t)throw rp(e)},rp=function(t){return new Error("Firebase Database ("+ZM.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eQ=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},pY=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},US={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,A=l?t[i+2]:0,c=s>>2,u=(s&3)<<4|a>>4;let h=(a&15)<<2|A>>6,d=A&63;l||(d=64,o||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eQ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pY(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const A=i<t.length?n[t.charAt(i)]:64;++i;const u=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||A==null||u==null)throw new gY;const h=s<<2|a>>4;if(r.push(h),A!==64){const d=a<<4&240|A>>2;if(r.push(d),u!==64){const p=A<<6&192|u;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class gY extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tQ=function(t){const e=eQ(t);return US.encodeByteArray(e,!0)},nw=function(t){return tQ(t).replace(/\./g,"")},rw=function(t){try{return US.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mY(t){return nQ(void 0,t)}function nQ(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!vY(n)||(t[n]=nQ(t[n],e[n]));return t}function vY(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yY(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wY=()=>yY().__FIREBASE_DEFAULTS__,bY=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_Y=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rw(t[1]);return e&&JSON.parse(e)},V2=()=>{try{return wY()||bY()||_Y()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},rQ=t=>{var e,n;return(n=(e=V2())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},CY=t=>{const e=rQ(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},iQ=()=>{var t;return(t=V2())===null||t===void 0?void 0:t.config},sQ=t=>{var e;return(e=V2())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oQ(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[nw(JSON.stringify(n)),nw(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(is())}function xY(){var t;const e=(t=V2())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function BY(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QS(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function aQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EY(){const t=is();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lQ(){return ZM.NODE_ADMIN===!0}function SY(){return!xY()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jS(){try{return typeof indexedDB=="object"}catch{return!1}}function HS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function AQ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TY="FirebaseError";class Na extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TY,Object.setPrototypeOf(this,Na.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Nh.prototype.create)}}class Nh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?IY(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Na(i,a,r)}}function IY(t,e){return t.replace(NY,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const NY=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(t){return JSON.parse(t)}function vi(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cQ=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Pm(rw(s[0])||""),n=Pm(rw(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},FY=function(t){const e=cQ(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},kY=function(t){const e=cQ(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function If(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function DB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function iw(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Nf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(LF(s)&&LF(o)){if(!Nf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function LF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function yg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PY{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let u=0;u<16;u++)r[u]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let u=0;u<16;u++)r[u]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let u=16;u<80;u++){const h=r[u-3]^r[u-8]^r[u-14]^r[u-16];r[u]=(h<<1|h>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],A,c;for(let u=0;u<80;u++){u<40?u<20?(A=a^s&(o^a),c=1518500249):(A=s^o^a,c=1859775393):u<60?(A=s&o|a&(s|o),c=2400959708):(A=s^o^a,c=3395469782);const h=(i<<5|i>>>27)+A+l+c+r[u]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function DY(t,e){const n=new LY(t,e);return n.subscribe.bind(n)}class LY{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RY(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=eC),i.error===void 0&&(i.error=eC),i.complete===void 0&&(i.complete=eC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RY(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function eC(){}function uQ(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UY=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,tt(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$2=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OY=1e3,MY=2,QY=4*60*60*1e3,jY=.5;function RF(t,e=OY,n=MY){const r=e*Math.pow(n,t),i=Math.round(jY*r*(Math.random()-.5)*2);return Math.min(QY,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t){return t&&t._delegate?t._delegate:t}class Go{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HY{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($Y(e))try{this.getOrInitializeService({instanceIdentifier:Bu})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Bu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Bu){return this.instances.has(e)}getOptions(e=Bu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:VY(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Bu){return this.component?this.component.multipleInstances?e:Bu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VY(t){return t===Bu?void 0:t}function $Y(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zY{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HY(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nn||(nn={}));const KY={debug:nn.DEBUG,verbose:nn.VERBOSE,info:nn.INFO,warn:nn.WARN,error:nn.ERROR,silent:nn.SILENT},WY=nn.INFO,GY={[nn.DEBUG]:"log",[nn.VERBOSE]:"log",[nn.INFO]:"info",[nn.WARN]:"warn",[nn.ERROR]:"error"},qY=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=GY[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let Sv=class{constructor(e){this.name=e,this._logLevel=WY,this._logHandler=qY,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KY[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nn.DEBUG,...e),this._logHandler(this,nn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nn.VERBOSE,...e),this._logHandler(this,nn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nn.INFO,...e),this._logHandler(this,nn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nn.WARN,...e),this._logHandler(this,nn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nn.ERROR,...e),this._logHandler(this,nn.ERROR,...e)}};const YY=(t,e)=>e.some(n=>t instanceof n);let UF,OF;function XY(){return UF||(UF=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JY(){return OF||(OF=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hQ=new WeakMap,LB=new WeakMap,dQ=new WeakMap,tC=new WeakMap,VS=new WeakMap;function ZY(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Ec(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&hQ.set(n,t)}).catch(()=>{}),VS.set(e,t),e}function eX(t){if(LB.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});LB.set(t,e)}let RB={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return LB.get(t);if(e==="objectStoreNames")return t.objectStoreNames||dQ.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ec(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tX(t){RB=t(RB)}function nX(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(nC(this),e,...n);return dQ.set(r,e.sort?e.sort():[e]),Ec(r)}:JY().includes(t)?function(...e){return t.apply(nC(this),e),Ec(hQ.get(this))}:function(...e){return Ec(t.apply(nC(this),e))}}function rX(t){return typeof t=="function"?nX(t):(t instanceof IDBTransaction&&eX(t),YY(t,XY())?new Proxy(t,RB):t)}function Ec(t){if(t instanceof IDBRequest)return ZY(t);if(tC.has(t))return tC.get(t);const e=rX(t);return e!==t&&(tC.set(t,e),VS.set(e,t)),e}const nC=t=>VS.get(t);function fQ(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Ec(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ec(o.result),l.oldVersion,l.newVersion,Ec(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",A=>i(A.oldVersion,A.newVersion,A))}).catch(()=>{}),a}const iX=["get","getKey","getAll","getAllKeys","count"],sX=["put","add","delete","clear"],rC=new Map;function MF(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rC.get(e))return rC.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=sX.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||iX.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let A=l.store;return r&&(A=A.index(a.shift())),(await Promise.all([A[n](...a),i&&l.done]))[0]};return rC.set(e,s),s}tX(t=>({...t,get:(e,n,r)=>MF(e,n)||t.get(e,n,r),has:(e,n)=>!!MF(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oX{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(aX(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function aX(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const UB="@firebase/app",QF="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=new Sv("@firebase/app"),lX="@firebase/app-compat",AX="@firebase/analytics-compat",cX="@firebase/analytics",uX="@firebase/app-check-compat",hX="@firebase/app-check",dX="@firebase/auth",fX="@firebase/auth-compat",pX="@firebase/database",gX="@firebase/data-connect",mX="@firebase/database-compat",vX="@firebase/functions",yX="@firebase/functions-compat",wX="@firebase/installations",bX="@firebase/installations-compat",_X="@firebase/messaging",CX="@firebase/messaging-compat",xX="@firebase/performance",BX="@firebase/performance-compat",EX="@firebase/remote-config",SX="@firebase/remote-config-compat",TX="@firebase/storage",IX="@firebase/storage-compat",NX="@firebase/firestore",FX="@firebase/vertexai-preview",kX="@firebase/firestore-compat",PX="firebase",DX="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OB="[DEFAULT]",LX={[UB]:"fire-core",[lX]:"fire-core-compat",[cX]:"fire-analytics",[AX]:"fire-analytics-compat",[hX]:"fire-app-check",[uX]:"fire-app-check-compat",[dX]:"fire-auth",[fX]:"fire-auth-compat",[pX]:"fire-rtdb",[gX]:"fire-data-connect",[mX]:"fire-rtdb-compat",[vX]:"fire-fn",[yX]:"fire-fn-compat",[wX]:"fire-iid",[bX]:"fire-iid-compat",[_X]:"fire-fcm",[CX]:"fire-fcm-compat",[xX]:"fire-perf",[BX]:"fire-perf-compat",[EX]:"fire-rc",[SX]:"fire-rc-compat",[TX]:"fire-gcs",[IX]:"fire-gcs-compat",[NX]:"fire-fst",[kX]:"fire-fst-compat",[FX]:"fire-vertex","fire-js":"fire-js",[PX]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw=new Map,RX=new Map,MB=new Map;function jF(t,e){try{t.container.addComponent(e)}catch(n){rA.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ea(t){const e=t.name;if(MB.has(e))return rA.debug(`There were multiple attempts to register component ${e}.`),!1;MB.set(e,t);for(const n of sw.values())jF(n,t);for(const n of RX.values())jF(n,t);return!0}function Zc(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qa(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UX={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Sc=new Nh("app","Firebase",UX);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OX{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Go("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Sc.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=DX;function pQ(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:OB,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Sc.create("bad-app-name",{appName:String(i)});if(n||(n=iQ()),!n)throw Sc.create("no-options");const s=sw.get(i);if(s){if(Nf(n,s.options)&&Nf(r,s.config))return s;throw Sc.create("duplicate-app",{appName:i})}const o=new zY(i);for(const l of MB.values())o.addComponent(l);const a=new OX(n,r,o);return sw.set(i,a),a}function $S(t=OB){const e=sw.get(t);if(!e&&t===OB&&iQ())return pQ();if(!e)throw Sc.create("no-app",{appName:t});return e}function js(t,e,n){var r;let i=(r=LX[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rA.warn(a.join(" "));return}Ea(new Go(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX="firebase-heartbeat-database",QX=1,Dm="firebase-heartbeat-store";let iC=null;function gQ(){return iC||(iC=fQ(MX,QX,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Dm)}catch(n){console.warn(n)}}}}).catch(t=>{throw Sc.create("idb-open",{originalErrorMessage:t.message})})),iC}async function jX(t){try{const n=(await gQ()).transaction(Dm),r=await n.objectStore(Dm).get(mQ(t));return await n.done,r}catch(e){if(e instanceof Na)rA.warn(e.message);else{const n=Sc.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rA.warn(n.message)}}}async function HF(t,e){try{const r=(await gQ()).transaction(Dm,"readwrite");await r.objectStore(Dm).put(e,mQ(t)),await r.done}catch(n){if(n instanceof Na)rA.warn(n.message);else{const r=Sc.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rA.warn(r.message)}}}function mQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HX=1024,VX=30*24*60*60*1e3;class $X{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KX(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=VF();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=VX}),this._storage.overwrite(this._heartbeatsCache))}catch(r){rA.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=VF(),{heartbeatsToSend:r,unsentEntries:i}=zX(this._heartbeatsCache.heartbeats),s=nw(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return rA.warn(n),""}}}function VF(){return new Date().toISOString().substring(0,10)}function zX(t,e=HX){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),$F(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),$F(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KX{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jS()?HS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await jX(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return HF(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function $F(t){return nw(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WX(t){Ea(new Go("platform-logger",e=>new oX(e),"PRIVATE")),Ea(new Go("heartbeat",e=>new $X(e),"PRIVATE")),js(UB,QF,t),js(UB,QF,"esm2017"),js("fire-js","")}WX("");var GX="firebase",qX="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */js(GX,qX,"app");function zS(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vQ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const YX=vQ,yQ=new Nh("auth","Firebase",vQ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Sv("@firebase/auth");function XX(t,...e){ow.logLevel<=nn.WARN&&ow.warn(`Auth (${Fh}): ${t}`,...e)}function i1(t,...e){ow.logLevel<=nn.ERROR&&ow.error(`Auth (${Fh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t,...e){throw KS(t,...e)}function Za(t,...e){return KS(t,...e)}function wQ(t,e,n){const r=Object.assign(Object.assign({},YX()),{[e]:n});return new Nh("auth","Firebase",r).create(e,{appName:t.name})}function Kl(t){return wQ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function KS(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return yQ.create(t,...e)}function It(t,e,...n){if(!t)throw KS(e,...n)}function Ql(t){const e="INTERNAL ASSERTION FAILED: "+t;throw i1(e),new Error(e)}function iA(t,e){t||Ql(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QB(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function JX(){return zF()==="http:"||zF()==="https:"}function zF(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZX(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JX()||QS()||"connection"in navigator)?navigator.onLine:!0}function eJ(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,n){this.shortDelay=e,this.longDelay=n,iA(n>e,"Short delay should be less than long delay!"),this.isMobile=MS()||aQ()}get(){return ZX()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t,e){iA(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ql("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ql("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ql("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nJ=new Tv(3e4,6e4);function eu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function mA(t,e,n,r,i={}){return _Q(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=ip(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const A=Object.assign({method:e,headers:l},s);return BY()||(A.referrerPolicy="no-referrer"),bQ.fetch()(CQ(t,t.config.apiHost,n,a),A)})}async function _Q(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},tJ),e);try{const i=new iJ(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw X0(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,A]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw X0(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw X0(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw X0(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw wQ(t,c,A);Sa(t,c)}}catch(i){if(i instanceof Na)throw i;Sa(t,"network-request-failed",{message:String(i)})}}async function Iv(t,e,n,r,i={}){const s=await mA(t,e,n,r,i);return"mfaPendingCredential"in s&&Sa(t,"multi-factor-auth-required",{_serverResponse:s}),s}function CQ(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?WS(t.config,i):`${t.config.apiScheme}://${i}`}function rJ(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Za(this.auth,"network-request-failed")),nJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function X0(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Za(t,e,r);return i.customData._tokenResponse=n,i}function KF(t){return t!==void 0&&t.enterprise!==void 0}class sJ{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rJ(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function oJ(t,e){return mA(t,"GET","/v2/recaptchaConfig",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aJ(t,e){return mA(t,"POST","/v1/accounts:delete",e)}async function xQ(t,e){return mA(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function lJ(t,e=!1){const n=Dr(t),r=await n.getIdToken(e),i=GS(r);It(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Hg(sC(i.auth_time)),issuedAtTime:Hg(sC(i.iat)),expirationTime:Hg(sC(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function sC(t){return Number(t)*1e3}function GS(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return i1("JWT malformed, contained fewer than 3 sections"),null;try{const i=rw(n);return i?JSON.parse(i):(i1("Failed to decode base64 JWT payload"),null)}catch(i){return i1("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function WF(t){const e=GS(t);return It(e,"internal-error"),It(typeof e.exp<"u","internal-error"),It(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ff(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Na&&AJ(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function AJ({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jB{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hg(this.lastLoginAt),this.creationTime=Hg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aw(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ff(t,xQ(n,{idToken:r}));It(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?BQ(s.providerUserInfo):[],a=hJ(t.providerData,o),l=t.isAnonymous,A=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?A:!1,u={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new jB(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function uJ(t){const e=Dr(t);await aw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hJ(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function BQ(t){return t.map(e=>{var{providerId:n}=e,r=zS(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dJ(t,e){const n=await _Q(t,{},async()=>{const r=ip({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=CQ(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",bQ.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function fJ(t,e){return mA(t,"POST","/v2/accounts:revokeToken",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){It(e.idToken,"internal-error"),It(typeof e.idToken<"u","internal-error"),It(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):WF(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){It(e.length!==0,"internal-error");const n=WF(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(It(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await dJ(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new of;return r&&(It(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(It(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(It(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new of,this.toJSON())}_performRefresh(){return Ql("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t,e){It(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class jl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=zS(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new cJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new jB(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ff(this,this.stsTokenManager.getToken(this.auth,e));return It(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return lJ(this,e)}reload(){return uJ(this)}_assign(e){this!==e&&(It(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new jl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){It(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await aw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qa(this.auth.app))return Promise.reject(Kl(this.auth));const e=await this.getIdToken();return await Ff(this,aJ(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,A,c;const u=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,d=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,f=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,g=(A=n.createdAt)!==null&&A!==void 0?A:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:_,emailVerified:x,isAnonymous:F,providerData:O,stsTokenManager:I}=n;It(_&&I,e,"internal-error");const B=of.fromJSON(this.name,I);It(typeof _=="string",e,"internal-error"),zA(u,e.name),zA(h,e.name),It(typeof x=="boolean",e,"internal-error"),It(typeof F=="boolean",e,"internal-error"),zA(d,e.name),zA(p,e.name),zA(f,e.name),zA(b,e.name),zA(g,e.name),zA(v,e.name);const T=new jl({uid:_,auth:e,email:h,emailVerified:x,displayName:u,isAnonymous:F,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:B,createdAt:g,lastLoginAt:v});return O&&Array.isArray(O)&&(T.providerData=O.map(R=>Object.assign({},R))),b&&(T._redirectEventId=b),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new of;i.updateFromServerResponse(n);const s=new jl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await aw(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];It(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?BQ(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new of;a.updateFromIdToken(r);const l=new jl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),A={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new jB(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,A),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GF=new Map;function Hl(t){iA(t instanceof Function,"Expected a class definition");let e=GF.get(t);return e?(iA(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,GF.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EQ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}EQ.type="NONE";const qF=EQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(t,e,n){return`firebase:${t}:${e}:${n}`}class af{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=s1(this.userKey,i.apiKey,s),this.fullPersistenceKey=s1("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new af(Hl(qF),e,r);const i=(await Promise.all(n.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let s=i[0]||Hl(qF);const o=s1(r,e.config.apiKey,e.name);let a=null;for(const A of n)try{const c=await A._get(o);if(c){const u=jl._fromJSON(e,c);A!==s&&(a=u),s=A;break}}catch{}const l=i.filter(A=>A._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new af(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async A=>{if(A!==s)try{await A._remove(o)}catch{}})),new af(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YF(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(NQ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(SQ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kQ(e))return"Blackberry";if(PQ(e))return"Webos";if(TQ(e))return"Safari";if((e.includes("chrome/")||IQ(e))&&!e.includes("edge/"))return"Chrome";if(FQ(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function SQ(t=is()){return/firefox\//i.test(t)}function TQ(t=is()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IQ(t=is()){return/crios\//i.test(t)}function NQ(t=is()){return/iemobile/i.test(t)}function FQ(t=is()){return/android/i.test(t)}function kQ(t=is()){return/blackberry/i.test(t)}function PQ(t=is()){return/webos/i.test(t)}function qS(t=is()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function pJ(t=is()){var e;return qS(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function gJ(){return EY()&&document.documentMode===10}function DQ(t=is()){return qS(t)||FQ(t)||PQ(t)||kQ(t)||/windows phone/i.test(t)||NQ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t,e=[]){let n;switch(t){case"Browser":n=YF(is());break;case"Worker":n=`${YF(is())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fh}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vJ(t,e={}){return mA(t,"GET","/v2/passwordPolicy",eu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yJ=6;class wJ{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yJ,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XF(this),this.idTokenSubscription=new XF(this),this.beforeStateQueue=new mJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yQ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hl(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await af.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xQ(this,{idToken:e}),r=await jl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(qa(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return It(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await aw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eJ()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qa(this.app))return Promise.reject(Kl(this));const n=e?Dr(e):null;return n&&It(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&It(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qa(this.app)?Promise.reject(Kl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qa(this.app)?Promise.reject(Kl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Hl(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await vJ(this),n=new wJ(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Nh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await fJ(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hl(e)||this._popupRedirectResolver;It(n,this,"argument-error"),this.redirectPersistenceManager=await af.create(this,[Hl(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(It(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return It(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=LQ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XX(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function kh(t){return Dr(t)}class XF{constructor(e){this.auth=e,this.observer=null,this.addObserver=DY(n=>this.observer=n)}get next(){return It(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z2={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _J(t){z2=t}function RQ(t){return z2.loadJS(t)}function CJ(){return z2.recaptchaEnterpriseScript}function xJ(){return z2.gapiScript}function BJ(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const EJ="recaptcha-enterprise",SJ="NO_RECAPTCHA";class TJ{constructor(e){this.type=EJ,this.auth=kh(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{oJ(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const A=new sJ(l);return s.tenantId==null?s._agentRecaptchaConfig=A:s._tenantRecaptchaConfigs[s.tenantId]=A,o(A.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;KF(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(A=>{o(A)}).catch(()=>{o(SJ)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&KF(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=CJ();l.length!==0&&(l+=a),RQ(l).then(()=>{i(a,s,o)}).catch(A=>{o(A)})}}).catch(a=>{o(a)})})}}async function JF(t,e,n,r=!1){const i=new TJ(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function HB(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await JF(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await JF(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IJ(t,e){const n=Zc(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Nf(s,e??{}))return i;Sa(i,"already-initialized")}return n.initialize({options:e})}function NJ(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hl);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function FJ(t,e,n){const r=kh(t);It(r._canInitEmulator,r,"emulator-config-failed"),It(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UQ(e),{host:o,port:a}=kJ(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PJ()}function UQ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function kJ(t){const e=UQ(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:ZF(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:ZF(o)}}}function ZF(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PJ(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ql("not implemented")}_getIdTokenResponse(e){return Ql("not implemented")}_linkToIdToken(e,n){return Ql("not implemented")}_getReauthenticationResolver(e){return Ql("not implemented")}}async function DJ(t,e){return mA(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LJ(t,e){return Iv(t,"POST","/v1/accounts:signInWithPassword",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RJ(t,e){return Iv(t,"POST","/v1/accounts:signInWithEmailLink",eu(t,e))}async function UJ(t,e){return Iv(t,"POST","/v1/accounts:signInWithEmailLink",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm extends YS{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Lm(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Lm(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HB(e,n,"signInWithPassword",LJ);case"emailLink":return RJ(e,{email:this._email,oobCode:this._password});default:Sa(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return HB(e,r,"signUpPassword",DJ);case"emailLink":return UJ(e,{idToken:n,email:this._email,oobCode:this._password});default:Sa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lf(t,e){return Iv(t,"POST","/v1/accounts:signInWithIdp",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OJ="http://localhost";class ah extends YS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ah(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Sa("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=zS(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ah(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return lf(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,lf(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,lf(e,n)}buildRequest(){const e={requestUri:OJ,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ip(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MJ(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QJ(t){const e=vg(yg(t)).link,n=e?vg(yg(e)).deep_link_id:null,r=vg(yg(t)).deep_link_id;return(r?vg(yg(r)).link:null)||r||n||e||t}class XS{constructor(e){var n,r,i,s,o,a;const l=vg(yg(e)),A=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,u=MJ((i=l.mode)!==null&&i!==void 0?i:null);It(A&&c&&u,"argument-error"),this.apiKey=A,this.operation=u,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=QJ(e);try{return new XS(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.providerId=sp.PROVIDER_ID}static credential(e,n){return Lm._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=XS.parseLink(n);return It(r,"argument-error"),Lm._fromEmailAndCode(e,r.code,r.tenantId)}}sp.PROVIDER_ID="password";sp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OQ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends OQ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends Nv{constructor(){super("facebook.com")}static credential(e){return ah._fromParams({providerId:sc.PROVIDER_ID,signInMethod:sc.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sc.credentialFromTaggedObject(e)}static credentialFromError(e){return sc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sc.credential(e.oauthAccessToken)}catch{return null}}}sc.FACEBOOK_SIGN_IN_METHOD="facebook.com";sc.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends Nv{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ah._fromParams({providerId:oc.PROVIDER_ID,signInMethod:oc.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return oc.credentialFromTaggedObject(e)}static credentialFromError(e){return oc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return oc.credential(n,r)}catch{return null}}}oc.GOOGLE_SIGN_IN_METHOD="google.com";oc.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac extends Nv{constructor(){super("github.com")}static credential(e){return ah._fromParams({providerId:ac.PROVIDER_ID,signInMethod:ac.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ac.credentialFromTaggedObject(e)}static credentialFromError(e){return ac.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ac.credential(e.oauthAccessToken)}catch{return null}}}ac.GITHUB_SIGN_IN_METHOD="github.com";ac.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Nv{constructor(){super("twitter.com")}static credential(e,n){return ah._fromParams({providerId:lc.PROVIDER_ID,signInMethod:lc.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lc.credentialFromTaggedObject(e)}static credentialFromError(e){return lc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return lc.credential(n,r)}catch{return null}}}lc.TWITTER_SIGN_IN_METHOD="twitter.com";lc.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jJ(t,e){return Iv(t,"POST","/v1/accounts:signUp",eu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await jl._fromIdTokenResponse(e,r,i),o=ek(r);return new lh({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=ek(r);return new lh({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function ek(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw extends Na{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,lw.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new lw(e,n,r,i)}}function MQ(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?lw._fromErrorAndOperation(t,s,e,r):s})}async function HJ(t,e,n=!1){const r=await Ff(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return lh._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VJ(t,e,n=!1){const{auth:r}=t;if(qa(r.app))return Promise.reject(Kl(r));const i="reauthenticate";try{const s=await Ff(t,MQ(r,i,e,t),n);It(s.idToken,r,"internal-error");const o=GS(s.idToken);It(o,r,"internal-error");const{sub:a}=o;return It(t.uid===a,r,"user-mismatch"),lh._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Sa(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QQ(t,e,n=!1){if(qa(t.app))return Promise.reject(Kl(t));const r="signIn",i=await MQ(t,r,e),s=await lh._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function $J(t,e){return QQ(kh(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jQ(t){const e=kh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function zJ(t,e,n){if(qa(t.app))return Promise.reject(Kl(t));const r=kh(t),o=await HB(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jJ).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jQ(t),l}),a=await lh._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function KJ(t,e,n){return qa(t.app)?Promise.reject(Kl(t)):$J(Dr(t),sp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&jQ(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e){return mA(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Dr(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ff(r,WJ(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qJ(t,e){return Dr(t).setPersistence(e)}function YJ(t,e,n,r){return Dr(t).onIdTokenChanged(e,n,r)}function XJ(t,e,n){return Dr(t).beforeAuthStateChanged(e,n)}function JJ(t,e,n,r){return Dr(t).onAuthStateChanged(e,n,r)}function ZJ(t){return Dr(t).signOut()}const Aw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Aw,"1"),this.storage.removeItem(Aw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ=1e3,tZ=10;class VQ extends HQ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DQ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);gJ()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,tZ):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},eZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}VQ.type="LOCAL";const $Q=VQ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ extends HQ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zQ.type="SESSION";const JS=zQ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nZ(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new K2(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async A=>A(n.origin,s)),l=await nZ(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}K2.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rZ{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const A=ZS("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(u){const h=u;if(h.data.eventId===A)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:A,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(){return window}function iZ(t){el().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KQ(){return typeof el().WorkerGlobalScope<"u"&&typeof el().importScripts=="function"}async function sZ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oZ(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function aZ(){return KQ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ="firebaseLocalStorageDb",lZ=1,cw="firebaseLocalStorage",GQ="fbase_key";class Fv{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function W2(t,e){return t.transaction([cw],e?"readwrite":"readonly").objectStore(cw)}function AZ(){const t=indexedDB.deleteDatabase(WQ);return new Fv(t).toPromise()}function VB(){const t=indexedDB.open(WQ,lZ);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(cw,{keyPath:GQ})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(cw)?e(r):(r.close(),await AZ(),e(await VB()))})})}async function tk(t,e,n){const r=W2(t,!0).put({[GQ]:e,value:n});return new Fv(r).toPromise()}async function cZ(t,e){const n=W2(t,!1).get(e),r=await new Fv(n).toPromise();return r===void 0?null:r.value}function nk(t,e){const n=W2(t,!0).delete(e);return new Fv(n).toPromise()}const uZ=800,hZ=3;class qQ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await VB(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>hZ)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return KQ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=K2._getInstance(aZ()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sZ(),!this.activeServiceWorker)return;this.sender=new rZ(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oZ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await VB();return await tk(e,Aw,"1"),await nk(e,Aw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tk(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>cZ(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nk(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=W2(i,!1).getAll();return new Fv(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qQ.type="LOCAL";const dZ=qQ;new Tv(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t,e){return e?Hl(e):(It(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT extends YS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return lf(e,this._buildIdpRequest())}_linkToIdToken(e,n){return lf(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return lf(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pZ(t){return QQ(t.auth,new eT(t),t.bypassAuthState)}function gZ(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),VJ(n,new eT(t),t.bypassAuthState)}async function mZ(t){const{auth:e,user:n}=t;return It(n,e,"internal-error"),HJ(n,new eT(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(A){this.reject(A)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pZ;case"linkViaPopup":case"linkViaRedirect":return mZ;case"reauthViaPopup":case"reauthViaRedirect":return gZ;default:Sa(this.auth,"internal-error")}}resolve(e){iA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){iA(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vZ=new Tv(2e3,1e4);class $d extends YQ{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,$d.currentPopupAction&&$d.currentPopupAction.cancel(),$d.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return It(e,this.auth,"internal-error"),e}async onExecution(){iA(this.filter.length===1,"Popup operations only handle one event");const e=ZS();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Za(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Za(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$d.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Za(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vZ.get())};e()}}$d.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yZ="pendingRedirect",o1=new Map;class wZ extends YQ{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=o1.get(this.auth._key());if(!e){try{const r=await bZ(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}o1.set(this.auth._key(),e)}return this.bypassAuthState||o1.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bZ(t,e){const n=xZ(e),r=CZ(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _Z(t,e){o1.set(t._key(),e)}function CZ(t){return Hl(t._redirectPersistence)}function xZ(t){return s1(yZ,t.config.apiKey,t.name)}async function BZ(t,e,n=!1){if(qa(t.app))return Promise.reject(Kl(t));const r=kh(t),i=fZ(r,e),o=await new wZ(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EZ=10*60*1e3;class SZ{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TZ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XQ(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Za(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=EZ&&this.cachedEventUids.clear(),this.cachedEventUids.has(rk(e))}saveEventToCache(e){this.cachedEventUids.add(rk(e)),this.lastProcessedEventTime=Date.now()}}function rk(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XQ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TZ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XQ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IZ(t,e={}){return mA(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NZ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FZ=/^https?/;async function kZ(t){if(t.config.emulator)return;const{authorizedDomains:e}=await IZ(t);for(const n of e)try{if(PZ(n))return}catch{}Sa(t,"unauthorized-domain")}function PZ(t){const e=QB(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!FZ.test(n))return!1;if(NZ.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DZ=new Tv(3e4,6e4);function ik(){const t=el().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function LZ(t){return new Promise((e,n)=>{var r,i,s;function o(){ik(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ik(),n(Za(t,"network-request-failed"))},timeout:DZ.get()})}if(!((i=(r=el().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=el().gapi)===null||s===void 0)&&s.load)o();else{const a=BJ("iframefcb");return el()[a]=()=>{gapi.load?o():n(Za(t,"network-request-failed"))},RQ(`${xJ()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw a1=null,e})}let a1=null;function RZ(t){return a1=a1||LZ(t),a1}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UZ=new Tv(5e3,15e3),OZ="__/auth/iframe",MZ="emulator/auth/iframe",QZ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jZ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function HZ(t){const e=t.config;It(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?WS(e,MZ):`https://${t.config.authDomain}/${OZ}`,r={apiKey:e.apiKey,appName:t.name,v:Fh},i=jZ.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ip(r).slice(1)}`}async function VZ(t){const e=await RZ(t),n=el().gapi;return It(n,t,"internal-error"),e.open({where:document.body,url:HZ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:QZ,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Za(t,"network-request-failed"),a=el().setTimeout(()=>{s(o)},UZ.get());function l(){el().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},zZ=500,KZ=600,WZ="_blank",GZ="http://localhost";class sk{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qZ(t,e,n,r=zZ,i=KZ){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},$Z),{width:r.toString(),height:i.toString(),top:s,left:o}),A=is().toLowerCase();n&&(a=IQ(A)?WZ:n),SQ(A)&&(e=e||GZ,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[d,p])=>`${h}${d}=${p},`,"");if(pJ(A)&&a!=="_self")return YZ(e||"",a),new sk(null);const u=window.open(e||"",a,c);It(u,t,"popup-blocked");try{u.focus()}catch{}return new sk(u)}function YZ(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XZ="__/auth/handler",JZ="emulator/auth/handler",ZZ=encodeURIComponent("fac");async function ok(t,e,n,r,i,s){It(t.config.authDomain,t,"auth-domain-config-required"),It(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fh,eventId:i};if(e instanceof OQ){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",DB(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,u]of Object.entries(s||{}))o[c]=u}if(e instanceof Nv){const c=e.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),A=l?`#${ZZ}=${encodeURIComponent(l)}`:"";return`${eee(t)}?${ip(a).slice(1)}${A}`}function eee({config:t}){return t.emulator?WS(t,JZ):`https://${t.authDomain}/${XZ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC="webStorageSupport";class tee{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JS,this._completeRedirectFn=BZ,this._overrideRedirectResult=_Z}async _openPopup(e,n,r,i){var s;iA((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await ok(e,n,r,QB(),i);return qZ(e,o,ZS())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await ok(e,n,r,QB(),i);return iZ(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(iA(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await VZ(e),r=new SZ(e);return n.register("authEvent",i=>(It(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oC,{type:oC},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[oC];o!==void 0&&n(!!o),Sa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kZ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DQ()||TQ()||qS()}}const nee=tee;var ak="@firebase/auth",lk="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ree{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){It(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iee(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function see(t){Ea(new Go("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;It(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:LQ(t)},A=new bJ(r,i,s,l);return NJ(A,n),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ea(new Go("auth-internal",e=>{const n=kh(e.getProvider("auth").getImmediate());return(r=>new ree(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),js(ak,lk,iee(t)),js(ak,lk,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oee=5*60,aee=sQ("authIdTokenMaxAge")||oee;let Ak=null;const lee=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>aee)return;const i=n==null?void 0:n.token;Ak!==i&&(Ak=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Aee(t=$S()){const e=Zc(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IJ(t,{popupRedirectResolver:nee,persistence:[dZ,$Q,JS]}),r=sQ("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=lee(s.toString());XJ(n,o,()=>o(n.currentUser)),YJ(n,a=>o(a))}}const i=rQ("auth");return i&&FJ(n,`http://${i}`),n}function cee(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}_J({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Za("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",cee().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});see("Browser");var ck=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wu,JQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,B){function T(){}T.prototype=B.prototype,I.D=B.prototype,I.prototype=new T,I.prototype.constructor=I,I.C=function(R,D,E){for(var k=Array(arguments.length-2),N=2;N<arguments.length;N++)k[N-2]=arguments[N];return B.prototype[D].apply(R,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,B,T){T||(T=0);var R=Array(16);if(typeof B=="string")for(var D=0;16>D;++D)R[D]=B.charCodeAt(T++)|B.charCodeAt(T++)<<8|B.charCodeAt(T++)<<16|B.charCodeAt(T++)<<24;else for(D=0;16>D;++D)R[D]=B[T++]|B[T++]<<8|B[T++]<<16|B[T++]<<24;B=I.g[0],T=I.g[1],D=I.g[2];var E=I.g[3],k=B+(E^T&(D^E))+R[0]+3614090360&4294967295;B=T+(k<<7&4294967295|k>>>25),k=E+(D^B&(T^D))+R[1]+3905402710&4294967295,E=B+(k<<12&4294967295|k>>>20),k=D+(T^E&(B^T))+R[2]+606105819&4294967295,D=E+(k<<17&4294967295|k>>>15),k=T+(B^D&(E^B))+R[3]+3250441966&4294967295,T=D+(k<<22&4294967295|k>>>10),k=B+(E^T&(D^E))+R[4]+4118548399&4294967295,B=T+(k<<7&4294967295|k>>>25),k=E+(D^B&(T^D))+R[5]+1200080426&4294967295,E=B+(k<<12&4294967295|k>>>20),k=D+(T^E&(B^T))+R[6]+2821735955&4294967295,D=E+(k<<17&4294967295|k>>>15),k=T+(B^D&(E^B))+R[7]+4249261313&4294967295,T=D+(k<<22&4294967295|k>>>10),k=B+(E^T&(D^E))+R[8]+1770035416&4294967295,B=T+(k<<7&4294967295|k>>>25),k=E+(D^B&(T^D))+R[9]+2336552879&4294967295,E=B+(k<<12&4294967295|k>>>20),k=D+(T^E&(B^T))+R[10]+4294925233&4294967295,D=E+(k<<17&4294967295|k>>>15),k=T+(B^D&(E^B))+R[11]+2304563134&4294967295,T=D+(k<<22&4294967295|k>>>10),k=B+(E^T&(D^E))+R[12]+1804603682&4294967295,B=T+(k<<7&4294967295|k>>>25),k=E+(D^B&(T^D))+R[13]+4254626195&4294967295,E=B+(k<<12&4294967295|k>>>20),k=D+(T^E&(B^T))+R[14]+2792965006&4294967295,D=E+(k<<17&4294967295|k>>>15),k=T+(B^D&(E^B))+R[15]+1236535329&4294967295,T=D+(k<<22&4294967295|k>>>10),k=B+(D^E&(T^D))+R[1]+4129170786&4294967295,B=T+(k<<5&4294967295|k>>>27),k=E+(T^D&(B^T))+R[6]+3225465664&4294967295,E=B+(k<<9&4294967295|k>>>23),k=D+(B^T&(E^B))+R[11]+643717713&4294967295,D=E+(k<<14&4294967295|k>>>18),k=T+(E^B&(D^E))+R[0]+3921069994&4294967295,T=D+(k<<20&4294967295|k>>>12),k=B+(D^E&(T^D))+R[5]+3593408605&4294967295,B=T+(k<<5&4294967295|k>>>27),k=E+(T^D&(B^T))+R[10]+38016083&4294967295,E=B+(k<<9&4294967295|k>>>23),k=D+(B^T&(E^B))+R[15]+3634488961&4294967295,D=E+(k<<14&4294967295|k>>>18),k=T+(E^B&(D^E))+R[4]+3889429448&4294967295,T=D+(k<<20&4294967295|k>>>12),k=B+(D^E&(T^D))+R[9]+568446438&4294967295,B=T+(k<<5&4294967295|k>>>27),k=E+(T^D&(B^T))+R[14]+3275163606&4294967295,E=B+(k<<9&4294967295|k>>>23),k=D+(B^T&(E^B))+R[3]+4107603335&4294967295,D=E+(k<<14&4294967295|k>>>18),k=T+(E^B&(D^E))+R[8]+1163531501&4294967295,T=D+(k<<20&4294967295|k>>>12),k=B+(D^E&(T^D))+R[13]+2850285829&4294967295,B=T+(k<<5&4294967295|k>>>27),k=E+(T^D&(B^T))+R[2]+4243563512&4294967295,E=B+(k<<9&4294967295|k>>>23),k=D+(B^T&(E^B))+R[7]+1735328473&4294967295,D=E+(k<<14&4294967295|k>>>18),k=T+(E^B&(D^E))+R[12]+2368359562&4294967295,T=D+(k<<20&4294967295|k>>>12),k=B+(T^D^E)+R[5]+4294588738&4294967295,B=T+(k<<4&4294967295|k>>>28),k=E+(B^T^D)+R[8]+2272392833&4294967295,E=B+(k<<11&4294967295|k>>>21),k=D+(E^B^T)+R[11]+1839030562&4294967295,D=E+(k<<16&4294967295|k>>>16),k=T+(D^E^B)+R[14]+4259657740&4294967295,T=D+(k<<23&4294967295|k>>>9),k=B+(T^D^E)+R[1]+2763975236&4294967295,B=T+(k<<4&4294967295|k>>>28),k=E+(B^T^D)+R[4]+1272893353&4294967295,E=B+(k<<11&4294967295|k>>>21),k=D+(E^B^T)+R[7]+4139469664&4294967295,D=E+(k<<16&4294967295|k>>>16),k=T+(D^E^B)+R[10]+3200236656&4294967295,T=D+(k<<23&4294967295|k>>>9),k=B+(T^D^E)+R[13]+681279174&4294967295,B=T+(k<<4&4294967295|k>>>28),k=E+(B^T^D)+R[0]+3936430074&4294967295,E=B+(k<<11&4294967295|k>>>21),k=D+(E^B^T)+R[3]+3572445317&4294967295,D=E+(k<<16&4294967295|k>>>16),k=T+(D^E^B)+R[6]+76029189&4294967295,T=D+(k<<23&4294967295|k>>>9),k=B+(T^D^E)+R[9]+3654602809&4294967295,B=T+(k<<4&4294967295|k>>>28),k=E+(B^T^D)+R[12]+3873151461&4294967295,E=B+(k<<11&4294967295|k>>>21),k=D+(E^B^T)+R[15]+530742520&4294967295,D=E+(k<<16&4294967295|k>>>16),k=T+(D^E^B)+R[2]+3299628645&4294967295,T=D+(k<<23&4294967295|k>>>9),k=B+(D^(T|~E))+R[0]+4096336452&4294967295,B=T+(k<<6&4294967295|k>>>26),k=E+(T^(B|~D))+R[7]+1126891415&4294967295,E=B+(k<<10&4294967295|k>>>22),k=D+(B^(E|~T))+R[14]+2878612391&4294967295,D=E+(k<<15&4294967295|k>>>17),k=T+(E^(D|~B))+R[5]+4237533241&4294967295,T=D+(k<<21&4294967295|k>>>11),k=B+(D^(T|~E))+R[12]+1700485571&4294967295,B=T+(k<<6&4294967295|k>>>26),k=E+(T^(B|~D))+R[3]+2399980690&4294967295,E=B+(k<<10&4294967295|k>>>22),k=D+(B^(E|~T))+R[10]+4293915773&4294967295,D=E+(k<<15&4294967295|k>>>17),k=T+(E^(D|~B))+R[1]+2240044497&4294967295,T=D+(k<<21&4294967295|k>>>11),k=B+(D^(T|~E))+R[8]+1873313359&4294967295,B=T+(k<<6&4294967295|k>>>26),k=E+(T^(B|~D))+R[15]+4264355552&4294967295,E=B+(k<<10&4294967295|k>>>22),k=D+(B^(E|~T))+R[6]+2734768916&4294967295,D=E+(k<<15&4294967295|k>>>17),k=T+(E^(D|~B))+R[13]+1309151649&4294967295,T=D+(k<<21&4294967295|k>>>11),k=B+(D^(T|~E))+R[4]+4149444226&4294967295,B=T+(k<<6&4294967295|k>>>26),k=E+(T^(B|~D))+R[11]+3174756917&4294967295,E=B+(k<<10&4294967295|k>>>22),k=D+(B^(E|~T))+R[2]+718787259&4294967295,D=E+(k<<15&4294967295|k>>>17),k=T+(E^(D|~B))+R[9]+3951481745&4294967295,I.g[0]=I.g[0]+B&4294967295,I.g[1]=I.g[1]+(D+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+E&4294967295}r.prototype.u=function(I,B){B===void 0&&(B=I.length);for(var T=B-this.blockSize,R=this.B,D=this.h,E=0;E<B;){if(D==0)for(;E<=T;)i(this,I,E),E+=this.blockSize;if(typeof I=="string"){for(;E<B;)if(R[D++]=I.charCodeAt(E++),D==this.blockSize){i(this,R),D=0;break}}else for(;E<B;)if(R[D++]=I[E++],D==this.blockSize){i(this,R),D=0;break}}this.h=D,this.o+=B},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var B=1;B<I.length-8;++B)I[B]=0;var T=8*this.o;for(B=I.length-8;B<I.length;++B)I[B]=T&255,T/=256;for(this.u(I),I=Array(16),B=T=0;4>B;++B)for(var R=0;32>R;R+=8)I[T++]=this.g[B]>>>R&255;return I};function s(I,B){var T=a;return Object.prototype.hasOwnProperty.call(T,I)?T[I]:T[I]=B(I)}function o(I,B){this.h=B;for(var T=[],R=!0,D=I.length-1;0<=D;D--){var E=I[D]|0;R&&E==B||(T[D]=E,R=!1)}this.g=T}var a={};function l(I){return-128<=I&&128>I?s(I,function(B){return new o([B|0],0>B?-1:0)}):new o([I|0],0>I?-1:0)}function A(I){if(isNaN(I)||!isFinite(I))return u;if(0>I)return b(A(-I));for(var B=[],T=1,R=0;I>=T;R++)B[R]=I/T|0,T*=4294967296;return new o(B,0)}function c(I,B){if(I.length==0)throw Error("number format error: empty string");if(B=B||10,2>B||36<B)throw Error("radix out of range: "+B);if(I.charAt(0)=="-")return b(c(I.substring(1),B));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=A(Math.pow(B,8)),R=u,D=0;D<I.length;D+=8){var E=Math.min(8,I.length-D),k=parseInt(I.substring(D,D+E),B);8>E?(E=A(Math.pow(B,E)),R=R.j(E).add(A(k))):(R=R.j(T),R=R.add(A(k)))}return R}var u=l(0),h=l(1),d=l(16777216);t=o.prototype,t.m=function(){if(f(this))return-b(this).m();for(var I=0,B=1,T=0;T<this.g.length;T++){var R=this.i(T);I+=(0<=R?R:4294967296+R)*B,B*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(p(this))return"0";if(f(this))return"-"+b(this).toString(I);for(var B=A(Math.pow(I,6)),T=this,R="";;){var D=x(T,B).g;T=g(T,D.j(B));var E=((0<T.g.length?T.g[0]:T.h)>>>0).toString(I);if(T=D,p(T))return E+R;for(;6>E.length;)E="0"+E;R=E+R}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function p(I){if(I.h!=0)return!1;for(var B=0;B<I.g.length;B++)if(I.g[B]!=0)return!1;return!0}function f(I){return I.h==-1}t.l=function(I){return I=g(this,I),f(I)?-1:p(I)?0:1};function b(I){for(var B=I.g.length,T=[],R=0;R<B;R++)T[R]=~I.g[R];return new o(T,~I.h).add(h)}t.abs=function(){return f(this)?b(this):this},t.add=function(I){for(var B=Math.max(this.g.length,I.g.length),T=[],R=0,D=0;D<=B;D++){var E=R+(this.i(D)&65535)+(I.i(D)&65535),k=(E>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);R=k>>>16,E&=65535,k&=65535,T[D]=k<<16|E}return new o(T,T[T.length-1]&-2147483648?-1:0)};function g(I,B){return I.add(b(B))}t.j=function(I){if(p(this)||p(I))return u;if(f(this))return f(I)?b(this).j(b(I)):b(b(this).j(I));if(f(I))return b(this.j(b(I)));if(0>this.l(d)&&0>I.l(d))return A(this.m()*I.m());for(var B=this.g.length+I.g.length,T=[],R=0;R<2*B;R++)T[R]=0;for(R=0;R<this.g.length;R++)for(var D=0;D<I.g.length;D++){var E=this.i(R)>>>16,k=this.i(R)&65535,N=I.i(D)>>>16,Y=I.i(D)&65535;T[2*R+2*D]+=k*Y,v(T,2*R+2*D),T[2*R+2*D+1]+=E*Y,v(T,2*R+2*D+1),T[2*R+2*D+1]+=k*N,v(T,2*R+2*D+1),T[2*R+2*D+2]+=E*N,v(T,2*R+2*D+2)}for(R=0;R<B;R++)T[R]=T[2*R+1]<<16|T[2*R];for(R=B;R<2*B;R++)T[R]=0;return new o(T,0)};function v(I,B){for(;(I[B]&65535)!=I[B];)I[B+1]+=I[B]>>>16,I[B]&=65535,B++}function _(I,B){this.g=I,this.h=B}function x(I,B){if(p(B))throw Error("division by zero");if(p(I))return new _(u,u);if(f(I))return B=x(b(I),B),new _(b(B.g),b(B.h));if(f(B))return B=x(I,b(B)),new _(b(B.g),B.h);if(30<I.g.length){if(f(I)||f(B))throw Error("slowDivide_ only works with positive integers.");for(var T=h,R=B;0>=R.l(I);)T=F(T),R=F(R);var D=O(T,1),E=O(R,1);for(R=O(R,2),T=O(T,2);!p(R);){var k=E.add(R);0>=k.l(I)&&(D=D.add(T),E=k),R=O(R,1),T=O(T,1)}return B=g(I,D.j(B)),new _(D,B)}for(D=u;0<=I.l(B);){for(T=Math.max(1,Math.floor(I.m()/B.m())),R=Math.ceil(Math.log(T)/Math.LN2),R=48>=R?1:Math.pow(2,R-48),E=A(T),k=E.j(B);f(k)||0<k.l(I);)T-=R,E=A(T),k=E.j(B);p(E)&&(E=h),D=D.add(E),I=g(I,k)}return new _(D,I)}t.A=function(I){return x(this,I).h},t.and=function(I){for(var B=Math.max(this.g.length,I.g.length),T=[],R=0;R<B;R++)T[R]=this.i(R)&I.i(R);return new o(T,this.h&I.h)},t.or=function(I){for(var B=Math.max(this.g.length,I.g.length),T=[],R=0;R<B;R++)T[R]=this.i(R)|I.i(R);return new o(T,this.h|I.h)},t.xor=function(I){for(var B=Math.max(this.g.length,I.g.length),T=[],R=0;R<B;R++)T[R]=this.i(R)^I.i(R);return new o(T,this.h^I.h)};function F(I){for(var B=I.g.length+1,T=[],R=0;R<B;R++)T[R]=I.i(R)<<1|I.i(R-1)>>>31;return new o(T,I.h)}function O(I,B){var T=B>>5;B%=32;for(var R=I.g.length-T,D=[],E=0;E<R;E++)D[E]=0<B?I.i(E+T)>>>B|I.i(E+T+1)<<32-B:I.i(E+T);return new o(D,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,JQ=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=A,o.fromString=c,Wu=o}).apply(typeof ck<"u"?ck:typeof self<"u"?self:typeof window<"u"?window:{});var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ZQ,wg,e6,l1,$B,t6,n6,r6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(w,L,j){return w==Array.prototype||w==Object.prototype||(w[L]=j.value),w};function n(w){w=[typeof globalThis=="object"&&globalThis,w,typeof window=="object"&&window,typeof self=="object"&&self,typeof J0=="object"&&J0];for(var L=0;L<w.length;++L){var j=w[L];if(j&&j.Math==Math)return j}throw Error("Cannot find global object")}var r=n(this);function i(w,L){if(L)e:{var j=r;w=w.split(".");for(var X=0;X<w.length-1;X++){var Ce=w[X];if(!(Ce in j))break e;j=j[Ce]}w=w[w.length-1],X=j[w],L=L(X),L!=X&&L!=null&&e(j,w,{configurable:!0,writable:!0,value:L})}}function s(w,L){w instanceof String&&(w+="");var j=0,X=!1,Ce={next:function(){if(!X&&j<w.length){var Ne=j++;return{value:L(Ne,w[Ne]),done:!1}}return X=!0,{done:!0,value:void 0}}};return Ce[Symbol.iterator]=function(){return Ce},Ce}i("Array.prototype.values",function(w){return w||function(){return s(this,function(L,j){return j})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(w){var L=typeof w;return L=L!="object"?L:w?Array.isArray(w)?"array":L:"null",L=="array"||L=="object"&&typeof w.length=="number"}function A(w){var L=typeof w;return L=="object"&&w!=null||L=="function"}function c(w,L,j){return w.call.apply(w.bind,arguments)}function u(w,L,j){if(!w)throw Error();if(2<arguments.length){var X=Array.prototype.slice.call(arguments,2);return function(){var Ce=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ce,X),w.apply(L,Ce)}}return function(){return w.apply(L,arguments)}}function h(w,L,j){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:u,h.apply(null,arguments)}function d(w,L){var j=Array.prototype.slice.call(arguments,1);return function(){var X=j.slice();return X.push.apply(X,arguments),w.apply(this,X)}}function p(w,L){function j(){}j.prototype=L.prototype,w.aa=L.prototype,w.prototype=new j,w.prototype.constructor=w,w.Qb=function(X,Ce,Ne){for(var Ye=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)Ye[kt-2]=arguments[kt];return L.prototype[Ce].apply(X,Ye)}}function f(w){const L=w.length;if(0<L){const j=Array(L);for(let X=0;X<L;X++)j[X]=w[X];return j}return[]}function b(w,L){for(let j=1;j<arguments.length;j++){const X=arguments[j];if(l(X)){const Ce=w.length||0,Ne=X.length||0;w.length=Ce+Ne;for(let Ye=0;Ye<Ne;Ye++)w[Ce+Ye]=X[Ye]}else w.push(X)}}class g{constructor(L,j){this.i=L,this.j=j,this.h=0,this.g=null}get(){let L;return 0<this.h?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function v(w){return/^[\s\xa0]*$/.test(w)}function _(){var w=a.navigator;return w&&(w=w.userAgent)?w:""}function x(w){return x[" "](w),w}x[" "]=function(){};var F=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function O(w,L,j){for(const X in w)L.call(j,w[X],X,w)}function I(w,L){for(const j in w)L.call(void 0,w[j],j,w)}function B(w){const L={};for(const j in w)L[j]=w[j];return L}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R(w,L){let j,X;for(let Ce=1;Ce<arguments.length;Ce++){X=arguments[Ce];for(j in X)w[j]=X[j];for(let Ne=0;Ne<T.length;Ne++)j=T[Ne],Object.prototype.hasOwnProperty.call(X,j)&&(w[j]=X[j])}}function D(w){var L=1;w=w.split(":");const j=[];for(;0<L&&w.length;)j.push(w.shift()),L--;return w.length&&j.push(w.join(":")),j}function E(w){a.setTimeout(()=>{throw w},0)}function k(){var w=se;let L=null;return w.g&&(L=w.g,w.g=w.g.next,w.g||(w.h=null),L.next=null),L}class N{constructor(){this.h=this.g=null}add(L,j){const X=Y.get();X.set(L,j),this.h?this.h.next=X:this.g=X,this.h=X}}var Y=new g(()=>new oe,w=>w.reset());class oe{constructor(){this.next=this.g=this.h=null}set(L,j){this.h=L,this.g=j,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ne=!1,se=new N,ue=()=>{const w=a.Promise.resolve(void 0);ie=()=>{w.then(le)}};var le=()=>{for(var w;w=k();){try{w.h.call(w.g)}catch(j){E(j)}var L=Y;L.j(w),100>L.h&&(L.h++,w.next=L.g,L.g=w)}ne=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(w,L){this.type=w,this.g=this.target=L,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var q=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var w=!1,L=Object.defineProperty({},"passive",{get:function(){w=!0}});try{const j=()=>{};a.addEventListener("test",j,L),a.removeEventListener("test",j,L)}catch{}return w}();function ee(w,L){if(z.call(this,w?w.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,w){var j=this.type=w.type,X=w.changedTouches&&w.changedTouches.length?w.changedTouches[0]:null;if(this.target=w.target||w.srcElement,this.g=L,L=w.relatedTarget){if(F){e:{try{x(L.nodeName);var Ce=!0;break e}catch{}Ce=!1}Ce||(L=null)}}else j=="mouseover"?L=w.fromElement:j=="mouseout"&&(L=w.toElement);this.relatedTarget=L,X?(this.clientX=X.clientX!==void 0?X.clientX:X.pageX,this.clientY=X.clientY!==void 0?X.clientY:X.pageY,this.screenX=X.screenX||0,this.screenY=X.screenY||0):(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0),this.button=w.button,this.key=w.key||"",this.ctrlKey=w.ctrlKey,this.altKey=w.altKey,this.shiftKey=w.shiftKey,this.metaKey=w.metaKey,this.pointerId=w.pointerId||0,this.pointerType=typeof w.pointerType=="string"?w.pointerType:fe[w.pointerType]||"",this.state=w.state,this.i=w,w.defaultPrevented&&ee.aa.h.call(this)}}p(ee,z);var fe={2:"touch",3:"pen",4:"mouse"};ee.prototype.h=function(){ee.aa.h.call(this);var w=this.i;w.preventDefault?w.preventDefault():w.returnValue=!1};var me="closure_listenable_"+(1e6*Math.random()|0),ge=0;function ye(w,L,j,X,Ce){this.listener=w,this.proxy=null,this.src=L,this.type=j,this.capture=!!X,this.ha=Ce,this.key=++ge,this.da=this.fa=!1}function Me(w){w.da=!0,w.listener=null,w.proxy=null,w.src=null,w.ha=null}function De(w){this.src=w,this.g={},this.h=0}De.prototype.add=function(w,L,j,X,Ce){var Ne=w.toString();w=this.g[Ne],w||(w=this.g[Ne]=[],this.h++);var Ye=Qe(w,L,X,Ce);return-1<Ye?(L=w[Ye],j||(L.fa=!1)):(L=new ye(L,this.src,Ne,!!X,Ce),L.fa=j,w.push(L)),L};function Se(w,L){var j=L.type;if(j in w.g){var X=w.g[j],Ce=Array.prototype.indexOf.call(X,L,void 0),Ne;(Ne=0<=Ce)&&Array.prototype.splice.call(X,Ce,1),Ne&&(Me(L),w.g[j].length==0&&(delete w.g[j],w.h--))}}function Qe(w,L,j,X){for(var Ce=0;Ce<w.length;++Ce){var Ne=w[Ce];if(!Ne.da&&Ne.listener==L&&Ne.capture==!!j&&Ne.ha==X)return Ce}return-1}var Q="closure_lm_"+(1e6*Math.random()|0),he={};function K(w,L,j,X,Ce){if(X&&X.once)return ce(w,L,j,X,Ce);if(Array.isArray(L)){for(var Ne=0;Ne<L.length;Ne++)K(w,L[Ne],j,X,Ce);return null}return j=Ge(j),w&&w[me]?w.K(L,j,A(X)?!!X.capture:!!X,Ce):ae(w,L,j,!1,X,Ce)}function ae(w,L,j,X,Ce,Ne){if(!L)throw Error("Invalid event type");var Ye=A(Ce)?!!Ce.capture:!!Ce,kt=je(w);if(kt||(w[Q]=kt=new De(w)),j=kt.add(L,j,X,Ye,Ne),j.proxy)return j;if(X=Z(),j.proxy=X,X.src=w,X.listener=j,w.addEventListener)q||(Ce=Ye),Ce===void 0&&(Ce=!1),w.addEventListener(L.toString(),X,Ce);else if(w.attachEvent)w.attachEvent(pe(L.toString()),X);else if(w.addListener&&w.removeListener)w.addListener(X);else throw Error("addEventListener and attachEvent are unavailable.");return j}function Z(){function w(j){return L.call(w.src,w.listener,j)}const L=Pe;return w}function ce(w,L,j,X,Ce){if(Array.isArray(L)){for(var Ne=0;Ne<L.length;Ne++)ce(w,L[Ne],j,X,Ce);return null}return j=Ge(j),w&&w[me]?w.L(L,j,A(X)?!!X.capture:!!X,Ce):ae(w,L,j,!0,X,Ce)}function _e(w,L,j,X,Ce){if(Array.isArray(L))for(var Ne=0;Ne<L.length;Ne++)_e(w,L[Ne],j,X,Ce);else X=A(X)?!!X.capture:!!X,j=Ge(j),w&&w[me]?(w=w.i,L=String(L).toString(),L in w.g&&(Ne=w.g[L],j=Qe(Ne,j,X,Ce),-1<j&&(Me(Ne[j]),Array.prototype.splice.call(Ne,j,1),Ne.length==0&&(delete w.g[L],w.h--)))):w&&(w=je(w))&&(L=w.g[L.toString()],w=-1,L&&(w=Qe(L,j,X,Ce)),(j=-1<w?L[w]:null)&&Be(j))}function Be(w){if(typeof w!="number"&&w&&!w.da){var L=w.src;if(L&&L[me])Se(L.i,w);else{var j=w.type,X=w.proxy;L.removeEventListener?L.removeEventListener(j,X,w.capture):L.detachEvent?L.detachEvent(pe(j),X):L.addListener&&L.removeListener&&L.removeListener(X),(j=je(L))?(Se(j,w),j.h==0&&(j.src=null,L[Q]=null)):Me(w)}}}function pe(w){return w in he?he[w]:he[w]="on"+w}function Pe(w,L){if(w.da)w=!0;else{L=new ee(L,this);var j=w.listener,X=w.ha||w.src;w.fa&&Be(w),w=j.call(X,L)}return w}function je(w){return w=w[Q],w instanceof De?w:null}var Ue="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ge(w){return typeof w=="function"?w:(w[Ue]||(w[Ue]=function(L){return w.handleEvent(L)}),w[Ue])}function nt(){U.call(this),this.i=new De(this),this.M=this,this.F=null}p(nt,U),nt.prototype[me]=!0,nt.prototype.removeEventListener=function(w,L,j,X){_e(this,w,L,j,X)};function Ze(w,L){var j,X=w.F;if(X)for(j=[];X;X=X.F)j.push(X);if(w=w.M,X=L.type||L,typeof L=="string")L=new z(L,w);else if(L instanceof z)L.target=L.target||w;else{var Ce=L;L=new z(X,w),R(L,Ce)}if(Ce=!0,j)for(var Ne=j.length-1;0<=Ne;Ne--){var Ye=L.g=j[Ne];Ce=At(Ye,X,!0,L)&&Ce}if(Ye=L.g=w,Ce=At(Ye,X,!0,L)&&Ce,Ce=At(Ye,X,!1,L)&&Ce,j)for(Ne=0;Ne<j.length;Ne++)Ye=L.g=j[Ne],Ce=At(Ye,X,!1,L)&&Ce}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var w=this.i,L;for(L in w.g){for(var j=w.g[L],X=0;X<j.length;X++)Me(j[X]);delete w.g[L],w.h--}}this.F=null},nt.prototype.K=function(w,L,j,X){return this.i.add(String(w),L,!1,j,X)},nt.prototype.L=function(w,L,j,X){return this.i.add(String(w),L,!0,j,X)};function At(w,L,j,X){if(L=w.i.g[String(L)],!L)return!0;L=L.concat();for(var Ce=!0,Ne=0;Ne<L.length;++Ne){var Ye=L[Ne];if(Ye&&!Ye.da&&Ye.capture==j){var kt=Ye.listener,wn=Ye.ha||Ye.src;Ye.fa&&Se(w.i,Ye),Ce=kt.call(wn,X)!==!1&&Ce}}return Ce&&!X.defaultPrevented}function Le(w,L,j){if(typeof w=="function")j&&(w=h(w,j));else if(w&&typeof w.handleEvent=="function")w=h(w.handleEvent,w);else throw Error("Invalid listener argument");return 2147483647<Number(L)?-1:a.setTimeout(w,L||0)}function Ie(w){w.g=Le(()=>{w.g=null,w.i&&(w.i=!1,Ie(w))},w.l);const L=w.h;w.h=null,w.m.apply(null,L)}class rt extends U{constructor(L,j){super(),this.m=L,this.l=j,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Ie(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ke(w){U.call(this),this.h=w,this.g={}}p(Ke,U);var wt=[];function mt(w){O(w.g,function(L,j){this.g.hasOwnProperty(j)&&Be(L)},w),w.g={}}Ke.prototype.N=function(){Ke.aa.N.call(this),mt(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ft=a.JSON.stringify,Ht=a.JSON.parse,_t=class{stringify(w){return a.JSON.stringify(w,void 0)}parse(w){return a.JSON.parse(w,void 0)}};function Xt(){}Xt.prototype.h=null;function Vt(w){return w.h||(w.h=w.i())}function Jt(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Kt(){z.call(this,"d")}p(Kt,z);function Ct(){z.call(this,"c")}p(Ct,z);var jt={},ls=null;function zn(){return ls=ls||new nt}jt.La="serverreachability";function Ri(w){z.call(this,jt.La,w)}p(Ri,z);function ai(w){const L=zn();Ze(L,new Ri(L))}jt.STAT_EVENT="statevent";function vt(w,L){z.call(this,jt.STAT_EVENT,w),this.stat=L}p(vt,z);function mn(w){const L=zn();Ze(L,new vt(L,w))}jt.Ma="timingevent";function As(w,L){z.call(this,jt.Ma,w),this.size=L}p(As,z);function tr(w,L){if(typeof w!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){w()},L)}function Sn(){this.g=!0}Sn.prototype.xa=function(){this.g=!1};function an(w,L,j,X,Ce,Ne){w.info(function(){if(w.g)if(Ne)for(var Ye="",kt=Ne.split("&"),wn=0;wn<kt.length;wn++){var Pt=kt[wn].split("=");if(1<Pt.length){var kn=Pt[0];Pt=Pt[1];var br=kn.split("_");Ye=2<=br.length&&br[1]=="type"?Ye+(kn+"="+Pt+"&"):Ye+(kn+"=redacted&")}}else Ye=null;else Ye=Ne;return"XMLHTTP REQ ("+X+") [attempt "+Ce+"]: "+L+`
`+j+`
`+Ye})}function Rr(w,L,j,X,Ce,Ne,Ye){w.info(function(){return"XMLHTTP RESP ("+X+") [ attempt "+Ce+"]: "+L+`
`+j+`
`+Ne+" "+Ye})}function Ui(w,L,j,X){w.info(function(){return"XMLHTTP TEXT ("+L+"): "+Oi(w,j)+(X?" "+X:"")})}function li(w,L){w.info(function(){return"TIMEOUT: "+L})}Sn.prototype.info=function(){};function Oi(w,L){if(!w.g)return L;if(!L)return null;try{var j=JSON.parse(L);if(j){for(w=0;w<j.length;w++)if(Array.isArray(j[w])){var X=j[w];if(!(2>X.length)){var Ce=X[1];if(Array.isArray(Ce)&&!(1>Ce.length)){var Ne=Ce[0];if(Ne!="noop"&&Ne!="stop"&&Ne!="close")for(var Ye=1;Ye<Ce.length;Ye++)Ce[Ye]=""}}}}return ft(j)}catch{return L}}var Ur={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gr;function qr(){}p(qr,Xt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},Gr=new qr;function cr(w,L,j,X){this.j=w,this.i=L,this.l=j,this.R=X||1,this.U=new Ke(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new cs}function cs(){this.i=null,this.g="",this.h=!1}var po={},Or={};function _i(w,L,j){w.L=1,w.v=_A(Mr(L)),w.m=j,w.P=!0,go(w,null)}function go(w,L){w.F=Date.now(),Jo(w),w.A=Mr(w.v);var j=w.A,X=w.R;Array.isArray(X)||(X=[String(X)]),zh(j.i,"t",X),w.C=0,j=w.j.J,w.h=new cs,w.g=de(w.j,j?L:null,!w.m),0<w.O&&(w.M=new rt(h(w.Y,w,w.g),w.O)),L=w.U,j=w.g,X=w.ca;var Ce="readystatechange";Array.isArray(Ce)||(Ce&&(wt[0]=Ce.toString()),Ce=wt);for(var Ne=0;Ne<Ce.length;Ne++){var Ye=K(j,Ce[Ne],X||L.handleEvent,!1,L.h||L);if(!Ye)break;L.g[Ye.key]=Ye}L=w.H?B(w.H):{},w.m?(w.u||(w.u="POST"),L["Content-Type"]="application/x-www-form-urlencoded",w.g.ea(w.A,w.u,w.m,L)):(w.u="GET",w.g.ea(w.A,w.u,null,L)),ai(),an(w.i,w.u,w.A,w.l,w.R,w.m)}cr.prototype.ca=function(w){w=w.target;const L=this.M;L&&Ys(w)==3?L.j():this.Y(w)},cr.prototype.Y=function(w){try{if(w==this.g)e:{const br=Ys(this.g);var L=this.g.Ba();const Co=this.g.Z();if(!(3>br)&&(br!=3||this.g&&(this.h.h||this.g.oa()||ra(this.g)))){this.J||br!=4||L==7||(L==8||0>=Co?ai(3):ai(2)),Bs(this);var j=this.g.Z();this.X=j;t:if(Ci(this)){var X=ra(this.g);w="";var Ce=X.length,Ne=Ys(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mi(this),mo(this);var Ye="";break t}this.h.i=new a.TextDecoder}for(L=0;L<Ce;L++)this.h.h=!0,w+=this.h.i.decode(X[L],{stream:!(Ne&&L==Ce-1)});X.length=0,this.h.g+=w,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=j==200,Rr(this.i,this.u,this.A,this.l,this.R,br,j),this.o){if(this.T&&!this.K){t:{if(this.g){var kt,wn=this.g;if((kt=wn.g?wn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(kt)){var Pt=kt;break t}}Pt=null}if(j=Pt)Ui(this.i,this.l,j,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Es(this,j);else{this.o=!1,this.s=3,mn(12),Mi(this),mo(this);break e}}if(this.P){j=!0;let xi;for(;!this.J&&this.C<Ye.length;)if(xi=fl(this,Ye),xi==Or){br==4&&(this.s=4,mn(14),j=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(xi==po){this.s=4,mn(15),Ui(this.i,this.l,Ye,"[Invalid Chunk]"),j=!1;break}else Ui(this.i,this.l,xi,null),Es(this,xi);if(Ci(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),br!=4||Ye.length!=0||this.h.h||(this.s=1,mn(16),j=!1),this.o=this.o&&j,!j)Ui(this.i,this.l,Ye,"[Invalid Chunked Response]"),Mi(this),mo(this);else if(0<Ye.length&&!this.W){this.W=!0;var kn=this.j;kn.g==this&&kn.ba&&!kn.M&&(kn.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),du(kn),kn.M=!0,mn(11))}}else Ui(this.i,this.l,Ye,null),Es(this,Ye);br==4&&Mi(this),this.o&&!this.J&&(br==4?kA(this.j,this):(this.o=!1,Jo(this)))}else Xs(this.g),j==400&&0<Ye.indexOf("Unknown SID")?(this.s=3,mn(12)):(this.s=0,mn(13)),Mi(this),mo(this)}}}catch{}finally{}};function Ci(w){return w.g?w.u=="GET"&&w.L!=2&&w.j.Ca:!1}function fl(w,L){var j=w.C,X=L.indexOf(`
`,j);return X==-1?Or:(j=Number(L.substring(j,X)),isNaN(j)?po:(X+=1,X+j>L.length?Or:(L=L.slice(X,X+j),w.C=X+j,L)))}cr.prototype.cancel=function(){this.J=!0,Mi(this)};function Jo(w){w.S=Date.now()+w.I,Yr(w,w.I)}function Yr(w,L){if(w.B!=null)throw Error("WatchDog timer not null");w.B=tr(h(w.ba,w),L)}function Bs(w){w.B&&(a.clearTimeout(w.B),w.B=null)}cr.prototype.ba=function(){this.B=null;const w=Date.now();0<=w-this.S?(li(this.i,this.A),this.L!=2&&(ai(),mn(17)),Mi(this),this.s=2,mo(this)):Yr(this,this.S-w)};function mo(w){w.j.G==0||w.J||kA(w.j,w)}function Mi(w){Bs(w);var L=w.M;L&&typeof L.ma=="function"&&L.ma(),w.M=null,mt(w.U),w.g&&(L=w.g,w.g=null,L.abort(),L.ma())}function Es(w,L){try{var j=w.j;if(j.G!=0&&(j.g==w||Fn(j.h,w))){if(!w.K&&Fn(j.h,w)&&j.G==3){try{var X=j.Da.g.parse(L)}catch{X=null}if(Array.isArray(X)&&X.length==3){var Ce=X;if(Ce[0]==0){e:if(!j.u){if(j.g)if(j.g.F+3e3<w.F)_o(j),sa(j);else break e;FA(j),mn(18)}}else j.za=Ce[1],0<j.za-j.T&&37500>Ce[2]&&j.F&&j.v==0&&!j.C&&(j.C=tr(h(j.Za,j),6e3));if(1>=pl(j.h)&&j.ca){try{j.ca()}catch{}j.ca=void 0}}else Js(j,11)}else if((w.K||j.g==w)&&_o(j),!v(L))for(Ce=j.Da.g.parse(L),L=0;L<Ce.length;L++){let Pt=Ce[L];if(j.T=Pt[0],Pt=Pt[1],j.G==2)if(Pt[0]=="c"){j.K=Pt[1],j.ia=Pt[2];const kn=Pt[3];kn!=null&&(j.la=kn,j.j.info("VER="+j.la));const br=Pt[4];br!=null&&(j.Aa=br,j.j.info("SVER="+j.Aa));const Co=Pt[5];Co!=null&&typeof Co=="number"&&0<Co&&(X=1.5*Co,j.L=X,j.j.info("backChannelRequestTimeoutMs_="+X)),X=j;const xi=w.g;if(xi){const aa=xi.g?xi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Ne=X.h;Ne.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Ne.j=Ne.l,Ne.g=new Set,Ne.h&&(Da(Ne,Ne.h),Ne.h=null))}if(X.D){const _l=xi.g?xi.g.getResponseHeader("X-HTTP-Session-Id"):null;_l&&(X.ya=_l,vn(X.I,X.D,_l))}}j.G=3,j.l&&j.l.ua(),j.ba&&(j.R=Date.now()-w.F,j.j.info("Handshake RTT: "+j.R+"ms")),X=j;var Ye=w;if(X.qa=H(X,X.J?X.ia:null,X.W),Ye.K){gl(X.h,Ye);var kt=Ye,wn=X.L;wn&&(kt.I=wn),kt.B&&(Bs(kt),Jo(kt)),X.g=Ye}else NA(X);0<j.i.length&&Ua(j)}else Pt[0]!="stop"&&Pt[0]!="close"||Js(j,7);else j.G==3&&(Pt[0]=="stop"||Pt[0]=="close"?Pt[0]=="stop"?Js(j,7):cu(j):Pt[0]!="noop"&&j.l&&j.l.ta(Pt),j.v=0)}}ai(4)}catch{}}var wA=class{constructor(w,L){this.g=w,this.map=L}};function bA(w){this.l=w||10,a.PerformanceNavigationTiming?(w=a.performance.getEntriesByType("navigation"),w=0<w.length&&(w[0].nextHopProtocol=="hq"||w[0].nextHopProtocol=="h2")):w=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=w?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zo(w){return w.h?!0:w.g?w.g.size>=w.j:!1}function pl(w){return w.h?1:w.g?w.g.size:0}function Fn(w,L){return w.h?w.h==L:w.g?w.g.has(L):!1}function Da(w,L){w.g?w.g.add(L):w.h=L}function gl(w,L){w.h&&w.h==L?w.h=null:w.g&&w.g.has(L)&&w.g.delete(L)}bA.prototype.cancel=function(){if(this.i=ml(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const w of this.g.values())w.cancel();this.g.clear()}};function ml(w){if(w.h!=null)return w.i.concat(w.h.D);if(w.g!=null&&w.g.size!==0){let L=w.i;for(const j of w.g.values())L=L.concat(j.D);return L}return f(w.i)}function vl(w){if(w.V&&typeof w.V=="function")return w.V();if(typeof Map<"u"&&w instanceof Map||typeof Set<"u"&&w instanceof Set)return Array.from(w.values());if(typeof w=="string")return w.split("");if(l(w)){for(var L=[],j=w.length,X=0;X<j;X++)L.push(w[X]);return L}L=[],j=0;for(X in w)L[j++]=w[X];return L}function $t(w){if(w.na&&typeof w.na=="function")return w.na();if(!w.V||typeof w.V!="function"){if(typeof Map<"u"&&w instanceof Map)return Array.from(w.keys());if(!(typeof Set<"u"&&w instanceof Set)){if(l(w)||typeof w=="string"){var L=[];w=w.length;for(var j=0;j<w;j++)L.push(j);return L}L=[],j=0;for(const X in w)L[j++]=X;return L}}}function Ft(w,L){if(w.forEach&&typeof w.forEach=="function")w.forEach(L,void 0);else if(l(w)||typeof w=="string")Array.prototype.forEach.call(w,L,void 0);else for(var j=$t(w),X=vl(w),Ce=X.length,Ne=0;Ne<Ce;Ne++)L.call(void 0,X[Ne],j&&j[Ne],w)}var Wt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ot(w,L){if(w){w=w.split("&");for(var j=0;j<w.length;j++){var X=w[j].indexOf("="),Ce=null;if(0<=X){var Ne=w[j].substring(0,X);Ce=w[j].substring(X+1)}else Ne=w[j];L(Ne,Ce?decodeURIComponent(Ce.replace(/\+/g," ")):"")}}}function Zt(w){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,w instanceof Zt){this.h=w.h,us(this,w.j),this.o=w.o,this.g=w.g,yl(this,w.s),this.l=w.l;var L=w.i,j=new ur;j.i=L.i,L.g&&(j.g=new Map(L.g),j.h=L.h),Hh(this,j),this.m=w.m}else w&&(L=String(w).match(Wt))?(this.h=!1,us(this,L[1]||"",!0),this.o=ea(L[2]||""),this.g=ea(L[3]||"",!0),yl(this,L[4]),this.l=ea(L[5]||"",!0),Hh(this,L[6]||"",!0),this.m=ea(L[7]||"")):(this.h=!1,this.i=new ur(null,this.h))}Zt.prototype.toString=function(){var w=[],L=this.j;L&&w.push(wl(L,Vh,!0),":");var j=this.g;return(j||L=="file")&&(w.push("//"),(L=this.o)&&w.push(wl(L,Vh,!0),"@"),w.push(encodeURIComponent(String(j)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),j=this.s,j!=null&&w.push(":",String(j))),(j=this.l)&&(this.g&&j.charAt(0)!="/"&&w.push("/"),w.push(wl(j,j.charAt(0)=="/"?CA:ta,!0))),(j=this.i.toString())&&w.push("?",j),(j=this.m)&&w.push("#",wl(j,$h)),w.join("")};function Mr(w){return new Zt(w)}function us(w,L,j){w.j=j?ea(L,!0):L,w.j&&(w.j=w.j.replace(/:$/,""))}function yl(w,L){if(L){if(L=Number(L),isNaN(L)||0>L)throw Error("Bad port number "+L);w.s=L}else w.s=null}function Hh(w,L,j){L instanceof ur?(w.i=L,yo(w.i,w.h)):(j||(L=wl(L,xA)),w.i=new ur(L,w.h))}function vn(w,L,j){w.i.set(L,j)}function _A(w){return vn(w,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),w}function ea(w,L){return w?L?decodeURI(w.replace(/%25/g,"%2525")):decodeURIComponent(w):""}function wl(w,L,j){return typeof w=="string"?(w=encodeURI(w).replace(L,Ep),j&&(w=w.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w):null}function Ep(w){return w=w.charCodeAt(0),"%"+(w>>4&15).toString(16)+(w&15).toString(16)}var Vh=/[#\/\?@]/g,ta=/[#\?:]/g,CA=/[#\?]/g,xA=/[#\?@]/g,$h=/#/g;function ur(w,L){this.h=this.g=null,this.i=w||null,this.j=!!L}function vo(w){w.g||(w.g=new Map,w.h=0,w.i&&Ot(w.i,function(L,j){w.add(decodeURIComponent(L.replace(/\+/g," ")),j)}))}t=ur.prototype,t.add=function(w,L){vo(this),this.i=null,w=La(this,w);var j=this.g.get(w);return j||this.g.set(w,j=[]),j.push(L),this.h+=1,this};function su(w,L){vo(w),L=La(w,L),w.g.has(L)&&(w.i=null,w.h-=w.g.get(L).length,w.g.delete(L))}function Tt(w,L){return vo(w),L=La(w,L),w.g.has(L)}t.forEach=function(w,L){vo(this),this.g.forEach(function(j,X){j.forEach(function(Ce){w.call(L,Ce,X,this)},this)},this)},t.na=function(){vo(this);const w=Array.from(this.g.values()),L=Array.from(this.g.keys()),j=[];for(let X=0;X<L.length;X++){const Ce=w[X];for(let Ne=0;Ne<Ce.length;Ne++)j.push(L[X])}return j},t.V=function(w){vo(this);let L=[];if(typeof w=="string")Tt(this,w)&&(L=L.concat(this.g.get(La(this,w))));else{w=Array.from(this.g.values());for(let j=0;j<w.length;j++)L=L.concat(w[j])}return L},t.set=function(w,L){return vo(this),this.i=null,w=La(this,w),Tt(this,w)&&(this.h-=this.g.get(w).length),this.g.set(w,[L]),this.h+=1,this},t.get=function(w,L){return w?(w=this.V(w),0<w.length?String(w[0]):L):L};function zh(w,L,j){su(w,L),0<j.length&&(w.i=null,w.g.set(La(w,L),f(j)),w.h+=j.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const w=[],L=Array.from(this.g.keys());for(var j=0;j<L.length;j++){var X=L[j];const Ne=encodeURIComponent(String(X)),Ye=this.V(X);for(X=0;X<Ye.length;X++){var Ce=Ne;Ye[X]!==""&&(Ce+="="+encodeURIComponent(String(Ye[X]))),w.push(Ce)}}return this.i=w.join("&")};function La(w,L){return L=String(L),w.j&&(L=L.toLowerCase()),L}function yo(w,L){L&&!w.j&&(vo(w),w.i=null,w.g.forEach(function(j,X){var Ce=X.toLowerCase();X!=Ce&&(su(this,X),zh(this,Ce,j))},w)),w.j=L}function Kh(w,L){const j=new Sn;if(a.Image){const X=new Image;X.onload=d(hs,j,"TestLoadImage: loaded",!0,L,X),X.onerror=d(hs,j,"TestLoadImage: error",!1,L,X),X.onabort=d(hs,j,"TestLoadImage: abort",!1,L,X),X.ontimeout=d(hs,j,"TestLoadImage: timeout",!1,L,X),a.setTimeout(function(){X.ontimeout&&X.ontimeout()},1e4),X.src=w}else L(!1)}function Wh(w,L){const j=new Sn,X=new AbortController,Ce=setTimeout(()=>{X.abort(),hs(j,"TestPingServer: timeout",!1,L)},1e4);fetch(w,{signal:X.signal}).then(Ne=>{clearTimeout(Ce),Ne.ok?hs(j,"TestPingServer: ok",!0,L):hs(j,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Ce),hs(j,"TestPingServer: error",!1,L)})}function hs(w,L,j,X,Ce){try{Ce&&(Ce.onload=null,Ce.onerror=null,Ce.onabort=null,Ce.ontimeout=null),X(j)}catch{}}function ou(){this.g=new _t}function Sp(w,L,j){const X=j||"";try{Ft(w,function(Ce,Ne){let Ye=Ce;A(Ce)&&(Ye=ft(Ce)),L.push(X+Ne+"="+encodeURIComponent(Ye))})}catch(Ce){throw L.push(X+"type="+encodeURIComponent("_badmap")),Ce}}function BA(w){this.l=w.Ub||null,this.j=w.eb||!1}p(BA,Xt),BA.prototype.g=function(){return new EA(this.l,this.j)},BA.prototype.i=function(w){return function(){return w}}({});function EA(w,L){nt.call(this),this.D=w,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(EA,nt),t=EA.prototype,t.open=function(w,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=w,this.A=L,this.readyState=1,Ss(this)},t.send=function(w){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const L={headers:this.u,method:this.B,credentials:this.m,cache:void 0};w&&(L.body=w),(this.D||a).fetch(new Request(this.A,L)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qs(this)),this.readyState=0},t.Sa=function(w){if(this.g&&(this.l=w,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=w.headers,this.readyState=2,Ss(this)),this.g&&(this.readyState=3,Ss(this),this.g)))if(this.responseType==="arraybuffer")w.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in w){if(this.j=w.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;SA(this)}else w.text().then(this.Ra.bind(this),this.ga.bind(this))};function SA(w){w.j.read().then(w.Pa.bind(w)).catch(w.ga.bind(w))}t.Pa=function(w){if(this.g){if(this.o&&w.value)this.response.push(w.value);else if(!this.o){var L=w.value?w.value:new Uint8Array(0);(L=this.v.decode(L,{stream:!w.done}))&&(this.response=this.responseText+=L)}w.done?qs(this):Ss(this),this.readyState==3&&SA(this)}},t.Ra=function(w){this.g&&(this.response=this.responseText=w,qs(this))},t.Qa=function(w){this.g&&(this.response=w,qs(this))},t.ga=function(){this.g&&qs(this)};function qs(w){w.readyState=4,w.l=null,w.j=null,w.v=null,Ss(w)}t.setRequestHeader=function(w,L){this.u.append(w,L)},t.getResponseHeader=function(w){return this.h&&this.h.get(w.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const w=[],L=this.h.entries();for(var j=L.next();!j.done;)j=j.value,w.push(j[0]+": "+j[1]),j=L.next();return w.join(`\r
`)};function Ss(w){w.onreadystatechange&&w.onreadystatechange.call(w)}Object.defineProperty(EA.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(w){this.m=w?"include":"same-origin"}});function Gh(w){let L="";return O(w,function(j,X){L+=X,L+=":",L+=j,L+=`\r
`}),L}function na(w,L,j){e:{for(X in j){var X=!1;break e}X=!0}X||(j=Gh(j),typeof w=="string"?j!=null&&encodeURIComponent(String(j)):vn(w,L,j))}function Tn(w){nt.call(this),this.headers=new Map,this.o=w||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(Tn,nt);var TA=/^https?$/i,qh=["POST","PUT"];t=Tn.prototype,t.Ha=function(w){this.J=w},t.ea=function(w,L,j,X){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+w);L=L?L.toUpperCase():"GET",this.D=w,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gr.g(),this.v=this.o?Vt(this.o):Vt(Gr),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(L,String(w),!0),this.B=!1}catch(Ne){au(this,Ne);return}if(w=j||"",j=new Map(this.headers),X)if(Object.getPrototypeOf(X)===Object.prototype)for(var Ce in X)j.set(Ce,X[Ce]);else if(typeof X.keys=="function"&&typeof X.get=="function")for(const Ne of X.keys())j.set(Ne,X.get(Ne));else throw Error("Unknown input type for opt_headers: "+String(X));X=Array.from(j.keys()).find(Ne=>Ne.toLowerCase()=="content-type"),Ce=a.FormData&&w instanceof a.FormData,!(0<=Array.prototype.indexOf.call(qh,L,void 0))||X||Ce||j.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ne,Ye]of j)this.g.setRequestHeader(Ne,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{wo(this),this.u=!0,this.g.send(w),this.u=!1}catch(Ne){au(this,Ne)}};function au(w,L){w.h=!1,w.g&&(w.j=!0,w.g.abort(),w.j=!1),w.l=L,w.m=5,lu(w),ds(w)}function lu(w){w.A||(w.A=!0,Ze(w,"complete"),Ze(w,"error"))}t.abort=function(w){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=w||7,Ze(this,"complete"),Ze(this,"abort"),ds(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ds(this,!0)),Tn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Au(this):this.bb())},t.bb=function(){Au(this)};function Au(w){if(w.h&&typeof o<"u"&&(!w.v[1]||Ys(w)!=4||w.Z()!=2)){if(w.u&&Ys(w)==4)Le(w.Ea,0,w);else if(Ze(w,"readystatechange"),Ys(w)==4){w.h=!1;try{const Ye=w.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var j;if(!(j=L)){var X;if(X=Ye===0){var Ce=String(w.D).match(Wt)[1]||null;!Ce&&a.self&&a.self.location&&(Ce=a.self.location.protocol.slice(0,-1)),X=!TA.test(Ce?Ce.toLowerCase():"")}j=X}if(j)Ze(w,"complete"),Ze(w,"success");else{w.m=6;try{var Ne=2<Ys(w)?w.g.statusText:""}catch{Ne=""}w.l=Ne+" ["+w.Z()+"]",lu(w)}}finally{ds(w)}}}}function ds(w,L){if(w.g){wo(w);const j=w.g,X=w.v[0]?()=>{}:null;w.g=null,w.v=null,L||Ze(w,"ready");try{j.onreadystatechange=X}catch{}}}function wo(w){w.I&&(a.clearTimeout(w.I),w.I=null)}t.isActive=function(){return!!this.g};function Ys(w){return w.g?w.g.readyState:0}t.Z=function(){try{return 2<Ys(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(w){if(this.g){var L=this.g.responseText;return w&&L.indexOf(w)==0&&(L=L.substring(w.length)),Ht(L)}};function ra(w){try{if(!w.g)return null;if("response"in w.g)return w.g.response;switch(w.H){case"":case"text":return w.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in w.g)return w.g.mozResponseArrayBuffer}return null}catch{return null}}function Xs(w){const L={};w=(w.g&&2<=Ys(w)&&w.g.getAllResponseHeaders()||"").split(`\r
`);for(let X=0;X<w.length;X++){if(v(w[X]))continue;var j=D(w[X]);const Ce=j[0];if(j=j[1],typeof j!="string")continue;j=j.trim();const Ne=L[Ce]||[];L[Ce]=Ne,Ne.push(j)}I(L,function(X){return X.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ia(w,L,j){return j&&j.internalChannelParams&&j.internalChannelParams[w]||L}function Ra(w){this.Aa=0,this.i=[],this.j=new Sn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ia("failFast",!1,w),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ia("baseRetryDelayMs",5e3,w),this.cb=ia("retryDelaySeedMs",1e4,w),this.Wa=ia("forwardChannelMaxRetries",2,w),this.wa=ia("forwardChannelRequestTimeoutMs",2e4,w),this.pa=w&&w.xmlHttpFactory||void 0,this.Xa=w&&w.Tb||void 0,this.Ca=w&&w.useFetchStreams||!1,this.L=void 0,this.J=w&&w.supportsCrossDomainXhr||!1,this.K="",this.h=new bA(w&&w.concurrentRequestLimit),this.Da=new ou,this.P=w&&w.fastHandshake||!1,this.O=w&&w.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=w&&w.Rb||!1,w&&w.xa&&this.j.xa(),w&&w.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&w&&w.detectBufferingProxy||!1,this.ja=void 0,w&&w.longPollingTimeout&&0<w.longPollingTimeout&&(this.ja=w.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ra.prototype,t.la=8,t.G=1,t.connect=function(w,L,j,X){mn(0),this.W=w,this.H=L||{},j&&X!==void 0&&(this.H.OSID=j,this.H.OAID=X),this.F=this.X,this.I=H(this,null,this.W),Ua(this)};function cu(w){if(Yh(w),w.G==3){var L=w.U++,j=Mr(w.I);if(vn(j,"SID",w.K),vn(j,"RID",L),vn(j,"TYPE","terminate"),bo(w,j),L=new cr(w,w.j,L),L.L=2,L.v=_A(Mr(j)),j=!1,a.navigator&&a.navigator.sendBeacon)try{j=a.navigator.sendBeacon(L.v.toString(),"")}catch{}!j&&a.Image&&(new Image().src=L.v,j=!0),j||(L.g=de(L.j,null),L.g.ea(L.v)),L.F=Date.now(),Jo(L)}S(w)}function sa(w){w.g&&(du(w),w.g.cancel(),w.g=null)}function Yh(w){sa(w),w.u&&(a.clearTimeout(w.u),w.u=null),_o(w),w.h.cancel(),w.s&&(typeof w.s=="number"&&a.clearTimeout(w.s),w.s=null)}function Ua(w){if(!Zo(w.h)&&!w.s){w.s=!0;var L=w.Ga;ie||ue(),ne||(ie(),ne=!0),se.add(L,w),w.B=0}}function uu(w,L){return pl(w.h)>=w.h.j-(w.s?1:0)?!1:w.s?(w.i=L.D.concat(w.i),!0):w.G==1||w.G==2||w.B>=(w.Va?0:w.Wa)?!1:(w.s=tr(h(w.Ga,w,L),oa(w,w.B)),w.B++,!0)}t.Ga=function(w){if(this.s)if(this.s=null,this.G==1){if(!w){this.U=Math.floor(1e5*Math.random()),w=this.U++;const Ce=new cr(this,this.j,w);let Ne=this.o;if(this.S&&(Ne?(Ne=B(Ne),R(Ne,this.S)):Ne=this.S),this.m!==null||this.O||(Ce.H=Ne,Ne=null),this.P)e:{for(var L=0,j=0;j<this.i.length;j++){t:{var X=this.i[j];if("__data__"in X.map&&(X=X.map.__data__,typeof X=="string")){X=X.length;break t}X=void 0}if(X===void 0)break;if(L+=X,4096<L){L=j;break e}if(L===4096||j===this.i.length-1){L=j+1;break e}}L=1e3}else L=1e3;L=IA(this,Ce,L),j=Mr(this.I),vn(j,"RID",w),vn(j,"CVER",22),this.D&&vn(j,"X-HTTP-Session-Id",this.D),bo(this,j),Ne&&(this.O?L="headers="+encodeURIComponent(String(Gh(Ne)))+"&"+L:this.m&&na(j,this.m,Ne)),Da(this.h,Ce),this.Ua&&vn(j,"TYPE","init"),this.P?(vn(j,"$req",L),vn(j,"SID","null"),Ce.T=!0,_i(Ce,j,null)):_i(Ce,j,L),this.G=2}}else this.G==3&&(w?hu(this,w):this.i.length==0||Zo(this.h)||hu(this))};function hu(w,L){var j;L?j=L.l:j=w.U++;const X=Mr(w.I);vn(X,"SID",w.K),vn(X,"RID",j),vn(X,"AID",w.T),bo(w,X),w.m&&w.o&&na(X,w.m,w.o),j=new cr(w,w.j,j,w.B+1),w.m===null&&(j.H=w.o),L&&(w.i=L.D.concat(w.i)),L=IA(w,j,1e3),j.I=Math.round(.5*w.wa)+Math.round(.5*w.wa*Math.random()),Da(w.h,j),_i(j,X,L)}function bo(w,L){w.H&&O(w.H,function(j,X){vn(L,X,j)}),w.l&&Ft({},function(j,X){vn(L,X,j)})}function IA(w,L,j){j=Math.min(w.i.length,j);var X=w.l?h(w.l.Na,w.l,w):null;e:{var Ce=w.i;let Ne=-1;for(;;){const Ye=["count="+j];Ne==-1?0<j?(Ne=Ce[0].g,Ye.push("ofs="+Ne)):Ne=0:Ye.push("ofs="+Ne);let kt=!0;for(let wn=0;wn<j;wn++){let Pt=Ce[wn].g;const kn=Ce[wn].map;if(Pt-=Ne,0>Pt)Ne=Math.max(0,Ce[wn].g-100),kt=!1;else try{Sp(kn,Ye,"req"+Pt+"_")}catch{X&&X(kn)}}if(kt){X=Ye.join("&");break e}}}return w=w.i.splice(0,j),L.D=w,X}function NA(w){if(!w.g&&!w.u){w.Y=1;var L=w.Fa;ie||ue(),ne||(ie(),ne=!0),se.add(L,w),w.v=0}}function FA(w){return w.g||w.u||3<=w.v?!1:(w.Y++,w.u=tr(h(w.Fa,w),oa(w,w.v)),w.v++,!0)}t.Fa=function(){if(this.u=null,bl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var w=2*this.R;this.j.info("BP detection timer enabled: "+w),this.A=tr(h(this.ab,this),w)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mn(10),sa(this),bl(this))};function du(w){w.A!=null&&(a.clearTimeout(w.A),w.A=null)}function bl(w){w.g=new cr(w,w.j,"rpc",w.Y),w.m===null&&(w.g.H=w.o),w.g.O=0;var L=Mr(w.qa);vn(L,"RID","rpc"),vn(L,"SID",w.K),vn(L,"AID",w.T),vn(L,"CI",w.F?"0":"1"),!w.F&&w.ja&&vn(L,"TO",w.ja),vn(L,"TYPE","xmlhttp"),bo(w,L),w.m&&w.o&&na(L,w.m,w.o),w.L&&(w.g.I=w.L);var j=w.g;w=w.ia,j.L=1,j.v=_A(Mr(L)),j.m=null,j.P=!0,go(j,w)}t.Za=function(){this.C!=null&&(this.C=null,sa(this),FA(this),mn(19))};function _o(w){w.C!=null&&(a.clearTimeout(w.C),w.C=null)}function kA(w,L){var j=null;if(w.g==L){_o(w),du(w),w.g=null;var X=2}else if(Fn(w.h,L))j=L.D,gl(w.h,L),X=1;else return;if(w.G!=0){if(L.o)if(X==1){j=L.m?L.m.length:0,L=Date.now()-L.F;var Ce=w.B;X=zn(),Ze(X,new As(X,j)),Ua(w)}else NA(w);else if(Ce=L.s,Ce==3||Ce==0&&0<L.X||!(X==1&&uu(w,L)||X==2&&FA(w)))switch(j&&0<j.length&&(L=w.h,L.i=L.i.concat(j)),Ce){case 1:Js(w,5);break;case 4:Js(w,10);break;case 3:Js(w,6);break;default:Js(w,2)}}}function oa(w,L){let j=w.Ta+Math.floor(Math.random()*w.cb);return w.isActive()||(j*=2),j*L}function Js(w,L){if(w.j.info("Error code "+L),L==2){var j=h(w.fb,w),X=w.Xa;const Ce=!X;X=new Zt(X||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||us(X,"https"),_A(X),Ce?Kh(X.toString(),j):Wh(X.toString(),j)}else mn(2);w.G=0,w.l&&w.l.sa(L),S(w),Yh(w)}t.fb=function(w){w?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function S(w){if(w.G=0,w.ka=[],w.l){const L=ml(w.h);(L.length!=0||w.i.length!=0)&&(b(w.ka,L),b(w.ka,w.i),w.h.i.length=0,f(w.i),w.i.length=0),w.l.ra()}}function H(w,L,j){var X=j instanceof Zt?Mr(j):new Zt(j);if(X.g!="")L&&(X.g=L+"."+X.g),yl(X,X.s);else{var Ce=a.location;X=Ce.protocol,L=L?L+"."+Ce.hostname:Ce.hostname,Ce=+Ce.port;var Ne=new Zt(null);X&&us(Ne,X),L&&(Ne.g=L),Ce&&yl(Ne,Ce),j&&(Ne.l=j),X=Ne}return j=w.D,L=w.ya,j&&L&&vn(X,j,L),vn(X,"VER",w.la),bo(w,X),X}function de(w,L,j){if(L&&!w.J)throw Error("Can't create secondary domain capable XhrIo object.");return L=w.Ca&&!w.pa?new Tn(new BA({eb:j})):new Tn(w.pa),L.Ha(w.J),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ve(){}t=ve.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Te(){}Te.prototype.g=function(w,L){return new Re(w,L)};function Re(w,L){nt.call(this),this.g=new Ra(L),this.l=w,this.h=L&&L.messageUrlParams||null,w=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(w?w["X-Client-Protocol"]="webchannel":w={"X-Client-Protocol":"webchannel"}),this.g.o=w,w=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(w?w["X-WebChannel-Content-Type"]=L.messageContentType:w={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.va&&(w?w["X-WebChannel-Client-Profile"]=L.va:w={"X-WebChannel-Client-Profile":L.va}),this.g.S=w,(w=L&&L.Sb)&&!v(w)&&(this.g.m=w),this.v=L&&L.supportsCrossDomainXhr||!1,this.u=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!v(L)&&(this.g.D=L,w=this.h,w!==null&&L in w&&(w=this.h,L in w&&delete w[L])),this.j=new pt(this)}p(Re,nt),Re.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Re.prototype.close=function(){cu(this.g)},Re.prototype.o=function(w){var L=this.g;if(typeof w=="string"){var j={};j.__data__=w,w=j}else this.u&&(j={},j.__data__=ft(w),w=j);L.i.push(new wA(L.Ya++,w)),L.G==3&&Ua(L)},Re.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,Re.aa.N.call(this)};function We(w){Kt.call(this),w.__headers__&&(this.headers=w.__headers__,this.statusCode=w.__status__,delete w.__headers__,delete w.__status__);var L=w.__sm__;if(L){e:{for(const j in L){w=j;break e}w=void 0}(this.i=w)&&(w=this.i,L=L!==null&&w in L?L[w]:void 0),this.data=L}else this.data=w}p(We,Kt);function ot(){Ct.call(this),this.status=1}p(ot,Ct);function pt(w){this.g=w}p(pt,ve),pt.prototype.ua=function(){Ze(this.g,"a")},pt.prototype.ta=function(w){Ze(this.g,new We(w))},pt.prototype.sa=function(w){Ze(this.g,new ot)},pt.prototype.ra=function(){Ze(this.g,"b")},Te.prototype.createWebChannel=Te.prototype.g,Re.prototype.send=Re.prototype.o,Re.prototype.open=Re.prototype.m,Re.prototype.close=Re.prototype.close,r6=function(){return new Te},n6=function(){return zn()},t6=jt,$B={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ur.NO_ERROR=0,Ur.TIMEOUT=8,Ur.HTTP_ERROR=6,l1=Ur,bi.COMPLETE="complete",e6=bi,Jt.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",nt.prototype.listen=nt.prototype.K,wg=Jt,Tn.prototype.listenOnce=Tn.prototype.L,Tn.prototype.getLastError=Tn.prototype.Ka,Tn.prototype.getLastErrorCode=Tn.prototype.Ba,Tn.prototype.getStatus=Tn.prototype.Z,Tn.prototype.getResponseJson=Tn.prototype.Oa,Tn.prototype.getResponseText=Tn.prototype.oa,Tn.prototype.send=Tn.prototype.ea,Tn.prototype.setWithCredentials=Tn.prototype.Ha,ZQ=Tn}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});const uk="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yi=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let op="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Sv("@firebase/firestore");function qp(){return Ah.logLevel}function gt(t,...e){if(Ah.logLevel<=nn.DEBUG){const n=e.map(tT);Ah.debug(`Firestore (${op}): ${t}`,...n)}}function sA(t,...e){if(Ah.logLevel<=nn.ERROR){const n=e.map(tT);Ah.error(`Firestore (${op}): ${t}`,...n)}}function kf(t,...e){if(Ah.logLevel<=nn.WARN){const n=e.map(tT);Ah.warn(`Firestore (${op}): ${t}`,...n)}}function tT(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t="Unexpected state"){const e=`FIRESTORE (${op}) INTERNAL ASSERTION FAILED: `+t;throw sA(e),new Error(e)}function Bn(t,e){t||Dt()}function Ut(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class yt extends Na{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class uee{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Yi.UNAUTHENTICATED))}shutdown(){}}class hee{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class dee{constructor(e){this.t=e,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Bn(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Tc;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Tc,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Tc)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Bn(typeof r.accessToken=="string"),new i6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Bn(e===null||typeof e=="string"),new Yi(e)}}class fee{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class pee{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new fee(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gee{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mee{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Bn(this.o===void 0);const r=s=>{s.error!=null&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,gt("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Bn(typeof n.token=="string"),this.R=n.token,new gee(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vee(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=vee(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function un(t,e){return t<e?-1:t>e?1:0}function Pf(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new yt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new yt(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new yt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new yt(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ii.fromMillis(Date.now())}static fromDate(e){return ii.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ii(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?un(this.nanoseconds,e.nanoseconds):un(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Rt(e)}static min(){return new Rt(new ii(0,0))}static max(){return new Rt(new ii(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n,r){n===void 0?n=0:n>e.length&&Dt(),r===void 0?r=e.length-n:r>e.length-n&&Dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rm.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rm?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class gr extends Rm{construct(e,n,r){return new gr(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new yt(Xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new gr(n)}static emptyPath(){return new gr([])}}const yee=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ii extends Rm{construct(e,n,r){return new Ii(e,n,r)}static isValidIdentifier(e){return yee.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ii.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ii(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new yt(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new yt(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new yt(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new yt(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ii(n)}static emptyPath(){return new Ii([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.path=e}static fromPath(e){return new xt(gr.fromString(e))}static fromName(e){return new xt(gr.fromString(e).popFirst(5))}static empty(){return new xt(gr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&gr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return gr.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xt(new gr(e.slice()))}}function wee(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Rt.fromTimestamp(r===1e9?new ii(n+1,0):new ii(n,r));return new Oc(i,xt.empty(),e)}function bee(t){return new Oc(t.readTime,t.key,-1)}class Oc{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oc(Rt.min(),xt.empty(),-1)}static max(){return new Oc(Rt.max(),xt.empty(),-1)}}function _ee(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=xt.comparator(t.documentKey,e.documentKey),n!==0?n:un(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cee="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xee{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(t){if(t.code!==Xe.FAILED_PRECONDITION||t.message!==Cee)throw t;gt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new qe((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof qe?n:qe.resolve(n)}catch(n){return qe.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):qe.reject(n)}static resolve(e){return new qe((n,r)=>{n(e)})}static reject(e){return new qe((n,r)=>{r(e)})}static waitFor(e){return new qe((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=qe.resolve(!1);for(const r of e)n=n.next(i=>i?qe.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new qe((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const A=l;n(e[A]).next(c=>{o[A]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new qe((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function Bee(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}nT.oe=-1;function G2(t){return t==null}function uw(t){return t===0&&1/t==-1/0}function Eee(t){return typeof t=="number"&&Number.isInteger(t)&&!uw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hk(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ap(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function o6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wr=class zB{constructor(e,n){this.comparator=e,this.root=n||Ic.EMPTY}insert(e,n){return new zB(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ic.BLACK,null,null))}remove(e){return new zB(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ic.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Z0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Z0(this.root,e,this.comparator,!1)}getReverseIterator(){return new Z0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Z0(this.root,e,this.comparator,!0)}},Z0=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ic=class Dl{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Dl.RED,this.left=i??Dl.EMPTY,this.right=s??Dl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Dl(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Dl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Dl.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Dl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Dl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}};Ic.EMPTY=null,Ic.RED=!0,Ic.BLACK=!1;Ic.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ic(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this.comparator=e,this.data=new Wr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new dk(this.data.getIterator())}getIteratorFrom(e){return new dk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ki)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ki(this.comparator);return n.data=e,n}}class dk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.fields=e,e.sort(Ii.comparator)}static empty(){return new ya([])}unionWith(e){let n=new ki(Ii.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new ya(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Pf(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new a6("Invalid base64 string: "+s):s}}(e);return new Di(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Di(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return un(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Di.EMPTY_BYTE_STRING=new Di("");const See=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mc(t){if(Bn(!!t),typeof t=="string"){let e=0;const n=See.exec(t);if(Bn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Er(t.seconds),nanos:Er(t.nanos)}}function Er(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ch(t){return typeof t=="string"?Di.fromBase64String(t):Di.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rT(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iT(t){const e=t.mapValue.fields.__previous_value__;return rT(e)?iT(e):e}function Um(t){const e=Mc(t.mapValue.fields.__local_write_time__.timestampValue);return new ii(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tee{constructor(e,n,r,i,s,o,a,l,A){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=A}}class Om{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Om("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Om&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function uh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?rT(t)?4:Nee(t)?9007199254740991:Iee(t)?10:11:Dt()}function al(t,e){if(t===e)return!0;const n=uh(t);if(n!==uh(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Um(t).isEqual(Um(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Mc(i.timestampValue),a=Mc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ch(i.bytesValue).isEqual(ch(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Er(i.geoPointValue.latitude)===Er(s.geoPointValue.latitude)&&Er(i.geoPointValue.longitude)===Er(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Er(i.integerValue)===Er(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Er(i.doubleValue),a=Er(s.doubleValue);return o===a?uw(o)===uw(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Pf(t.arrayValue.values||[],e.arrayValue.values||[],al);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(hk(o)!==hk(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!al(o[l],a[l])))return!1;return!0}(t,e);default:return Dt()}}function Mm(t,e){return(t.values||[]).find(n=>al(n,e))!==void 0}function Df(t,e){if(t===e)return 0;const n=uh(t),r=uh(e);if(n!==r)return un(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return un(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Er(s.integerValue||s.doubleValue),l=Er(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return fk(t.timestampValue,e.timestampValue);case 4:return fk(Um(t),Um(e));case 5:return un(t.stringValue,e.stringValue);case 6:return function(s,o){const a=ch(s),l=ch(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let A=0;A<a.length&&A<l.length;A++){const c=un(a[A],l[A]);if(c!==0)return c}return un(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=un(Er(s.latitude),Er(o.latitude));return a!==0?a:un(Er(s.longitude),Er(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return pk(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,A,c;const u=s.fields||{},h=o.fields||{},d=(a=u.value)===null||a===void 0?void 0:a.arrayValue,p=(l=h.value)===null||l===void 0?void 0:l.arrayValue,f=un(((A=d==null?void 0:d.values)===null||A===void 0?void 0:A.length)||0,((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0);return f!==0?f:pk(d,p)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===ey.mapValue&&o===ey.mapValue)return 0;if(s===ey.mapValue)return 1;if(o===ey.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),A=o.fields||{},c=Object.keys(A);l.sort(),c.sort();for(let u=0;u<l.length&&u<c.length;++u){const h=un(l[u],c[u]);if(h!==0)return h;const d=Df(a[l[u]],A[c[u]]);if(d!==0)return d}return un(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Dt()}}function fk(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return un(t,e);const n=Mc(t),r=Mc(e),i=un(n.seconds,r.seconds);return i!==0?i:un(n.nanos,r.nanos)}function pk(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Df(n[i],r[i]);if(s)return s}return un(n.length,r.length)}function Lf(t){return KB(t)}function KB(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mc(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ch(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return xt.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=KB(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${KB(n.fields[o])}`;return i+"}"}(t.mapValue):Dt()}function WB(t){return!!t&&"integerValue"in t}function sT(t){return!!t&&"arrayValue"in t}function gk(t){return!!t&&"nullValue"in t}function mk(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function A1(t){return!!t&&"mapValue"in t}function Iee(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Vg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ap(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Nee(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.value=e}static empty(){return new Qo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!A1(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vg(n)}setAll(e){let n=Ii.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Vg(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());A1(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return al(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];A1(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ap(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Qo(Vg(this.value))}}function l6(t){const e=[];return ap(t.fields,(n,r)=>{const i=new Ii([n]);if(A1(r)){const s=l6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new ya(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Zi(e,0,Rt.min(),Rt.min(),Rt.min(),Qo.empty(),0)}static newFoundDocument(e,n,r,i){return new Zi(e,1,n,Rt.min(),r,i,0)}static newNoDocument(e,n){return new Zi(e,2,n,Rt.min(),Rt.min(),Qo.empty(),0)}static newUnknownDocument(e,n){return new Zi(e,3,n,Rt.min(),Rt.min(),Qo.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,n){this.position=e,this.inclusive=n}}function vk(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=xt.comparator(xt.fromName(o.referenceValue),n.key):r=Df(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function yk(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!al(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(e,n="asc"){this.field=e,this.dir=n}}function Fee(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{}class ti extends A6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Pee(e,n,r):n==="array-contains"?new Ree(e,r):n==="in"?new Uee(e,r):n==="not-in"?new Oee(e,r):n==="array-contains-any"?new Mee(e,r):new ti(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Dee(e,r):new Lee(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Df(n,this.value)):n!==null&&uh(this.value)===uh(n)&&this.matchesComparison(Df(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ll extends A6{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new ll(e,n)}matches(e){return c6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function c6(t){return t.op==="and"}function u6(t){return kee(t)&&c6(t)}function kee(t){for(const e of t.filters)if(e instanceof ll)return!1;return!0}function GB(t){if(t instanceof ti)return t.field.canonicalString()+t.op.toString()+Lf(t.value);if(u6(t))return t.filters.map(e=>GB(e)).join(",");{const e=t.filters.map(n=>GB(n)).join(",");return`${t.op}(${e})`}}function h6(t,e){return t instanceof ti?function(r,i){return i instanceof ti&&r.op===i.op&&r.field.isEqual(i.field)&&al(r.value,i.value)}(t,e):t instanceof ll?function(r,i){return i instanceof ll&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&h6(o,i.filters[a]),!0):!1}(t,e):void Dt()}function d6(t){return t instanceof ti?function(n){return`${n.field.canonicalString()} ${n.op} ${Lf(n.value)}`}(t):t instanceof ll?function(n){return n.op.toString()+" {"+n.getFilters().map(d6).join(" ,")+"}"}(t):"Filter"}class Pee extends ti{constructor(e,n,r){super(e,n,r),this.key=xt.fromName(r.referenceValue)}matches(e){const n=xt.comparator(e.key,this.key);return this.matchesComparison(n)}}class Dee extends ti{constructor(e,n){super(e,"in",n),this.keys=f6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Lee extends ti{constructor(e,n){super(e,"not-in",n),this.keys=f6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function f6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>xt.fromName(r.referenceValue))}class Ree extends ti{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sT(n)&&Mm(n.arrayValue,this.value)}}class Uee extends ti{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mm(this.value.arrayValue,n)}}class Oee extends ti{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mm(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mm(this.value.arrayValue,n)}}class Mee extends ti{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sT(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mm(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qee{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function wk(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Qee(t,e,n,r,i,s,o)}function oT(t){const e=Ut(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>GB(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),G2(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Lf(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Lf(r)).join(",")),e.ue=n}return e.ue}function aT(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Fee(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!h6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!yk(t.startAt,e.startAt)&&yk(t.endAt,e.endAt)}function qB(t){return xt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function jee(t,e,n,r,i,s,o,a){return new q2(t,e,n,r,i,s,o,a)}function lT(t){return new q2(t)}function bk(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Hee(t){return t.collectionGroup!==null}function $g(t){const e=Ut(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ki(Ii.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(A=>{A.isInequality()&&(a=a.add(A.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new dw(s,r))}),n.has(Ii.keyField().canonicalString())||e.ce.push(new dw(Ii.keyField(),r))}return e.ce}function tl(t){const e=Ut(t);return e.le||(e.le=Vee(e,$g(t))),e.le}function Vee(t,e){if(t.limitType==="F")return wk(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dw(i.field,s)});const n=t.endAt?new hw(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hw(t.startAt.position,t.startAt.inclusive):null;return wk(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function YB(t,e,n){return new q2(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Y2(t,e){return aT(tl(t),tl(e))&&t.limitType===e.limitType}function p6(t){return`${oT(tl(t))}|lt:${t.limitType}`}function xd(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>d6(i)).join(", ")}]`),G2(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Lf(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Lf(i)).join(",")),`Target(${r})`}(tl(t))}; limitType=${t.limitType})`}function X2(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xt.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of $g(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const A=vk(o,a,l);return o.inclusive?A<=0:A<0}(r.startAt,$g(r),i)||r.endAt&&!function(o,a,l){const A=vk(o,a,l);return o.inclusive?A>=0:A>0}(r.endAt,$g(r),i))}(t,e)}function $ee(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function g6(t){return(e,n)=>{let r=!1;for(const i of $g(t)){const s=zee(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function zee(t,e,n){const r=t.field.isKeyField()?xt.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),A=a.data.field(s);return l!==null&&A!==null?Df(l,A):Dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ap(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return o6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kee=new Wr(xt.comparator);function oA(){return Kee}const m6=new Wr(xt.comparator);function bg(...t){let e=m6;for(const n of t)e=e.insert(n.key,n);return e}function v6(t){let e=m6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Mu(){return zg()}function y6(){return zg()}function zg(){return new lp(t=>t.toString(),(t,e)=>t.isEqual(e))}const Wee=new Wr(xt.comparator),Gee=new ki(xt.comparator);function rn(...t){let e=Gee;for(const n of t)e=e.add(n);return e}const qee=new ki(un);function Yee(){return qee}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uw(e)?"-0":e}}function w6(t){return{integerValue:""+t}}function Xee(t,e){return Eee(e)?w6(e):AT(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this._=void 0}}function Jee(t,e,n){return t instanceof Qm?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&rT(s)&&(s=iT(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof jm?_6(t,e):t instanceof Hm?C6(t,e):function(i,s){const o=b6(i,s),a=_k(o)+_k(i.Pe);return WB(o)&&WB(i.Pe)?w6(a):AT(i.serializer,a)}(t,e)}function Zee(t,e,n){return t instanceof jm?_6(t,e):t instanceof Hm?C6(t,e):n}function b6(t,e){return t instanceof fw?function(r){return WB(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Qm extends J2{}class jm extends J2{constructor(e){super(),this.elements=e}}function _6(t,e){const n=x6(e);for(const r of t.elements)n.some(i=>al(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hm extends J2{constructor(e){super(),this.elements=e}}function C6(t,e){let n=x6(e);for(const r of t.elements)n=n.filter(i=>!al(i,r));return{arrayValue:{values:n}}}class fw extends J2{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function _k(t){return Er(t.integerValue||t.doubleValue)}function x6(t){return sT(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ete{constructor(e,n){this.field=e,this.transform=n}}function tte(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof jm&&i instanceof jm||r instanceof Hm&&i instanceof Hm?Pf(r.elements,i.elements,al):r instanceof fw&&i instanceof fw?al(r.Pe,i.Pe):r instanceof Qm&&i instanceof Qm}(t.transform,e.transform)}class nte{constructor(e,n){this.version=e,this.transformResults=n}}class Wl{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wl}static exists(e){return new Wl(void 0,e)}static updateTime(e){return new Wl(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c1(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Z2{}function B6(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new S6(t.key,Wl.none()):new Dv(t.key,t.data,Wl.none());{const n=t.data,r=Qo.empty();let i=new ki(Ii.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ph(t.key,r,new ya(i.toArray()),Wl.none())}}function rte(t,e,n){t instanceof Dv?function(i,s,o){const a=i.value.clone(),l=xk(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ph?function(i,s,o){if(!c1(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=xk(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(E6(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kg(t,e,n,r){return t instanceof Dv?function(s,o,a,l){if(!c1(s.precondition,o))return a;const A=s.value.clone(),c=Bk(s.fieldTransforms,l,o);return A.setAll(c),o.convertToFoundDocument(o.version,A).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ph?function(s,o,a,l){if(!c1(s.precondition,o))return a;const A=Bk(s.fieldTransforms,l,o),c=o.data;return c.setAll(E6(s)),c.setAll(A),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(u=>u.field))}(t,e,n,r):function(s,o,a){return c1(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function ite(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=b6(r.transform,i||null);s!=null&&(n===null&&(n=Qo.empty()),n.set(r.field,s))}return n||null}function Ck(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Pf(r,i,(s,o)=>tte(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Dv extends Z2{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ph extends Z2{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E6(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function xk(t,e,n){const r=new Map;Bn(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Zee(o,a,n[i]))}return r}function Bk(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Jee(s,o,e))}return r}class S6 extends Z2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ste extends Z2{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ote{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rte(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=y6();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=B6(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),rn())}isEqual(e){return this.batchId===e.batchId&&Pf(this.mutations,e.mutations,(n,r)=>Ck(n,r))&&Pf(this.baseMutations,e.baseMutations,(n,r)=>Ck(n,r))}}class cT{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Bn(e.mutations.length===r.length);let i=function(){return Wee}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new cT(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ate=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lte{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vr,ln;function Ate(t){switch(t){default:return Dt();case Xe.CANCELLED:case Xe.UNKNOWN:case Xe.DEADLINE_EXCEEDED:case Xe.RESOURCE_EXHAUSTED:case Xe.INTERNAL:case Xe.UNAVAILABLE:case Xe.UNAUTHENTICATED:return!1;case Xe.INVALID_ARGUMENT:case Xe.NOT_FOUND:case Xe.ALREADY_EXISTS:case Xe.PERMISSION_DENIED:case Xe.FAILED_PRECONDITION:case Xe.ABORTED:case Xe.OUT_OF_RANGE:case Xe.UNIMPLEMENTED:case Xe.DATA_LOSS:return!0}}function T6(t){if(t===void 0)return sA("GRPC error has no .code"),Xe.UNKNOWN;switch(t){case Vr.OK:return Xe.OK;case Vr.CANCELLED:return Xe.CANCELLED;case Vr.UNKNOWN:return Xe.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return Xe.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return Xe.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return Xe.INTERNAL;case Vr.UNAVAILABLE:return Xe.UNAVAILABLE;case Vr.UNAUTHENTICATED:return Xe.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return Xe.INVALID_ARGUMENT;case Vr.NOT_FOUND:return Xe.NOT_FOUND;case Vr.ALREADY_EXISTS:return Xe.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return Xe.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return Xe.FAILED_PRECONDITION;case Vr.ABORTED:return Xe.ABORTED;case Vr.OUT_OF_RANGE:return Xe.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return Xe.UNIMPLEMENTED;case Vr.DATA_LOSS:return Xe.DATA_LOSS;default:return Dt()}}(ln=Vr||(Vr={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cte(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ute=new Wu([4294967295,4294967295],0);function Ek(t){const e=cte().encode(t),n=new JQ;return n.update(e),new Uint8Array(n.digest())}function Sk(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Wu([n,r],0),new Wu([i,s],0)]}class uT{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new _g(`Invalid padding: ${n}`);if(r<0)throw new _g(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _g(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new _g(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Wu.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Wu.fromNumber(r)));return i.compare(ute)===1&&(i=new Wu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=Ek(e),[r,i]=Sk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new uT(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=Ek(e),[r,i]=Sk(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class _g extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Lv.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new eb(Rt.min(),i,new Wr(un),oA(),rn())}}class Lv{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Lv(r,n,rn(),rn(),rn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class I6{constructor(e,n){this.targetId=e,this.me=n}}class N6{constructor(e,n,r=Di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class Tk{constructor(){this.fe=0,this.ge=Nk(),this.pe=Di.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rn(),n=rn(),r=rn();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Dt()}}),new Lv(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=Nk()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Bn(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hte{constructor(e){this.Le=e,this.Be=new Map,this.ke=oA(),this.qe=Ik(),this.Qe=new Wr(un)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(qB(s))if(r===0){const o=new xt(s.path);this.Ue(n,o,Zi.newNoDocument(o,Rt.min()))}else Bn(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const A=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,A)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=ch(r).toUint8Array()}catch(l){if(l instanceof a6)return kf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new uT(o,i,s)}catch(l){return kf(l instanceof _g?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&qB(a.target)){const l=new xt(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Zi.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=rn();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const A=this.Je(l);return!A||A.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new eb(e,n,this.Qe,this.ke,r);return this.ke=oA(),this.qe=Ik(),this.Qe=new Wr(un),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Tk,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ki(un),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||gt("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Tk),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function Ik(){return new Wr(xt.comparator)}function Nk(){return new Wr(xt.comparator)}const dte=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),fte=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),pte=(()=>({and:"AND",or:"OR"}))();class gte{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function XB(t,e){return t.useProto3Json||G2(e)?e:{value:e}}function pw(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function F6(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function mte(t,e){return pw(t,e.toTimestamp())}function nl(t){return Bn(!!t),Rt.fromTimestamp(function(n){const r=Mc(n);return new ii(r.seconds,r.nanos)}(t))}function hT(t,e){return JB(t,e).canonicalString()}function JB(t,e){const n=function(i){return new gr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function k6(t){const e=gr.fromString(t);return Bn(U6(e)),e}function ZB(t,e){return hT(t.databaseId,e.path)}function aC(t,e){const n=k6(e);if(n.get(1)!==t.databaseId.projectId)throw new yt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new yt(Xe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new xt(D6(n))}function P6(t,e){return hT(t.databaseId,e)}function vte(t){const e=k6(t);return e.length===4?gr.emptyPath():D6(e)}function eE(t){return new gr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D6(t){return Bn(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fk(t,e,n){return{name:ZB(t,e),fields:n.value.mapValue.fields}}function yte(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(A,c){return A.useProto3Json?(Bn(c===void 0||typeof c=="string"),Di.fromBase64String(c||"")):(Bn(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Di.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(A){const c=A.code===void 0?Xe.UNKNOWN:T6(A.code);return new yt(c,A.message||"")}(o);n=new N6(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=aC(t,r.document.name),s=nl(r.document.updateTime),o=r.document.createTime?nl(r.document.createTime):Rt.min(),a=new Qo({mapValue:{fields:r.document.fields}}),l=Zi.newFoundDocument(i,s,o,a),A=r.targetIds||[],c=r.removedTargetIds||[];n=new u1(A,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=aC(t,r.document),s=r.readTime?nl(r.readTime):Rt.min(),o=Zi.newNoDocument(i,s),a=r.removedTargetIds||[];n=new u1([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=aC(t,r.document),s=r.removedTargetIds||[];n=new u1([],s,i,null)}else{if(!("filter"in e))return Dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lte(i,s),a=r.targetId;n=new I6(a,o)}}return n}function wte(t,e){let n;if(e instanceof Dv)n={update:Fk(t,e.key,e.value)};else if(e instanceof S6)n={delete:ZB(t,e.key)};else if(e instanceof Ph)n={update:Fk(t,e.key,e.data),updateMask:Ite(e.fieldMask)};else{if(!(e instanceof ste))return Dt();n={verify:ZB(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Qm)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof jm)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hm)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof fw)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Dt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:mte(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt()}(t,e.precondition)),n}function bte(t,e){return t&&t.length>0?(Bn(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?nl(i.updateTime):nl(s);return o.isEqual(Rt.min())&&(o=nl(s)),new nte(o,i.transformResults||[])}(n,e))):[]}function _te(t,e){return{documents:[P6(t,e.path)]}}function Cte(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P6(t,i);const s=function(A){if(A.length!==0)return R6(ll.create(A,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(A){if(A.length!==0)return A.map(c=>function(h){return{field:Bd(h.field),direction:Ete(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=XB(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(A){return{before:A.inclusive,values:A.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(A){return{before:!A.inclusive,values:A.position}}(e.endAt)),{_t:n,parent:i}}function xte(t){let e=vte(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(u){const h=L6(u);return h instanceof ll&&u6(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(u){return u.map(h=>function(p){return new dw(Ed(p.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(u){let h;return h=typeof u=="object"?u.value:u,G2(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(u){const h=!!u.before,d=u.values||[];return new hw(d,h)}(n.startAt));let A=null;return n.endAt&&(A=function(u){const h=!u.before,d=u.values||[];return new hw(d,h)}(n.endAt)),jee(e,i,o,s,a,"F",l,A)}function Bte(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function L6(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ed(n.unaryFilter.field);return ti.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ed(n.unaryFilter.field);return ti.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ed(n.unaryFilter.field);return ti.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ed(n.unaryFilter.field);return ti.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(t):t.fieldFilter!==void 0?function(n){return ti.create(Ed(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ll.create(n.compositeFilter.filters.map(r=>L6(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt()}}(n.compositeFilter.op))}(t):Dt()}function Ete(t){return dte[t]}function Ste(t){return fte[t]}function Tte(t){return pte[t]}function Bd(t){return{fieldPath:t.canonicalString()}}function Ed(t){return Ii.fromServerFormat(t.fieldPath)}function R6(t){return t instanceof ti?function(n){if(n.op==="=="){if(mk(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NAN"}};if(gk(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(mk(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NOT_NAN"}};if(gk(n.value))return{unaryFilter:{field:Bd(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bd(n.field),op:Ste(n.op),value:n.value}}}(t):t instanceof ll?function(n){const r=n.getFilters().map(i=>R6(i));return r.length===1?r[0]:{compositeFilter:{op:Tte(n.op),filters:r}}}(t):Dt()}function Ite(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function U6(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n,r,i,s=Rt.min(),o=Rt.min(),a=Di.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nte{constructor(e){this.ct=e}}function Fte(t){const e=xte({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?YB(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(){this.un=new Pte}addToCollectionParentIndex(e,n){return this.un.add(n),qe.resolve()}getCollectionParents(e,n){return qe.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return qe.resolve()}deleteFieldIndex(e,n){return qe.resolve()}deleteAllFieldIndexes(e){return qe.resolve()}createTargetIndexes(e,n){return qe.resolve()}getDocumentsMatchingTarget(e,n){return qe.resolve(null)}getIndexType(e,n){return qe.resolve(0)}getFieldIndexes(e,n){return qe.resolve([])}getNextCollectionGroupToUpdate(e){return qe.resolve(null)}getMinOffset(e,n){return qe.resolve(Oc.min())}getMinOffsetFromCollectionGroup(e,n){return qe.resolve(Oc.min())}updateCollectionGroup(e,n,r){return qe.resolve()}updateIndexEntries(e,n){return qe.resolve()}}class Pte{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ki(gr.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ki(gr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Rf(0)}static kn(){return new Rf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dte{constructor(){this.changes=new lp(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zi.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?qe.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lte{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rte{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kg(r.mutation,i,ya.empty(),ii.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,rn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=rn()){const i=Mu();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=bg();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Mu();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,rn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=oA();const o=zg(),a=function(){return zg()}();return n.forEach((l,A)=>{const c=r.get(A.key);i.has(A.key)&&(c===void 0||c.mutation instanceof Ph)?s=s.insert(A.key,A):c!==void 0?(o.set(A.key,c.mutation.getFieldMask()),Kg(c.mutation,A,c.mutation.getFieldMask(),ii.now())):o.set(A.key,ya.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((A,c)=>o.set(A,c)),n.forEach((A,c)=>{var u;return a.set(A,new Lte(c,(u=o.get(A))!==null&&u!==void 0?u:null))}),a))}recalculateAndSaveOverlays(e,n){const r=zg();let i=new Wr((o,a)=>o-a),s=rn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const A=n.get(l);if(A===null)return;let c=r.get(l)||ya.empty();c=a.applyToLocalView(A,c),r.set(l,c);const u=(i.get(a.batchId)||rn()).add(l);i=i.insert(a.batchId,u)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),A=l.key,c=l.value,u=y6();c.forEach(h=>{if(!s.has(h)){const d=B6(n.get(h),r.get(h));d!==null&&u.set(h,d),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,A,u))}return qe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return xt.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Hee(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):qe.resolve(Mu());let a=-1,l=s;return o.next(A=>qe.forEach(A,(c,u)=>(a<u.largestBatchId&&(a=u.largestBatchId),s.get(c)?qe.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,A,s)).next(()=>this.computeViews(e,l,A,rn())).next(c=>({batchId:a,changes:v6(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new xt(n)).next(r=>{let i=bg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=bg();return this.indexManager.getCollectionParents(e,s).next(a=>qe.forEach(a,l=>{const A=function(u,h){return new q2(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,A,r,i).next(c=>{c.forEach((u,h)=>{o=o.insert(u,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,A)=>{const c=A.getKey();o.get(c)===null&&(o=o.insert(c,Zi.newInvalidDocument(c)))});let a=bg();return o.forEach((l,A)=>{const c=s.get(l);c!==void 0&&Kg(c.mutation,A,ya.empty(),ii.now()),X2(n,A)&&(a=a.insert(l,A))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ute{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return qe.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:nl(i.createTime)}}(n)),qe.resolve()}getNamedQuery(e,n){return qe.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Fte(i.bundledQuery),readTime:nl(i.readTime)}}(n)),qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ote{constructor(){this.overlays=new Wr(xt.comparator),this.Ir=new Map}getOverlay(e,n){return qe.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Mu();return qe.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),qe.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),qe.resolve()}getOverlaysForCollection(e,n,r){const i=Mu(),s=n.length+1,o=new xt(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,A=l.getKey();if(!n.isPrefixOf(A.path))break;A.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return qe.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Wr((A,c)=>A-c);const o=this.overlays.getIterator();for(;o.hasNext();){const A=o.getNext().value;if(A.getKey().getCollectionGroup()===n&&A.largestBatchId>r){let c=s.get(A.largestBatchId);c===null&&(c=Mu(),s=s.insert(A.largestBatchId,c)),c.set(A.getKey(),A)}}const a=Mu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((A,c)=>a.set(A,c)),!(a.size()>=i)););return qe.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new ate(n,r));let s=this.Ir.get(n);s===void 0&&(s=rn(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mte{constructor(){this.sessionToken=Di.EMPTY_BYTE_STRING}getSessionToken(e){return qe.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.Tr=new ki(fi.Er),this.dr=new ki(fi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new fi(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new fi(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new xt(new gr([])),r=new fi(n,e),i=new fi(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new xt(new gr([])),r=new fi(n,e),i=new fi(n,e+1);let s=rn();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new fi(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fi{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return xt.comparator(e.key,n.key)||un(e.wr,n.wr)}static Ar(e,n){return un(e.wr,n.wr)||xt.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qte{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ki(fi.Er)}checkEmpty(e){return qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ote(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new fi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qe.resolve(o)}lookupMutationBatch(e,n){return qe.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),s=i<0?0:i;return qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return qe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fi(n,0),i=new fi(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ki(un);return n.forEach(i=>{const s=new fi(i,0),o=new fi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),qe.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;xt.isDocumentKey(s)||(s=s.child(""));const o=new fi(new xt(s),0);let a=new ki(un);return this.br.forEachWhile(l=>{const A=l.key.path;return!!r.isPrefixOf(A)&&(A.length===i&&(a=a.add(l.wr)),!0)},o),qe.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Bn(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return qe.forEach(n.mutations,i=>{const s=new fi(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new fi(n,0),i=this.br.firstAfterOrEqual(r);return qe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,qe.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jte{constructor(e){this.Mr=e,this.docs=function(){return new Wr(xt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return qe.resolve(r?r.document.mutableCopy():Zi.newInvalidDocument(n))}getEntries(e,n){let r=oA();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Zi.newInvalidDocument(i))}),qe.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=oA();const o=n.path,a=new xt(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:A,value:{document:c}}=l.getNext();if(!o.isPrefixOf(A.path))break;A.path.length>o.length+1||_ee(bee(c),r)<=0||(i.has(c.key)||X2(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return qe.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Dt()}Or(e,n){return qe.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Hte(this)}getSize(e){return qe.resolve(this.size)}}class Hte extends Dte{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),qe.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.persistence=e,this.Nr=new lp(n=>oT(n),aT),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new dT,this.targetCount=0,this.kr=Rf.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),qe.resolve()}getLastRemoteSnapshotVersion(e){return qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),qe.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),qe.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Rf(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,qe.resolve()}updateTargetData(e,n){return this.Kn(n),qe.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,qe.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),qe.waitFor(s).next(()=>i)}getTargetCount(e){return qe.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return qe.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),qe.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),qe.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),qe.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return qe.resolve(r)}containsKey(e,n){return qe.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $te{constructor(e,n){this.qr={},this.overlays={},this.Qr=new nT(0),this.Kr=!1,this.Kr=!0,this.$r=new Mte,this.referenceDelegate=e(this),this.Ur=new Vte(this),this.indexManager=new kte,this.remoteDocumentCache=function(i){return new jte(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Nte(n),this.Gr=new Ute(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ote,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qte(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){gt("MemoryPersistence","Starting transaction:",e);const i=new zte(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return qe.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class zte extends xee{constructor(e){super(),this.currentSequenceNumber=e}}class fT{constructor(e){this.persistence=e,this.Jr=new dT,this.Yr=null}static Zr(e){return new fT(e)}get Xr(){if(this.Yr)return this.Yr;throw Dt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),qe.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),qe.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),qe.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qe.forEach(this.Xr,r=>{const i=xt.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,Rt.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return qe.or([()=>qe.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=rn(),i=rn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new pT(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wte{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return SY()?8:Bee(is())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Kte;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(qp()<=nn.DEBUG&&gt("QueryEngine","SDK will not create cache indexes for query:",xd(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),qe.resolve()):(qp()<=nn.DEBUG&&gt("QueryEngine","Query:",xd(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(qp()<=nn.DEBUG&&gt("QueryEngine","The SDK decides to create cache indexes for query:",xd(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,tl(n))):qe.resolve())}Yi(e,n){if(bk(n))return qe.resolve(null);let r=tl(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=YB(n,null,"F"),r=tl(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=rn(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const A=this.ts(n,a);return this.ns(n,A,o,l.readTime)?this.Yi(e,YB(n,null,"F")):this.rs(e,A,n,l)}))})))}Zi(e,n,r,i){return bk(n)||i.isEqual(Rt.min())?qe.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(n,s);return this.ns(n,o,r,i)?qe.resolve(null):(qp()<=nn.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xd(n)),this.rs(e,o,n,wee(i,-1)).next(a=>a))})}ts(e,n){let r=new ki(g6(e));return n.forEach((i,s)=>{X2(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return qp()<=nn.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",xd(n)),this.Ji.getDocumentsMatchingQuery(e,n,Oc.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Wr(un),this._s=new lp(s=>oT(s),aT),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rte(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function qte(t,e,n,r){return new Gte(t,e,n,r)}async function O6(t,e){const n=Ut(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=rn();for(const A of i){o.push(A.batchId);for(const c of A.mutations)l=l.add(c.key)}for(const A of s){a.push(A.batchId);for(const c of A.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(A=>({hs:A,removedBatchIds:o,addedBatchIds:a}))})})}function Yte(t,e){const n=Ut(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,A,c){const u=A.batch,h=u.keys();let d=qe.resolve();return h.forEach(p=>{d=d.next(()=>c.getEntry(l,p)).next(f=>{const b=A.docVersions.get(p);Bn(b!==null),f.version.compareTo(b)<0&&(u.applyToRemoteDocument(f,A),f.isValidDocument()&&(f.setReadTime(A.commitVersion),c.addEntry(f)))})}),d.next(()=>a.mutationQueue.removeMutationBatch(l,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=rn();for(let A=0;A<a.mutationResults.length;++A)a.mutationResults[A].transformResults.length>0&&(l=l.add(a.batch.mutations[A].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function M6(t){const e=Ut(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Xte(t,e){const n=Ut(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,u)=>{const h=i.get(u);if(!h)return;a.push(n.Ur.removeMatchingKeys(s,c.removedDocuments,u).next(()=>n.Ur.addMatchingKeys(s,c.addedDocuments,u)));let d=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(u)!==null?d=d.withResumeToken(Di.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,r)),i=i.insert(u,d),function(f,b,g){return f.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,d,c)&&a.push(n.Ur.updateTargetData(s,d))});let l=oA(),A=rn();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Jte(s,o,e.documentUpdates).next(c=>{l=c.Ps,A=c.Is})),!r.isEqual(Rt.min())){const c=n.Ur.getLastRemoteSnapshotVersion(s).next(u=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return qe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,A)).next(()=>l)}).then(s=>(n.os=i,s))}function Jte(t,e,n){let r=rn(),i=rn();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=oA();return n.forEach((a,l)=>{const A=s.get(a);l.isFoundDocument()!==A.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Rt.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!A.isValidDocument()||l.version.compareTo(A.version)>0||l.version.compareTo(A.version)===0&&A.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):gt("LocalStore","Ignoring outdated watch update for ",a,". Current version:",A.version," Watch version:",l.version)}),{Ps:o,Is:i}})}function Zte(t,e){const n=Ut(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ene(t,e){const n=Ut(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,qe.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new hc(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function tE(t,e,n){const r=Ut(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Pv(o))throw o;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function kk(t,e,n){const r=Ut(t);let i=Rt.min(),s=rn();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,A,c){const u=Ut(l),h=u._s.get(c);return h!==void 0?qe.resolve(u.os.get(h)):u.Ur.getTargetData(A,c)}(r,o,tl(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:Rt.min(),n?s:rn())).next(a=>(tne(r,$ee(e),a),{documents:a,Ts:s})))}function tne(t,e,n){let r=t.us.get(e)||Rt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}class Pk{constructor(){this.activeTargetIds=Yee()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class nne{constructor(){this.so=new Pk,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Pk,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rne{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ty=null;function lC(){return ty===null?ty=function(){return 268435456+Math.round(2147483648*Math.random())}():ty++,"0x"+ty.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ine={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sne{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi="WebChannelConnection";class one extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){const a=lC(),l=this.xo(n,r.toUriEncodedString());gt("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const A={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(A,s,o),this.No(n,l,A,i).then(c=>(gt("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw kf("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+op}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){const i=ine[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const s=lC();return new Promise((o,a)=>{const l=new ZQ;l.setWithCredentials(!0),l.listenOnce(e6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case l1.NO_ERROR:const c=l.getResponseJson();gt(Hi,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case l1.TIMEOUT:gt(Hi,`RPC '${e}' ${s} timed out`),a(new yt(Xe.DEADLINE_EXCEEDED,"Request time out"));break;case l1.HTTP_ERROR:const u=l.getStatus();if(gt(Hi,`RPC '${e}' ${s} failed with status:`,u,"response text:",l.getResponseText()),u>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const d=h==null?void 0:h.error;if(d&&d.status&&d.message){const p=function(b){const g=b.toLowerCase().replace(/_/g,"-");return Object.values(Xe).indexOf(g)>=0?g:Xe.UNKNOWN}(d.status);a(new yt(p,d.message))}else a(new yt(Xe.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new yt(Xe.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{gt(Hi,`RPC '${e}' ${s} completed.`)}});const A=JSON.stringify(i);gt(Hi,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",A,r,15)})}Bo(e,n,r){const i=lC(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r6(),a=n6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(l.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");gt(Hi,`Creating RPC '${e}' stream ${i}: ${c}`,l);const u=o.createWebChannel(c,l);let h=!1,d=!1;const p=new sne({Io:b=>{d?gt(Hi,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(h||(gt(Hi,`Opening RPC '${e}' stream ${i} transport.`),u.open(),h=!0),gt(Hi,`RPC '${e}' stream ${i} sending:`,b),u.send(b))},To:()=>u.close()}),f=(b,g,v)=>{b.listen(g,_=>{try{v(_)}catch(x){setTimeout(()=>{throw x},0)}})};return f(u,wg.EventType.OPEN,()=>{d||(gt(Hi,`RPC '${e}' stream ${i} transport opened.`),p.yo())}),f(u,wg.EventType.CLOSE,()=>{d||(d=!0,gt(Hi,`RPC '${e}' stream ${i} transport closed`),p.So())}),f(u,wg.EventType.ERROR,b=>{d||(d=!0,kf(Hi,`RPC '${e}' stream ${i} transport errored:`,b),p.So(new yt(Xe.UNAVAILABLE,"The operation could not be completed")))}),f(u,wg.EventType.MESSAGE,b=>{var g;if(!d){const v=b.data[0];Bn(!!v);const _=v,x=_.error||((g=_[0])===null||g===void 0?void 0:g.error);if(x){gt(Hi,`RPC '${e}' stream ${i} received error:`,x);const F=x.status;let O=function(T){const R=Vr[T];if(R!==void 0)return T6(R)}(F),I=x.message;O===void 0&&(O=Xe.INTERNAL,I="Unknown error status: "+F+" with message "+x.message),d=!0,p.So(new yt(O,I)),u.close()}else gt(Hi,`RPC '${e}' stream ${i} received:`,v),p.bo(v)}}),f(a,t6.STAT_EVENT,b=>{b.stat===$B.PROXY?gt(Hi,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===$B.NOPROXY&&gt(Hi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.wo()},0),p}}function AC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tb(t){return new gte(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&gt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n,r,i,s,o,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Q6(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===Xe.RESOURCE_EXHAUSTED?(sA(n.toString()),sA("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===Xe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new yt(Xe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ane extends j6{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=yte(this.serializer,e),r=function(s){if(!("targetChange"in s))return Rt.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Rt.min():o.readTime?nl(o.readTime):Rt.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=eE(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=qB(l)?{documents:_te(s,l)}:{query:Cte(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=F6(s,o.resumeToken);const A=XB(s,o.expectedCount);A!==null&&(a.expectedCount=A)}else if(o.snapshotVersion.compareTo(Rt.min())>0){a.readTime=pw(s,o.snapshotVersion.toTimestamp());const A=XB(s,o.expectedCount);A!==null&&(a.expectedCount=A)}return a}(this.serializer,e);const r=Bte(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=eE(this.serializer),n.removeTarget=e,this.a_(n)}}class lne extends j6{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,Bn(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Bn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=bte(e.writeResults,e.commitTime),r=nl(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=eE(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>wte(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ane extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new yt(Xe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,JB(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new yt(Xe.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,JB(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Xe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new yt(Xe.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class cne{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(sA(n),this.D_=!1):gt("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class une{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(async()=>{Dh(this)&&(gt("RemoteStore","Restarting streams for network reachability change."),await async function(l){const A=Ut(l);A.L_.add(4),await Rv(A),A.q_.set("Unknown"),A.L_.delete(4),await nb(A)}(this))})}),this.q_=new cne(r,i)}}async function nb(t){if(Dh(t))for(const e of t.B_)await e(!0)}async function Rv(t){for(const e of t.B_)await e(!1)}function H6(t,e){const n=Ut(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),yT(n)?vT(n):Ap(n).r_()&&mT(n,e))}function gT(t,e){const n=Ut(t),r=Ap(n);n.N_.delete(e),r.r_()&&V6(n,e),n.N_.size===0&&(r.r_()?r.o_():Dh(n)&&n.q_.set("Unknown"))}function mT(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Rt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ap(t).A_(e)}function V6(t,e){t.Q_.xe(e),Ap(t).R_(e)}function vT(t){t.Q_=new hte({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Ap(t).start(),t.q_.v_()}function yT(t){return Dh(t)&&!Ap(t).n_()&&t.N_.size>0}function Dh(t){return Ut(t).L_.size===0}function $6(t){t.Q_=void 0}async function hne(t){t.q_.set("Online")}async function dne(t){t.N_.forEach((e,n)=>{mT(t,e)})}async function fne(t,e){$6(t),yT(t)?(t.q_.M_(e),vT(t)):t.q_.set("Unknown")}async function pne(t,e,n){if(t.q_.set("Online"),e instanceof N6&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gw(t,r)}else if(e instanceof u1?t.Q_.Ke(e):e instanceof I6?t.Q_.He(e):t.Q_.We(e),!n.isEqual(Rt.min()))try{const r=await M6(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,A)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(A);c&&s.N_.set(A,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,A)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(Di.EMPTY_BYTE_STRING,c.snapshotVersion)),V6(s,l);const u=new hc(c.target,l,A,c.sequenceNumber);mT(s,u)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){gt("RemoteStore","Failed to raise snapshot:",r),await gw(t,r)}}async function gw(t,e,n){if(!Pv(e))throw e;t.L_.add(1),await Rv(t),t.q_.set("Offline"),n||(n=()=>M6(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{gt("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nb(t)})}function z6(t,e){return e().catch(n=>gw(t,n,e))}async function rb(t){const e=Ut(t),n=Qc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;gne(e);)try{const i=await Zte(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,mne(e,i)}catch(i){await gw(e,i)}K6(e)&&W6(e)}function gne(t){return Dh(t)&&t.O_.length<10}function mne(t,e){t.O_.push(e);const n=Qc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function K6(t){return Dh(t)&&!Qc(t).n_()&&t.O_.length>0}function W6(t){Qc(t).start()}async function vne(t){Qc(t).p_()}async function yne(t){const e=Qc(t);for(const n of t.O_)e.m_(n.mutations)}async function wne(t,e,n){const r=t.O_.shift(),i=cT.from(r,e,n);await z6(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rb(t)}async function bne(t,e){e&&Qc(t).V_&&await async function(r,i){if(function(o){return Ate(o)&&o!==Xe.ABORTED}(i.code)){const s=r.O_.shift();Qc(r).s_(),await z6(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await rb(r)}}(t,e),K6(t)&&W6(t)}async function Lk(t,e){const n=Ut(t);n.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const r=Dh(n);n.L_.add(3),await Rv(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nb(n)}async function _ne(t,e){const n=Ut(t);e?(n.L_.delete(2),await nb(n)):e||(n.L_.add(2),await Rv(n),n.q_.set("Unknown"))}function Ap(t){return t.K_||(t.K_=function(n,r,i){const s=Ut(n);return s.w_(),new ane(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:hne.bind(null,t),Ro:dne.bind(null,t),mo:fne.bind(null,t),d_:pne.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),yT(t)?vT(t):t.q_.set("Unknown")):(await t.K_.stop(),$6(t))})),t.K_}function Qc(t){return t.U_||(t.U_=function(n,r,i){const s=Ut(n);return s.w_(),new lne(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:vne.bind(null,t),mo:bne.bind(null,t),f_:yne.bind(null,t),g_:wne.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rb(t)):(await t.U_.stop(),t.O_.length>0&&(gt("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Tc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new wT(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new yt(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bT(t,e){if(sA("AsyncQueue",`${e}: ${t}`),Pv(t))return new yt(Xe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e){this.comparator=e?(n,r)=>e(n,r)||xt.comparator(n.key,r.key):(n,r)=>xt.comparator(n.key,r.key),this.keyedMap=bg(),this.sortedSet=new Wr(this.comparator)}static emptySet(e){return new Af(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Af)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Af;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.W_=new Wr(xt.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Dt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Uf{constructor(e,n,r,i,s,o,a,l,A){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=A}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Uf(e,n,Af.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Y2(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xne{constructor(){this.queries=Uk(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=Ut(n),s=i.queries;i.queries=Uk(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new yt(Xe.ABORTED,"Firestore shutting down"))}}function Uk(){return new lp(t=>p6(t),Y2)}async function Bne(t,e){const n=Ut(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Cne,r=e.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=bT(o,`Initialization of query '${xd(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&_T(n)}async function Ene(t,e){const n=Ut(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Sne(t,e){const n=Ut(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&_T(n)}function Tne(t,e,n){const r=Ut(t),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(e)}function _T(t){t.Y_.forEach(e=>{e.next()})}var nE,Ok;(Ok=nE||(nE={})).ea="default",Ok.Cache="cache";class Ine{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Uf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==nE.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e){this.key=e}}class q6{constructor(e){this.key=e}}class Nne{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rn(),this.mutatedKeys=rn(),this.Aa=g6(e),this.Ra=new Af(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new Rk,i=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,A=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,u)=>{const h=i.get(c),d=X2(this.query,u)?u:null,p=!!h&&this.mutatedKeys.has(h.key),f=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let b=!1;h&&d?h.data.isEqual(d.data)?p!==f&&(r.track({type:3,doc:d}),b=!0):this.ga(h,d)||(r.track({type:2,doc:d}),b=!0,(l&&this.Aa(d,l)>0||A&&this.Aa(d,A)<0)&&(a=!0)):!h&&d?(r.track({type:0,doc:d}),b=!0):h&&!d&&(r.track({type:1,doc:h}),b=!0,(l||A)&&(a=!0)),b&&(d?(o=o.add(d),s=f?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((c,u)=>function(d,p){const f=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return f(d)-f(p)}(c.type,u.type)||this.Aa(c.doc,u.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,A=l!==this.Ea;return this.Ea=l,o.length!==0||A?{snapshot:new Uf(this.query,e.Ra,s,o,e.mutatedKeys,l===0,A,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rk,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rn(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new q6(r))}),this.da.forEach(r=>{e.has(r)||n.push(new G6(r))}),n}ba(e){this.Ta=e.Ts,this.da=rn();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Uf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Fne{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class kne{constructor(e){this.key=e,this.va=!1}}class Pne{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new lp(a=>p6(a),Y2),this.Ma=new Map,this.xa=new Set,this.Oa=new Wr(xt.comparator),this.Na=new Map,this.La=new dT,this.Ba={},this.ka=new Map,this.qa=Rf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Dne(t,e,n=!0){const r=tj(t);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Y6(r,e,n,!0),i}async function Lne(t,e){const n=tj(t);await Y6(n,e,!0,!1)}async function Y6(t,e,n,r){const i=await ene(t.localStore,tl(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await Rne(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&H6(t.remoteStore,i),a}async function Rne(t,e,n,r,i){t.Ka=(u,h,d)=>async function(f,b,g,v){let _=b.view.ma(g);_.ns&&(_=await kk(f.localStore,b.query,!1).then(({documents:I})=>b.view.ma(I,_)));const x=v&&v.targetChanges.get(b.targetId),F=v&&v.targetMismatches.get(b.targetId)!=null,O=b.view.applyChanges(_,f.isPrimaryClient,x,F);return Qk(f,b.targetId,O.wa),O.snapshot}(t,u,h,d);const s=await kk(t.localStore,e,!0),o=new Nne(e,s.Ts),a=o.ma(s.documents),l=Lv.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),A=o.applyChanges(a,t.isPrimaryClient,l);Qk(t,n,A.wa);const c=new Fne(e,n,o);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),A.snapshot}async function Une(t,e,n){const r=Ut(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Y2(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await tE(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&gT(r.remoteStore,i.targetId),rE(r,i.targetId)}).catch(kv)):(rE(r,i.targetId),await tE(r.localStore,i.targetId,!0))}async function One(t,e){const n=Ut(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),gT(n.remoteStore,r.targetId))}async function Mne(t,e,n){const r=Kne(t);try{const i=await function(o,a){const l=Ut(o),A=ii.now(),c=a.reduce((d,p)=>d.add(p.key),rn());let u,h;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=oA(),f=rn();return l.cs.getEntries(d,c).next(b=>{p=b,p.forEach((g,v)=>{v.isValidDocument()||(f=f.add(g))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,p)).next(b=>{u=b;const g=[];for(const v of a){const _=ite(v,u.get(v.key).overlayedDocument);_!=null&&g.push(new Ph(v.key,_,l6(_.value.mapValue),Wl.exists(!0)))}return l.mutationQueue.addMutationBatch(d,A,g,a)}).next(b=>{h=b;const g=b.applyToLocalDocumentSet(u,f);return l.documentOverlayCache.saveOverlays(d,b.batchId,g)})}).then(()=>({batchId:h.batchId,changes:v6(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let A=o.Ba[o.currentUser.toKey()];A||(A=new Wr(un)),A=A.insert(a,l),o.Ba[o.currentUser.toKey()]=A}(r,i.batchId,n),await Uv(r,i.changes),await rb(r.remoteStore)}catch(i){const s=bT(i,"Failed to persist write");n.reject(s)}}async function X6(t,e){const n=Ut(t);try{const r=await Xte(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Na.get(s);o&&(Bn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Bn(o.va):i.removedDocuments.size>0&&(Bn(o.va),o.va=!1))}),await Uv(n,r,e)}catch(r){await kv(r)}}function Mk(t,e,n){const r=Ut(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ut(o);l.onlineState=a;let A=!1;l.queries.forEach((c,u)=>{for(const h of u.j_)h.Z_(a)&&(A=!0)}),A&&_T(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Qne(t,e,n){const r=Ut(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new Wr(xt.comparator);o=o.insert(s,Zi.newNoDocument(s,Rt.min()));const a=rn().add(s),l=new eb(Rt.min(),new Map,new Wr(un),o,a);await X6(r,l),r.Oa=r.Oa.remove(s),r.Na.delete(e),CT(r)}else await tE(r.localStore,e,!1).then(()=>rE(r,e,n)).catch(kv)}async function jne(t,e){const n=Ut(t),r=e.batch.batchId;try{const i=await Yte(n.localStore,e);Z6(n,r,null),J6(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Uv(n,i)}catch(i){await kv(i)}}async function Hne(t,e,n){const r=Ut(t);try{const i=await function(o,a){const l=Ut(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let c;return l.mutationQueue.lookupMutationBatch(A,a).next(u=>(Bn(u!==null),c=u.keys(),l.mutationQueue.removeMutationBatch(A,u))).next(()=>l.mutationQueue.performConsistencyCheck(A)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(A,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,c)).next(()=>l.localDocuments.getDocuments(A,c))})}(r.localStore,e);Z6(r,e,n),J6(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Uv(r,i)}catch(i){await kv(i)}}function J6(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Z6(t,e,n){const r=Ut(t);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function rE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||ej(t,r)})}function ej(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(gT(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),CT(t))}function Qk(t,e,n){for(const r of n)r instanceof G6?(t.La.addReference(r.key,e),Vne(t,r)):r instanceof q6?(gt("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||ej(t,r.key)):Dt()}function Vne(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(gt("SyncEngine","New document in limbo: "+n),t.xa.add(r),CT(t))}function CT(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new xt(gr.fromString(e)),r=t.qa.next();t.Na.set(r,new kne(n)),t.Oa=t.Oa.insert(n,r),H6(t.remoteStore,new hc(tl(lT(n.path)),r,"TargetPurposeLimboResolution",nT.oe))}}async function Uv(t,e,n){const r=Ut(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(A=>{var c;if((A||n)&&r.isPrimaryClient){const u=A?!A.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,u?"current":"not-current")}if(A){i.push(A);const u=pT.Wi(l.targetId,A);s.push(u)}}))}),await Promise.all(o),r.Ca.d_(i),await async function(l,A){const c=Ut(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>qe.forEach(A,h=>qe.forEach(h.$i,d=>c.persistence.referenceDelegate.addReference(u,h.targetId,d)).next(()=>qe.forEach(h.Ui,d=>c.persistence.referenceDelegate.removeReference(u,h.targetId,d)))))}catch(u){if(!Pv(u))throw u;gt("LocalStore","Failed to update sequence numbers: "+u)}for(const u of A){const h=u.targetId;if(!u.fromCache){const d=c.os.get(h),p=d.snapshotVersion,f=d.withLastLimboFreeSnapshotVersion(p);c.os=c.os.insert(h,f)}}}(r.localStore,s))}async function $ne(t,e){const n=Ut(t);if(!n.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const r=await O6(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new yt(Xe.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Uv(n,r.hs)}}function zne(t,e){const n=Ut(t),r=n.Na.get(e);if(r&&r.va)return rn().add(r.key);{let i=rn();const s=n.Ma.get(e);if(!s)return i;for(const o of s){const a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function tj(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X6.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zne.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Qne.bind(null,e),e.Ca.d_=Sne.bind(null,e.eventManager),e.Ca.$a=Tne.bind(null,e.eventManager),e}function Kne(t){const e=Ut(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=jne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Hne.bind(null,e),e}class mw{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=tb(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return qte(this.persistence,new Wte,e.initialUser,this.serializer)}Ga(e){return new $te(fT.Zr,this.serializer)}Wa(e){return new nne}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mw.provider={build:()=>new mw};class iE{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Mk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$ne.bind(null,this.syncEngine),await _ne(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xne}()}createDatastore(e){const n=tb(e.databaseInfo.databaseId),r=function(s){return new one(s)}(e.databaseInfo);return function(s,o,a,l){return new Ane(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new une(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Mk(this.syncEngine,n,0),function(){return Dk.D()?new Dk:new rne}())}createSyncEngine(e,n){return function(i,s,o,a,l,A,c){const u=new Pne(i,s,o,a,l,A);return c&&(u.Qa=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Ut(i);gt("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await Rv(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}iE.provider={build:()=>new iE};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wne{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):sA("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gne{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Yi.UNAUTHENTICATED,this.clientId=s6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{gt("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(gt("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=bT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cC(t,e){t.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await O6(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function jk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await qne(t);gt("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Lk(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Lk(e.remoteStore,i)),t._onlineComponents=e}async function qne(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){gt("FirestoreClient","Using user provided OfflineComponentProvider");try{await cC(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===Xe.FAILED_PRECONDITION||i.code===Xe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;kf("Error using user provided cache. Falling back to memory cache: "+n),await cC(t,new mw)}}else gt("FirestoreClient","Using default OfflineComponentProvider"),await cC(t,new mw);return t._offlineComponents}async function nj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(gt("FirestoreClient","Using user provided OnlineComponentProvider"),await jk(t,t._uninitializedComponentsProvider._online)):(gt("FirestoreClient","Using default OnlineComponentProvider"),await jk(t,new iE))),t._onlineComponents}function Yne(t){return nj(t).then(e=>e.syncEngine)}async function Xne(t){const e=await nj(t),n=e.eventManager;return n.onListen=Dne.bind(null,e.syncEngine),n.onUnlisten=Une.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Lne.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=One.bind(null,e.syncEngine),n}function Jne(t,e,n={}){const r=new Tc;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,A){const c=new Wne({next:h=>{c.Za(),o.enqueueAndForget(()=>Ene(s,u));const d=h.docs.has(a);!d&&h.fromCache?A.reject(new yt(Xe.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&l&&l.source==="server"?A.reject(new yt(Xe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):A.resolve(h)},error:h=>A.reject(h)}),u=new Ine(lT(a.path),c,{includeMetadataChanges:!0,_a:!0});return Bne(s,u)}(await Xne(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zne(t,e,n){if(!n)throw new yt(Xe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ere(t,e,n,r){if(e===!0&&r===!0)throw new yt(Xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Vk(t){if(!xt.isDocumentKey(t))throw new yt(Xe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function xT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt()}function Vm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new yt(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xT(t);throw new yt(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new yt(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ere("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new yt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new yt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new yt(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class BT{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $k({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new yt(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new yt(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $k(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new uee;switch(r.type){case"firstParty":return new pee(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new yt(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Hk.get(n);r&&(gt("ComponentProvider","Removing Datastore"),Hk.delete(n),r.terminate())}(this),Promise.resolve()}}function tre(t,e,n,r={}){var i;const s=(t=Vm(t,BT))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&kf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Yi.MOCK_USER;else{a=oQ(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const A=r.mockUserToken.sub||r.mockUserToken.user_id;if(!A)throw new yt(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Yi(A)}t._authCredentials=new hee(new i6(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ET(this.firestore,e,this._query)}}class zo{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $m(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new zo(this.firestore,e,this._key)}}class $m extends ET{constructor(e,n,r){super(e,n,lT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new zo(this.firestore,null,new xt(e))}withConverter(e){return new $m(this.firestore,e,this._path)}}function vw(t,e,...n){if(t=Dr(t),arguments.length===1&&(e=s6.newId()),Zne("doc","path",e),t instanceof BT){const r=gr.fromString(e,...n);return Vk(r),new zo(t,null,new xt(r))}{if(!(t instanceof zo||t instanceof $m))throw new yt(Xe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(gr.fromString(e,...n));return Vk(r),new zo(t.firestore,t instanceof $m?t.converter:null,new xt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Q6(this,"async_queue_retry"),this.Vu=()=>{const r=AC();r&&gt("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=AC();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=AC();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Tc;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Pv(e))throw e;gt("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw sA("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=wT.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Dt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ST extends BT{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new zk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new zk(e),this._firestoreClient=void 0,await e}}}function nre(t,e,n){n||(n="(default)");const r=Zc(t,"firestore");if(r.isInitialized(n)){const i=r.getImmediate({identifier:n}),s=r.getOptions(n);if(Nf(s,e))return i;throw new yt(Xe.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(e.cacheSizeBytes!==void 0&&e.localCache!==void 0)throw new yt(Xe.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(e.cacheSizeBytes!==void 0&&e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new yt(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:e,instanceIdentifier:n})}function ij(t){if(t._terminated)throw new yt(Xe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||rre(t),t._firestoreClient}function rre(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,A,c){return new Tee(a,l,A,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,rj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Gne(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Of(Di.fromBase64String(e))}catch(n){throw new yt(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Of(Di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new yt(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ii(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new yt(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new yt(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return un(this._lat,e._lat)||un(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=/^__.*__$/;class sre{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ph(e,this.data,this.fieldMask,n,this.fieldTransforms):new Dv(e,this.data,n,this.fieldTransforms)}}function sj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class kT{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new kT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return yw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(sj(this.Cu)&&ire.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class ore{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||tb(e)}Qu(e,n,r,i=!1){return new kT({Cu:e,methodName:n,qu:r,path:Ii.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function are(t){const e=t._freezeSettings(),n=tb(t._databaseId);return new ore(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lre(t,e,n,r,i,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);Aj("Data must be an object, but it was:",o,r);const a=aj(r,o);let l,A;if(s.merge)l=new ya(o.fieldMask),A=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const u of s.mergeFields){const h=Are(e,u,n);if(!o.contains(h))throw new yt(Xe.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ure(c,h)||c.push(h)}l=new ya(c),A=o.fieldTransforms.filter(u=>l.covers(u.field))}else l=null,A=o.fieldTransforms;return new sre(new Qo(a),l,A)}class PT extends IT{_toFieldTransform(e){return new ete(e.path,new Qm)}isEqual(e){return e instanceof PT}}function oj(t,e){if(lj(t=Dr(t)))return Aj("Unsupported field value:",e,t),aj(t,e);if(t instanceof IT)return function(r,i){if(!sj(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=oj(a,i.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Dr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Xee(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ii.fromDate(r);return{timestampValue:pw(i.serializer,s)}}if(r instanceof ii){const s=new ii(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pw(i.serializer,s)}}if(r instanceof NT)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Of)return{bytesValue:F6(i.serializer,r._byteString)};if(r instanceof zo){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof FT)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return AT(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${xT(r)}`)}(t,e)}function aj(t,e){const n={};return o6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ap(t,(r,i)=>{const s=oj(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function lj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ii||t instanceof NT||t instanceof Of||t instanceof zo||t instanceof IT||t instanceof FT)}function Aj(t,e,n){if(!lj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=xT(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Are(t,e,n){if((e=Dr(e))instanceof TT)return e._internalPath;if(typeof e=="string")return cj(t,e);throw yw("Field path arguments must be of type string or ",t,!1,void 0,n)}const cre=new RegExp("[~\\*/\\[\\]]");function cj(t,e,n){if(e.search(cre)>=0)throw yw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new TT(...e.split("."))._internalPath}catch{throw yw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yw(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new yt(Xe.INVALID_ARGUMENT,a+t+l)}function ure(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hre(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hre extends uj{data(){return super.data()}}function hj(t,e){return typeof e=="string"?cj(t,e):e instanceof TT?e._internalPath:e._delegate._internalPath}class dre{convertValue(e,n="none"){switch(uh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ch(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ap(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Er(o.doubleValue));return new FT(s)}convertGeoPoint(e){return new NT(Er(e.latitude),Er(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=iT(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Um(e));default:return null}}convertTimestamp(e){const n=Mc(e);return new ii(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=gr.fromString(e);Bn(U6(r));const i=new Om(r.get(1),r.get(3)),s=new xt(r.popFirst(5));return i.isEqual(n)||sA(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fre(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pre{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dj extends uj{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gre(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gre extends dj{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mre(t){t=Vm(t,zo);const e=Vm(t.firestore,ST);return Jne(ij(e),t._key).then(n=>wre(e,t,n))}class vre extends dre{constructor(e){super(),this.firestore=e}convertBytes(e){return new Of(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new zo(this.firestore,null,n)}}function DT(t,e,n){t=Vm(t,zo);const r=Vm(t.firestore,ST),i=fre(t.converter,e,n);return yre(r,[lre(are(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Wl.none())])}function yre(t,e){return function(r,i){const s=new Tc;return r.asyncQueue.enqueueAndForget(async()=>Mne(await Yne(r),i,s)),s.promise}(ij(t),e)}function wre(t,e,n){const r=n.docs.get(e._key),i=new vre(t);return new dj(t,i,e._key,r,new pre(n.hasPendingWrites,n.fromCache),e.converter)}function bre(){return new PT("serverTimestamp")}(function(e,n=!0){(function(i){op=i})(Fh),Ea(new Go("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ST(new dee(r.getProvider("auth-internal")),new mee(r.getProvider("app-check-internal")),function(A,c){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new yt(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Om(A.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),js(uk,"4.7.3",e),js(uk,"4.7.3","esm2017")})();const fj="@firebase/installations",LT="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pj=1e4,gj=`w:${LT}`,mj="FIS_v2",_re="https://firebaseinstallations.googleapis.com/v1",Cre=60*60*1e3,xre="installations",Bre="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ere={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},hh=new Nh(xre,Bre,Ere);function vj(t){return t instanceof Na&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj({projectId:t}){return`${_re}/projects/${t}/installations`}function wj(t){return{token:t.token,requestStatus:2,expiresIn:Tre(t.expiresIn),creationTime:Date.now()}}async function bj(t,e){const r=(await e.json()).error;return hh.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function _j({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sre(t,{refreshToken:e}){const n=_j(t);return n.append("Authorization",Ire(e)),n}async function Cj(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Tre(t){return Number(t.replace("s","000"))}function Ire(t){return`${mj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nre({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=yj(t),i=_j(t),s=e.getImmediate({optional:!0});if(s){const A=await s.getHeartbeatsHeader();A&&i.append("x-firebase-client",A)}const o={fid:n,authVersion:mj,appId:t.appId,sdkVersion:gj},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cj(()=>fetch(r,a));if(l.ok){const A=await l.json();return{fid:A.fid||n,registrationStatus:2,refreshToken:A.refreshToken,authToken:wj(A.authToken)}}else throw await bj("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xj(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre=/^[cdef][\w-]{21}$/,sE="";function Pre(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=Dre(t);return kre.test(n)?n:sE}catch{return sE}}function Dre(t){return Fre(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ib(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=new Map;function Ej(t,e){const n=ib(t);Sj(n,e),Lre(n,e)}function Sj(t,e){const n=Bj.get(t);if(n)for(const r of n)r(e)}function Lre(t,e){const n=Rre();n&&n.postMessage({key:t,fid:e}),Ure()}let Qu=null;function Rre(){return!Qu&&"BroadcastChannel"in self&&(Qu=new BroadcastChannel("[Firebase] FID Change"),Qu.onmessage=t=>{Sj(t.data.key,t.data.fid)}),Qu}function Ure(){Bj.size===0&&Qu&&(Qu.close(),Qu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ore="firebase-installations-database",Mre=1,dh="firebase-installations-store";let uC=null;function RT(){return uC||(uC=fQ(Ore,Mre,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dh)}}})),uC}async function ww(t,e){const n=ib(t),i=(await RT()).transaction(dh,"readwrite"),s=i.objectStore(dh),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Ej(t,e.fid),e}async function Tj(t){const e=ib(t),r=(await RT()).transaction(dh,"readwrite");await r.objectStore(dh).delete(e),await r.done}async function sb(t,e){const n=ib(t),i=(await RT()).transaction(dh,"readwrite"),s=i.objectStore(dh),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Ej(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UT(t){let e;const n=await sb(t.appConfig,r=>{const i=Qre(r),s=jre(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===sE?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Qre(t){const e=t||{fid:Pre(),registrationStatus:0};return Ij(e)}function jre(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(hh.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Hre(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Vre(t)}:{installationEntry:e}}async function Hre(t,e){try{const n=await Nre(t,e);return ww(t.appConfig,n)}catch(n){throw vj(n)&&n.customData.serverCode===409?await Tj(t.appConfig):await ww(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Vre(t){let e=await Kk(t.appConfig);for(;e.registrationStatus===1;)await xj(100),e=await Kk(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await UT(t);return r||n}return e}function Kk(t){return sb(t,e=>{if(!e)throw hh.create("installation-not-found");return Ij(e)})}function Ij(t){return $re(t)?{fid:t.fid,registrationStatus:0}:t}function $re(t){return t.registrationStatus===1&&t.registrationTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zre({appConfig:t,heartbeatServiceProvider:e},n){const r=Kre(t,n),i=Sre(t,n),s=e.getImmediate({optional:!0});if(s){const A=await s.getHeartbeatsHeader();A&&i.append("x-firebase-client",A)}const o={installation:{sdkVersion:gj,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Cj(()=>fetch(r,a));if(l.ok){const A=await l.json();return wj(A)}else throw await bj("Generate Auth Token",l)}function Kre(t,{fid:e}){return`${yj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(t,e=!1){let n;const r=await sb(t.appConfig,s=>{if(!Nj(s))throw hh.create("not-registered");const o=s.authToken;if(!e&&qre(o))return s;if(o.requestStatus===1)return n=Wre(t,e),s;{if(!navigator.onLine)throw hh.create("app-offline");const a=Xre(s);return n=Gre(t,a),a}});return n?await n:r.authToken}async function Wre(t,e){let n=await Wk(t.appConfig);for(;n.authToken.requestStatus===1;)await xj(100),n=await Wk(t.appConfig);const r=n.authToken;return r.requestStatus===0?OT(t,e):r}function Wk(t){return sb(t,e=>{if(!Nj(e))throw hh.create("not-registered");const n=e.authToken;return Jre(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function Gre(t,e){try{const n=await zre(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await ww(t.appConfig,r),n}catch(n){if(vj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Tj(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ww(t.appConfig,r)}throw n}}function Nj(t){return t!==void 0&&t.registrationStatus===2}function qre(t){return t.requestStatus===2&&!Yre(t)}function Yre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Cre}function Xre(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function Jre(t){return t.requestStatus===1&&t.requestTime+pj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zre(t){const e=t,{installationEntry:n,registrationPromise:r}=await UT(e);return r?r.catch(console.error):OT(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eie(t,e=!1){const n=t;return await tie(n),(await OT(n,e)).token}async function tie(t){const{registrationPromise:e}=await UT(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nie(t){if(!t||!t.options)throw hC("App Configuration");if(!t.name)throw hC("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw hC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function hC(t){return hh.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fj="installations",rie="installations-internal",iie=t=>{const e=t.getProvider("app").getImmediate(),n=nie(e),r=Zc(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sie=t=>{const e=t.getProvider("app").getImmediate(),n=Zc(e,Fj).getImmediate();return{getId:()=>Zre(n),getToken:i=>eie(n,i)}};function oie(){Ea(new Go(Fj,iie,"PUBLIC")),Ea(new Go(rie,sie,"PRIVATE"))}oie();js(fj,LT);js(fj,LT,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="analytics",aie="firebase_id",lie="origin",Aie=60*1e3,cie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",MT="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new Sv("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uie={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ao=new Nh("analytics","Analytics",uie);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hie(t){if(!t.startsWith(MT)){const e=ao.create("invalid-gtag-resource",{gtagURL:t});return Hs.warn(e.message),""}return t}function kj(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function die(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function fie(t,e){const n=die("firebase-js-sdk-policy",{createScriptURL:hie}),r=document.createElement("script"),i=`${MT}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function pie(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function gie(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await kj(n)).find(A=>A.measurementId===i);l&&await e[l.appId]}}catch(a){Hs.error(a)}t("config",i,s)}async function mie(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await kj(n);for(const l of o){const A=a.find(u=>u.measurementId===l),c=A&&e[A.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Hs.error(s)}}function vie(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await mie(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await gie(t,e,n,r,a,l)}else if(s==="consent"){const[a,l]=o;t("consent",a,l)}else if(s==="get"){const[a,l,A]=o;t("get",a,l,A)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Hs.error(a)}}return i}function yie(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=vie(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function wie(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(MT)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bie=30,_ie=1e3;class Cie{constructor(e={},n=_ie){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Pj=new Cie;function xie(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function Bie(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:xie(r)},s=cie.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw ao.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Eie(t,e=Pj,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw ao.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ao.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Iie;return setTimeout(async()=>{a.abort()},n!==void 0?n:Aie),Dj({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Dj(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Pj){var s;const{appId:o,measurementId:a}=t;try{await Sie(r,e)}catch(l){if(a)return Hs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await Bie(t);return i.deleteThrottleMetadata(o),l}catch(l){const A=l;if(!Tie(A)){if(i.deleteThrottleMetadata(o),a)return Hs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${A==null?void 0:A.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=A==null?void 0:A.customData)===null||s===void 0?void 0:s.httpStatus)===503?RF(n,i.intervalMillis,bie):RF(n,i.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,u),Hs.debug(`Calling attemptFetch again in ${c} millis`),Dj(t,u,r,i)}}function Sie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(ao.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Tie(t){if(!(t instanceof Na)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Iie{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function Nie(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fie(){if(jS())try{await HS()}catch(t){return Hs.warn(ao.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Hs.warn(ao.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function kie(t,e,n,r,i,s,o){var a;const l=Eie(t);l.then(d=>{n[d.measurementId]=d.appId,t.options.measurementId&&d.measurementId!==t.options.measurementId&&Hs.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${d.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(d=>Hs.error(d)),e.push(l);const A=Fie().then(d=>{if(d)return r.getId()}),[c,u]=await Promise.all([l,A]);wie(s)||fie(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[lie]="firebase",h.update=!0,u!=null&&(h[aie]=u),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pie{constructor(e){this.app=e}_delete(){return delete Wg[this.app.options.appId],Promise.resolve()}}let Wg={},Gk=[];const qk={};let dC="dataLayer",Die="gtag",Yk,Lj,Xk=!1;function Lie(){const t=[];if(QS()&&t.push("This is a browser extension environment."),AQ()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=ao.create("invalid-analytics-context",{errorInfo:e});Hs.warn(n.message)}}function Rie(t,e,n){Lie();const r=t.options.appId;if(!r)throw ao.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Hs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ao.create("no-api-key");if(Wg[r]!=null)throw ao.create("already-exists",{id:r});if(!Xk){pie(dC);const{wrappedGtag:s,gtagCore:o}=yie(Wg,Gk,qk,dC,Die);Lj=s,Yk=o,Xk=!0}return Wg[r]=kie(t,Gk,qk,e,Yk,dC,n),new Pie(t)}function Uie(t=$S()){t=Dr(t);const e=Zc(t,bw);return e.isInitialized()?e.getImmediate():Oie(t)}function Oie(t,e={}){const n=Zc(t,bw);if(n.isInitialized()){const i=n.getImmediate();if(Nf(e,n.getOptions()))return i;throw ao.create("already-initialized")}return n.initialize({options:e})}async function Mie(){if(QS()||!AQ()||!jS())return!1;try{return await HS()}catch{return!1}}function Qie(t,e,n,r){t=Dr(t),Nie(Lj,Wg[t.app.options.appId],e,n,r).catch(i=>Hs.error(i))}const Jk="@firebase/analytics",Zk="0.10.8";function jie(){Ea(new Go(bw,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Rie(r,i,n)},"PUBLIC")),Ea(new Go("analytics-internal",t,"PRIVATE")),js(Jk,Zk),js(Jk,Zk,"esm2017");function t(e){try{const n=e.getProvider(bw).getImmediate();return{logEvent:(r,i,s)=>Qie(n,r,i,s)}}catch(n){throw ao.create("interop-component-reg-failed",{reason:n})}}}jie();const eP="@firebase/database",tP="1.0.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rj="";function Hie(t){Rj=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vie{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),vi(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Pm(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ie{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return gA(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Vie(e)}}catch{}return new $ie},ju=Uj("localStorage"),oE=Uj("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cf=new Sv("@firebase/database"),zie=function(){let t=1;return function(){return t++}}(),Oj=function(t){const e=UY(t),n=new PY;n.update(e);const r=n.digest();return US.encodeByteArray(r)},Ov=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ov.apply(null,r):typeof r=="object"?e+=vi(r):e+=r,e+=" "}return e};let Gu=null,nP=!0;const Kie=function(t,e){tt(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(cf.logLevel=nn.VERBOSE,Gu=cf.log.bind(cf),e&&oE.set("logging_enabled",!0)):typeof t=="function"?Gu=t:(Gu=null,oE.remove("logging_enabled"))},es=function(...t){if(nP===!0&&(nP=!1,Gu===null&&oE.get("logging_enabled")===!0&&Kie(!0)),Gu){const e=Ov.apply(null,t);Gu(e)}},Mv=function(t){return function(...e){es(t,...e)}},aE=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ov(...t);cf.error(e)},aA=function(...t){const e=`FIREBASE FATAL ERROR: ${Ov(...t)}`;throw cf.error(e),new Error(e)},lo=function(...t){const e="FIREBASE WARNING: "+Ov(...t);cf.warn(e)},Wie=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&lo("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Mj=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Gie=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Mf="[MIN_NAME]",fh="[MAX_NAME]",cp=function(t,e){if(t===e)return 0;if(t===Mf||e===fh)return-1;if(e===Mf||t===fh)return 1;{const n=rP(t),r=rP(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},qie=function(t,e){return t===e?0:t<e?-1:1},Yp=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+vi(e))},QT=function(t){if(typeof t!="object"||t===null)return vi(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=vi(e[r]),n+=":",n+=QT(t[e[r]]);return n+="}",n},Qj=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Ks(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const jj=function(t){tt(!Mj(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const A=[];for(l=n;l;l-=1)A.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)A.push(s%2?1:0),s=Math.floor(s/2);A.push(i?1:0),A.reverse();const c=A.join("");let u="";for(l=0;l<64;l+=8){let h=parseInt(c.substr(l,8),2).toString(16);h.length===1&&(h="0"+h),u=u+h}return u.toLowerCase()},Yie=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Xie=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Jie(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Zie=new RegExp("^-?(0*)\\d{1,10}$"),ese=-2147483648,tse=2147483647,rP=function(t){if(Zie.test(t)){const e=Number(t);if(e>=ese&&e<=tse)return e}return null},Qv=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw lo("Exception was thrown by user callback.",n),e},Math.floor(0))}},nse=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gg=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rse{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){lo(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ise{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(es("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',lo(e)}}class uf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}uf.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="5",Hj="v",Vj="s",$j="r",zj="f",Kj=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Wj="ls",Gj="p",lE="ac",qj="websocket",Yj="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ju.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ju.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sse(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Jj(t,e,n){tt(typeof e=="string","typeof type must == string"),tt(typeof n=="object","typeof params must == object");let r;if(e===qj)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Yj)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sse(t)&&(n.ns=t.namespace);const i=[];return Ks(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose{constructor(){this.counters_={}}incrementCounter(e,n=1){gA(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return mY(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC={},pC={};function HT(t){const e=t.toString();return fC[e]||(fC[e]=new ose),fC[e]}function ase(t,e){const n=t.toString();return pC[n]||(pC[n]=e()),pC[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lse{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Qv(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="start",Ase="close",cse="pLPCommand",use="pRTLPCB",Zj="id",e8="pw",t8="ser",hse="cb",dse="seg",fse="ts",pse="d",gse="dframe",n8=1870,r8=30,mse=n8-r8,vse=25e3,yse=3e4;class zd{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mv(e),this.stats_=HT(n),this.urlFn=l=>(this.appCheckToken&&(l[lE]=this.appCheckToken),Jj(n,Yj,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lse(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(yse)),Gie(()=>{if(this.isClosed_)return;this.scriptTagHolder=new VT((...s)=>{const[o,a,l,A,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===iP)this.id=a,this.password=l;else if(o===Ase)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[iP]="t",r[t8]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hse]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hj]=jT,this.transportSessionId&&(r[Vj]=this.transportSessionId),this.lastSessionId&&(r[Wj]=this.lastSessionId),this.applicationId&&(r[Gj]=this.applicationId),this.appCheckToken&&(r[lE]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kj.test(location.hostname)&&(r[$j]=zj);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){zd.forceAllow_=!0}static forceDisallow(){zd.forceDisallow_=!0}static isAvailable(){return zd.forceAllow_?!0:!zd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Yie()&&!Xie()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=vi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tQ(n),i=Qj(r,mse);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[gse]="t",r[Zj]=e,r[e8]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=vi(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class VT{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=zie(),window[cse+this.uniqueCallbackIdentifier]=e,window[use+this.uniqueCallbackIdentifier]=n,this.myIFrame=VT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){es("frame writing exception"),a.stack&&es(a.stack),es(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||es("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Zj]=this.myID,e[e8]=this.myPW,e[t8]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r8+r.length<=n8;){const o=this.pendingSegs.shift();r=r+"&"+dse+i+"="+o.seg+"&"+fse+i+"="+o.ts+"&"+pse+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vse)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{es("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wse=16384,bse=45e3;let _w=null;typeof MozWebSocket<"u"?_w=MozWebSocket:typeof WebSocket<"u"&&(_w=WebSocket);class va{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mv(this.connId),this.stats_=HT(n),this.connURL=va.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[Hj]=jT,typeof location<"u"&&location.hostname&&Kj.test(location.hostname)&&(o[$j]=zj),n&&(o[Vj]=n),r&&(o[Wj]=r),i&&(o[lE]=i),s&&(o[Gj]=s),Jj(e,qj,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ju.set("previous_websocket_failure",!0);try{let r;lQ(),this.mySock=new _w(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){va.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&_w!==null&&!va.forceDisallow_}static previouslyFailed(){return ju.isInMemoryStorage||ju.get("previous_websocket_failure")===!0}markConnectionHealthy(){ju.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Pm(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(tt(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=vi(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Qj(n,wse);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(bse))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}va.responsesRequiredToBeHealthy=2;va.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[zd,va]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=va&&va.isAvailable();let r=n&&!va.previouslyFailed();if(e.webSocketOnly&&(n||lo("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[va];else{const i=this.transports_=[];for(const s of zm.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);zm.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}zm.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _se=6e4,Cse=5e3,xse=10*1024,Bse=100*1024,gC="t",sP="d",Ese="s",oP="r",Sse="e",aP="o",lP="a",AP="n",cP="p",Tse="h";class Ise{constructor(e,n,r,i,s,o,a,l,A,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=A,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mv("c:"+this.id+":"),this.transportManager_=new zm(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Gg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Bse?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>xse?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(gC in e){const n=e[gC];n===lP?this.upgradeIfSecondaryHealthy_():n===oP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===aP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Yp("t",e),r=Yp("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:cP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:lP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:AP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Yp("t",e),r=Yp("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Yp(gC,e);if(sP in e){const r=e[sP];if(n===Tse){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===AP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ese?this.onConnectionShutdown_(r):n===oP?this.onReset_(r):n===Sse?aE("Server Error: "+r):n===aP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):aE("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),jT!==r&&lo("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(_se))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Cse))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:cP,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ju.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(e){this.allowedEvents_=e,this.listeners_={},tt(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){tt(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw extends s8{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Cw}getInitialEvent(e){return tt(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP=32,hP=768;class Un{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function fn(){return new Un("")}function Gt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function jc(t){return t.pieces_.length-t.pieceNum_}function jn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Un(t.pieces_,e)}function o8(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Nse(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function a8(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function l8(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Un(e,0)}function ni(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Un)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Un(n,0)}function qt(t){return t.pieceNum_>=t.pieces_.length}function Rs(t,e){const n=Gt(t),r=Gt(e);if(n===null)return e;if(n===r)return Rs(jn(t),jn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function $T(t,e){if(jc(t)!==jc(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function wa(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(jc(t)>jc(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Fse{constructor(e,n){this.errorPrefix_=n,this.parts_=a8(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$2(this.parts_[r]);A8(this)}}function kse(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=$2(e),A8(t)}function Pse(t){const e=t.parts_.pop();t.byteLength_-=$2(e),t.parts_.length>0&&(t.byteLength_-=1)}function A8(t){if(t.byteLength_>hP)throw new Error(t.errorPrefix_+"has a key path longer than "+hP+" bytes ("+t.byteLength_+").");if(t.parts_.length>uP)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+uP+") or object contains a cycle "+Eu(t))}function Eu(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends s8{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new zT}getInitialEvent(e){return tt(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xp=1e3,Dse=60*5*1e3,dP=30*1e3,Lse=1.3,Rse=3e4,Use="server_kill",fP=3;class Gl extends i8{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Gl.nextPersistentConnectionId_++,this.log_=Mv("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xp,this.maxReconnectDelay_=Dse,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!lQ())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");zT.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cw.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(vi(s)),tt(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new OS,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),tt(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,A=a.s;Gl.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),A!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(A,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&gA(e,"w")){const r=If(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();lo(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||kY(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=dP)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=FY(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),tt(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+vi(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):aE("Unrecognized action received from server: "+vi(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){tt(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Rse&&(this.reconnectDelay_=Xp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Lse)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Gl.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},A=function(u){tt(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(u)};this.realtime_={close:l,sendRequest:A};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[u,h]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?es("getToken() completed but was canceled"):(es("getToken() completed. Creating connection."),this.authToken_=u&&u.accessToken,this.appCheckToken_=h&&h.token,a=new Ise(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,d=>{lo(d+" ("+this.repoInfo_.toString()+")"),this.interrupt(Use)},s))}catch(u){this.log_("Failed to get token: "+u),o||(this.repoInfo_.nodeAdmin&&lo(u),l())}}}interrupt(e){es("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){es("Resuming connection for reason: "+e),delete this.interruptReasons_[e],DB(this.interruptReasons_)&&(this.reconnectDelay_=Xp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>QT(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new Un(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){es("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=fP&&(this.reconnectDelay_=dP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){es("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=fP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Rj.replace(/\./g,"-")]=1,MS()?e["framework.cordova"]=1:aQ()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cw.getInstance().currentlyOnline();return DB(this.interruptReasons_)&&e}}Gl.nextPersistentConnectionId_=0;Gl.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new zt(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new zt(Mf,e),i=new zt(Mf,n);return this.compare(r,i)!==0}minPost(){return zt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ny;class c8 extends ob{static get __EMPTY_NODE(){return ny}static set __EMPTY_NODE(e){ny=e}compare(e,n){return cp(e.name,n.name)}isDefinedOn(e){throw rp("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return zt.MIN}maxPost(){return new zt(fh,ny)}makePost(e,n){return tt(typeof e=="string","KeyIndex indexValue must always be a string."),new zt(e,ny)}toString(){return".key"}}const hf=new c8;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class gi{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??gi.RED,this.left=i??Us.EMPTY_NODE,this.right=s??Us.EMPTY_NODE}copy(e,n,r,i,s){return new gi(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Us.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Us.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}gi.RED=!0;gi.BLACK=!1;class Ose{copy(e,n,r,i,s){return this}insert(e,n,r){return new gi(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Us{constructor(e,n=Us.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Us(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,gi.BLACK,null,null))}remove(e){return new Us(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gi.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ry(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ry(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ry(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ry(this.root_,null,this.comparator_,!0,e)}}Us.EMPTY_NODE=new Ose;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mse(t,e){return cp(t.name,e.name)}function KT(t,e){return cp(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AE;function Qse(t){AE=t}const u8=function(t){return typeof t=="number"?"number:"+jj(t):"string:"+t},h8=function(t){if(t.isLeafNode()){const e=t.val();tt(typeof e=="string"||typeof e=="number"||typeof e=="object"&&gA(e,".sv"),"Priority must be a string or number.")}else tt(t===AE||t.isEmpty(),"priority of unexpected type.");tt(t===AE||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pP;class di{constructor(e,n=di.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,tt(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),h8(this.priorityNode_)}static set __childrenNodeConstructor(e){pP=e}static get __childrenNodeConstructor(){return pP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new di(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:di.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return qt(e)?this:Gt(e)===".priority"?this.priorityNode_:di.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:di.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Gt(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(tt(r!==".priority"||jc(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,di.__childrenNodeConstructor.EMPTY_NODE.updateChild(jn(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+u8(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=jj(this.value_):e+=this.value_,this.lazyHash_=Oj(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===di.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof di.__childrenNodeConstructor?-1:(tt(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=di.VALUE_TYPE_ORDER.indexOf(n),s=di.VALUE_TYPE_ORDER.indexOf(r);return tt(i>=0,"Unknown leaf type: "+n),tt(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}di.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d8,f8;function jse(t){d8=t}function Hse(t){f8=t}class Vse extends ob{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?cp(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return zt.MIN}maxPost(){return new zt(fh,new di("[PRIORITY-POST]",f8))}makePost(e,n){const r=d8(e);return new zt(n,new di("[PRIORITY-POST]",r))}toString(){return".priority"}}const vr=new Vse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $se=Math.log(2);class zse{constructor(e){const n=s=>parseInt(Math.log(s)/$se,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xw=function(t,e,n,r){t.sort(e);const i=function(l,A){const c=A-l;let u,h;if(c===0)return null;if(c===1)return u=t[l],h=n?n(u):u,new gi(h,u.node,gi.BLACK,null,null);{const d=parseInt(c/2,10)+l,p=i(l,d),f=i(d+1,A);return u=t[d],h=n?n(u):u,new gi(h,u.node,gi.BLACK,p,f)}},s=function(l){let A=null,c=null,u=t.length;const h=function(p,f){const b=u-p,g=u;u-=p;const v=i(b+1,g),_=t[b],x=n?n(_):_;d(new gi(x,_.node,f,null,v))},d=function(p){A?(A.left=p,A=p):(c=p,A=p)};for(let p=0;p<l.count;++p){const f=l.nextBitIsOne(),b=Math.pow(2,l.count-(p+1));f?h(b,gi.BLACK):(h(b,gi.BLACK),h(b,gi.RED))}return c},o=new zse(t.length),a=s(o);return new Us(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mC;const ud={};class Vl{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return tt(ud&&vr,"ChildrenNode.ts has not been loaded"),mC=mC||new Vl({".priority":ud},{".priority":vr}),mC}get(e){const n=If(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Us?n:null}hasIndex(e){return gA(this.indexSet_,e.toString())}addIndex(e,n){tt(e!==hf,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(zt.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=xw(r,e.getCompare()):a=ud;const l=e.toString(),A=Object.assign({},this.indexSet_);A[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Vl(c,A)}addToIndexes(e,n){const r=iw(this.indexes_,(i,s)=>{const o=If(this.indexSet_,s);if(tt(o,"Missing index implementation for "+s),i===ud)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(zt.Wrap);let A=l.getNext();for(;A;)A.name!==e.name&&a.push(A),A=l.getNext();return a.push(e),xw(a,o.getCompare())}else return ud;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new zt(e.name,a))),l.insert(e,e.node)}});return new Vl(r,this.indexSet_)}removeFromIndexes(e,n){const r=iw(this.indexes_,i=>{if(i===ud)return i;{const s=n.get(e.name);return s?i.remove(new zt(e.name,s)):i}});return new Vl(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jp;class Nt{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&h8(this.priorityNode_),this.children_.isEmpty()&&tt(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Jp||(Jp=new Nt(new Us(KT),null,Vl.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Jp}updatePriority(e){return this.children_.isEmpty()?this:new Nt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Jp:n}}getChild(e){const n=Gt(e);return n===null?this:this.getImmediateChild(n).getChild(jn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(tt(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new zt(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Jp:this.priorityNode_;return new Nt(i,o,s)}}updateChild(e,n){const r=Gt(e);if(r===null)return n;{tt(Gt(e)!==".priority"||jc(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(jn(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(vr,(o,a)=>{n[o]=a.val(e),r++,s&&Nt.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+u8(this.getPriority().val())+":"),this.forEachChild(vr,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":Oj(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new zt(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new zt(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new zt(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,zt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,zt.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===jv?-1:0}withIndex(e){if(e===hf||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Nt(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===hf||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(vr),i=n.getIterator(vr);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===hf?null:this.indexMap_.get(e.toString())}}Nt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Kse extends Nt{constructor(){super(new Us(KT),Nt.EMPTY_NODE,Vl.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Nt.EMPTY_NODE}isEmpty(){return!1}}const jv=new Kse;Object.defineProperties(zt,{MIN:{value:new zt(Mf,Nt.EMPTY_NODE)},MAX:{value:new zt(fh,jv)}});c8.__EMPTY_NODE=Nt.EMPTY_NODE;di.__childrenNodeConstructor=Nt;Qse(jv);Hse(jv);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wse=!0;function ts(t,e=null){if(t===null)return Nt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),tt(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new di(n,ts(e))}if(!(t instanceof Array)&&Wse){const n=[];let r=!1;if(Ks(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=ts(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new zt(o,l)))}}),n.length===0)return Nt.EMPTY_NODE;const s=xw(n,Mse,o=>o.name,KT);if(r){const o=xw(n,vr.getCompare());return new Nt(s,ts(e),new Vl({".priority":o},{".priority":vr}))}else return new Nt(s,ts(e),Vl.Default)}else{let n=Nt.EMPTY_NODE;return Ks(t,(r,i)=>{if(gA(t,r)&&r.substring(0,1)!=="."){const s=ts(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(ts(e))}}jse(ts);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse extends ob{constructor(e){super(),this.indexPath_=e,tt(!qt(e)&&Gt(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?cp(e.name,n.name):s}makePost(e,n){const r=ts(e),i=Nt.EMPTY_NODE.updateChild(this.indexPath_,r);return new zt(n,i)}maxPost(){const e=Nt.EMPTY_NODE.updateChild(this.indexPath_,jv);return new zt(fh,e)}toString(){return a8(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qse extends ob{compare(e,n){const r=e.node.compareTo(n.node);return r===0?cp(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return zt.MIN}maxPost(){return zt.MAX}makePost(e,n){const r=ts(e);return new zt(n,r)}toString(){return".value"}}const Yse=new qse;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(t){return{type:"value",snapshotNode:t}}function Qf(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Km(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Wm(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Xse(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){tt(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(Km(n,a)):tt(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Qf(n,r)):o.trackChildChange(Wm(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(vr,(i,s)=>{n.hasChild(i)||r.trackChildChange(Km(i,s))}),n.isLeafNode()||n.forEachChild(vr,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(Wm(i,s,o))}else r.trackChildChange(Qf(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Nt.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this.indexedFilter_=new WT(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Gm.getStartPost_(e),this.endPost_=Gm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new zt(n,r))||(r=Nt.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Nt.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Nt.EMPTY_NODE);const s=this;return n.forEachChild(vr,(o,a)=>{s.matches(new zt(o,a))||(i=i.updateImmediateChild(o,Nt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jse{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Gm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new zt(n,r))||(r=Nt.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Nt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Nt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Nt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Nt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const u=this.index_.getCompare();o=(h,d)=>u(d,h)}else o=this.index_.getCompare();const a=e;tt(a.numChildren()===this.limit_,"");const l=new zt(n,r),A=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const u=a.getImmediateChild(n);let h=i.getChildAfterChild(this.index_,A,this.reverse_);for(;h!=null&&(h.name===n||a.hasChild(h.name));)h=i.getChildAfterChild(this.index_,h,this.reverse_);const d=h==null?1:o(h,l);if(c&&!r.isEmpty()&&d>=0)return s!=null&&s.trackChildChange(Wm(n,r,u)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(Km(n,u));const f=a.updateImmediateChild(n,Nt.EMPTY_NODE);return h!=null&&this.rangedFilter_.matches(h)?(s!=null&&s.trackChildChange(Qf(h.name,h.node)),f.updateImmediateChild(h.name,h.node)):f}}else return r.isEmpty()?e:c&&o(A,l)>=0?(s!=null&&(s.trackChildChange(Km(A.name,A.node)),s.trackChildChange(Qf(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(A.name,Nt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=vr}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return tt(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return tt(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Mf}hasEnd(){return this.endSet_}getIndexEndValue(){return tt(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return tt(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fh}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return tt(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===vr}copy(){const e=new GT;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Zse(t){return t.loadsAllData()?new WT(t.getIndex()):t.hasLimit()?new Jse(t):new Gm(t)}function gP(t){const e={};if(t.isDefault())return e;let n;if(t.index_===vr?n="$priority":t.index_===Yse?n="$value":t.index_===hf?n="$key":(tt(t.index_ instanceof Gse,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=vi(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=vi(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+vi(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=vi(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+vi(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function mP(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==vr&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw extends i8{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Mv("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(tt(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Bw.getListenId_(e,r),a={};this.listens_[o]=a;const l=gP(e._queryParams);this.restRequest_(s+".json",l,(A,c)=>{let u=c;if(A===404&&(u=null,A=null),A===null&&this.onDataUpdate_(s,u,!1,r),If(this.listens_,o)===a){let h;A?A===401?h="permission_denied":h="rest_error:"+A:h="ok",i(h,null)}})}unlisten(e,n){const r=Bw.getListenId_(e,n);delete this.listens_[r]}get(e){const n=gP(e._queryParams),r=e._path.toString(),i=new OS;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ip(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Pm(a.responseText)}catch{lo("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&lo("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eoe{constructor(){this.rootNode_=Nt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(){return{value:null,children:new Map}}function g8(t,e,n){if(qt(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Gt(e);t.children.has(r)||t.children.set(r,Ew());const i=t.children.get(r);e=jn(e),g8(i,e,n)}}function cE(t,e,n){t.value!==null?n(e,t.value):toe(t,(r,i)=>{const s=new Un(e.toString()+"/"+r);cE(i,s,n)})}function toe(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ks(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=10*1e3,roe=30*1e3,ioe=5*60*1e3;class soe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new noe(e);const r=vP+(roe-vP)*Math.random();Gg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Ks(e,(i,s)=>{s>0&&gA(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Gg(this.reportStats_.bind(this),Math.floor(Math.random()*2*ioe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ba;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ba||(ba={}));function m8(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function YT(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=ba.ACK_USER_WRITE,this.source=m8()}operationForChild(e){if(qt(this.path)){if(this.affectedTree.value!=null)return tt(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Un(e));return new Sw(fn(),n,this.revert)}}else return tt(Gt(this.path)===e,"operationForChild called for unrelated child."),new Sw(jn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,n){this.source=e,this.path=n,this.type=ba.LISTEN_COMPLETE}operationForChild(e){return qt(this.path)?new qm(this.source,fn()):new qm(this.source,jn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=ba.OVERWRITE}operationForChild(e){return qt(this.path)?new ph(this.source,fn(),this.snap.getImmediateChild(e)):new ph(this.source,jn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=ba.MERGE}operationForChild(e){if(qt(this.path)){const n=this.children.subtree(new Un(e));return n.isEmpty()?null:n.value?new ph(this.source,fn(),n.value):new Ym(this.source,fn(),n)}else return tt(Gt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ym(this.source,jn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(qt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Gt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ooe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function aoe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Xse(o.childName,o.snapshotNode))}),Zp(t,i,"child_removed",e,r,n),Zp(t,i,"child_added",e,r,n),Zp(t,i,"child_moved",s,r,n),Zp(t,i,"child_changed",e,r,n),Zp(t,i,"value",e,r,n),i}function Zp(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Aoe(t,a,l)),o.forEach(a=>{const l=loe(t,a,s);i.forEach(A=>{A.respondsTo(a.type)&&e.push(A.createEvent(l,t.query_))})})}function loe(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Aoe(t,e,n){if(e.childName==null||n.childName==null)throw rp("Should only compare child_ events.");const r=new zt(e.childName,e.snapshotNode),i=new zt(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ab(t,e){return{eventCache:t,serverCache:e}}function qg(t,e,n,r){return ab(new gh(e,n,r),t.serverCache)}function v8(t,e,n,r){return ab(t.eventCache,new gh(e,n,r))}function uE(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function mh(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vC;const coe=()=>(vC||(vC=new Us(qie)),vC);class Gn{constructor(e,n=coe()){this.value=e,this.children=n}static fromObject(e){let n=new Gn(null);return Ks(e,(r,i)=>{n=n.set(new Un(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:fn(),value:this.value};if(qt(e))return null;{const r=Gt(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(jn(e),n);return s!=null?{path:ni(new Un(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(qt(e))return this;{const n=Gt(e),r=this.children.get(n);return r!==null?r.subtree(jn(e)):new Gn(null)}}set(e,n){if(qt(e))return new Gn(n,this.children);{const r=Gt(e),s=(this.children.get(r)||new Gn(null)).set(jn(e),n),o=this.children.insert(r,s);return new Gn(this.value,o)}}remove(e){if(qt(e))return this.children.isEmpty()?new Gn(null):new Gn(null,this.children);{const n=Gt(e),r=this.children.get(n);if(r){const i=r.remove(jn(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new Gn(null):new Gn(this.value,s)}else return this}}get(e){if(qt(e))return this.value;{const n=Gt(e),r=this.children.get(n);return r?r.get(jn(e)):null}}setTree(e,n){if(qt(e))return n;{const r=Gt(e),s=(this.children.get(r)||new Gn(null)).setTree(jn(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new Gn(this.value,o)}}fold(e){return this.fold_(fn(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(ni(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,fn(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(qt(e))return null;{const s=Gt(e),o=this.children.get(s);return o?o.findOnPath_(jn(e),ni(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,fn(),n)}foreachOnPath_(e,n,r){if(qt(e))return this;{this.value&&r(n,this.value);const i=Gt(e),s=this.children.get(i);return s?s.foreachOnPath_(jn(e),ni(n,i),r):new Gn(null)}}foreach(e){this.foreach_(fn(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(ni(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.writeTree_=e}static empty(){return new xa(new Gn(null))}}function Yg(t,e,n){if(qt(e))return new xa(new Gn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=Rs(i,e);return s=s.updateChild(o,n),new xa(t.writeTree_.set(i,s))}else{const i=new Gn(n),s=t.writeTree_.setTree(e,i);return new xa(s)}}}function yP(t,e,n){let r=t;return Ks(n,(i,s)=>{r=Yg(r,ni(e,i),s)}),r}function wP(t,e){if(qt(e))return xa.empty();{const n=t.writeTree_.setTree(e,new Gn(null));return new xa(n)}}function hE(t,e){return Lh(t,e)!=null}function Lh(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Rs(n.path,e)):null}function bP(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(vr,(r,i)=>{e.push(new zt(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new zt(r,i.value))}),e}function Nc(t,e){if(qt(e))return t;{const n=Lh(t,e);return n!=null?new xa(new Gn(n)):new xa(t.writeTree_.subtree(e))}}function dE(t){return t.writeTree_.isEmpty()}function jf(t,e){return y8(fn(),t.writeTree_,e)}function y8(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(tt(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=y8(ni(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(ni(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(t,e){return C8(e,t)}function uoe(t,e,n,r,i){tt(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Yg(t.visibleWrites,e,n)),t.lastWriteId=r}function hoe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function doe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);tt(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&foe(a,r.path)?i=!1:wa(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return poe(t),!0;if(r.snap)t.visibleWrites=wP(t.visibleWrites,r.path);else{const a=r.children;Ks(a,l=>{t.visibleWrites=wP(t.visibleWrites,ni(r.path,l))})}return!0}else return!1}function foe(t,e){if(t.snap)return wa(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&wa(ni(t.path,n),e))return!0;return!1}function poe(t){t.visibleWrites=w8(t.allWrites,goe,fn()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function goe(t){return t.visible}function w8(t,e,n){let r=xa.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)wa(n,o)?(a=Rs(n,o),r=Yg(r,a,s.snap)):wa(o,n)&&(a=Rs(o,n),r=Yg(r,fn(),s.snap.getChild(a)));else if(s.children){if(wa(n,o))a=Rs(n,o),r=yP(r,a,s.children);else if(wa(o,n))if(a=Rs(o,n),qt(a))r=yP(r,fn(),s.children);else{const l=If(s.children,Gt(a));if(l){const A=l.getChild(jn(a));r=Yg(r,fn(),A)}}}else throw rp("WriteRecord should have .snap or .children")}}return r}function b8(t,e,n,r,i){if(!r&&!i){const s=Lh(t.visibleWrites,e);if(s!=null)return s;{const o=Nc(t.visibleWrites,e);if(dE(o))return n;if(n==null&&!hE(o,fn()))return null;{const a=n||Nt.EMPTY_NODE;return jf(o,a)}}}else{const s=Nc(t.visibleWrites,e);if(!i&&dE(s))return n;if(!i&&n==null&&!hE(s,fn()))return null;{const o=function(A){return(A.visible||i)&&(!r||!~r.indexOf(A.writeId))&&(wa(A.path,e)||wa(e,A.path))},a=w8(t.allWrites,o,e),l=n||Nt.EMPTY_NODE;return jf(a,l)}}}function moe(t,e,n){let r=Nt.EMPTY_NODE;const i=Lh(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(vr,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=Nc(t.visibleWrites,e);return n.forEachChild(vr,(o,a)=>{const l=jf(Nc(s,new Un(o)),a);r=r.updateImmediateChild(o,l)}),bP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=Nc(t.visibleWrites,e);return bP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function voe(t,e,n,r,i){tt(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=ni(e,n);if(hE(t.visibleWrites,s))return null;{const o=Nc(t.visibleWrites,s);return dE(o)?i.getChild(n):jf(o,i.getChild(n))}}function yoe(t,e,n,r){const i=ni(e,n),s=Lh(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=Nc(t.visibleWrites,i);return jf(o,r.getNode().getImmediateChild(n))}else return null}function woe(t,e){return Lh(t.visibleWrites,e)}function boe(t,e,n,r,i,s,o){let a;const l=Nc(t.visibleWrites,e),A=Lh(l,fn());if(A!=null)a=A;else if(n!=null)a=jf(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],u=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let d=h.getNext();for(;d&&c.length<i;)u(d,r)!==0&&c.push(d),d=h.getNext();return c}else return[]}function _oe(){return{visibleWrites:xa.empty(),allWrites:[],lastWriteId:-1}}function Tw(t,e,n,r){return b8(t.writeTree,t.treePath,e,n,r)}function JT(t,e){return moe(t.writeTree,t.treePath,e)}function _P(t,e,n,r){return voe(t.writeTree,t.treePath,e,n,r)}function Iw(t,e){return woe(t.writeTree,ni(t.treePath,e))}function Coe(t,e,n,r,i,s){return boe(t.writeTree,t.treePath,e,n,r,i,s)}function ZT(t,e,n){return yoe(t.writeTree,t.treePath,e,n)}function _8(t,e){return C8(ni(t.treePath,e),t.writeTree)}function C8(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xoe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;tt(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),tt(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,Wm(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,Km(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,Qf(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,Wm(r,e.snapshotNode,i.oldSnap));else throw rp("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const x8=new Boe;class eI{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new gh(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ZT(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:mh(this.viewCache_),s=Coe(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eoe(t){return{filter:t}}function Soe(t,e){tt(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),tt(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Toe(t,e,n,r,i){const s=new xoe;let o,a;if(n.type===ba.OVERWRITE){const A=n;A.source.fromUser?o=fE(t,e,A.path,A.snap,r,i,s):(tt(A.source.fromServer,"Unknown source."),a=A.source.tagged||e.serverCache.isFiltered()&&!qt(A.path),o=Nw(t,e,A.path,A.snap,r,i,a,s))}else if(n.type===ba.MERGE){const A=n;A.source.fromUser?o=Noe(t,e,A.path,A.children,r,i,s):(tt(A.source.fromServer,"Unknown source."),a=A.source.tagged||e.serverCache.isFiltered(),o=pE(t,e,A.path,A.children,r,i,a,s))}else if(n.type===ba.ACK_USER_WRITE){const A=n;A.revert?o=Poe(t,e,A.path,r,i,s):o=Foe(t,e,A.path,A.affectedTree,r,i,s)}else if(n.type===ba.LISTEN_COMPLETE)o=koe(t,e,n.path,r,s);else throw rp("Unknown operation type: "+n.type);const l=s.getChanges();return Ioe(e,o,l),{viewCache:o,changes:l}}function Ioe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=uE(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(p8(uE(e)))}}function B8(t,e,n,r,i,s){const o=e.eventCache;if(Iw(r,n)!=null)return e;{let a,l;if(qt(n))if(tt(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const A=mh(e),c=A instanceof Nt?A:Nt.EMPTY_NODE,u=JT(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const A=Tw(r,mh(e));a=t.filter.updateFullNode(e.eventCache.getNode(),A,s)}else{const A=Gt(n);if(A===".priority"){tt(jc(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const u=_P(r,n,c,l);u!=null?a=t.filter.updatePriority(c,u):a=o.getNode()}else{const c=jn(n);let u;if(o.isCompleteForChild(A)){l=e.serverCache.getNode();const h=_P(r,n,o.getNode(),l);h!=null?u=o.getNode().getImmediateChild(A).updateChild(c,h):u=o.getNode().getImmediateChild(A)}else u=ZT(r,A,e.serverCache);u!=null?a=t.filter.updateChild(o.getNode(),A,u,c,i,s):a=o.getNode()}}return qg(e,a,o.isFullyInitialized()||qt(n),t.filter.filtersNodes())}}function Nw(t,e,n,r,i,s,o,a){const l=e.serverCache;let A;const c=o?t.filter:t.filter.getIndexedFilter();if(qt(n))A=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const d=l.getNode().updateChild(n,r);A=c.updateFullNode(l.getNode(),d,null)}else{const d=Gt(n);if(!l.isCompleteForPath(n)&&jc(n)>1)return e;const p=jn(n),b=l.getNode().getImmediateChild(d).updateChild(p,r);d===".priority"?A=c.updatePriority(l.getNode(),b):A=c.updateChild(l.getNode(),d,b,p,x8,null)}const u=v8(e,A,l.isFullyInitialized()||qt(n),c.filtersNodes()),h=new eI(i,u,s);return B8(t,u,n,i,h,a)}function fE(t,e,n,r,i,s,o){const a=e.eventCache;let l,A;const c=new eI(i,e,s);if(qt(n))A=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=qg(e,A,!0,t.filter.filtersNodes());else{const u=Gt(n);if(u===".priority")A=t.filter.updatePriority(e.eventCache.getNode(),r),l=qg(e,A,a.isFullyInitialized(),a.isFiltered());else{const h=jn(n),d=a.getNode().getImmediateChild(u);let p;if(qt(h))p=r;else{const f=c.getCompleteChild(u);f!=null?o8(h)===".priority"&&f.getChild(l8(h)).isEmpty()?p=f:p=f.updateChild(h,r):p=Nt.EMPTY_NODE}if(d.equals(p))l=e;else{const f=t.filter.updateChild(a.getNode(),u,p,h,c,o);l=qg(e,f,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function CP(t,e){return t.eventCache.isCompleteForChild(e)}function Noe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,A)=>{const c=ni(n,l);CP(e,Gt(c))&&(a=fE(t,a,c,A,i,s,o))}),r.foreach((l,A)=>{const c=ni(n,l);CP(e,Gt(c))||(a=fE(t,a,c,A,i,s,o))}),a}function xP(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function pE(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,A;qt(n)?A=r:A=new Gn(null).setTree(n,r);const c=e.serverCache.getNode();return A.children.inorderTraversal((u,h)=>{if(c.hasChild(u)){const d=e.serverCache.getNode().getImmediateChild(u),p=xP(t,d,h);l=Nw(t,l,new Un(u),p,i,s,o,a)}}),A.children.inorderTraversal((u,h)=>{const d=!e.serverCache.isCompleteForChild(u)&&h.value===null;if(!c.hasChild(u)&&!d){const p=e.serverCache.getNode().getImmediateChild(u),f=xP(t,p,h);l=Nw(t,l,new Un(u),f,i,s,o,a)}}),l}function Foe(t,e,n,r,i,s,o){if(Iw(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(qt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Nw(t,e,n,l.getNode().getChild(n),i,s,a,o);if(qt(n)){let A=new Gn(null);return l.getNode().forEachChild(hf,(c,u)=>{A=A.set(new Un(c),u)}),pE(t,e,n,A,i,s,a,o)}else return e}else{let A=new Gn(null);return r.foreach((c,u)=>{const h=ni(n,c);l.isCompleteForPath(h)&&(A=A.set(c,l.getNode().getChild(h)))}),pE(t,e,n,A,i,s,a,o)}}function koe(t,e,n,r,i){const s=e.serverCache,o=v8(e,s.getNode(),s.isFullyInitialized()||qt(n),s.isFiltered());return B8(t,o,n,r,x8,i)}function Poe(t,e,n,r,i,s){let o;if(Iw(r,n)!=null)return e;{const a=new eI(r,e,i),l=e.eventCache.getNode();let A;if(qt(n)||Gt(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=Tw(r,mh(e));else{const u=e.serverCache.getNode();tt(u instanceof Nt,"serverChildren would be complete if leaf node"),c=JT(r,u)}c=c,A=t.filter.updateFullNode(l,c,s)}else{const c=Gt(n);let u=ZT(r,c,e.serverCache);u==null&&e.serverCache.isCompleteForChild(c)&&(u=l.getImmediateChild(c)),u!=null?A=t.filter.updateChild(l,c,u,jn(n),a,s):e.eventCache.getNode().hasChild(c)?A=t.filter.updateChild(l,c,Nt.EMPTY_NODE,jn(n),a,s):A=l,A.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Tw(r,mh(e)),o.isLeafNode()&&(A=t.filter.updateFullNode(A,o,s)))}return o=e.serverCache.isFullyInitialized()||Iw(r,fn())!=null,qg(e,A,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new WT(r.getIndex()),s=Zse(r);this.processor_=Eoe(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Nt.EMPTY_NODE,o.getNode(),null),A=s.updateFullNode(Nt.EMPTY_NODE,a.getNode(),null),c=new gh(l,o.isFullyInitialized(),i.filtersNodes()),u=new gh(A,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=ab(u,c),this.eventGenerator_=new ooe(this.query_)}get query(){return this.query_}}function Loe(t){return t.viewCache_.serverCache.getNode()}function Roe(t,e){const n=mh(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!qt(e)&&!n.getImmediateChild(Gt(e)).isEmpty())?n.getChild(e):null}function BP(t){return t.eventRegistrations_.length===0}function Uoe(t,e){t.eventRegistrations_.push(e)}function EP(t,e,n){const r=[];if(n){tt(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function SP(t,e,n,r){e.type===ba.MERGE&&e.source.queryId!==null&&(tt(mh(t.viewCache_),"We should always have a full cache before handling merges"),tt(uE(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=Toe(t.processor_,i,e,n,r);return Soe(t.processor_,s.viewCache),tt(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,E8(t,s.changes,s.viewCache.eventCache.getNode(),null)}function Ooe(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(vr,(s,o)=>{r.push(Qf(s,o))}),n.isFullyInitialized()&&r.push(p8(n.getNode())),E8(t,r,n.getNode(),e)}function E8(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return aoe(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fw;class Moe{constructor(){this.views=new Map}}function Qoe(t){tt(!Fw,"__referenceConstructor has already been defined"),Fw=t}function joe(){return tt(Fw,"Reference.ts has not been loaded"),Fw}function Hoe(t){return t.views.size===0}function tI(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return tt(s!=null,"SyncTree gave us an op for an invalid query."),SP(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(SP(o,e,n,r));return s}}function Voe(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Tw(n,i?r:null),l=!1;a?l=!0:r instanceof Nt?(a=JT(n,r),l=!1):(a=Nt.EMPTY_NODE,l=!1);const A=ab(new gh(a,l,!1),new gh(r,i,!1));return new Doe(e,A)}return o}function $oe(t,e,n,r,i,s){const o=Voe(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),Uoe(o,n),Ooe(o,n)}function zoe(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=Hc(t);if(i==="default")for(const[l,A]of t.views.entries())o=o.concat(EP(A,n,r)),BP(A)&&(t.views.delete(l),A.query._queryParams.loadsAllData()||s.push(A.query));else{const l=t.views.get(i);l&&(o=o.concat(EP(l,n,r)),BP(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Hc(t)&&s.push(new(joe())(e._repo,e._path)),{removed:s,events:o}}function S8(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function df(t,e){let n=null;for(const r of t.views.values())n=n||Roe(r,e);return n}function T8(t,e){if(e._queryParams.loadsAllData())return lb(t);{const r=e._queryIdentifier;return t.views.get(r)}}function I8(t,e){return T8(t,e)!=null}function Hc(t){return lb(t)!=null}function lb(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kw;function Koe(t){tt(!kw,"__referenceConstructor has already been defined"),kw=t}function Woe(){return tt(kw,"Reference.ts has not been loaded"),kw}let Goe=1;class TP{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Gn(null),this.pendingWriteTree_=_oe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function qoe(t,e,n,r,i){return uoe(t.pendingWriteTree_,e,n,r,i),i?Hv(t,new ph(m8(),e,n)):[]}function Kd(t,e,n=!1){const r=hoe(t.pendingWriteTree_,e);if(doe(t.pendingWriteTree_,e)){let s=new Gn(null);return r.snap!=null?s=s.set(fn(),!0):Ks(r.children,o=>{s=s.set(new Un(o),!0)}),Hv(t,new Sw(r.path,s,n))}else return[]}function Ab(t,e,n){return Hv(t,new ph(qT(),e,n))}function Yoe(t,e,n){const r=Gn.fromObject(n);return Hv(t,new Ym(qT(),e,r))}function Xoe(t,e){return Hv(t,new qm(qT(),e))}function Joe(t,e,n){const r=nI(t,n);if(r){const i=rI(r),s=i.path,o=i.queryId,a=Rs(s,e),l=new qm(YT(o),a);return iI(t,s,l)}else return[]}function gE(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||I8(o,e))){const l=zoe(o,e,n,r);Hoe(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const A=l.removed;if(a=l.events,!i){const c=A.findIndex(h=>h._queryParams.loadsAllData())!==-1,u=t.syncPointTree_.findOnPath(s,(h,d)=>Hc(d));if(c&&!u){const h=t.syncPointTree_.subtree(s);if(!h.isEmpty()){const d=tae(h);for(let p=0;p<d.length;++p){const f=d[p],b=f.query,g=P8(t,f);t.listenProvider_.startListening(Xg(b),Pw(t,b),g.hashFn,g.onComplete)}}}!u&&A.length>0&&!r&&(c?t.listenProvider_.stopListening(Xg(e),null):A.forEach(h=>{const d=t.queryToTagMap.get(cb(h));t.listenProvider_.stopListening(Xg(h),d)}))}nae(t,A)}return a}function Zoe(t,e,n,r){const i=nI(t,r);if(i!=null){const s=rI(i),o=s.path,a=s.queryId,l=Rs(o,e),A=new ph(YT(a),l,n);return iI(t,o,A)}else return[]}function eae(t,e,n,r){const i=nI(t,r);if(i){const s=rI(i),o=s.path,a=s.queryId,l=Rs(o,e),A=Gn.fromObject(n),c=new Ym(YT(a),l,A);return iI(t,o,c)}else return[]}function IP(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(h,d)=>{const p=Rs(h,i);s=s||df(d,p),o=o||Hc(d)});let a=t.syncPointTree_.get(i);a?(o=o||Hc(a),s=s||df(a,fn())):(a=new Moe,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Nt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((d,p)=>{const f=df(p,fn());f&&(s=s.updateImmediateChild(d,f))}));const A=I8(a,e);if(!A&&!e._queryParams.loadsAllData()){const h=cb(e);tt(!t.queryToTagMap.has(h),"View does not exist, but we have a tag");const d=rae();t.queryToTagMap.set(h,d),t.tagToQueryMap.set(d,h)}const c=XT(t.pendingWriteTree_,i);let u=$oe(a,e,n,c,s,l);if(!A&&!o&&!r){const h=T8(a,e);u=u.concat(iae(t,e,h))}return u}function N8(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Rs(o,e),A=df(a,l);if(A)return A});return b8(i,e,s,n,!0)}function Hv(t,e){return F8(e,t.syncPointTree_,null,XT(t.pendingWriteTree_,fn()))}function F8(t,e,n,r){if(qt(t.path))return k8(t,e,n,r);{const i=e.get(fn());n==null&&i!=null&&(n=df(i,fn()));let s=[];const o=Gt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const A=n?n.getImmediateChild(o):null,c=_8(r,o);s=s.concat(F8(a,l,A,c))}return i&&(s=s.concat(tI(i,t,r,n))),s}}function k8(t,e,n,r){const i=e.get(fn());n==null&&i!=null&&(n=df(i,fn()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,A=_8(r,o),c=t.operationForChild(o);c&&(s=s.concat(k8(c,a,l,A)))}),i&&(s=s.concat(tI(i,t,r,n))),s}function P8(t,e){const n=e.query,r=Pw(t,n);return{hashFn:()=>(Loe(e)||Nt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?Joe(t,n._path,r):Xoe(t,n._path);{const s=Jie(i,n);return gE(t,n,null,s)}}}}function Pw(t,e){const n=cb(e);return t.queryToTagMap.get(n)}function cb(t){return t._path.toString()+"$"+t._queryIdentifier}function nI(t,e){return t.tagToQueryMap.get(e)}function rI(t){const e=t.indexOf("$");return tt(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Un(t.substr(0,e))}}function iI(t,e,n){const r=t.syncPointTree_.get(e);tt(r,"Missing sync point for query tag that we're tracking");const i=XT(t.pendingWriteTree_,e);return tI(r,n,i,null)}function tae(t){return t.fold((e,n,r)=>{if(n&&Hc(n))return[lb(n)];{let i=[];return n&&(i=S8(n)),Ks(r,(s,o)=>{i=i.concat(o)}),i}})}function Xg(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Woe())(t._repo,t._path):t}function nae(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=cb(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function rae(){return Goe++}function iae(t,e,n){const r=e._path,i=Pw(t,e),s=P8(t,n),o=t.listenProvider_.startListening(Xg(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)tt(!Hc(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((A,c,u)=>{if(!qt(A)&&c&&Hc(c))return[lb(c).query];{let h=[];return c&&(h=h.concat(S8(c).map(d=>d.query))),Ks(u,(d,p)=>{h=h.concat(p)}),h}});for(let A=0;A<l.length;++A){const c=l[A];t.listenProvider_.stopListening(Xg(c),Pw(t,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new sI(n)}node(){return this.node_}}class oI{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=ni(this.path_,e);return new oI(this.syncTree_,n)}node(){return N8(this.syncTree_,this.path_)}}const sae=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},NP=function(t,e,n){if(!t||typeof t!="object")return t;if(tt(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oae(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aae(t[".sv"],e);tt(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oae=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:tt(!1,"Unexpected server value: "+t)}},aae=function(t,e,n){t.hasOwnProperty("increment")||tt(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&tt(!1,"Unexpected increment value: "+r);const i=e.node();if(tt(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},lae=function(t,e,n,r){return aI(e,new oI(n,t),r)},Aae=function(t,e,n){return aI(t,new sI(e),n)};function aI(t,e,n){const r=t.getPriority().val(),i=NP(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=NP(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new di(a,ts(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new di(i))),o.forEachChild(vr,(a,l)=>{const A=aI(l,e.getImmediateChild(a),n);A!==l&&(s=s.updateImmediateChild(a,A))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function AI(t,e){let n=e instanceof Un?e:new Un(e),r=t,i=Gt(n);for(;i!==null;){const s=If(r.node.children,i)||{children:{},childCount:0};r=new lI(i,r,s),n=jn(n),i=Gt(n)}return r}function up(t){return t.node.value}function D8(t,e){t.node.value=e,mE(t)}function L8(t){return t.node.childCount>0}function cae(t){return up(t)===void 0&&!L8(t)}function ub(t,e){Ks(t.node.children,(n,r)=>{e(new lI(n,t,r))})}function R8(t,e,n,r){n&&!r&&e(t),ub(t,i=>{R8(i,e,!0,r)}),n&&r&&e(t)}function uae(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Vv(t){return new Un(t.parent===null?t.name:Vv(t.parent)+"/"+t.name)}function mE(t){t.parent!==null&&hae(t.parent,t.name,t)}function hae(t,e,n){const r=cae(n),i=gA(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,mE(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,mE(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dae=/[\[\].#$\/\u0000-\u001F\u007F]/,fae=/[\[\].#$\u0000-\u001F\u007F]/,yC=10*1024*1024,U8=function(t){return typeof t=="string"&&t.length!==0&&!dae.test(t)},O8=function(t){return typeof t=="string"&&t.length!==0&&!fae.test(t)},pae=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),O8(t)},M8=function(t,e,n){const r=n instanceof Un?new Fse(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Eu(r));if(typeof e=="function")throw new Error(t+"contains a function "+Eu(r)+" with contents = "+e.toString());if(Mj(e))throw new Error(t+"contains "+e.toString()+" "+Eu(r));if(typeof e=="string"&&e.length>yC/3&&$2(e)>yC)throw new Error(t+"contains a string greater than "+yC+" utf8 bytes "+Eu(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ks(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!U8(o)))throw new Error(t+" contains an invalid key ("+o+") "+Eu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);kse(r,o),M8(t,a,r),Pse(r)}),i&&s)throw new Error(t+' contains ".value" child '+Eu(r)+" in addition to actual children.")}},Q8=function(t,e,n,r){if(!(r&&n===void 0)&&!O8(n))throw new Error(uQ(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},gae=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Q8(t,e,n,r)},mae=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!U8(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pae(n))throw new Error(uQ(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vae{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function j8(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!$T(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function H8(t,e,n){j8(t,n),V8(t,r=>$T(r,e))}function Rh(t,e,n){j8(t,n),V8(t,r=>wa(r,e)||wa(e,r))}function V8(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(yae(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yae(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Gu&&es("event: "+n.toString()),Qv(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae="repo_interrupt",bae=25;class _ae{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vae,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ew(),this.transactionQueueTree_=new lI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function Cae(t,e,n){if(t.stats_=HT(t.repoInfo_),t.forceRestClient_||nse())t.server_=new Bw(t.repoInfo_,(r,i,s,o)=>{FP(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>kP(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{vi(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Gl(t.repoInfo_,e,(r,i,s,o)=>{FP(t,r,i,s,o)},r=>{kP(t,r)},r=>{Bae(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=ase(t.repoInfo_,()=>new soe(t.stats_,t.server_)),t.infoData_=new eoe,t.infoSyncTree_=new TP({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ab(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),cI(t,"connected",!1),t.serverSyncTree_=new TP({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const A=o(a,l);Rh(t.eventQueue_,r._path,A)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function xae(t){const n=t.infoData_.getNode(new Un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function $8(t){return sae({timestamp:xae(t)})}function FP(t,e,n,r,i){t.dataUpdateCount++;const s=new Un(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=iw(n,A=>ts(A));o=eae(t.serverSyncTree_,s,l,i)}else{const l=ts(n);o=Zoe(t.serverSyncTree_,s,l,i)}else if(r){const l=iw(n,A=>ts(A));o=Yoe(t.serverSyncTree_,s,l)}else{const l=ts(n);o=Ab(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hI(t,s)),Rh(t.eventQueue_,a,o)}function kP(t,e){cI(t,"connected",e),e===!1&&Sae(t)}function Bae(t,e){Ks(e,(n,r)=>{cI(t,n,r)})}function cI(t,e,n){const r=new Un("/.info/"+e),i=ts(n);t.infoData_.updateSnapshot(r,i);const s=Ab(t.infoSyncTree_,r,i);Rh(t.eventQueue_,r,s)}function Eae(t){return t.nextWriteId_++}function Sae(t){z8(t,"onDisconnectEvents");const e=$8(t),n=Ew();cE(t.onDisconnect_,fn(),(i,s)=>{const o=lae(i,s,t.serverSyncTree_,e);g8(n,i,o)});let r=[];cE(n,fn(),(i,s)=>{r=r.concat(Ab(t.serverSyncTree_,i,s));const o=kae(t,i);hI(t,o)}),t.onDisconnect_=Ew(),Rh(t.eventQueue_,fn(),r)}function Tae(t,e,n){let r;Gt(e._path)===".info"?r=IP(t.infoSyncTree_,e,n):r=IP(t.serverSyncTree_,e,n),H8(t.eventQueue_,e._path,r)}function PP(t,e,n){let r;Gt(e._path)===".info"?r=gE(t.infoSyncTree_,e,n):r=gE(t.serverSyncTree_,e,n),H8(t.eventQueue_,e._path,r)}function Iae(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wae)}function z8(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),es(n,...e)}function K8(t,e,n){return N8(t.serverSyncTree_,e,n)||Nt.EMPTY_NODE}function uI(t,e=t.transactionQueueTree_){if(e||hb(t,e),up(e)){const n=G8(t,e);tt(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Nae(t,Vv(e),n)}else L8(e)&&ub(e,n=>{uI(t,n)})}function Nae(t,e,n){const r=n.map(A=>A.currentWriteId),i=K8(t,e,r);let s=i;const o=i.hash();for(let A=0;A<n.length;A++){const c=n[A];tt(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const u=Rs(e,c.path);s=s.updateChild(u,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,A=>{z8(t,"transaction put response",{path:l.toString(),status:A});let c=[];if(A==="ok"){const u=[];for(let h=0;h<n.length;h++)n[h].status=2,c=c.concat(Kd(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&u.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();hb(t,AI(t.transactionQueueTree_,e)),uI(t,t.transactionQueueTree_),Rh(t.eventQueue_,e,c);for(let h=0;h<u.length;h++)Qv(u[h])}else{if(A==="datastale")for(let u=0;u<n.length;u++)n[u].status===3?n[u].status=4:n[u].status=0;else{lo("transaction at "+l.toString()+" failed: "+A);for(let u=0;u<n.length;u++)n[u].status=4,n[u].abortReason=A}hI(t,e)}},o)}function hI(t,e){const n=W8(t,e),r=Vv(n),i=G8(t,n);return Fae(t,i,r),r}function Fae(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],A=Rs(n,l.path);let c=!1,u;if(tt(A!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,u=l.abortReason,i=i.concat(Kd(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=bae)c=!0,u="maxretry",i=i.concat(Kd(t.serverSyncTree_,l.currentWriteId,!0));else{const h=K8(t,l.path,o);l.currentInputSnapshot=h;const d=e[a].update(h.val());if(d!==void 0){M8("transaction failed: Data returned ",d,l.path);let p=ts(d);typeof d=="object"&&d!=null&&gA(d,".priority")||(p=p.updatePriority(h.getPriority()));const b=l.currentWriteId,g=$8(t),v=Aae(p,h,g);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=v,l.currentWriteId=Eae(t),o.splice(o.indexOf(b),1),i=i.concat(qoe(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),i=i.concat(Kd(t.serverSyncTree_,b,!0))}else c=!0,u="nodata",i=i.concat(Kd(t.serverSyncTree_,l.currentWriteId,!0))}Rh(t.eventQueue_,n,i),i=[],c&&(e[a].status=2,function(h){setTimeout(h,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(u==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(u),!1,null))))}hb(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Qv(r[a]);uI(t,t.transactionQueueTree_)}function W8(t,e){let n,r=t.transactionQueueTree_;for(n=Gt(e);n!==null&&up(r)===void 0;)r=AI(r,n),e=jn(e),n=Gt(e);return r}function G8(t,e){const n=[];return q8(t,e,n),n.sort((r,i)=>r.order-i.order),n}function q8(t,e,n){const r=up(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ub(e,i=>{q8(t,i,n)})}function hb(t,e){const n=up(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,D8(e,n.length>0?n:void 0)}ub(e,r=>{hb(t,r)})}function kae(t,e){const n=Vv(W8(t,e)),r=AI(t.transactionQueueTree_,e);return uae(r,i=>{wC(t,i)}),wC(t,r),R8(r,i=>{wC(t,i)}),n}function wC(t,e){const n=up(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(tt(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(tt(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Kd(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?D8(e,void 0):n.length=s+1,Rh(t.eventQueue_,Vv(e),i);for(let o=0;o<r.length;o++)Qv(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pae(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function Dae(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):lo(`Invalid query segment '${n}' in query '${t}'`)}return e}const DP=function(t,e){const n=Lae(t),r=n.namespace;n.domain==="firebase.com"&&aA(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&aA("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||Wie();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Xj(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Un(n.pathString)}},Lae=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let A=t.indexOf("//");A>=0&&(a=t.substring(0,A-1),t=t.substring(A+2));let c=t.indexOf("/");c===-1&&(c=t.length);let u=t.indexOf("?");u===-1&&(u=t.length),e=t.substring(0,Math.min(c,u)),c<u&&(i=Pae(t.substring(c,u)));const h=Dae(t.substring(Math.min(t.length,u)));A=e.indexOf(":"),A>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(A+1),10)):A=e.length;const d=e.slice(0,A);if(d.toLowerCase()==="localhost")n="localhost";else if(d.split(".").length<=2)n=d;else{const p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y8{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+vi(this.snapshot.exportVal())}}class X8{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rae{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return tt(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return qt(this._path)?null:o8(this._path)}get ref(){return new vA(this._repo,this._path)}get _queryIdentifier(){const e=mP(this._queryParams),n=QT(e);return n==="{}"?"default":n}get _queryObject(){return mP(this._queryParams)}isEqual(e){if(e=Dr(e),!(e instanceof dI))return!1;const n=this._repo===e._repo,r=$T(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Nse(this._path)}}class vA extends dI{constructor(e,n){super(e,n,new GT,!1)}get parent(){const e=l8(this._path);return e===null?null:new vA(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Xm{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new Un(e),r=Dw(this.ref,e);return new Xm(this._node.getChild(n),r,vr)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new Xm(i,Dw(this.ref,r),vr)))}hasChild(e){const n=new Un(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Uae(t,e){return t=Dr(t),t._checkNotDeleted("ref"),e!==void 0?Dw(t._root,e):t._root}function Dw(t,e){return t=Dr(t),Gt(t._path)===null?gae("child","path",e,!1):Q8("child","path",e,!1),new vA(t._repo,ni(t._path,e))}class fI{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new Y8("value",this,new Xm(e.snapshotNode,new vA(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new X8(this,e,n):null}matches(e){return e instanceof fI?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class pI{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new X8(this,e,n):null}createEvent(e,n){tt(e.childName!=null,"Child events should have a childName.");const r=Dw(new vA(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Y8(e.type,this,new Xm(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof pI?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Oae(t,e,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,A=(c,u)=>{PP(t._repo,t,a),l(c,u)};A.userCallback=n.userCallback,A.context=n.context,n=A}const o=new Rae(n,s||void 0),a=e==="value"?new fI(o):new pI(e,o);return Tae(t._repo,t,a),()=>PP(t._repo,t,a)}function Mae(t,e,n,r){return Oae(t,"value",e,n,r)}Qoe(vA);Koe(vA);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qae="FIREBASE_DATABASE_EMULATOR_HOST",vE={};let jae=!1;function Hae(t,e,n,r){t.repoInfo_=new Xj(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function Vae(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||aA("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),es("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=DP(s,i),a=o.repoInfo,l,A;typeof process<"u"&&process.env&&(A=process.env[Qae]),A?(l=!0,s=`http://${A}?ns=${a.namespace}`,o=DP(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new uf(uf.OWNER):new ise(t.name,t.options,e);mae("Invalid Firebase Database URL",o),qt(o.path)||aA("Database URL must point to the root of a Firebase Database (not including a child path).");const u=zae(a,t,c,new rse(t.name,n));return new Kae(u,t)}function $ae(t,e){const n=vE[e];(!n||n[t.key]!==t)&&aA(`Database ${e}(${t.repoInfo_}) has already been deleted.`),Iae(t),delete n[t.key]}function zae(t,e,n,r){let i=vE[e.name];i||(i={},vE[e.name]=i);let s=i[t.toURLString()];return s&&aA("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new _ae(t,jae,n,r),i[t.toURLString()]=s,s}class Kae{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Cae(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new vA(this._repo,fn())),this._rootInternal}_delete(){return this._rootInternal!==null&&($ae(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&aA("Cannot call "+e+" on a deleted database.")}}function Wae(t=$S(),e){const n=Zc(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=CY("database");r&&Gae(n,...r)}return n}function Gae(t,e,n,r={}){t=Dr(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&aA("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&aA('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new uf(uf.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:oQ(r.mockUserToken,t.app.options.projectId);s=new uf(o)}Hae(i,e,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(t){Hie(Fh),Ea(new Go("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Vae(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),js(eP,tP,t),js(eP,tP,"esm2017")}Gl.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Gl.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qae();const Yae={apiKey:"AIzaSyArwjJewGV5j_vzWjqOsQPoJMSFtaCkSZE",authDomain:"lovenda-98c77.firebaseapp.com",projectId:"lovenda-98c77",storageBucket:"lovenda-98c77.appspot.com",messagingSenderId:"844882125080",appId:"1:844882125080:web:4015c2e2e6eedf009f7e6d",measurementId:"G-4QMWEHYPG8"};let iy,Hr,ff,Xae;const Jae=()=>{if(typeof window>"u")return;let t=document.getElementById("firebase-error-banner");t||(t=document.createElement("div"),t.id="firebase-error-banner",t.style.position="fixed",t.style.bottom="0",t.style.left="0",t.style.right="0",t.style.backgroundColor="#ff4444",t.style.color="white",t.style.padding="10px",t.style.textAlign="center",t.style.zIndex="9999",t.style.display="none",document.body.appendChild(t));const e=n=>{const r=n.error||n.reason;console.error("Error global:",r),r&&mostrarErrorUsuario(r.message||"Ocurrió un error inesperado")};window.mostrarErrorUsuario=(n,r=1e4)=>{t&&(t.textContent=n,t.style.display="block",r>0&&setTimeout(()=>{t&&(t.style.display="none")},r))},window.addEventListener("error",e),window.addEventListener("unhandledrejection",e)},Zae=async(t=2)=>{for(let e=0;e<=t;e++)try{const n=vw(ff,"_conexion_prueba","test");return await DT(n,{timestamp:new Date().toISOString(),intento:e+1},{merge:!0}),console.log("Prueba de conexión exitosa"),!0}catch(n){if(console.warn(`Intento ${e+1} fallido:`,n),e===t)throw console.error("Todos los intentos de conexión fallaron"),n;await new Promise(r=>setTimeout(r,1e3*Math.pow(2,e)))}return!1},ele=()=>{if(!(typeof window>"u"))try{const t=Wae(),e=Uae(t,".info/connected");Mae(e,n=>{var r;n.val()===!0?(console.log("Conectado a Firebase"),(r=window.mostrarErrorUsuario)==null||r.call(window,"Conectado a internet",3e3)):console.log("Desconectado de Firebase")})}catch(t){console.warn("No se pudo configurar el listener de conexión:",t)}},tle=async()=>{var t,e,n;try{iy=pQ(Yae),console.log("Firebase inicializado"),Hr=Aee(iy),Hr.languageCode="es",console.log("Autenticación de Firebase inicializada"),ff=nre(iy,{experimentalForceLongPolling:!0}),console.log("Firestore inicializado con experimentalForceLongPolling"),typeof window<"u"&&window.location.hostname==="localhost"&&(tre(ff,"localhost",8080),console.log("Conectado al emulador de Firestore en localhost:8080"));try{await Zae(),console.log("Conexión con Firestore verificada");try{const r=vw(ff,"_test_connection","test");await DT(r,{test:new Date().toISOString()},{merge:!0}),console.log("Prueba de escritura en Firestore exitosa")}catch(r){console.error("Error al escribir en Firestore:",r),r.code==="permission-denied"&&((t=window.mostrarErrorUsuario)==null||t.call(window,"Error de permisos: No tienes acceso a la base de datos. Por favor, verifica tu autenticación.",1e4))}}catch(r){console.warn("No se pudo conectar a Firestore, trabajando en modo fuera de línea:",r),(e=window.mostrarErrorUsuario)==null||e.call(window,"Modo sin conexión - Los cambios se sincronizarán cuando se recupere la conexión",0)}if(typeof window<"u")try{await Mie()?(Xae=Uie(iy),console.log("Analytics inicializado")):console.log("Analytics no es compatible con este navegador")}catch(r){console.warn("Error al inicializar Analytics:",r)}ele()}catch(r){throw console.error("Error al inicializar Firebase:",r),typeof window<"u"&&((n=window.mostrarErrorUsuario)==null||n.call(window,"Error al conectar con el servidor. La aplicación funcionará en modo fuera de línea.",0)),r}};Jae();tle().catch(t=>{console.error("Error crítico al inicializar Firebase:",t)});const J8=$.createContext({user:null,isAuthenticated:!1,loading:!0,signup:async()=>{},login:async()=>{},logout:async()=>{},updateProfile:async()=>{}}),Uh=()=>$.useContext(J8);function nle({children:t}){const[e,n]=$.useState(null),[r,i]=$.useState(!0);$.useEffect(()=>JJ(Hr,async f=>{if(f){const b=await mre(vw(ff,"users",f.uid)),g=b.exists()?b.data().role:"particular";n({...f,role:g})}else n(null);i(!1)}),[]);const s=async(p,f)=>{const g=(await zJ(Hr,p,f)).user;return await DT(vw(ff,"users",g.uid),{role:"particular",email:g.email,createdAt:bre()}),n({...g,role:"particular"}),g},o=async(p,f,b=!0)=>{await qJ(Hr,b?$Q:JS);const g=await KJ(Hr,p,f);return n(g.user),g.user},a=async()=>{await ZJ(Hr),n(null)},l=async p=>{Hr.currentUser&&(await GJ(Hr.currentUser,p),n({...Hr.currentUser,...p}))},A=async()=>{Hr.currentUser&&await sendEmailVerification(Hr.currentUser)},c=async p=>{p&&await sendPasswordResetEmail(Hr,p)},u=async p=>{Hr.currentUser&&(await updateEmail(Hr.currentUser,p),n({...Hr.currentUser,email:p}))},h=async p=>{Hr.currentUser&&await updatePassword(Hr.currentUser,p)},d=async p=>{Hr.currentUser&&await reauthenticateWithCredential(Hr.currentUser,p)};return y.jsx(J8.Provider,{value:{user:e,isAuthenticated:!!e,loading:r,signup:s,login:o,logout:a,updateProfile:l,sendVerificationEmail:A,sendPasswordReset:c,updateUserEmail:u,updateUserPassword:h,reauthenticate:d},children:t})}const Z8=$.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),db=$.createContext({}),gI=$.createContext(null),fb=typeof document<"u",rle=fb?$.useLayoutEffect:$.useEffect,eH=$.createContext({strict:!1}),mI=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),ile="framerAppearId",tH="data-"+mI(ile);function sle(t,e,n,r){const{visualElement:i}=$.useContext(db),s=$.useContext(eH),o=$.useContext(gI),a=$.useContext(Z8).reducedMotion,l=$.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const A=l.current;$.useInsertionEffect(()=>{A&&A.update(n,o)});const c=$.useRef(!!(n[tH]&&!window.HandoffComplete));return rle(()=>{A&&(A.render(),c.current&&A.animationState&&A.animationState.animateChanges())}),$.useEffect(()=>{A&&(A.updateFeatures(),!c.current&&A.animationState&&A.animationState.animateChanges(),c.current&&(c.current=!1,window.HandoffComplete=!0))}),A}function Wd(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ole(t,e,n){return $.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Wd(n)&&(n.current=r))},[e])}function Jm(t){return typeof t=="string"||Array.isArray(t)}function pb(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const vI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],yI=["initial",...vI];function gb(t){return pb(t.animate)||yI.some(e=>Jm(t[e]))}function nH(t){return!!(gb(t)||t.variants)}function ale(t,e){if(gb(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Jm(n)?n:void 0,animate:Jm(r)?r:void 0}}return t.inherit!==!1?e:{}}function lle(t){const{initial:e,animate:n}=ale(t,$.useContext(db));return $.useMemo(()=>({initial:e,animate:n}),[LP(e),LP(n)])}function LP(t){return Array.isArray(t)?t.join(" "):t}const RP={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zm={};for(const t in RP)Zm[t]={isEnabled:e=>RP[t].some(n=>!!e[n])};function Ale(t){for(const e in t)Zm[e]={...Zm[e],...t[e]}}const rH=$.createContext({}),iH=$.createContext({}),cle=Symbol.for("motionComponentSymbol");function ule({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&Ale(t);function s(a,l){let A;const c={...$.useContext(Z8),...a,layoutId:hle(a)},{isStatic:u}=c,h=lle(a),d=r(a,u);if(!u&&fb){h.visualElement=sle(i,d,c,e);const p=$.useContext(iH),f=$.useContext(eH).strict;h.visualElement&&(A=h.visualElement.loadFeatures(c,f,t,p))}return $.createElement(db.Provider,{value:h},A&&h.visualElement?$.createElement(A,{visualElement:h.visualElement,...c}):null,n(i,a,ole(d,h.visualElement,l),d,u,h.visualElement))}const o=$.forwardRef(s);return o[cle]=i,o}function hle({layoutId:t}){const e=$.useContext(rH).id;return e&&t!==void 0?e+"-"+t:t}function dle(t){function e(r,i={}){return ule(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const fle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wI(t){return typeof t!="string"||t.includes("-")?!1:!!(fle.indexOf(t)>-1||/[A-Z]/.test(t))}const Lw={};function ple(t){Object.assign(Lw,t)}const $v=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oh=new Set($v);function sH(t,{layout:e,layoutId:n}){return Oh.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Lw[t]||t==="opacity")}const Ws=t=>!!(t&&t.getVelocity),gle={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mle=$v.length;function vle(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<mle;o++){const a=$v[o];if(t[a]!==void 0){const l=gle[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const oH=t=>e=>typeof e=="string"&&e.startsWith(t),aH=oH("--"),yE=oH("var(--"),yle=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,wle=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Vc=(t,e,n)=>Math.min(Math.max(n,t),e),Mh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Jg={...Mh,transform:t=>Vc(0,1,t)},sy={...Mh,default:1},Zg=t=>Math.round(t*1e5)/1e5,mb=/(-)?([\d]*\.?[\d])+/g,lH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,ble=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function zv(t){return typeof t=="string"}const Kv=t=>({test:e=>zv(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),YA=Kv("deg"),rl=Kv("%"),Bt=Kv("px"),_le=Kv("vh"),Cle=Kv("vw"),UP={...rl,parse:t=>rl.parse(t)/100,transform:t=>rl.transform(t*100)},OP={...Mh,transform:Math.round},AH={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,size:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,rotate:YA,rotateX:YA,rotateY:YA,rotateZ:YA,scale:sy,scaleX:sy,scaleY:sy,scaleZ:sy,skew:YA,skewX:YA,skewY:YA,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Jg,originX:UP,originY:UP,originZ:Bt,zIndex:OP,fillOpacity:Jg,strokeOpacity:Jg,numOctaves:OP};function bI(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,A=!1,c=!0;for(const u in e){const h=e[u];if(aH(u)){s[u]=h;continue}const d=AH[u],p=wle(h,d);if(Oh.has(u)){if(l=!0,o[u]=p,!c)continue;h!==(d.default||0)&&(c=!1)}else u.startsWith("origin")?(A=!0,a[u]=p):i[u]=p}if(e.transform||(l||r?i.transform=vle(t.transform,n,c,r):i.transform&&(i.transform="none")),A){const{originX:u="50%",originY:h="50%",originZ:d=0}=a;i.transformOrigin=`${u} ${h} ${d}`}}const _I=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function cH(t,e,n){for(const r in e)!Ws(e[r])&&!sH(r,n)&&(t[r]=e[r])}function xle({transformTemplate:t},e,n){return $.useMemo(()=>{const r=_I();return bI(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function Ble(t,e,n){const r=t.style||{},i={};return cH(i,r,t),Object.assign(i,xle(t,e,n)),t.transformValues?t.transformValues(i):i}function Ele(t,e,n){const r={},i=Ble(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const Sle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Rw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Sle.has(t)}let uH=t=>!Rw(t);function Tle(t){t&&(uH=e=>e.startsWith("on")?!Rw(e):t(e))}try{Tle(require("@emotion/is-prop-valid").default)}catch{}function Ile(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(uH(i)||n===!0&&Rw(i)||!e&&!Rw(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MP(t,e,n){return typeof t=="string"?t:Bt.transform(e+n*t)}function Nle(t,e,n){const r=MP(e,t.x,t.width),i=MP(n,t.y,t.height);return`${r} ${i}`}const Fle={offset:"stroke-dashoffset",array:"stroke-dasharray"},kle={offset:"strokeDashoffset",array:"strokeDasharray"};function Ple(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Fle:kle;t[s.offset]=Bt.transform(-r);const o=Bt.transform(e),a=Bt.transform(n);t[s.array]=`${o} ${a}`}function CI(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...A},c,u,h){if(bI(t,A,c,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:p,dimensions:f}=t;d.transform&&(f&&(p.transform=d.transform),delete d.transform),f&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Nle(f,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),o!==void 0&&Ple(d,o,a,l,!1)}const hH=()=>({..._I(),attrs:{}}),xI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Dle(t,e,n,r){const i=$.useMemo(()=>{const s=hH();return CI(s,e,{enableHardwareAcceleration:!1},xI(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};cH(s,t.style,t),i.style={...s,...i.style}}return i}function Lle(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(wI(n)?Dle:Ele)(r,s,o,n),c={...Ile(r,typeof n=="string",t),...l,ref:i},{children:u}=r,h=$.useMemo(()=>Ws(u)?u.get():u,[u]);return $.createElement(n,{...c,children:h})}}function dH(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const fH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pH(t,e,n,r){dH(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(fH.has(i)?i:mI(i),e.attrs[i])}function BI(t,e){const{style:n}=t,r={};for(const i in n)(Ws(n[i])||e.style&&Ws(e.style[i])||sH(i,t))&&(r[i]=n[i]);return r}function gH(t,e){const n=BI(t,e);for(const r in t)if(Ws(t[r])||Ws(e[r])){const i=$v.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function EI(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function Rle(t){const e=$.useRef(null);return e.current===null&&(e.current=t()),e.current}const Uw=t=>Array.isArray(t),Ule=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Ole=t=>Uw(t)?t[t.length-1]||0:t;function h1(t){const e=Ws(t)?t.get():t;return Ule(e)?e.toValue():e}function Mle({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:Qle(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const mH=t=>(e,n)=>{const r=$.useContext(db),i=$.useContext(gI),s=()=>Mle(t,e,r,i);return n?s():Rle(s)};function Qle(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=h1(s[h]);let{initial:o,animate:a}=t;const l=gb(t),A=nH(t);e&&A&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||o===!1;const u=c?a:o;return u&&typeof u!="boolean"&&!pb(u)&&(Array.isArray(u)?u:[u]).forEach(d=>{const p=EI(t,d);if(!p)return;const{transitionEnd:f,transition:b,...g}=p;for(const v in g){let _=g[v];if(Array.isArray(_)){const x=c?_.length-1:0;_=_[x]}_!==null&&(i[v]=_)}for(const v in f)i[v]=f[v]}),i}const mr=t=>t;class QP{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function jle(t){let e=new QP,n=new QP,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,A=!1,c=!1)=>{const u=c&&i,h=u?e:n;return A&&o.add(l),h.add(l)&&u&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let A=0;A<r;A++){const c=e.order[A];c(l),o.has(c)&&(a.schedule(c),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const oy=["prepare","read","update","preRender","render","postRender"],Hle=40;function Vle(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=oy.reduce((u,h)=>(u[h]=jle(()=>n=!0),u),{}),o=u=>s[u].process(i),a=()=>{const u=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(u-i.timestamp,Hle),1),i.timestamp=u,i.isProcessing=!0,oy.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:oy.reduce((u,h)=>{const d=s[h];return u[h]=(p,f=!1,b=!1)=>(n||l(),d.schedule(p,f,b)),u},{}),cancel:u=>oy.forEach(h=>s[h].cancel(u)),state:i,steps:s}}const{schedule:Jn,cancel:lA,state:qi,steps:bC}=Vle(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0),$le={useVisualState:mH({scrapeMotionValuesFromProps:gH,createRenderState:hH,onMount:(t,e,{renderState:n,latestValues:r})=>{Jn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Jn.render(()=>{CI(n,r,{enableHardwareAcceleration:!1},xI(e.tagName),t.transformTemplate),pH(e,n)})}})},zle={useVisualState:mH({scrapeMotionValuesFromProps:BI,createRenderState:_I})};function Kle(t,{forwardMotionProps:e=!1},n,r){return{...wI(t)?$le:zle,preloadedFeatures:n,useRender:Lle(e),createVisualElement:r,Component:t}}function $l(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const vH=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function vb(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Wle=t=>e=>vH(e)&&t(e,vb(e));function ql(t,e,n,r){return $l(t,e,Wle(n),r)}const Gle=(t,e)=>n=>e(t(n)),Fc=(...t)=>t.reduce(Gle);function yH(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const jP=yH("dragHorizontal"),HP=yH("dragVertical");function wH(t){let e=!1;if(t==="y")e=HP();else if(t==="x")e=jP();else{const n=jP(),r=HP();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function bH(){const t=wH(!0);return t?(t(),!1):!0}class tu{constructor(e){this.isMounted=!1,this.node=e}update(){}}function VP(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.pointerType==="touch"||bH())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&Jn.update(()=>a[r](s,o))};return ql(t.current,n,i,{passive:!t.getProps()[r]})}class qle extends tu{mount(){this.unmount=Fc(VP(this.node,!0),VP(this.node,!1))}unmount(){}}class Yle extends tu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fc($l(this.node.current,"focus",()=>this.onFocus()),$l(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _H=(t,e)=>e?t===e?!0:_H(t,e.parentElement):!1;function _C(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,vb(n))}class Xle extends tu{constructor(){super(...arguments),this.removeStartListeners=mr,this.removeEndListeners=mr,this.removeAccessibleListeners=mr,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=ql(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:A,onTapCancel:c,globalTapTarget:u}=this.node.getProps();Jn.update(()=>{!u&&!_H(this.node.current,a.target)?c&&c(a,l):A&&A(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ql(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fc(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||_C("up",(l,A)=>{const{onTap:c}=this.node.getProps();c&&Jn.update(()=>c(l,A))})};this.removeEndListeners(),this.removeEndListeners=$l(this.node.current,"keyup",o),_C("down",(a,l)=>{this.startPress(a,l)})},n=$l(this.node.current,"keydown",e),r=()=>{this.isPressing&&_C("cancel",(s,o)=>this.cancelPress(s,o))},i=$l(this.node.current,"blur",r);this.removeAccessibleListeners=Fc(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Jn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!bH()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Jn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ql(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=$l(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const wE=new WeakMap,CC=new WeakMap,Jle=t=>{const e=wE.get(t.target);e&&e(t)},Zle=t=>{t.forEach(Jle)};function eAe({root:t,...e}){const n=t||document;CC.has(n)||CC.set(n,{});const r=CC.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Zle,{root:t,...e})),r[i]}function tAe(t,e,n){const r=eAe(e);return wE.set(t,n),r.observe(t),()=>{wE.delete(t),r.unobserve(t)}}const nAe={some:0,all:1};class rAe extends tu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:nAe[i]},a=l=>{const{isIntersecting:A}=l;if(this.isInView===A||(this.isInView=A,s&&!A&&this.hasEnteredView))return;A&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",A);const{onViewportEnter:c,onViewportLeave:u}=this.node.getProps(),h=A?c:u;h&&h(l)};return tAe(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(iAe(e,n))&&this.startObserver()}unmount(){}}function iAe({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const sAe={inView:{Feature:rAe},tap:{Feature:Xle},focus:{Feature:Yle},hover:{Feature:qle}};function CH(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function oAe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function aAe(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function yb(t,e,n){const r=t.getProps();return EI(r,e,n!==void 0?n:r.custom,oAe(t),aAe(t))}let lAe=mr,SI=mr;const kc=t=>t*1e3,Yl=t=>t/1e3,AAe={current:!1},xH=t=>Array.isArray(t)&&typeof t[0]=="number";function BH(t){return!!(!t||typeof t=="string"&&EH[t]||xH(t)||Array.isArray(t)&&t.every(BH))}const Cg=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Cg([0,.65,.55,1]),circOut:Cg([.55,0,1,.45]),backIn:Cg([.31,.01,.66,-.59]),backOut:Cg([.33,1.53,.69,.99])};function SH(t){if(t)return xH(t)?Cg(t):Array.isArray(t)?t.map(SH):EH[t]}function cAe(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const A={[e]:n};l&&(A.offset=l);const c=SH(a);return Array.isArray(c)&&(A.easing=c),t.animate(A,{delay:r,duration:i,easing:Array.isArray(c)?"linear":c,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function uAe(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const TH=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,hAe=1e-7,dAe=12;function fAe(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=TH(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>hAe&&++a<dAe);return o}function Wv(t,e,n,r){if(t===e&&n===r)return mr;const i=s=>fAe(s,0,1,t,n);return s=>s===0||s===1?s:TH(i(s),e,r)}const pAe=Wv(.42,0,1,1),gAe=Wv(0,0,.58,1),IH=Wv(.42,0,.58,1),mAe=t=>Array.isArray(t)&&typeof t[0]!="number",NH=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,FH=t=>e=>1-t(1-e),TI=t=>1-Math.sin(Math.acos(t)),kH=FH(TI),vAe=NH(TI),PH=Wv(.33,1.53,.69,.99),II=FH(PH),yAe=NH(II),wAe=t=>(t*=2)<1?.5*II(t):.5*(2-Math.pow(2,-10*(t-1))),bAe={linear:mr,easeIn:pAe,easeInOut:IH,easeOut:gAe,circIn:TI,circInOut:vAe,circOut:kH,backIn:II,backInOut:yAe,backOut:PH,anticipate:wAe},$P=t=>{if(Array.isArray(t)){SI(t.length===4);const[e,n,r,i]=t;return Wv(e,n,r,i)}else if(typeof t=="string")return bAe[t];return t},NI=(t,e)=>n=>!!(zv(n)&&ble.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),DH=(t,e,n)=>r=>{if(!zv(r))return r;const[i,s,o,a]=r.match(mb);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},_Ae=t=>Vc(0,255,t),xC={...Mh,transform:t=>Math.round(_Ae(t))},Hu={test:NI("rgb","red"),parse:DH("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+xC.transform(t)+", "+xC.transform(e)+", "+xC.transform(n)+", "+Zg(Jg.transform(r))+")"};function CAe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bE={test:NI("#"),parse:CAe,transform:Hu.transform},Gd={test:NI("hsl","hue"),parse:DH("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rl.transform(Zg(e))+", "+rl.transform(Zg(n))+", "+Zg(Jg.transform(r))+")"},vs={test:t=>Hu.test(t)||bE.test(t)||Gd.test(t),parse:t=>Hu.test(t)?Hu.parse(t):Gd.test(t)?Gd.parse(t):bE.parse(t),transform:t=>zv(t)?t:t.hasOwnProperty("red")?Hu.transform(t):Gd.transform(t)},sr=(t,e,n)=>-n*t+n*e+t;function BC(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function xAe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=BC(l,a,t+1/3),s=BC(l,a,t),o=BC(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const EC=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},BAe=[bE,Hu,Gd],EAe=t=>BAe.find(e=>e.test(t));function zP(t){const e=EAe(t);let n=e.parse(t);return e===Gd&&(n=xAe(n)),n}const LH=(t,e)=>{const n=zP(t),r=zP(e),i={...n};return s=>(i.red=EC(n.red,r.red,s),i.green=EC(n.green,r.green,s),i.blue=EC(n.blue,r.blue,s),i.alpha=sr(n.alpha,r.alpha,s),Hu.transform(i))};function SAe(t){var e,n;return isNaN(t)&&zv(t)&&(((e=t.match(mb))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(lH))===null||n===void 0?void 0:n.length)||0)>0}const RH={regex:yle,countKey:"Vars",token:"${v}",parse:mr},UH={regex:lH,countKey:"Colors",token:"${c}",parse:vs.parse},OH={regex:mb,countKey:"Numbers",token:"${n}",parse:Mh.parse};function SC(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ow(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&SC(n,RH),SC(n,UH),SC(n,OH),n}function MH(t){return Ow(t).values}function QH(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ow(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(RH.token,o[l]):l<r+n?a=a.replace(UH.token,vs.transform(o[l])):a=a.replace(OH.token,Zg(o[l]));return a}}const TAe=t=>typeof t=="number"?0:t;function IAe(t){const e=MH(t);return QH(t)(e.map(TAe))}const $c={test:SAe,parse:MH,createTransformer:QH,getAnimatableNone:IAe},jH=(t,e)=>n=>`${n>0?e:t}`;function HH(t,e){return typeof t=="number"?n=>sr(t,e,n):vs.test(t)?LH(t,e):t.startsWith("var(")?jH(t,e):$H(t,e)}const VH=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>HH(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},NAe=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=HH(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},$H=(t,e)=>{const n=$c.createTransformer(e),r=Ow(t),i=Ow(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?Fc(VH(r.values,i.values),n):jH(t,e)},ev=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},KP=(t,e)=>n=>sr(t,e,n);function FAe(t){return typeof t=="number"?KP:typeof t=="string"?vs.test(t)?LH:$H:Array.isArray(t)?VH:typeof t=="object"?NAe:KP}function kAe(t,e,n){const r=[],i=n||FAe(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||mr:e;a=Fc(l,a)}r.push(a)}return r}function zH(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(SI(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=kAe(e,r,i),a=o.length,l=A=>{let c=0;if(a>1)for(;c<t.length-2&&!(A<t[c+1]);c++);const u=ev(t[c],t[c+1],A);return o[c](u)};return n?A=>l(Vc(t[0],t[s-1],A)):l}function PAe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ev(0,e,r);t.push(sr(n,1,i))}}function DAe(t){const e=[0];return PAe(e,t.length-1),e}function LAe(t,e){return t.map(n=>n*e)}function RAe(t,e){return t.map(()=>e||IH).splice(0,t.length-1)}function Mw({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=mAe(r)?r.map($P):$P(r),s={done:!1,value:e[0]},o=LAe(n&&n.length===e.length?n:DAe(e),t),a=zH(o,e,{ease:Array.isArray(i)?i:RAe(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function KH(t,e){return e?t*(1e3/e):0}const UAe=5;function WH(t,e,n){const r=Math.max(e-UAe,0);return KH(n-t(r),e-r)}const TC=.001,OAe=.01,WP=10,MAe=.05,QAe=1;function jAe({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;lAe(t<=kc(WP));let o=1-e;o=Vc(MAe,QAe,o),t=Vc(OAe,WP,Yl(t)),o<1?(i=A=>{const c=A*o,u=c*t,h=c-n,d=_E(A,o),p=Math.exp(-u);return TC-h/d*p},s=A=>{const u=A*o*t,h=u*n+n,d=Math.pow(o,2)*Math.pow(A,2)*t,p=Math.exp(-u),f=_E(Math.pow(A,2),o);return(-i(A)+TC>0?-1:1)*((h-d)*p)/f}):(i=A=>{const c=Math.exp(-A*t),u=(A-n)*t+1;return-TC+c*u},s=A=>{const c=Math.exp(-A*t),u=(n-A)*(t*t);return c*u});const a=5/t,l=VAe(i,s,a);if(t=kc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const A=Math.pow(l,2)*r;return{stiffness:A,damping:o*2*Math.sqrt(r*A),duration:t}}}const HAe=12;function VAe(t,e,n){let r=n;for(let i=1;i<HAe;i++)r=r-t(r)/e(r);return r}function _E(t,e){return t*Math.sqrt(1-e*e)}const $Ae=["duration","bounce"],zAe=["stiffness","damping","mass"];function GP(t,e){return e.some(n=>t[n]!==void 0)}function KAe(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!GP(t,zAe)&&GP(t,$Ae)){const n=jAe(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function GH({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:A,duration:c,velocity:u,isResolvedFromDuration:h}=KAe({...r,velocity:-Yl(r.velocity||0)}),d=u||0,p=l/(2*Math.sqrt(a*A)),f=s-i,b=Yl(Math.sqrt(a/A)),g=Math.abs(f)<5;n||(n=g?.01:2),e||(e=g?.005:.5);let v;if(p<1){const _=_E(b,p);v=x=>{const F=Math.exp(-p*b*x);return s-F*((d+p*b*f)/_*Math.sin(_*x)+f*Math.cos(_*x))}}else if(p===1)v=_=>s-Math.exp(-b*_)*(f+(d+b*f)*_);else{const _=b*Math.sqrt(p*p-1);v=x=>{const F=Math.exp(-p*b*x),O=Math.min(_*x,300);return s-F*((d+p*b*f)*Math.sinh(O)+_*f*Math.cosh(O))/_}}return{calculatedDuration:h&&c||null,next:_=>{const x=v(_);if(h)o.done=_>=c;else{let F=d;_!==0&&(p<1?F=WH(v,_,x):F=0);const O=Math.abs(F)<=n,I=Math.abs(s-x)<=e;o.done=O&&I}return o.value=o.done?s:x,o}}}function qP({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:A=.5,restSpeed:c}){const u=t[0],h={done:!1,value:u},d=B=>a!==void 0&&B<a||l!==void 0&&B>l,p=B=>a===void 0?l:l===void 0||Math.abs(a-B)<Math.abs(l-B)?a:l;let f=n*e;const b=u+f,g=o===void 0?b:o(b);g!==b&&(f=g-u);const v=B=>-f*Math.exp(-B/r),_=B=>g+v(B),x=B=>{const T=v(B),R=_(B);h.done=Math.abs(T)<=A,h.value=h.done?g:R};let F,O;const I=B=>{d(h.value)&&(F=B,O=GH({keyframes:[h.value,p(h.value)],velocity:WH(_,B,h.value),damping:i,stiffness:s,restDelta:A,restSpeed:c}))};return I(0),{calculatedDuration:null,next:B=>{let T=!1;return!O&&F===void 0&&(T=!0,x(B),I(B)),F!==void 0&&B>F?O.next(B-F):(!T&&x(B),h)}}}const WAe=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Jn.update(e,!0),stop:()=>lA(e),now:()=>qi.isProcessing?qi.timestamp:performance.now()}},YP=2e4;function XP(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<YP;)e+=n,r=t.next(e);return e>=YP?1/0:e}const GAe={decay:qP,inertia:qP,tween:Mw,keyframes:Mw,spring:GH};function Qw({autoplay:t=!0,delay:e=0,driver:n=WAe,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:A,onComplete:c,onUpdate:u,...h}){let d=1,p=!1,f,b;const g=()=>{b=new Promise(le=>{f=le})};g();let v;const _=GAe[i]||Mw;let x;_!==Mw&&typeof r[0]!="number"&&(x=zH([0,100],r,{clamp:!1}),r=[0,100]);const F=_({...h,keyframes:r});let O;a==="mirror"&&(O=_({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let I="idle",B=null,T=null,R=null;F.calculatedDuration===null&&s&&(F.calculatedDuration=XP(F));const{calculatedDuration:D}=F;let E=1/0,k=1/0;D!==null&&(E=D+o,k=E*(s+1)-o);let N=0;const Y=le=>{if(T===null)return;d>0&&(T=Math.min(T,le)),d<0&&(T=Math.min(le-k/d,T)),B!==null?N=B:N=Math.round(le-T)*d;const U=N-e*(d>=0?1:-1),z=d>=0?U<0:U>k;N=Math.max(U,0),I==="finished"&&B===null&&(N=k);let q=N,ee=F;if(s){const ye=Math.min(N,k)/E;let Me=Math.floor(ye),De=ye%1;!De&&ye>=1&&(De=1),De===1&&Me--,Me=Math.min(Me,s+1),!!(Me%2)&&(a==="reverse"?(De=1-De,o&&(De-=o/E)):a==="mirror"&&(ee=O)),q=Vc(0,1,De)*E}const fe=z?{done:!1,value:r[0]}:ee.next(q);x&&(fe.value=x(fe.value));let{done:me}=fe;!z&&D!==null&&(me=d>=0?N>=k:N<=0);const ge=B===null&&(I==="finished"||I==="running"&&me);return u&&u(fe.value),ge&&ne(),fe},oe=()=>{v&&v.stop(),v=void 0},ie=()=>{I="idle",oe(),f(),g(),T=R=null},ne=()=>{I="finished",c&&c(),oe(),f()},se=()=>{if(p)return;v||(v=n(Y));const le=v.now();l&&l(),B!==null?T=le-B:(!T||I==="finished")&&(T=le),I==="finished"&&g(),R=T,B=null,I="running",v.start()};t&&se();const ue={then(le,U){return b.then(le,U)},get time(){return Yl(N)},set time(le){le=kc(le),N=le,B!==null||!v||d===0?B=le:T=v.now()-le/d},get duration(){const le=F.calculatedDuration===null?XP(F):F.calculatedDuration;return Yl(le)},get speed(){return d},set speed(le){le===d||!v||(d=le,ue.time=Yl(N))},get state(){return I},play:se,pause:()=>{I="paused",B=N},stop:()=>{p=!0,I!=="idle"&&(I="idle",A&&A(),ie())},cancel:()=>{R!==null&&Y(R),ie()},complete:()=>{I="finished"},sample:le=>(T=0,Y(le))};return ue}function qAe(t){let e;return()=>(e===void 0&&(e=t()),e)}const YAe=qAe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),XAe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ay=10,JAe=2e4,ZAe=(t,e)=>e.type==="spring"||t==="backgroundColor"||!BH(e.ease);function ece(t,e,{onUpdate:n,onComplete:r,...i}){if(!(YAe()&&XAe.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l,A=!1;const c=()=>{l=new Promise(_=>{a=_})};c();let{keyframes:u,duration:h=300,ease:d,times:p}=i;if(ZAe(e,i)){const _=Qw({...i,repeat:0,delay:0});let x={done:!1,value:u[0]};const F=[];let O=0;for(;!x.done&&O<JAe;)x=_.sample(O),F.push(x.value),O+=ay;p=void 0,u=F,h=O-ay,d="linear"}const f=cAe(t.owner.current,e,u,{...i,duration:h,ease:d,times:p}),b=()=>{A=!1,f.cancel()},g=()=>{A=!0,Jn.update(b),a(),c()};return f.onfinish=()=>{A||(t.set(uAe(u,i)),r&&r(),g())},{then(_,x){return l.then(_,x)},attachTimeline(_){return f.timeline=_,f.onfinish=null,mr},get time(){return Yl(f.currentTime||0)},set time(_){f.currentTime=kc(_)},get speed(){return f.playbackRate},set speed(_){f.playbackRate=_},get duration(){return Yl(h)},play:()=>{o||(f.play(),lA(b))},pause:()=>f.pause(),stop:()=>{if(o=!0,f.playState==="idle")return;const{currentTime:_}=f;if(_){const x=Qw({...i,autoplay:!1});t.setWithVelocity(x.sample(_-ay).value,x.sample(_).value,ay)}g()},complete:()=>{A||f.finish()},cancel:g}}function tce({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:mr,pause:mr,stop:mr,then:s=>(s(),Promise.resolve()),cancel:mr,complete:mr});return e?Qw({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const nce={type:"spring",stiffness:500,damping:25,restSpeed:10},rce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),ice={type:"keyframes",duration:.8},sce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oce=(t,{keyframes:e})=>e.length>2?ice:Oh.has(t)?t.startsWith("scale")?rce(e[1]):nce:sce,CE=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&($c.test(e)||e==="0")&&!e.startsWith("url(")),ace=new Set(["brightness","contrast","saturate","opacity"]);function lce(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(mb)||[];if(!r)return t;const i=n.replace(r,"");let s=ace.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const Ace=/([a-z-]*)\(.*?\)/g,xE={...$c,getAnimatableNone:t=>{const e=t.match(Ace);return e?e.map(lce).join(" "):t}},cce={...AH,color:vs,backgroundColor:vs,outlineColor:vs,fill:vs,stroke:vs,borderColor:vs,borderTopColor:vs,borderRightColor:vs,borderBottomColor:vs,borderLeftColor:vs,filter:xE,WebkitFilter:xE},FI=t=>cce[t];function qH(t,e){let n=FI(t);return n!==xE&&(n=$c),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const YH=t=>/^0[^.\s]+$/.test(t);function uce(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||YH(t)}function hce(t,e,n,r){const i=CE(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let A=0;A<s.length;A++)s[A]===null&&(s[A]=A===0?o:s[A-1]),uce(s[A])&&l.push(A),typeof s[A]=="string"&&s[A]!=="none"&&s[A]!=="0"&&(a=s[A]);if(i&&l.length&&a)for(let A=0;A<l.length;A++){const c=l[A];s[c]=qH(e,a)}return s}function dce({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:A,...c}){return!!Object.keys(c).length}function kI(t,e){return t[e]||t.default||t}const fce={skipAnimations:!1},PI=(t,e,n,r={})=>i=>{const s=kI(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-kc(o);const l=hce(e,t,n,s),A=l[0],c=l[l.length-1],u=CE(t,A),h=CE(t,c);let d={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(dce(s)||(d={...d,...oce(t,d)}),d.duration&&(d.duration=kc(d.duration)),d.repeatDelay&&(d.repeatDelay=kc(d.repeatDelay)),!u||!h||AAe.current||s.type===!1||fce.skipAnimations)return tce(d);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=ece(e,t,d);if(p)return p}return Qw(d)};function jw(t){return!!(Ws(t)&&t.add)}const XH=t=>/^\-?\d*\.?\d+$/.test(t);function DI(t,e){t.indexOf(e)===-1&&t.push(e)}function LI(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class RI{constructor(){this.subscriptions=[]}add(e){return DI(this.subscriptions,e),()=>LI(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pce=t=>!isNaN(parseFloat(t));class gce{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=qi;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Jn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Jn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=pce(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new RI);const r=this.events[e].add(n);return e==="change"?()=>{r(),Jn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?KH(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Hf(t,e){return new gce(t,e)}const JH=t=>e=>e.test(t),mce={test:t=>t==="auto",parse:t=>t},ZH=[Mh,Bt,rl,YA,Cle,_le,mce],eg=t=>ZH.find(JH(t)),vce=[...ZH,vs,$c],yce=t=>vce.find(JH(t));function wce(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Hf(n))}function bce(t,e){const n=yb(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=Ole(s[o]);wce(t,o,a)}}function _ce(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],A=e[l];let c=null;Array.isArray(A)&&(c=A[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(XH(c)||YH(c))?c=parseFloat(c):!yce(c)&&$c.test(A)&&(c=qH(l,A)),t.addValue(l,Hf(c,{owner:t})),n[l]===void 0&&(n[l]=c),c!==null&&t.setBaseTarget(l,c))}}function Cce(t,e){return e?(e[t]||e.default||e).from:void 0}function xce(t,e,n){const r={};for(const i in t){const s=Cce(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function Bce({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Ece(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function e7(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const A=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in a){const h=t.getValue(u),d=a[u];if(!h||d===void 0||c&&Bce(c,u))continue;const p={delay:n,elapsed:0,...kI(s||{},u)};if(window.HandoffAppearAnimations){const g=t.getProps()[tH];if(g){const v=window.HandoffAppearAnimations(g,u,h,Jn);v!==null&&(p.elapsed=v,p.isHandoff=!0)}}let f=!p.isHandoff&&!Ece(h,d);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(f=!1),h.animation&&(f=!1),f)continue;h.start(PI(u,h,d,t.shouldReduceMotion&&Oh.has(u)?{type:!1}:p));const b=h.animation;jw(l)&&(l.add(u),b.then(()=>l.remove(u))),A.push(b)}return o&&Promise.all(A).then(()=>{o&&bce(t,o)}),A}function BE(t,e,n={}){const r=yb(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(e7(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:A=0,staggerChildren:c,staggerDirection:u}=i;return Sce(t,e,A+l,c,u,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,A]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>A())}else return Promise.all([s(),o(n.delay)])}function Sce(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(A=0)=>A*r:(A=0)=>a-A*r;return Array.from(t.variantChildren).sort(Tce).forEach((A,c)=>{A.notify("AnimationStart",e),o.push(BE(A,e,{...s,delay:n+l(c)}).then(()=>A.notify("AnimationComplete",e)))}),Promise.all(o)}function Tce(t,e){return t.sortNodePosition(e)}function Ice(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>BE(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=BE(t,e,n);else{const i=typeof e=="function"?yb(t,e,n.custom):e;r=Promise.all(e7(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const Nce=[...vI].reverse(),Fce=vI.length;function kce(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Ice(t,n,r)))}function Pce(t){let e=kce(t);const n=Lce();let r=!0;const i=(l,A)=>{const c=yb(t,A);if(c){const{transition:u,transitionEnd:h,...d}=c;l={...l,...d,...h}}return l};function s(l){e=l(t)}function o(l,A){const c=t.getProps(),u=t.getVariantContext(!0)||{},h=[],d=new Set;let p={},f=1/0;for(let g=0;g<Fce;g++){const v=Nce[g],_=n[v],x=c[v]!==void 0?c[v]:u[v],F=Jm(x),O=v===A?_.isActive:null;O===!1&&(f=g);let I=x===u[v]&&x!==c[v]&&F;if(I&&r&&t.manuallyAnimateOnMount&&(I=!1),_.protectedKeys={...p},!_.isActive&&O===null||!x&&!_.prevProp||pb(x)||typeof x=="boolean")continue;let T=Dce(_.prevProp,x)||v===A&&_.isActive&&!I&&F||g>f&&F,R=!1;const D=Array.isArray(x)?x:[x];let E=D.reduce(i,{});O===!1&&(E={});const{prevResolvedValues:k={}}=_,N={...k,...E},Y=oe=>{T=!0,d.has(oe)&&(R=!0,d.delete(oe)),_.needsAnimating[oe]=!0};for(const oe in N){const ie=E[oe],ne=k[oe];if(p.hasOwnProperty(oe))continue;let se=!1;Uw(ie)&&Uw(ne)?se=!CH(ie,ne):se=ie!==ne,se?ie!==void 0?Y(oe):d.add(oe):ie!==void 0&&d.has(oe)?Y(oe):_.protectedKeys[oe]=!0}_.prevProp=x,_.prevResolvedValues=E,_.isActive&&(p={...p,...E}),r&&t.blockInitialAnimation&&(T=!1),T&&(!I||R)&&h.push(...D.map(oe=>({animation:oe,options:{type:v,...l}})))}if(d.size){const g={};d.forEach(v=>{const _=t.getBaseTarget(v);_!==void 0&&(g[v]=_)}),h.push({animation:g})}let b=!!h.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(b=!1),r=!1,b?e(h):Promise.resolve()}function a(l,A,c){var u;if(n[l].isActive===A)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(d=>{var p;return(p=d.animationState)===null||p===void 0?void 0:p.setActive(l,A)}),n[l].isActive=A;const h=o(c,l);for(const d in n)n[d].protectedKeys={};return h}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function Dce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!CH(e,t):!1}function wu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Lce(){return{animate:wu(!0),whileInView:wu(),whileHover:wu(),whileTap:wu(),whileDrag:wu(),whileFocus:wu(),exit:wu()}}class Rce extends tu{constructor(e){super(e),e.animationState||(e.animationState=Pce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),pb(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let Uce=0;class Oce extends tu{constructor(){super(...arguments),this.id=Uce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Mce={animation:{Feature:Rce},exit:{Feature:Oce}},JP=(t,e)=>Math.abs(t-e);function Qce(t,e){const n=JP(t.x,e.x),r=JP(t.y,e.y);return Math.sqrt(n**2+r**2)}class t7{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=NC(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,d=Qce(u.offset,{x:0,y:0})>=3;if(!h&&!d)return;const{point:p}=u,{timestamp:f}=qi;this.history.push({...p,timestamp:f});const{onStart:b,onMove:g}=this.handlers;h||(b&&b(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,u)},this.handlePointerMove=(u,h)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=IC(h,this.transformPagePoint),Jn.update(this.updatePoint,!0)},this.handlePointerUp=(u,h)=>{this.end();const{onEnd:d,onSessionEnd:p,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=NC(u.type==="pointercancel"?this.lastMoveEventInfo:IC(h,this.transformPagePoint),this.history);this.startEvent&&d&&d(u,b),p&&p(u,b)},!vH(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=vb(e),a=IC(o,this.transformPagePoint),{point:l}=a,{timestamp:A}=qi;this.history=[{...l,timestamp:A}];const{onSessionStart:c}=n;c&&c(e,NC(a,this.history)),this.removeListeners=Fc(ql(this.contextWindow,"pointermove",this.handlePointerMove),ql(this.contextWindow,"pointerup",this.handlePointerUp),ql(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),lA(this.updatePoint)}}function IC(t,e){return e?{point:e(t.point)}:t}function ZP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function NC({point:t},e){return{point:t,delta:ZP(t,n7(e)),offset:ZP(t,jce(e)),velocity:Hce(e,.1)}}function jce(t){return t[0]}function n7(t){return t[t.length-1]}function Hce(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=n7(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>kc(e)));)n--;if(!r)return{x:0,y:0};const s=Yl(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function co(t){return t.max-t.min}function EE(t,e=0,n=.01){return Math.abs(t-e)<=n}function eD(t,e,n,r=.5){t.origin=r,t.originPoint=sr(e.min,e.max,t.origin),t.scale=co(n)/co(e),(EE(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=sr(n.min,n.max,t.origin)-t.originPoint,(EE(t.translate)||isNaN(t.translate))&&(t.translate=0)}function em(t,e,n,r){eD(t.x,e.x,n.x,r?r.originX:void 0),eD(t.y,e.y,n.y,r?r.originY:void 0)}function tD(t,e,n){t.min=n.min+e.min,t.max=t.min+co(e)}function Vce(t,e,n){tD(t.x,e.x,n.x),tD(t.y,e.y,n.y)}function nD(t,e,n){t.min=e.min-n.min,t.max=t.min+co(e)}function tm(t,e,n){nD(t.x,e.x,n.x),nD(t.y,e.y,n.y)}function $ce(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?sr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?sr(n,t,r.max):Math.min(t,n)),t}function rD(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function zce(t,{top:e,left:n,bottom:r,right:i}){return{x:rD(t.x,n,i),y:rD(t.y,e,r)}}function iD(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Kce(t,e){return{x:iD(t.x,e.x),y:iD(t.y,e.y)}}function Wce(t,e){let n=.5;const r=co(t),i=co(e);return i>r?n=ev(e.min,e.max-r,t.min):r>i&&(n=ev(t.min,t.max-i,e.min)),Vc(0,1,n)}function Gce(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const SE=.35;function qce(t=SE){return t===!1?t=0:t===!0&&(t=SE),{x:sD(t,"left","right"),y:sD(t,"top","bottom")}}function sD(t,e,n){return{min:oD(t,e),max:oD(t,n)}}function oD(t,e){return typeof t=="number"?t:t[e]||0}const aD=()=>({translate:0,scale:1,origin:0,originPoint:0}),qd=()=>({x:aD(),y:aD()}),lD=()=>({min:0,max:0}),$r=()=>({x:lD(),y:lD()});function Po(t){return[t("x"),t("y")]}function r7({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Yce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Xce(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function FC(t){return t===void 0||t===1}function TE({scale:t,scaleX:e,scaleY:n}){return!FC(t)||!FC(e)||!FC(n)}function Su(t){return TE(t)||i7(t)||t.z||t.rotate||t.rotateX||t.rotateY}function i7(t){return AD(t.x)||AD(t.y)}function AD(t){return t&&t!=="0%"}function Hw(t,e,n){const r=t-n,i=e*r;return n+i}function cD(t,e,n,r,i){return i!==void 0&&(t=Hw(t,i,r)),Hw(t,n,r)+e}function IE(t,e=0,n=1,r,i){t.min=cD(t.min,e,n,r,i),t.max=cD(t.max,e,n,r,i)}function s7(t,{x:e,y:n}){IE(t.x,e.translate,e.scale,e.originPoint),IE(t.y,n.translate,n.scale,n.originPoint)}function Jce(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,s7(t,o)),r&&Su(s.latestValues)&&Yd(t,s.latestValues))}e.x=uD(e.x),e.y=uD(e.y)}function uD(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function tc(t,e){t.min=t.min+e,t.max=t.max+e}function hD(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=sr(t.min,t.max,s);IE(t,e[n],e[r],o,e.scale)}const Zce=["x","scaleX","originX"],eue=["y","scaleY","originY"];function Yd(t,e){hD(t.x,e,Zce),hD(t.y,e,eue)}function o7(t,e){return r7(Xce(t.getBoundingClientRect(),e))}function tue(t,e,n){const r=o7(t,n),{scroll:i}=e;return i&&(tc(r.x,i.offset.x),tc(r.y,i.offset.y)),r}const a7=({current:t})=>t?t.ownerDocument.defaultView:null,nue=new WeakMap;class rue{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=$r(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=c=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(vb(c,"page").point)},s=(c,u)=>{const{drag:h,dragPropagation:d,onDragStart:p}=this.getProps();if(h&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=wH(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Po(b=>{let g=this.getAxisMotionValue(b).get()||0;if(rl.test(g)){const{projection:v}=this.visualElement;if(v&&v.layout){const _=v.layout.layoutBox[b];_&&(g=co(_)*(parseFloat(g)/100))}}this.originPoint[b]=g}),p&&Jn.update(()=>p(c,u),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},o=(c,u)=>{const{dragPropagation:h,dragDirectionLock:d,onDirectionLock:p,onDrag:f}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:b}=u;if(d&&this.currentDirection===null){this.currentDirection=iue(b),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",u.point,b),this.updateAxis("y",u.point,b),this.visualElement.render(),f&&f(c,u)},a=(c,u)=>this.stop(c,u),l=()=>Po(c=>{var u;return this.getAnimationState(c)==="paused"&&((u=this.getAxisMotionValue(c).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:A}=this.getProps();this.panSession=new t7(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:A,contextWindow:a7(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Jn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!ly(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=$ce(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Wd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=zce(i.layoutBox,n):this.constraints=!1,this.elastic=qce(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Po(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Gce(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Wd(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=tue(r,i.root,this.visualElement.getTransformPagePoint());let o=Kce(i.layout.layoutBox,s);if(n){const a=n(Yce(o));this.hasMutatedConstraints=!!a,a&&(o=r7(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},A=Po(c=>{if(!ly(c,n,this.currentDirection))return;let u=l&&l[c]||{};o&&(u={min:0,max:0});const h=i?200:1e6,d=i?40:1e7,p={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:d,timeConstant:750,restDelta:1,restSpeed:10,...s,...u};return this.startAxisValueAnimation(c,p)});return Promise.all(A).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(PI(e,r,0,n))}stopAnimation(){Po(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Po(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Po(n=>{const{drag:r}=this.getProps();if(!ly(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-sr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Wd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Po(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=Wce({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Po(o=>{if(!ly(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:A}=this.constraints[o];a.set(sr(l,A,i[o]))})}addListeners(){if(!this.visualElement.current)return;nue.set(this.visualElement,this);const e=this.visualElement.current,n=ql(e,"pointerdown",l=>{const{drag:A,dragListener:c=!0}=this.getProps();A&&c&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Wd(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=$l(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:A})=>{this.isDragging&&A&&(Po(c=>{const u=this.getAxisMotionValue(c);u&&(this.originPoint[c]+=l[c].translate,u.set(u.get()+l[c].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=SE,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function ly(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function iue(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class sue extends tu{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new rue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const dD=t=>(e,n)=>{t&&Jn.update(()=>t(e,n))};class oue extends tu{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new t7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:a7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dD(e),onStart:dD(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Jn.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ql(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function aue(){const t=$.useContext(gI);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=$.useId();return $.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const d1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function fD(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bt.test(t))t=parseFloat(t);else return t;const n=fD(t,e.target.x),r=fD(t,e.target.y);return`${n}% ${r}%`}},lue={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=$c.parse(t);if(i.length>5)return r;const s=$c.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const A=sr(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=A),typeof i[3+o]=="number"&&(i[3+o]/=A),s(i)}};class Aue extends re.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;ple(cue),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),d1.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Jn.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function l7(t){const[e,n]=aue(),r=$.useContext(rH);return re.createElement(Aue,{...t,layoutGroup:r,switchLayoutGroup:$.useContext(iH),isPresent:e,safeToRemove:n})}const cue={borderRadius:{...tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tg,borderTopRightRadius:tg,borderBottomLeftRadius:tg,borderBottomRightRadius:tg,boxShadow:lue},A7=["TopLeft","TopRight","BottomLeft","BottomRight"],uue=A7.length,pD=t=>typeof t=="string"?parseFloat(t):t,gD=t=>typeof t=="number"||Bt.test(t);function hue(t,e,n,r,i,s){i?(t.opacity=sr(0,n.opacity!==void 0?n.opacity:1,due(r)),t.opacityExit=sr(e.opacity!==void 0?e.opacity:1,0,fue(r))):s&&(t.opacity=sr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<uue;o++){const a=`border${A7[o]}Radius`;let l=mD(e,a),A=mD(n,a);if(l===void 0&&A===void 0)continue;l||(l=0),A||(A=0),l===0||A===0||gD(l)===gD(A)?(t[a]=Math.max(sr(pD(l),pD(A),r),0),(rl.test(A)||rl.test(l))&&(t[a]+="%")):t[a]=A}(e.rotate||n.rotate)&&(t.rotate=sr(e.rotate||0,n.rotate||0,r))}function mD(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const due=c7(0,.5,kH),fue=c7(.5,.95,mr);function c7(t,e,n){return r=>r<t?0:r>e?1:n(ev(t,e,r))}function vD(t,e){t.min=e.min,t.max=e.max}function Fo(t,e){vD(t.x,e.x),vD(t.y,e.y)}function yD(t,e,n,r,i){return t-=e,t=Hw(t,1/n,r),i!==void 0&&(t=Hw(t,1/i,r)),t}function pue(t,e=0,n=1,r=.5,i,s=t,o=t){if(rl.test(e)&&(e=parseFloat(e),e=sr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=sr(s.min,s.max,r);t===s&&(a-=e),t.min=yD(t.min,e,n,a,i),t.max=yD(t.max,e,n,a,i)}function wD(t,e,[n,r,i],s,o){pue(t,e[n],e[r],e[i],e.scale,s,o)}const gue=["x","scaleX","originX"],mue=["y","scaleY","originY"];function bD(t,e,n,r){wD(t.x,e,gue,n?n.x:void 0,r?r.x:void 0),wD(t.y,e,mue,n?n.y:void 0,r?r.y:void 0)}function _D(t){return t.translate===0&&t.scale===1}function u7(t){return _D(t.x)&&_D(t.y)}function vue(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function h7(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function CD(t){return co(t.x)/co(t.y)}class yue{constructor(){this.members=[]}add(e){DI(this.members,e),e.scheduleRender()}remove(e){if(LI(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function xD(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:A,rotateY:c}=n;l&&(r+=`rotate(${l}deg) `),A&&(r+=`rotateX(${A}deg) `),c&&(r+=`rotateY(${c}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const wue=(t,e)=>t.depth-e.depth;class bue{constructor(){this.children=[],this.isDirty=!1}add(e){DI(this.children,e),this.isDirty=!0}remove(e){LI(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(wue),this.isDirty=!1,this.children.forEach(e)}}function _ue(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(lA(r),t(s-e))};return Jn.read(r,!0),()=>lA(r)}function Cue(t){window.MotionDebug&&window.MotionDebug.record(t)}function xue(t){return t instanceof SVGElement&&t.tagName!=="svg"}function Bue(t,e,n){const r=Ws(t)?t:Hf(t);return r.start(PI("",r,e,n)),r.animation}const BD=["","X","Y","Z"],Eue={visibility:"hidden"},ED=1e3;let Sue=0;const Tu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function d7({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Sue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Tu.totalNodes=Tu.resolvedTargetDeltas=Tu.recalculatedProjection=0,this.nodes.forEach(Nue),this.nodes.forEach(Lue),this.nodes.forEach(Rue),this.nodes.forEach(Fue),Cue(Tu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new bue)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new RI),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=xue(o),this.instance=o;const{layoutId:l,layout:A,visualElement:c}=this.options;if(c&&!c.current&&c.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(A||l)&&(this.isLayoutDirty=!0),t){let u;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=_ue(h,250),d1.hasAnimatedSinceResize&&(d1.hasAnimatedSinceResize=!1,this.nodes.forEach(TD))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&c&&(l||A)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:h,hasRelativeTargetChanged:d,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||c.getDefaultTransition()||jue,{onLayoutAnimationStart:b,onLayoutAnimationComplete:g}=c.getProps(),v=!this.targetLayout||!h7(this.targetLayout,p)||d,_=!h&&d;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||h&&(v||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,_);const x={...kI(f,"layout"),onPlay:b,onComplete:g};(c.shouldReduceMotion||this.options.layoutRoot)&&(x.delay=0,x.type=!1),this.startAnimation(x)}else h||TD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,lA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Uue),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const u=this.path[c];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const A=this.getTransformTemplate();this.prevTransformTemplateValue=A?A(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(SD);return}this.isUpdating||this.nodes.forEach(Pue),this.isUpdating=!1,this.nodes.forEach(Due),this.nodes.forEach(Tue),this.nodes.forEach(Iue),this.clearAllSnapshots();const a=performance.now();qi.delta=Vc(0,1e3/60,a-qi.timestamp),qi.timestamp=a,qi.isProcessing=!0,bC.update.process(qi),bC.preRender.process(qi),bC.render.process(qi),qi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(kue),this.sharedNodes.forEach(Oue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Jn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Jn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=$r(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!u7(this.projectionDelta),l=this.getTransformTemplate(),A=l?l(this.latestValues,""):void 0,c=A!==this.prevTransformTemplateValue;o&&(a||Su(this.latestValues)||c)&&(i(this.instance,A),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),Hue(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return $r();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(tc(a.x,l.offset.x),tc(a.y,l.offset.y)),a}removeElementScroll(o){const a=$r();Fo(a,o);for(let l=0;l<this.path.length;l++){const A=this.path[l],{scroll:c,options:u}=A;if(A!==this.root&&c&&u.layoutScroll){if(c.isRoot){Fo(a,o);const{scroll:h}=this.root;h&&(tc(a.x,-h.offset.x),tc(a.y,-h.offset.y))}tc(a.x,c.offset.x),tc(a.y,c.offset.y)}}return a}applyTransform(o,a=!1){const l=$r();Fo(l,o);for(let A=0;A<this.path.length;A++){const c=this.path[A];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Yd(l,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),Su(c.latestValues)&&Yd(l,c.latestValues)}return Su(this.latestValues)&&Yd(l,this.latestValues),l}removeTransform(o){const a=$r();Fo(a,o);for(let l=0;l<this.path.length;l++){const A=this.path[l];if(!A.instance||!Su(A.latestValues))continue;TE(A.latestValues)&&A.updateSnapshot();const c=$r(),u=A.measurePageBox();Fo(c,u),bD(a,A.latestValues,A.snapshot?A.snapshot.layoutBox:void 0,c)}return Su(this.latestValues)&&bD(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const A=!!this.resumingFrom||this!==l;if(!(o||A&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:u,layoutId:h}=this.options;if(!(!this.layout||!(u||h))){if(this.resolvedRelativeTargetAt=qi.timestamp,!this.targetDelta&&!this.relativeTarget){const d=this.getClosestProjectingParent();d&&d.layout&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),tm(this.relativeTargetOrigin,this.layout.layoutBox,d.layout.layoutBox),Fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=$r(),this.targetWithTransforms=$r()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Vce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Fo(this.target,this.layout.layoutBox),s7(this.target,this.targetDelta)):Fo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const d=this.getClosestProjectingParent();d&&!!d.resumingFrom==!!this.resumingFrom&&!d.options.layoutScroll&&d.target&&this.animationProgress!==1?(this.relativeParent=d,this.forceRelativeParentToResolveTarget(),this.relativeTarget=$r(),this.relativeTargetOrigin=$r(),tm(this.relativeTargetOrigin,this.target,d.target),Fo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Tu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||TE(this.parent.latestValues)||i7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let A=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(A=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(A=!1),this.resolvedRelativeTargetAt===qi.timestamp&&(A=!1),A)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Fo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,d=this.treeScale.y;Jce(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:p}=a;if(!p){this.projectionTransform&&(this.projectionDelta=qd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qd(),this.projectionDeltaWithTransform=qd());const f=this.projectionTransform;em(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=xD(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==h||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Tu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,A=l?l.latestValues:{},c={...this.latestValues},u=qd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=$r(),d=l?l.source:void 0,p=this.layout?this.layout.source:void 0,f=d!==p,b=this.getStack(),g=!b||b.members.length<=1,v=!!(f&&!g&&this.options.crossfade===!0&&!this.path.some(Que));this.animationProgress=0;let _;this.mixTargetDelta=x=>{const F=x/1e3;ID(u.x,o.x,F),ID(u.y,o.y,F),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(tm(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Mue(this.relativeTarget,this.relativeTargetOrigin,h,F),_&&vue(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=$r()),Fo(_,this.relativeTarget)),f&&(this.animationValues=c,hue(c,A,this.latestValues,F,v,g)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=F},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(lA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Jn.update(()=>{d1.hasAnimatedSinceResize=!0,this.currentAnimation=Bue(0,ED,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ED),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:A,latestValues:c}=o;if(!(!a||!l||!A)){if(this!==o&&this.layout&&A&&f7(this.options.animationType,this.layout.layoutBox,A.layoutBox)){l=this.target||$r();const u=co(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+u;const h=co(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+h}Fo(a,l),Yd(a,c),em(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new yue),this.sharedNodes.get(o).add(a);const A=a.options.initialPromotionConfig;a.promote({transition:A?A.transition:void 0,preserveFollowOpacity:A&&A.shouldPreserveFollowOpacity?A.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const A=this.getStack();A&&A.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const A={};for(let c=0;c<BD.length;c++){const u="rotate"+BD[c];l[u]&&(A[u]=l[u],o.setStaticValue(u,0))}o.render();for(const c in A)o.setStaticValue(c,A[c]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Eue;const A={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,A.opacity="",A.pointerEvents=h1(o==null?void 0:o.pointerEvents)||"",A.transform=c?c(this.latestValues,""):"none",A;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=h1(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Su(this.latestValues)&&(f.transform=c?c({},""):"none",this.hasProjected=!1),f}const h=u.animationValues||u.latestValues;this.applyTransformsToTarget(),A.transform=xD(this.projectionDeltaWithTransform,this.treeScale,h),c&&(A.transform=c(h,A.transform));const{x:d,y:p}=this.projectionDelta;A.transformOrigin=`${d.origin*100}% ${p.origin*100}% 0`,u.animationValues?A.opacity=u===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:A.opacity=u===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in Lw){if(h[f]===void 0)continue;const{correct:b,applyTo:g}=Lw[f],v=A.transform==="none"?h[f]:b(h[f],u);if(g){const _=g.length;for(let x=0;x<_;x++)A[g[x]]=v}else A[f]=v}return this.options.layoutId&&(A.pointerEvents=u===this?h1(o==null?void 0:o.pointerEvents)||"":"none"),A}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(SD),this.root.sharedNodes.clear()}}}function Tue(t){t.updateLayout()}function Iue(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Po(u=>{const h=o?n.measuredBox[u]:n.layoutBox[u],d=co(h);h.min=r[u].min,h.max=h.min+d}):f7(s,n.layoutBox,r)&&Po(u=>{const h=o?n.measuredBox[u]:n.layoutBox[u],d=co(r[u]);h.max=h.min+d,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[u].max=t.relativeTarget[u].min+d)});const a=qd();em(a,r,n.layoutBox);const l=qd();o?em(l,t.applyTransform(i,!0),n.measuredBox):em(l,r,n.layoutBox);const A=!u7(a);let c=!1;if(!t.resumeFrom){const u=t.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:h,layout:d}=u;if(h&&d){const p=$r();tm(p,n.layoutBox,h.layoutBox);const f=$r();tm(f,r,d.layoutBox),h7(p,f)||(c=!0),u.options.layoutRoot&&(t.relativeTarget=f,t.relativeTargetOrigin=p,t.relativeParent=u)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:A,hasRelativeTargetChanged:c})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Nue(t){Tu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function kue(t){t.clearSnapshot()}function SD(t){t.clearMeasurements()}function Pue(t){t.isLayoutDirty=!1}function Due(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function TD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Lue(t){t.resolveTargetDelta()}function Rue(t){t.calcProjection()}function Uue(t){t.resetRotation()}function Oue(t){t.removeLeadSnapshot()}function ID(t,e,n){t.translate=sr(e.translate,0,n),t.scale=sr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ND(t,e,n,r){t.min=sr(e.min,n.min,r),t.max=sr(e.max,n.max,r)}function Mue(t,e,n,r){ND(t.x,e.x,n.x,r),ND(t.y,e.y,n.y,r)}function Que(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const jue={duration:.45,ease:[.4,0,.1,1]},FD=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),kD=FD("applewebkit/")&&!FD("chrome/")?Math.round:mr;function PD(t){t.min=kD(t.min),t.max=kD(t.max)}function Hue(t){PD(t.x),PD(t.y)}function f7(t,e,n){return t==="position"||t==="preserve-aspect"&&!EE(CD(e),CD(n),.2)}const Vue=d7({attachResizeListener:(t,e)=>$l(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),kC={current:void 0},p7=d7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!kC.current){const t=new Vue({});t.mount(window),t.setOptions({layoutScroll:!0}),kC.current=t}return kC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$ue={pan:{Feature:oue},drag:{Feature:sue,ProjectionNode:p7,MeasureLayout:l7}},zue=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Kue(t){const e=zue.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function NE(t,e,n=1){const[r,i]=Kue(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return XH(o)?parseFloat(o):o}else return yE(i)?NE(i,e,n+1):i}function Wue(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!yE(s))return;const o=NE(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!yE(s))continue;const o=NE(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Gue=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),g7=t=>Gue.has(t),que=t=>Object.keys(t).some(g7),DD=t=>t===Mh||t===Bt,LD=(t,e)=>parseFloat(t.split(", ")[e]),RD=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return LD(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?LD(s[1],t):0}},Yue=new Set(["x","y","z"]),Xue=$v.filter(t=>!Yue.has(t));function Jue(t){const e=[];return Xue.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Vf={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:RD(4,13),y:RD(5,14)};Vf.translateX=Vf.x;Vf.translateY=Vf.y;const Zue=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(A=>{a[A]=Vf[A](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(A=>{const c=e.getValue(A);c&&c.jump(a[A]),t[A]=Vf[A](l,s)}),t},ehe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(g7);let s=[],o=!1;const a=[];if(i.forEach(l=>{const A=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],u=eg(c);const h=e[l];let d;if(Uw(h)){const p=h.length,f=h[0]===null?1:0;c=h[f],u=eg(c);for(let b=f;b<p&&h[b]!==null;b++)d?SI(eg(h[b])===d):d=eg(h[b])}else d=eg(h);if(u!==d)if(DD(u)&&DD(d)){const p=A.get();typeof p=="string"&&A.set(parseFloat(p)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&d===Bt&&(e[l]=h.map(parseFloat))}else u!=null&&u.transform&&(d!=null&&d.transform)&&(c===0||h===0)?c===0?A.set(d.transform(c)):e[l]=u.transform(h):(o||(s=Jue(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],A.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,A=Zue(e,t,a);return s.length&&s.forEach(([c,u])=>{t.getValue(c).set(u)}),t.render(),fb&&l!==null&&window.scrollTo({top:l}),{target:A,transitionEnd:r}}else return{target:e,transitionEnd:r}};function the(t,e,n,r){return que(e)?ehe(t,e,n,r):{target:e,transitionEnd:r}}const nhe=(t,e,n,r)=>{const i=Wue(t,e,r);return e=i.target,r=i.transitionEnd,the(t,e,n,r)},FE={current:null},m7={current:!1};function rhe(){if(m7.current=!0,!!fb)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>FE.current=t.matches;t.addListener(e),e()}else FE.current=!1}function ihe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Ws(s))t.addValue(i,s),jw(r)&&r.add(i);else if(Ws(o))t.addValue(i,Hf(s,{owner:t})),jw(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Hf(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const UD=new WeakMap,v7=Object.keys(Zm),she=v7.length,OD=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ohe=yI.length;class ahe{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Jn.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=gb(n),this.isVariantNode=nH(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:A,...c}=this.scrapeMotionValuesFromProps(n,{});for(const u in c){const h=c[u];a[u]!==void 0&&Ws(h)&&(h.set(a[u],!1),jw(A)&&A.add(u))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,UD.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),m7.current||rhe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:FE.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){UD.delete(this.current),this.projection&&this.projection.unmount(),lA(this.notifyUpdate),lA(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Oh.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Jn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<she;l++){const A=v7[l],{isEnabled:c,Feature:u,ProjectionNode:h,MeasureLayout:d}=Zm[A];h&&(o=h),c(n)&&(!this.features[A]&&u&&(this.features[A]=new u(this)),d&&(a=d))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:A,drag:c,dragConstraints:u,layoutScroll:h,layoutRoot:d}=n;this.projection.setOptions({layoutId:l,layout:A,alwaysMeasureLayout:!!c||u&&Wd(u),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof A=="string"?A:"both",initialPromotionConfig:s,layoutScroll:h,layoutRoot:d})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):$r()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<OD.length;r++){const i=OD[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=ihe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<ohe;r++){const i=yI[r],s=this.props[i];(Jm(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Hf(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=EI(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ws(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new RI),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class y7 extends ahe{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=xce(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){_ce(this,r,o);const a=nhe(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function lhe(t){return window.getComputedStyle(t)}class Ahe extends y7{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Oh.has(n)){const r=FI(n);return r&&r.default||0}else{const r=lhe(e),i=(aH(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return o7(e,n)}build(e,n,r,i){bI(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return BI(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ws(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){dH(e,n,r,i)}}class che extends y7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Oh.has(n)){const r=FI(n);return r&&r.default||0}return n=fH.has(n)?n:mI(n),e.getAttribute(n)}measureInstanceViewportBox(){return $r()}scrapeMotionValuesFromProps(e,n){return gH(e,n)}build(e,n,r,i){CI(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){pH(e,n,r,i)}mount(e){this.isSVGTag=xI(e.tagName),super.mount(e)}}const uhe=(t,e)=>wI(t)?new che(e,{enableHardwareAcceleration:!1}):new Ahe(e,{enableHardwareAcceleration:!0}),hhe={layout:{ProjectionNode:p7,MeasureLayout:l7}},dhe={...Mce,...sAe,...$ue,...hhe},Vw=dle((t,e)=>Kle(t,e,dhe,uhe)),fhe=[{path:"/home",label:"Inicio"},{path:"/tasks",label:"Tareas"},{path:"/finance",label:"Finanzas"},{path:"/more",label:"Más"}];function w7(){const t=Ih(),e=pA();return y.jsx("nav",{className:"fixed bottom-0 w-full bg-pastel-blue bg-opacity-100 text-gray-800 shadow-md flex justify-around p-3 z-50",children:fhe.map(({path:n,label:r},i)=>{const s=e.pathname.startsWith(n);return y.jsxs("button",{onClick:()=>t(n),className:"relative",children:[y.jsx(Vw.span,{animate:{scale:s?1.1:1},transition:{type:"spring",stiffness:300},className:s?"text-pastel-pink font-semibold":"text-gray-800",children:r}),s&&y.jsx(Vw.span,{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-6 h-1 bg-pastel-pink rounded",layoutId:"activeUnderline"})]},i)})})}var phe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ghe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),hn=(t,e)=>{const n=$.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,children:a,...l},A)=>$.createElement("svg",{ref:A,...phe,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:`lucide lucide-${ghe(t)}`,...l},[...e.map(([c,u])=>$.createElement(c,u)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},mhe=hn("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),kE=hn("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),vhe=hn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),yhe=hn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]),MD=hn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),whe=hn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),bhe=hn("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),_he=hn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Che=hn("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),QD=hn("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),$w=hn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),xhe=hn("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),wb=hn("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bhe=hn("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Ehe=hn("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),She=hn("Layers",[["polygon",{points:"12 2 2 7 12 12 22 7 12 2",key:"1b0ttc"}],["polyline",{points:"2 17 12 22 22 17",key:"imjtdl"}],["polyline",{points:"2 12 12 17 22 12",key:"5dexcv"}]]),jD=hn("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),HD=hn("Music",[["path",{d:"M9 18V5l12-2v13",key:"1jmyc2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["circle",{cx:"18",cy:"16",r:"3",key:"1hluhg"}]]),b7=hn("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),The=hn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Ihe=hn("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),bb=hn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),VD=hn("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),Nhe=hn("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),_b=hn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Fhe=hn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),khe=hn("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),Gv=hn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Phe=hn("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),zw=hn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),PE=hn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Dhe=hn("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function UI(){return y.jsx("div",{className:"flex items-center justify-center p-4",role:"status","aria-label":"Loading",children:y.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})})}function Lhe(){const[t,e]=$.useState(()=>{const A=localStorage.getItem("chatOpen");return A?JSON.parse(A):!1}),[n,r]=$.useState([]),[i,s]=$.useState(""),[o,a]=$.useState(!1);$.useEffect(()=>{localStorage.setItem("chatOpen",JSON.stringify(t))},[t]);const l=async()=>{var c,u,h;if(!i)return;const A={from:"user",text:i};r(d=>[...d,A]),s(""),a(!0);try{const b={from:"bot",text:((h=(u=(c=(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{}.VITE_OPENAI_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"user",content:i}]})})).json()).choices)==null?void 0:c[0])==null?void 0:u.message)==null?void 0:h.content)||"Sin respuesta de IA"};r(g=>[...g,b])}catch{r(p=>[...p,{from:"bot",text:"Error al llamar a la API de IA"}])}finally{a(!1)}};return y.jsxs(y.Fragment,{children:[t&&y.jsxs("div",{className:"fixed bottom-20 right-6 w-80 h-96 bg-white shadow-lg rounded-lg flex flex-col overflow-hidden z-50",children:[y.jsxs("div",{className:"bg-blue-600 text-white p-2 flex items-center",children:[y.jsx(jD,{className:"mr-2"})," Chat IA"]}),y.jsxs("div",{className:"flex-1 p-2 overflow-y-auto relative",children:[o&&y.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-75",children:y.jsx(UI,{})}),n.map((A,c)=>y.jsx("div",{className:`mb-2 ${A.from==="user"?"text-right":"text-left"}`,children:y.jsx("span",{className:"inline-block p-2 rounded bg-gray-200",children:A.text})},c))]}),y.jsxs("div",{className:"p-2 flex",children:[y.jsx("input",{"aria-label":"Mensaje de chat",type:"text",value:i,onChange:A=>s(A.target.value),className:"flex-1 border rounded px-2 py-1",placeholder:"Escribe..."}),y.jsx(Vw.button,{onClick:l,"aria-label":"Enviar mensaje",className:"ml-2 bg-blue-600 text-white px-3 rounded",disabled:o,children:"Enviar"})]})]}),y.jsx(Vw.button,{onClick:()=>e(!t),"aria-label":t?"Cerrar chat":"Abrir chat",whileHover:{scale:1.1},whileTap:{scale:.9},className:"fixed bottom-6 right-6 bg-blue-600 text-white p-4 rounded-full shadow-lg z-50",children:y.jsx(jD,{})})]})}function Rhe({className:t="",onClick:e}){return y.jsxs("svg",{onClick:e,className:`${t} rounded-full bg-gray-200 p-1`,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",children:[y.jsx("path",{d:"M12 12c2.209 0 4-1.791 4-4s-1.791-4-4-4-4 1.791-4 4 1.791 4 4 4z"}),y.jsx("path",{d:"M4 20c0-4 4-6 8-6s8 2 8 6v1H4v-1z"})]})}function Uhe(){Uh();const[t,e]=$.useState(!1);return y.jsxs("div",{className:"relative min-h-screen flex flex-col bg-pastel-yellow text-gray-800 font-sans",children:[y.jsxs("div",{className:"absolute top-4 right-4 z-20",children:[y.jsx(Rhe,{onClick:()=>e(!t),className:"w-8 h-8 text-gray-800 cursor-pointer"}),t&&y.jsxs("div",{className:"absolute right-0 mt-2 bg-white border rounded shadow p-2 space-y-1",children:[y.jsx(hi,{to:"/perfil",onClick:()=>e(!1),className:"block px-2 py-1 hover:bg-gray-100",children:"Perfil"}),y.jsx(hi,{to:"/notificaciones",onClick:()=>e(!1),className:"block px-2 py-1 hover:bg-gray-100",children:"Notificaciones"}),y.jsx(hi,{to:"/buzon",onClick:()=>e(!1),className:"block px-2 py-1 hover:bg-gray-100",children:"Buzón"})]})]}),y.jsx("main",{className:"container flex-grow mx-auto px-4 py-8",children:y.jsx(xv,{})}),y.jsx(w7,{}),y.jsx(Lhe,{})]})}function Ohe(){const[t,e]=$.useState(""),[n,r]=$.useState(""),[i,s]=$.useState(""),[o,a]=$.useState(!0),{login:l}=Uh(),A=Ih(),c=async u=>{u.preventDefault(),s("");try{await l(t,n,o),A("/home")}catch{s("Usuario o contraseña inválidos")}};return y.jsx("div",{className:"flex items-center justify-center h-screen bg-pastel-yellow",children:y.jsxs("form",{onSubmit:c,className:"bg-white p-6 rounded shadow-md",children:[y.jsx("h2",{className:"text-2xl mb-4",children:"Iniciar sesión"}),y.jsx("input",{type:"text",placeholder:"Nombre de usuario",value:t,onChange:u=>e(u.target.value),className:"border p-2 w-full mb-4"}),y.jsx("input",{type:"password",placeholder:"Contraseña",value:n,onChange:u=>r(u.target.value),className:"border p-2 w-full mb-4"}),i&&y.jsx("p",{className:"text-red-600 text-sm mb-4",children:i}),y.jsxs("div",{className:"flex items-center mb-4",children:[y.jsx("input",{type:"checkbox",id:"remember",checked:o,onChange:u=>a(u.target.checked),className:"mr-2"}),y.jsx("label",{htmlFor:"remember",className:"text-sm",children:"Recuérdame"})]}),y.jsx("button",{type:"submit",className:"bg-pastel-blue text-white px-4 py-2 rounded w-full hover:bg-pastel-green transition-colors",children:"Entrar"}),y.jsxs("p",{className:"mt-4 text-sm",children:["¿No tienes cuenta? ",y.jsx(hi,{to:"/signup",className:"text-pastel-blue hover:underline",children:"Regístrate"})]})]})})}function Mhe(){const[t,e]=$.useState(""),[n,r]=$.useState(""),[i,s]=$.useState(""),{signup:o}=Uh(),a=Ih(),l=async A=>{A.preventDefault(),s("");try{await o(t,n),a("/home")}catch(c){s(c.message)}};return y.jsx("div",{className:"flex items-center justify-center h-screen bg-pastel-yellow",children:y.jsxs("form",{onSubmit:l,className:"bg-white p-6 rounded shadow-md",children:[y.jsx("h2",{className:"text-2xl mb-4",children:"Crear cuenta"}),y.jsx("input",{type:"email",placeholder:"Correo electrónico",value:t,onChange:A=>e(A.target.value),className:"border p-2 w-full mb-4"}),y.jsx("input",{type:"password",placeholder:"Contraseña",value:n,onChange:A=>r(A.target.value),className:"border p-2 w-full mb-4"}),i&&y.jsx("p",{className:"text-red-600 text-sm mb-4",children:i}),y.jsx("button",{type:"submit",className:"bg-pastel-blue text-white px-4 py-2 rounded w-full hover:bg-pastel-green transition-colors",children:"Registrarse"}),y.jsxs("p",{className:"mt-4 text-sm",children:["¿Ya tienes cuenta? ",y.jsx(hi,{to:"/",className:"text-pastel-blue hover:underline",children:"Inicia sesión"})]})]})})}function PC({children:t,className:e}){return y.jsx("div",{className:`bg-white/70 backdrop-blur-md rounded-2xl shadow-md ${e}`,children:t})}function Qhe({value:t,max:e=100,variant:n="primary",className:r}){const i=()=>{switch(n){case"success":return"bg-pastel-green";case"primary":return"bg-pastel-blue";case"destructive":return"bg-pastel-pink";default:return"bg-gray-300"}};return y.jsx("div",{className:`group cursor-pointer w-full bg-gray-200 rounded-full overflow-visible ${r}`,children:y.jsx("div",{className:`${i()} transition-transform duration-200 ease-in-out transform origin-bottom group-hover:scale-y-110`,style:{width:`${t/e*100}%`,height:"100%"}})})}const jhe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",Hhe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",Vhe="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=",$he="data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/8=";function zhe(){const{role:t,userName:e,weddingName:n,progress:r,logoUrl:i}=Uh(),s=$.useRef(null),o=300,a=()=>{var h;(h=s.current)==null||h.scrollBy({left:-o,behavior:"smooth"})},l=()=>{var h;(h=s.current)==null||h.scrollBy({left:o,behavior:"smooth"})},u=t==="particular"?[{label:"Invitados confirmados",value:120,icon:PE},{label:"Presupuesto gastado",value:"€8,500",icon:QD},{label:"Proveedores contratados",value:"5 / 8",icon:zw},{label:"Tareas completadas",value:"25 / 30",icon:kE}]:[{label:"Tareas asignadas",value:12,icon:kE},{label:"Proveedores asignados",value:3,icon:zw},{label:"Momentos por coordinar",value:4,icon:PE},{label:"Presupuesto gastado",value:"€4,500",icon:QD}];return y.jsxs("div",{className:"relative flex flex-col h-full bg-pastel-yellow pb-16",children:[y.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-pastel-pink rounded-full opacity-20 transform translate-x-1/2 -translate-y-1/2"}),y.jsxs("header",{className:"relative z-10 p-6 flex justify-between items-center",children:[y.jsxs("div",{className:"space-y-1",children:[y.jsxs("p",{className:"text-2xl text-gray-800",children:["Bienvenidos, ",e]}),y.jsx("p",{className:"text-4xl font-bold text-gray-800",children:"Cada detalle hace tu boda inolvidable"})]}),y.jsx("img",{src:"/logo-app.png",alt:"Logo de la boda",className:"w-32 h-32 object-contain"})]}),y.jsx("section",{className:"z-10 w-full p-6",children:y.jsxs(PC,{className:"bg-white/70 backdrop-blur-md p-4 w-full",children:[y.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Progreso de tareas"}),y.jsx(Qhe,{className:"h-4 rounded-full w-full",value:r,max:100,variant:r>=100?"success":r>=80?"primary":"destructive"}),y.jsxs("p",{className:"mt-2 text-sm font-medium text-gray-700",children:[r,"% completado"]})]})}),y.jsx("section",{className:"z-10 grid grid-cols-1 sm:grid-cols-2 gap-6 p-6 flex-grow",children:u.map((h,d)=>{const p=h.icon;return y.jsxs(PC,{className:"p-4 bg-white/80 backdrop-blur-md hover:shadow-lg transition transform hover:scale-105",children:[y.jsxs("div",{className:"flex items-center space-x-2",children:[y.jsx(p,{className:"text-pastel-blue"}),y.jsx("p",{className:"text-sm text-gray-500",children:h.label})]}),y.jsx("p",{className:"text-2xl font-extrabold text-blue-600 mt-2",children:h.value})]},d)})}),y.jsx("section",{className:"z-10 p-6",children:y.jsxs("div",{className:"relative",children:[y.jsx("button",{onClick:a,className:"absolute left-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white/80 rounded-full shadow-md",children:y.jsx(yhe,{className:"text-gray-700"})}),y.jsx("div",{ref:s,className:"flex space-x-4 py-2 overflow-hidden scroll-smooth",children:[jhe,Hhe,Vhe,$he].map((h,d)=>y.jsx("div",{className:"flex-shrink-0 w-80 h-56 rounded-xl overflow-hidden shadow-md",children:y.jsx("img",{src:h,alt:`Inspiración ${d+1}`,className:"w-full h-full object-cover"})},d))}),y.jsx("button",{onClick:l,className:"absolute right-0 top-1/2 transform -translate-y-1/2 z-20 p-2 bg-white/80 rounded-full shadow-md",children:y.jsx(MD,{className:"text-gray-700"})})]})}),y.jsxs("section",{className:"z-10 p-6",children:[y.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Últimas Noticias"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{title:"Tendencias en decoraciones nupciales 2025",url:"#",source:"Blog de Bodas"},{title:"Cómo elegir el menú perfecto para tu boda",url:"#",source:"Revista Eventos"},{title:"Guía definitiva de flores de temporada",url:"#",source:"Noticias Florales"}].map((h,d)=>y.jsxs(PC,{className:"p-4 hover:shadow-lg transition",children:[y.jsx("p",{className:"text-lg font-medium text-gray-800",children:h.title}),y.jsx("p",{className:"text-sm text-gray-500 mt-1",children:h.source}),y.jsxs("a",{href:h.url,className:"inline-flex items-center text-blue-600 mt-2",children:["Leer más ",y.jsx(MD,{className:"ml-1"})]})]},d))})]}),y.jsx("div",{className:"fixed bottom-0 left-0 w-full z-20",children:y.jsx(w7,{})})]})}function Khe(){return y.jsx(zhe,{})}function Ta(){return Ta=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ta.apply(this,arguments)}function Whe(t,e){if(t){if(typeof t=="string")return $D(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $D(t,e)}}function $D(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _7(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=Whe(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hn;(function(t){t.Hour="Hour",t.QuarterDay="Quarter Day",t.HalfDay="Half Day",t.Day="Day",t.Week="Week",t.Month="Month",t.Year="Year"})(Hn||(Hn={}));var zD={},Kw=function(e,n){n===void 0&&(n={});var r=JSON.stringify([e,n]),i=zD[r];return i||(i=new Intl.DateTimeFormat(e,n),zD[r]=i),i},dr=function(e,n,r){var i=new Date(e.getFullYear()+(r==="year"?n:0),e.getMonth()+(r==="month"?n:0),e.getDate()+(r==="day"?n:0),e.getHours()+(r==="hour"?n:0),e.getMinutes()+(r==="minute"?n:0),e.getSeconds()+(r==="second"?n:0),e.getMilliseconds()+(r==="millisecond"?n:0));return i},ks=function(e,n){var r=["millisecond","second","minute","hour","day","month","year"],i=function(a){var l=r.indexOf(n);return r.indexOf(a)<=l},s=new Date(e.getFullYear(),i("year")?0:e.getMonth(),i("month")?1:e.getDate(),i("day")?0:e.getHours(),i("hour")?0:e.getMinutes(),i("minute")?0:e.getSeconds(),i("second")?0:e.getMilliseconds());return s},KD=function(e,n,r){for(var i=e[0].start,s=e[0].start,o=_7(e),a;!(a=o()).done;){var l=a.value;l.start<i&&(i=l.start),l.end>s&&(s=l.end)}switch(n){case Hn.Year:i=dr(i,-1,"year"),i=ks(i,"year"),s=dr(s,1,"year"),s=ks(s,"year");break;case Hn.Month:i=dr(i,-1*r,"month"),i=ks(i,"month"),s=dr(s,1,"year"),s=ks(s,"year");break;case Hn.Week:i=ks(i,"day"),i=dr(Ghe(i),-7*r,"day"),s=ks(s,"day"),s=dr(s,1.5,"month");break;case Hn.Day:i=ks(i,"day"),i=dr(i,-1*r,"day"),s=ks(s,"day"),s=dr(s,19,"day");break;case Hn.QuarterDay:i=ks(i,"day"),i=dr(i,-1*r,"day"),s=ks(s,"day"),s=dr(s,66,"hour");break;case Hn.HalfDay:i=ks(i,"day"),i=dr(i,-1*r,"day"),s=ks(s,"day"),s=dr(s,108,"hour");break;case Hn.Hour:i=ks(i,"hour"),i=dr(i,-1*r,"hour"),s=ks(s,"day"),s=dr(s,1,"day");break}return[i,s]},WD=function(e,n,r){for(var i=new Date(e),s=[i];i<n;){switch(r){case Hn.Year:i=dr(i,1,"year");break;case Hn.Month:i=dr(i,1,"month");break;case Hn.Week:i=dr(i,7,"day");break;case Hn.Day:i=dr(i,1,"day");break;case Hn.HalfDay:i=dr(i,12,"hour");break;case Hn.QuarterDay:i=dr(i,6,"hour");break;case Hn.Hour:i=dr(i,1,"hour");break}s.push(i)}return s},ng=function(e,n){var r=Kw(n,{month:"long"}).format(e);return r=r.replace(r[0],r[0].toLocaleUpperCase()),r},DC=function(e,n,r){var i=Kw(n,{weekday:r}).format(e);return i=i.replace(i[0],i[0].toLocaleUpperCase()),i},Ghe=function(e){var n=e.getDay(),r=e.getDate()-n+(n===0?-6:1);return new Date(e.setDate(r))},qhe=function(e){var n=new Date(e.valueOf()),r=(n.getDay()+6)%7;n.setDate(n.getDate()-r+3);var i=n.valueOf();n.setMonth(0,1),n.getDay()!==4&&n.setMonth(0,1+(4-n.getDay()+7)%7);var s=(1+Math.ceil((i-n.valueOf())/6048e5)).toString();return s.length===1?"0"+s:s},Yhe=function(e,n){return new Date(n,e+1,0).getDate()},bu={ganttTable:"_3_ygE",ganttTable_Header:"_1nBOt",ganttTable_HeaderSeparator:"_2eZzQ",ganttTable_HeaderItem:"_WuQ0f"},Xhe=function(e){var n=e.headerHeight,r=e.fontFamily,i=e.fontSize,s=e.rowWidth;return re.createElement("div",{className:bu.ganttTable,style:{fontFamily:r,fontSize:i}},re.createElement("div",{className:bu.ganttTable_Header,style:{height:n-2}},re.createElement("div",{className:bu.ganttTable_HeaderItem,style:{minWidth:s}}," Name"),re.createElement("div",{className:bu.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.2}}),re.createElement("div",{className:bu.ganttTable_HeaderItem,style:{minWidth:s}}," From"),re.createElement("div",{className:bu.ganttTable_HeaderSeparator,style:{height:n*.5,marginTop:n*.25}}),re.createElement("div",{className:bu.ganttTable_HeaderItem,style:{minWidth:s}}," To")))},KA={taskListWrapper:"_3ZbQT",taskListTableRow:"_34SS0",taskListCell:"_3lLk3",taskListNameWrapper:"_nI1Xw",taskListExpander:"_2QjE6",taskListEmptyExpander:"_2TfEi"},GD={},Jhe=function(e){return function(n,r){var i=n.toString(),s=GD[i];return s||(s=n.toLocaleDateString(e,r),GD[i]=s),s}},qD={weekday:"short",year:"numeric",month:"long",day:"numeric"},Zhe=function(e){var n=e.rowHeight,r=e.rowWidth,i=e.tasks,s=e.fontFamily,o=e.fontSize,a=e.locale,l=e.onExpanderClick,A=$.useMemo(function(){return Jhe(a)},[a]);return re.createElement("div",{className:KA.taskListWrapper,style:{fontFamily:s,fontSize:o}},i.map(function(c){var u="";return c.hideChildren===!1?u="▼":c.hideChildren===!0&&(u="▶"),re.createElement("div",{className:KA.taskListTableRow,style:{height:n},key:c.id+"row"},re.createElement("div",{className:KA.taskListCell,style:{minWidth:r,maxWidth:r},title:c.name},re.createElement("div",{className:KA.taskListNameWrapper},re.createElement("div",{className:u?KA.taskListExpander:KA.taskListEmptyExpander,onClick:function(){return l(c)}},u),re.createElement("div",null,c.name))),re.createElement("div",{className:KA.taskListCell,style:{minWidth:r,maxWidth:r}}," ",A(c.start,qD)),re.createElement("div",{className:KA.taskListCell,style:{minWidth:r,maxWidth:r}}," ",A(c.end,qD)))}))},nm={tooltipDefaultContainer:"_3T42e",tooltipDefaultContainerParagraph:"_29NTg",tooltipDetailsContainer:"_25P-K",tooltipDetailsContainerHidden:"_3gVAq"},ede=function(e){var n=e.task,r=e.rowHeight,i=e.rtl,s=e.svgContainerHeight,o=e.svgContainerWidth,a=e.scrollX,l=e.scrollY,A=e.arrowIndent,c=e.fontSize,u=e.fontFamily,h=e.headerHeight,d=e.taskListWidth,p=e.TooltipContent,f=$.useRef(null),b=$.useState(0),g=b[0],v=b[1],_=$.useState(0),x=_[0],F=_[1];return $.useEffect(function(){if(f.current){var O=f.current.offsetHeight*1.1,I=f.current.offsetWidth*1.1,B=n.index*r-l+h,T;if(i){T=n.x1-A*1.5-I-a,T<0&&(T=n.x2+A*1.5-a);var R=I+T;R>o&&(T=o-I,B+=r)}else{T=n.x2+A*1.5+d-a;var D=I+T,E=d+o;D>E&&(T=n.x1+d-A*1.5-a-I),T<d&&(T=o+d-I,B+=r)}var k=O+B-l;k>s-l&&(B=s-O),v(B),F(T)}},[f,n,A,a,l,h,d,r,s,o,i]),re.createElement("div",{ref:f,className:x?nm.tooltipDetailsContainer:nm.tooltipDetailsContainerHidden,style:{left:x,top:g}},re.createElement(p,{task:n,fontSize:c,fontFamily:u}))},tde=function(e){var n=e.task,r=e.fontSize,i=e.fontFamily,s={fontSize:r,fontFamily:i};return re.createElement("div",{className:nm.tooltipDefaultContainer,style:s},re.createElement("b",{style:{fontSize:r+6}},n.name+": "+n.start.getDate()+"-"+(n.start.getMonth()+1)+"-"+n.start.getFullYear()+" - "+n.end.getDate()+"-"+(n.end.getMonth()+1)+"-"+n.end.getFullYear()),n.end.getTime()-n.start.getTime()!==0&&re.createElement("p",{className:nm.tooltipDefaultContainerParagraph},"Duration: "+~~((n.end.getTime()-n.start.getTime())/(1e3*60*60*24))+" day(s)"),re.createElement("p",{className:nm.tooltipDefaultContainerParagraph},!!n.progress&&"Progress: "+n.progress+" %"))},nde={scroll:"_1eT-t"},rde=function(e){var n=e.scroll,r=e.ganttHeight,i=e.ganttFullHeight,s=e.headerHeight,o=e.rtl,a=e.onScroll,l=$.useRef(null);return $.useEffect(function(){l.current&&(l.current.scrollTop=n)},[n]),re.createElement("div",{style:{height:r,marginTop:s,marginLeft:o?"":"-1rem"},className:nde.scroll,onScroll:a,ref:l},re.createElement("div",{style:{height:i,width:1}}))},ide=function(e){var n=e.headerHeight,r=e.fontFamily,i=e.fontSize,s=e.rowWidth,o=e.rowHeight,a=e.scrollY,l=e.tasks,A=e.selectedTask,c=e.setSelectedTask,u=e.onExpanderClick,h=e.locale,d=e.ganttHeight,p=e.taskListRef,f=e.horizontalContainerClass,b=e.TaskListHeader,g=e.TaskListTable,v=$.useRef(null);$.useEffect(function(){v.current&&(v.current.scrollTop=a)},[a]);var _={headerHeight:n,fontFamily:r,fontSize:i,rowWidth:s},x=A?A.id:"",F={rowHeight:o,rowWidth:s,fontFamily:r,fontSize:i,tasks:l,locale:h,selectedTaskId:x,setSelectedTask:c,onExpanderClick:u};return re.createElement("div",{ref:p},re.createElement(b,Object.assign({},_)),re.createElement("div",{ref:v,className:f,style:d?{height:d}:{}},re.createElement(g,Object.assign({},F))))},Ay={gridRow:"_2dZTy",gridRowLine:"_3rUKi",gridTick:"_RuwuK"},sde=function(e){for(var n=e.tasks,r=e.dates,i=e.rowHeight,s=e.svgWidth,o=e.columnWidth,a=e.todayColor,l=e.rtl,A=0,c=[],u=[re.createElement("line",{key:"RowLineFirst",x:"0",y1:0,x2:s,y2:0,className:Ay.gridRowLine})],h=_7(n),d;!(d=h()).done;){var p=d.value;c.push(re.createElement("rect",{key:"Row"+p.id,x:"0",y:A,width:s,height:i,className:Ay.gridRow})),u.push(re.createElement("line",{key:"RowLine"+p.id,x:"0",y1:A+i,x2:s,y2:A+i,className:Ay.gridRowLine})),A+=i}for(var f=new Date,b=0,g=[],v=re.createElement("rect",null),_=0;_<r.length;_++){var x=r[_];g.push(re.createElement("line",{key:x.getTime(),x1:b,y1:0,x2:b,y2:A,className:Ay.gridTick})),(_+1!==r.length&&x.getTime()<f.getTime()&&r[_+1].getTime()>=f.getTime()||_!==0&&_+1===r.length&&x.getTime()<f.getTime()&&dr(x,x.getTime()-r[_-1].getTime(),"millisecond").getTime()>=f.getTime())&&(v=re.createElement("rect",{x:b,y:0,width:o,height:A,fill:a})),l&&_+1!==r.length&&x.getTime()>=f.getTime()&&r[_+1].getTime()<f.getTime()&&(v=re.createElement("rect",{x:b+o,y:0,width:o,height:A,fill:a})),b+=o}return re.createElement("g",{className:"gridBody"},re.createElement("g",{className:"rows"},c),re.createElement("g",{className:"rowLines"},u),re.createElement("g",{className:"ticks"},g),re.createElement("g",{className:"today"},v))},ode=function(e){return re.createElement("g",{className:"grid"},re.createElement(sde,Object.assign({},e)))},Rl={calendarBottomText:"_9w8d5",calendarTopTick:"_1rLuZ",calendarTopText:"_2q1Kt",calendarHeader:"_35nLX"},hd=function(e){var n=e.value,r=e.x1Line,i=e.y1Line,s=e.y2Line,o=e.xText,a=e.yText;return re.createElement("g",{className:"calendarTop"},re.createElement("line",{x1:r,y1:i,x2:r,y2:s,className:Rl.calendarTopTick,key:n+"line"}),re.createElement("text",{key:n+"text",y:a,x:o,className:Rl.calendarTopText},n))},ade=function(e){var n=e.dateSetup,r=e.locale,i=e.viewMode,s=e.rtl,o=e.headerHeight,a=e.columnWidth,l=e.fontFamily,A=e.fontSize,c=function(){for(var T=[],R=[],D=o*.5,E=0;E<n.dates.length;E++){var k=n.dates[E],N=k.getFullYear();if(R.push(re.createElement("text",{key:k.getFullYear(),y:o*.8,x:a*E+a*.5,className:Rl.calendarBottomText},N)),E===0||k.getFullYear()!==n.dates[E-1].getFullYear()){var Y=k.getFullYear().toString(),oe=void 0;s?oe=(6+E+k.getFullYear()+1)*a:oe=(6+E-k.getFullYear())*a,T.push(re.createElement(hd,{key:Y,value:Y,x1Line:a*E,y1Line:0,y2Line:o,xText:oe,yText:D*.9}))}}return[T,R]},u=function(){for(var T=[],R=[],D=o*.5,E=0;E<n.dates.length;E++){var k=n.dates[E],N=ng(k,r);if(R.push(re.createElement("text",{key:N+k.getFullYear(),y:o*.8,x:a*E+a*.5,className:Rl.calendarBottomText},N)),E===0||k.getFullYear()!==n.dates[E-1].getFullYear()){var Y=k.getFullYear().toString(),oe=void 0;s?oe=(6+E+k.getMonth()+1)*a:oe=(6+E-k.getMonth())*a,T.push(re.createElement(hd,{key:Y,value:Y,x1Line:a*E,y1Line:0,y2Line:D,xText:oe,yText:D*.9}))}}return[T,R]},h=function(){for(var T=[],R=[],D=1,E=o*.5,k=n.dates,N=k.length-1;N>=0;N--){var Y=k[N],oe="";(N===0||Y.getMonth()!==k[N-1].getMonth())&&(oe=ng(Y,r)+", "+Y.getFullYear());var ie="W"+qhe(Y);R.push(re.createElement("text",{key:Y.getTime(),y:o*.8,x:a*(N+ +s),className:Rl.calendarBottomText},ie)),oe&&(N!==k.length-1&&T.push(re.createElement(hd,{key:oe,value:oe,x1Line:a*N+D*a,y1Line:0,y2Line:E,xText:a*N+a*D*.5,yText:E*.9})),D=0),D++}return[T,R]},d=function(){for(var T=[],R=[],D=o*.5,E=n.dates,k=0;k<E.length;k++){var N=E[k],Y=DC(N,r,"short")+", "+N.getDate().toString();if(R.push(re.createElement("text",{key:N.getTime(),y:o*.8,x:a*k+a*.5,className:Rl.calendarBottomText},Y)),k+1!==E.length&&N.getMonth()!==E[k+1].getMonth()){var oe=ng(N,r);T.push(re.createElement(hd,{key:oe+N.getFullYear(),value:oe,x1Line:a*(k+1),y1Line:0,y2Line:D,xText:a*(k+1)-Yhe(N.getMonth(),N.getFullYear())*a*.5,yText:D*.9}))}}return[T,R]},p=function(){for(var T=[],R=[],D=i===Hn.HalfDay?2:4,E=o*.5,k=n.dates,N=0;N<k.length;N++){var Y=k[N],oe=Kw(r,{hour:"numeric"}).format(Y);if(R.push(re.createElement("text",{key:Y.getTime(),y:o*.8,x:a*(N+ +s),className:Rl.calendarBottomText,fontFamily:l},oe)),N===0||Y.getDate()!==k[N-1].getDate()){var ie=DC(Y,r,"short")+", "+Y.getDate()+" "+ng(Y,r);T.push(re.createElement(hd,{key:ie+Y.getFullYear(),value:ie,x1Line:a*N+D*a,y1Line:0,y2Line:E,xText:a*N+D*a*.5,yText:E*.9}))}}return[T,R]},f=function(){for(var T=[],R=[],D=o*.5,E=n.dates,k=0;k<E.length;k++){var N=E[k],Y=Kw(r,{hour:"numeric"}).format(N);if(R.push(re.createElement("text",{key:N.getTime(),y:o*.8,x:a*(k+ +s),className:Rl.calendarBottomText,fontFamily:l},Y)),k!==0&&N.getDate()!==E[k-1].getDate()){var oe=E[k-1],ie=DC(oe,r,"long")+", "+oe.getDate()+" "+ng(oe,r),ne=(N.getHours()-24)/2;T.push(re.createElement(hd,{key:ie+oe.getFullYear(),value:ie,x1Line:a*k,y1Line:0,y2Line:D,xText:a*(k+ne),yText:D*.9}))}}return[T,R]},b=[],g=[];switch(n.viewMode){case Hn.Year:var v=c();b=v[0],g=v[1];break;case Hn.Month:var _=u();b=_[0],g=_[1];break;case Hn.Week:var x=h();b=x[0],g=x[1];break;case Hn.Day:var F=d();b=F[0],g=F[1];break;case Hn.QuarterDay:case Hn.HalfDay:var O=p();b=O[0],g=O[1];break;case Hn.Hour:var I=f();b=I[0],g=I[1]}return re.createElement("g",{className:"calendar",fontSize:A,fontFamily:l},re.createElement("rect",{x:0,y:0,width:a*n.dates.length,height:o,className:Rl.calendarHeader}),g," ",b)};typeof Symbol<"u"&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")));typeof Symbol<"u"&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function LC(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}var lde=function(e){var n=e.taskFrom,r=e.taskTo,i=e.rowHeight,s=e.taskHeight,o=e.arrowIndent,a=e.rtl,l,A;if(a){var c=cde(n,r,i,s,o);l=c[0],A=c[1]}else{var u=Ade(n,r,i,s,o);l=u[0],A=u[1]}return re.createElement("g",{className:"arrow"},re.createElement("path",{strokeWidth:"1.5",d:l,fill:"none"}),re.createElement("polygon",{points:A}))},Ade=function(e,n,r,i,s){var o=e.index>n.index?-1:1,a=n.y+i/2,l=e.x2+s*2,A=l<n.x1?"":"H "+(n.x1-s),c=l>n.x1?s:n.x1-e.x2-s,u="M "+e.x2+" "+(e.y+i/2)+` 
  h `+s+` 
  v `+o*r/2+` 
  `+A+`
  V `+a+` 
  h `+c,h=n.x1+","+a+` 
  `+(n.x1-5)+","+(a-5)+` 
  `+(n.x1-5)+","+(a+5);return[u,h]},cde=function(e,n,r,i,s){var o=e.index>n.index?-1:1,a=n.y+i/2,l=e.x1-s*2,A=l>n.x2?"":"H "+(n.x2+s),c=l<n.x2?-s:n.x2-e.x1+s,u="M "+e.x1+" "+(e.y+i/2)+` 
  h `+-s+` 
  v `+o*r/2+` 
  `+A+`
  V `+a+` 
  h `+c,h=n.x2+","+a+` 
  `+(n.x2+5)+","+(a+5)+` 
  `+(n.x2+5)+","+(a-5);return[u,h]},ude=function(e,n,r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v){var _=e.map(function(x,F){return hde(x,F,n,r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v)});return _=_.map(function(x){for(var F=x.dependencies||[],O=function(T){var R=_.findIndex(function(D){return D.id===F[T]});R!==-1&&_[R].barChildren.push(x)},I=0;I<F.length;I++)O(I);return x}),_},hde=function(e,n,r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v,_){var x;switch(e.type){case"milestone":x=dde(e,n,r,i,s,o,a,l,v,_);break;case"project":x=YD(e,n,r,i,s,o,a,l,A,p,f,b,g);break;default:x=YD(e,n,r,i,s,o,a,l,A,c,u,h,d);break}return x},YD=function(e,n,r,i,s,o,a,l,A,c,u,h,d){var p,f;A?(f=XD(e.start,r,i),p=XD(e.end,r,i)):(p=Ww(e.start,r,i),f=Ww(e.end,r,i));var b=e.type;b==="task"&&f-p<l*2&&(b="smalltask",f=p+l*2);var g=xg(p,f,e.progress,A),v=g[0],_=g[1],x=C7(n,s,o),F=e.type==="project"?e.hideChildren:void 0,O=Ta({backgroundColor:h,backgroundSelectedColor:d,progressColor:c,progressSelectedColor:u},e.styles);return Ta({},e,{typeInternal:b,x1:p,x2:f,y:x,index:n,progressX:_,progressWidth:v,barCornerRadius:a,handleWidth:l,hideChildren:F,height:o,barChildren:[],styles:O})},dde=function(e,n,r,i,s,o,a,l,A,c){var u=Ww(e.start,r,i),h=C7(n,s,o),d=u-o*.5,p=u+o*.5,f=o/1.414,b=Ta({backgroundColor:A,backgroundSelectedColor:c,progressColor:"",progressSelectedColor:""},e.styles);return Ta({},e,{end:e.start,x1:d,x2:p,y:h,index:n,progressX:0,progressWidth:0,barCornerRadius:a,handleWidth:l,typeInternal:e.type,progress:0,height:f,hideChildren:void 0,barChildren:[],styles:b})},Ww=function(e,n,r){var i=n.findIndex(function(l){return l.getTime()>=e.getTime()})-1,s=e.getTime()-n[i].getTime(),o=s/(n[i+1].getTime()-n[i].getTime()),a=i*r+o*r;return a},XD=function(e,n,r){var i=Ww(e,n,r);return i+=r,i},C7=function(e,n,r){var i=e*n+(n-r)/2;return i},xg=function(e,n,r,i){var s=(n-e)*r*.01,o;return i?o=n-s:o=e,[s,o]},fde=function(e,n){if(e>=n.x2)return 100;if(e<=n.x1)return 0;var r=n.x2-n.x1,i=Math.round((e-n.x1)*100/r);return i},pde=function(e,n){if(e>=n.x2)return 0;if(e<=n.x1)return 100;var r=n.x2-n.x1,i=Math.round((n.x2-e)*100/r);return i},x7=function(e,n,r){var i=[e-5,n+r,e+5,n+r,e,n+r-8.66];return i.join(",")},gde=function(e,n,r){e>=r.x2-r.handleWidth*2&&(e=r.x2-r.handleWidth*2);var i=Math.round((e-r.x1)/n),s=i*n,o=r.x1+s;return o},mde=function(e,n,r){e<=r.x1+r.handleWidth*2&&(e=r.x1+r.handleWidth*2);var i=Math.round((e-r.x2)/n),s=i*n,o=r.x2+s;return o},B7=function(e,n,r){var i=Math.round((e-r.x1)/n),s=i*n,o=r.x1+s,a=o+r.x2-r.x1;return[o,a]},Iu=function(e,n,r,i,s){var o=new Date((e-n)/i*s+r.getTime());return o=new Date(o.getTime()+(o.getTimezoneOffset()-r.getTimezoneOffset())*6e4),o},JD=function(e,n,r,i,s,o,a){var l;switch(r.type){case"milestone":l=yde(e,n,r,i,s,o);break;default:l=vde(e,n,r,i,s,o,a);break}return l},vde=function(e,n,r,i,s,o,a){var l=Ta({},r),A=!1;switch(n){case"progress":if(a?l.progress=pde(e,r):l.progress=fde(e,r),A=l.progress!==r.progress,A){var c=xg(l.x1,l.x2,l.progress,a),u=c[0],h=c[1];l.progressWidth=u,l.progressX=h}break;case"start":{var d=gde(e,i,r);if(l.x1=d,A=l.x1!==r.x1,A){a?l.end=Iu(d,r.x1,r.end,i,s):l.start=Iu(d,r.x1,r.start,i,s);var p=xg(l.x1,l.x2,l.progress,a),f=p[0],b=p[1];l.progressWidth=f,l.progressX=b}break}case"end":{var g=mde(e,i,r);if(l.x2=g,A=l.x2!==r.x2,A){a?l.start=Iu(g,r.x2,r.start,i,s):l.end=Iu(g,r.x2,r.end,i,s);var v=xg(l.x1,l.x2,l.progress,a),_=v[0],x=v[1];l.progressWidth=_,l.progressX=x}break}case"move":{var F=B7(e-o,i,r),O=F[0],I=F[1];if(A=O!==r.x1,A){l.start=Iu(O,r.x1,r.start,i,s),l.end=Iu(I,r.x2,r.end,i,s),l.x1=O,l.x2=I;var B=xg(l.x1,l.x2,l.progress,a),T=B[0],R=B[1];l.progressWidth=T,l.progressX=R}break}}return{isChanged:A,changedTask:l}},yde=function(e,n,r,i,s,o){var a=Ta({},r),l=!1;switch(n){case"move":{var A=B7(e-o,i,r),c=A[0],u=A[1];l=c!==r.x1,l&&(a.start=Iu(c,r.x1,r.start,i,s),a.end=a.start,a.x1=c,a.x2=u);break}}return{isChanged:l,changedTask:a}};function wde(t){return t.key!==void 0}function bde(t){var e=t.filter(function(i){return i.hideChildren&&i.type==="project"});if(e.length>0)for(var n=function(s){var o=e[s],a=E7(t,o);t=t.filter(function(l){return a.indexOf(l)===-1})},r=0;e.length>r;r++)n(r);return t}function E7(t,e){var n=[];e.type!=="project"?n=t.filter(function(i){return i.dependencies&&i.dependencies.indexOf(e.id)!==-1}):n=t.filter(function(i){return i.project&&i.project===e.id});var r=[];return n.forEach(function(i){r.push.apply(r,E7(t,i))}),n=n.concat(n,r),n}var _de=function(e,n){var r=e.displayOrder||Number.MAX_VALUE,i=n.displayOrder||Number.MAX_VALUE;return r>i?1:r<i?-1:0},qv={barWrapper:"_KxSXS",barHandle:"_3w_5u",barBackground:"_31ERP"},S7=function(e){var n=e.x,r=e.y,i=e.width,s=e.height,o=e.isSelected,a=e.progressX,l=e.progressWidth,A=e.barCornerRadius,c=e.styles,u=e.onMouseDown,h=function(){return o?c.progressSelectedColor:c.progressColor},d=function(){return o?c.backgroundSelectedColor:c.backgroundColor};return re.createElement("g",{onMouseDown:u},re.createElement("rect",{x:n,width:i,y:r,height:s,ry:A,rx:A,fill:d(),className:qv.barBackground}),re.createElement("rect",{x:a,width:l,y:r,height:s,ry:A,rx:A,fill:h()}))},ZD=function(e){var n=e.x,r=e.y,i=e.width,s=e.height,o=e.barCornerRadius,a=e.onMouseDown;return re.createElement("rect",{x:n,y:r,width:i,height:s,className:qv.barHandle,ry:o,rx:o,onMouseDown:a})},T7=function(e){var n=e.progressPoint,r=e.onMouseDown;return re.createElement("polygon",{className:qv.barHandle,points:n,onMouseDown:r})},Cde=function(e){var n=e.task,r=e.isProgressChangeable,i=e.isDateChangeable,s=e.rtl,o=e.onEventStart,a=e.isSelected,l=x7(+!s*n.progressWidth+n.progressX,n.y,n.height),A=n.height-2;return re.createElement("g",{className:qv.barWrapper,tabIndex:0},re.createElement(S7,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:a,onMouseDown:function(u){i&&o("move",n,u)}}),re.createElement("g",{className:"handleGroup"},i&&re.createElement("g",null,re.createElement(ZD,{x:n.x1+1,y:n.y+1,width:n.handleWidth,height:A,barCornerRadius:n.barCornerRadius,onMouseDown:function(u){o("start",n,u)}}),re.createElement(ZD,{x:n.x2-n.handleWidth-1,y:n.y+1,width:n.handleWidth,height:A,barCornerRadius:n.barCornerRadius,onMouseDown:function(u){o("end",n,u)}})),r&&re.createElement(T7,{progressPoint:l,onMouseDown:function(u){o("progress",n,u)}})))},xde=function(e){var n=e.task,r=e.isProgressChangeable,i=e.isDateChangeable,s=e.onEventStart,o=e.isSelected,a=x7(n.progressWidth+n.x1,n.y,n.height);return re.createElement("g",{className:qv.barWrapper,tabIndex:0},re.createElement(S7,{x:n.x1,y:n.y,width:n.x2-n.x1,height:n.height,progressX:n.progressX,progressWidth:n.progressWidth,barCornerRadius:n.barCornerRadius,styles:n.styles,isSelected:o,onMouseDown:function(A){i&&s("move",n,A)}}),re.createElement("g",{className:"handleGroup"},r&&re.createElement(T7,{progressPoint:a,onMouseDown:function(A){s("progress",n,A)}})))},eL={milestoneWrapper:"_RRr13",milestoneBackground:"_2P2B1"},Bde=function(e){var n=e.task,r=e.isDateChangeable,i=e.onEventStart,s=e.isSelected,o="rotate(45 "+(n.x1+n.height*.356)+` 
    `+(n.y+n.height*.85)+")",a=function(){return s?n.styles.backgroundSelectedColor:n.styles.backgroundColor};return re.createElement("g",{tabIndex:0,className:eL.milestoneWrapper},re.createElement("rect",{fill:a(),x:n.x1,width:n.height,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,transform:o,className:eL.milestoneBackground,onMouseDown:function(A){r&&i("move",n,A)}}))},rg={projectWrapper:"_1KJ6x",projectBackground:"_2RbVy",projectTop:"_2pZMF"},Ede=function(e){var n=e.task,r=e.isSelected,i=r?n.styles.backgroundSelectedColor:n.styles.backgroundColor,s=r?n.styles.progressSelectedColor:n.styles.progressColor,o=n.x2-n.x1,a=[n.x1,n.y+n.height/2-1,n.x1,n.y+n.height,n.x1+15,n.y+n.height/2-1].join(","),l=[n.x2,n.y+n.height/2-1,n.x2,n.y+n.height,n.x2-15,n.y+n.height/2-1].join(",");return re.createElement("g",{tabIndex:0,className:rg.projectWrapper},re.createElement("rect",{fill:i,x:n.x1,width:o,y:n.y,height:n.height,rx:n.barCornerRadius,ry:n.barCornerRadius,className:rg.projectBackground}),re.createElement("rect",{x:n.progressX,width:n.progressWidth,y:n.y,height:n.height,ry:n.barCornerRadius,rx:n.barCornerRadius,fill:s}),re.createElement("rect",{fill:i,x:n.x1,width:o,y:n.y,height:n.height/2,rx:n.barCornerRadius,ry:n.barCornerRadius,className:rg.projectTop}),re.createElement("polygon",{className:rg.projectTop,points:a,fill:i}),re.createElement("polygon",{className:rg.projectTop,points:l,fill:i}))},tL={barLabel:"_3zRJQ",barLabelOutside:"_3KcaM"},Sde=function(e){var n=Ta({},e),r=n.task,i=n.arrowIndent,s=n.isDelete,o=n.taskHeight,a=n.isSelected,l=n.rtl,A=n.onEventStart,c=$.useRef(null),u=$.useState(re.createElement("div",null)),h=u[0],d=u[1],p=$.useState(!0),f=p[0],b=p[1];$.useEffect(function(){switch(r.typeInternal){case"milestone":d(re.createElement(Bde,Object.assign({},e)));break;case"project":d(re.createElement(Ede,Object.assign({},e)));break;case"smalltask":d(re.createElement(xde,Object.assign({},e)));break;default:d(re.createElement(Cde,Object.assign({},e)));break}},[r,a]),$.useEffect(function(){c.current&&b(c.current.getBBox().width<r.x2-r.x1)},[c,r]);var g=function(){var _=r.x2-r.x1,x=r.barChildren.length>0;return f?r.x1+_*.5:l&&c.current?r.x1-c.current.getBBox().width-i*+x-i*.2:r.x1+_+i*+x+i*.2};return re.createElement("g",{onKeyDown:function(_){switch(_.key){case"Delete":{s&&A("delete",r,_);break}}_.stopPropagation()},onMouseEnter:function(_){A("mouseenter",r,_)},onMouseLeave:function(_){A("mouseleave",r,_)},onDoubleClick:function(_){A("dblclick",r,_)},onClick:function(_){A("click",r,_)},onFocus:function(){A("select",r)}},h,re.createElement("text",{x:g(),y:r.y+o*.5,className:f?tL.barLabel:tL.barLabelOutside,ref:c},r.name))},Tde=function(e){var n,r=e.tasks,i=e.dates,s=e.ganttEvent,o=e.selectedTask,a=e.rowHeight,l=e.columnWidth,A=e.timeStep,c=e.svg,u=e.taskHeight,h=e.arrowColor,d=e.arrowIndent,p=e.fontFamily,f=e.fontSize,b=e.rtl,g=e.setGanttEvent,v=e.setFailedTask,_=e.setSelectedTask,x=e.onDateChange,F=e.onProgressChange,O=e.onDoubleClick,I=e.onClick,B=e.onDelete,T=c==null||(n=c.current)===null||n===void 0?void 0:n.createSVGPoint(),R=$.useState(0),D=R[0],E=R[1],k=$.useState(0),N=k[0],Y=k[1],oe=$.useState(!1),ie=oe[0],ne=oe[1];$.useEffect(function(){var ue=i[1].getTime()-i[0].getTime()-i[1].getTimezoneOffset()*60*1e3+i[0].getTimezoneOffset()*60*1e3,le=A*l/ue;E(le)},[l,i,A]),$.useEffect(function(){var ue=function(z){try{var q;if(!s.changedTask||!T||!(c!=null&&c.current))return Promise.resolve();z.preventDefault(),T.x=z.clientX;var ee=T.matrixTransform(c==null||(q=c.current.getScreenCTM())===null||q===void 0?void 0:q.inverse()),fe=JD(ee.x,s.action,s.changedTask,D,A,N,b),me=fe.isChanged,ge=fe.changedTask;return me&&g({action:s.action,changedTask:ge}),Promise.resolve()}catch(ye){return Promise.reject(ye)}},le=function U(z){try{var q,ee=function(){Qe||v(me)},fe=s.action,me=s.originalSelectedTask,ge=s.changedTask;if(!ge||!T||!(c!=null&&c.current)||!me)return Promise.resolve();z.preventDefault(),T.x=z.clientX;var ye=T.matrixTransform(c==null||(q=c.current.getScreenCTM())===null||q===void 0?void 0:q.inverse()),Me=JD(ye.x,fe,ge,D,A,N,b),De=Me.changedTask,Se=me.start!==De.start||me.end!==De.end||me.progress!==De.progress;c.current.removeEventListener("mousemove",ue),c.current.removeEventListener("mouseup",U),g({action:""}),ne(!1);var Qe=!0,Q=function(){if((fe==="move"||fe==="end"||fe==="start")&&x&&Se){var he=LC(function(){return Promise.resolve(x(De,De.barChildren)).then(function(ae){ae!==void 0&&(Qe=ae)})},function(){Qe=!1});if(he&&he.then)return he.then(function(){})}else{var K=function(){if(F&&Se){var ae=LC(function(){return Promise.resolve(F(De,De.barChildren)).then(function(Z){Z!==void 0&&(Qe=Z)})},function(){Qe=!1});if(ae&&ae.then)return ae.then(function(){})}}();if(K&&K.then)return K.then(function(){})}}();return Promise.resolve(Q&&Q.then?Q.then(ee):ee(Q))}catch(he){return Promise.reject(he)}};!ie&&(s.action==="move"||s.action==="end"||s.action==="start"||s.action==="progress")&&c!==null&&c!==void 0&&c.current&&(c.current.addEventListener("mousemove",ue),c.current.addEventListener("mouseup",le),ne(!0))},[s,D,N,F,A,x,c,ie,T,b,v,g]);var se=function(le,U,z){try{return Promise.resolve(function(){if(!z)le==="select"&&_(U.id);else return function(){if(wde(z)){var q=function(){if(le==="delete"){var me=function(){if(B){var ge=LC(function(){return Promise.resolve(B(U)).then(function(ye){ye!==void 0&&ye&&g({action:le,changedTask:U})})},function(ye){console.error("Error on Delete. "+ye)});if(ge&&ge.then)return ge.then(function(){})}}();if(me&&me.then)return me.then(function(){})}}();if(q&&q.then)return q.then(function(){})}else if(le==="mouseenter")s.action||g({action:le,changedTask:U,originalSelectedTask:U});else if(le==="mouseleave")s.action==="mouseenter"&&g({action:""});else if(le==="dblclick")O&&O(U);else if(le==="click")I&&I(U);else if(le==="move"){var ee;if(!(c!=null&&c.current)||!T)return;T.x=z.clientX;var fe=T.matrixTransform((ee=c.current.getScreenCTM())===null||ee===void 0?void 0:ee.inverse());Y(fe.x-U.x1),g({action:le,changedTask:U,originalSelectedTask:U})}else g({action:le,changedTask:U,originalSelectedTask:U})}()}())}catch(q){return Promise.reject(q)}};return re.createElement("g",{className:"content"},re.createElement("g",{className:"arrows",fill:h,stroke:h},r.map(function(ue){return ue.barChildren.map(function(le){return re.createElement(lde,{key:"Arrow from "+ue.id+" to "+r[le.index].id,taskFrom:ue,taskTo:r[le.index],rowHeight:a,taskHeight:u,arrowIndent:d,rtl:b})})})),re.createElement("g",{className:"bar",fontFamily:p,fontSize:f},r.map(function(ue){return re.createElement(Sde,{task:ue,arrowIndent:d,taskHeight:u,isProgressChangeable:!!F&&!ue.isDisabled,isDateChangeable:!!x&&!ue.isDisabled,isDelete:!ue.isDisabled,onEventStart:se,key:ue.id,isSelected:!!o&&ue.id===o.id,rtl:b})})))},Gw={ganttVerticalContainer:"_CZjuD",horizontalContainer:"_2B2zv",wrapper:"_3eULf"},Ide=function(e){var n=e.gridProps,r=e.calendarProps,i=e.barProps,s=e.ganttHeight,o=e.scrollY,a=e.scrollX,l=$.useRef(null),A=$.useRef(null),c=$.useRef(null),u=Ta({},i,{svg:l});return $.useEffect(function(){A.current&&(A.current.scrollTop=o)},[o]),$.useEffect(function(){c.current&&(c.current.scrollLeft=a)},[a]),re.createElement("div",{className:Gw.ganttVerticalContainer,ref:c,dir:"ltr"},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:r.headerHeight,fontFamily:i.fontFamily},re.createElement(ade,Object.assign({},r))),re.createElement("div",{ref:A,className:Gw.horizontalContainer,style:s?{height:s,width:n.svgWidth}:{width:n.svgWidth}},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:n.svgWidth,height:i.rowHeight*i.tasks.length,fontFamily:i.fontFamily,ref:l},re.createElement(ode,Object.assign({},n)),re.createElement(Tde,Object.assign({},u)))))},nL={scrollWrapper:"_2k9Ys",scroll:"_19jgW"},Nde=function(e){var n=e.scroll,r=e.svgWidth,i=e.taskListWidth,s=e.rtl,o=e.onScroll,a=$.useRef(null);return $.useEffect(function(){a.current&&(a.current.scrollLeft=n)},[n]),re.createElement("div",{dir:"ltr",style:{margin:s?"0px "+i+"px 0px 0px":"0px 0px 0px "+i+"px"},className:nL.scrollWrapper,onScroll:o,ref:a},re.createElement("div",{style:{width:r},className:nL.scroll}))},Fde=function(e){var n=e.tasks,r=e.headerHeight,i=r===void 0?50:r,s=e.columnWidth,o=s===void 0?60:s,a=e.listCellWidth,l=a===void 0?"155px":a,A=e.rowHeight,c=A===void 0?50:A,u=e.ganttHeight,h=u===void 0?0:u,d=e.viewMode,p=d===void 0?Hn.Day:d,f=e.preStepsCount,b=f===void 0?1:f,g=e.locale,v=g===void 0?"en-GB":g,_=e.barFill,x=_===void 0?60:_,F=e.barCornerRadius,O=F===void 0?3:F,I=e.barProgressColor,B=I===void 0?"#a3a3ff":I,T=e.barProgressSelectedColor,R=T===void 0?"#8282f5":T,D=e.barBackgroundColor,E=D===void 0?"#b8c2cc":D,k=e.barBackgroundSelectedColor,N=k===void 0?"#aeb8c2":k,Y=e.projectProgressColor,oe=Y===void 0?"#7db59a":Y,ie=e.projectProgressSelectedColor,ne=ie===void 0?"#59a985":ie,se=e.projectBackgroundColor,ue=se===void 0?"#fac465":se,le=e.projectBackgroundSelectedColor,U=le===void 0?"#f7bb53":le,z=e.milestoneBackgroundColor,q=z===void 0?"#f1c453":z,ee=e.milestoneBackgroundSelectedColor,fe=ee===void 0?"#f29e4c":ee,me=e.rtl,ge=me===void 0?!1:me,ye=e.handleWidth,Me=ye===void 0?8:ye,De=e.timeStep,Se=De===void 0?3e5:De,Qe=e.arrowColor,Q=Qe===void 0?"grey":Qe,he=e.fontFamily,K=he===void 0?"Arial, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue":he,ae=e.fontSize,Z=ae===void 0?"14px":ae,ce=e.arrowIndent,_e=ce===void 0?20:ce,Be=e.todayColor,pe=Be===void 0?"rgba(252, 248, 227, 0.5)":Be,Pe=e.viewDate,je=e.TooltipContent,Ue=je===void 0?tde:je,Ge=e.TaskListHeader,nt=Ge===void 0?Xhe:Ge,Ze=e.TaskListTable,At=Ze===void 0?Zhe:Ze,Le=e.onDateChange,Ie=e.onProgressChange,rt=e.onDoubleClick,Ke=e.onClick,wt=e.onDelete,mt=e.onSelect,ft=e.onExpanderClick,Ht=$.useRef(null),_t=$.useRef(null),Xt=$.useState(function(){var $t=KD(n,p,b),Ft=$t[0],Wt=$t[1];return{viewMode:p,dates:WD(Ft,Wt,p)}}),Vt=Xt[0],Jt=Xt[1],En=$.useState(void 0),Kt=En[0],Ct=En[1],jt=$.useState(0),ls=jt[0],zn=jt[1],Ri=$.useState(0),ai=Ri[0],vt=Ri[1],mn=$.useState(h),As=mn[0],tr=mn[1],Sn=$.useState([]),an=Sn[0],Rr=Sn[1],Ui=$.useState({action:""}),li=Ui[0],Oi=Ui[1],Ur=$.useMemo(function(){return c*x/100},[c,x]),bi=$.useState(),Gr=bi[0],qr=bi[1],cr=$.useState(null),cs=cr[0],po=cr[1],Or=Vt.dates.length*o,_i=an.length*c,go=$.useState(0),Ci=go[0],fl=go[1],Jo=$.useState(-1),Yr=Jo[0],Bs=Jo[1],mo=$.useState(!1),Mi=mo[0],Es=mo[1];$.useEffect(function(){var $t;ft?$t=bde(n):$t=n,$t=$t.sort(_de);var Ft=KD($t,p,b),Wt=Ft[0],Ot=Ft[1],Zt=WD(Wt,Ot,p);ge&&(Zt=Zt.reverse(),Yr===-1&&Bs(Zt.length*o)),Jt({dates:Zt,viewMode:p}),Rr(ude($t,Zt,o,c,Ur,O,Me,ge,B,R,E,N,oe,ne,ue,U,q,fe))},[n,p,b,c,O,o,Ur,Me,B,R,E,N,oe,ne,ue,U,q,fe,ge,Yr,ft]),$.useEffect(function(){if(p===Vt.viewMode&&(Pe&&!Kt||Pe&&(Kt==null?void 0:Kt.valueOf())!==Pe.valueOf())){var $t=Vt.dates,Ft=$t.findIndex(function(Wt,Ot){return Pe.valueOf()>=Wt.valueOf()&&Ot+1!==$t.length&&Pe.valueOf()<$t[Ot+1].valueOf()});if(Ft===-1)return;Ct(Pe),Bs(o*Ft)}},[Pe,o,Vt.dates,Vt.viewMode,p,Kt,Ct]),$.useEffect(function(){var $t=li.changedTask,Ft=li.action;if($t){if(Ft==="delete")Oi({action:""}),Rr(an.filter(function(Zt){return Zt.id!==$t.id}));else if(Ft==="move"||Ft==="end"||Ft==="start"||Ft==="progress"){var Wt=an.find(function(Zt){return Zt.id===$t.id});if(Wt&&(Wt.start.getTime()!==$t.start.getTime()||Wt.end.getTime()!==$t.end.getTime()||Wt.progress!==$t.progress)){var Ot=an.map(function(Zt){return Zt.id===$t.id?$t:Zt});Rr(Ot)}}}},[li,an]),$.useEffect(function(){cs&&(Rr(an.map(function($t){return $t.id!==cs.id?$t:cs})),po(null))},[cs,an]),$.useEffect(function(){l||zn(0),_t.current&&zn(_t.current.offsetWidth)},[_t,l]),$.useEffect(function(){Ht.current&&vt(Ht.current.offsetWidth-ls)},[Ht,ls]),$.useEffect(function(){tr(h?h+i:n.length*c+i)},[h,n,i,c]),$.useEffect(function(){var $t,Ft=function(Ot){if(Ot.shiftKey||Ot.deltaX){var Zt=Ot.deltaX?Ot.deltaX:Ot.deltaY,Mr=Yr+Zt;Mr<0?Mr=0:Mr>Or&&(Mr=Or),Bs(Mr),Ot.preventDefault()}else if(h){var us=Ci+Ot.deltaY;us<0?us=0:us>_i-h&&(us=_i-h),us!==Ci&&(fl(us),Ot.preventDefault())}Es(!0)};return($t=Ht.current)===null||$t===void 0||$t.addEventListener("wheel",Ft,{passive:!1}),function(){var Wt;(Wt=Ht.current)===null||Wt===void 0||Wt.removeEventListener("wheel",Ft)}},[Ht,Ci,Yr,h,Or,ge,_i]);var wA=function(Ft){Ci!==Ft.currentTarget.scrollTop&&!Mi?(fl(Ft.currentTarget.scrollTop),Es(!0)):Es(!1)},bA=function(Ft){Yr!==Ft.currentTarget.scrollLeft&&!Mi?(Bs(Ft.currentTarget.scrollLeft),Es(!0)):Es(!1)},Zo=function(Ft){Ft.preventDefault();var Wt=Ci,Ot=Yr,Zt=!0;switch(Ft.key){case"Down":case"ArrowDown":Wt+=c,Zt=!1;break;case"Up":case"ArrowUp":Wt-=c,Zt=!1;break;case"Left":case"ArrowLeft":Ot-=o;break;case"Right":case"ArrowRight":Ot+=o;break}Zt?(Ot<0?Ot=0:Ot>Or&&(Ot=Or),Bs(Ot)):(Wt<0?Wt=0:Wt>_i-h&&(Wt=_i-h),fl(Wt)),Es(!0)},pl=function(Ft){var Wt=an.find(function(Zt){return Zt.id===Ft}),Ot=an.find(function(Zt){return!!Gr&&Zt.id===Gr.id});mt&&(Ot&&mt(Ot,!1),Wt&&mt(Wt,!0)),qr(Wt)},Fn=function(Ft){ft&&Ft.hideChildren!==void 0&&ft(Ta({},Ft,{hideChildren:!Ft.hideChildren}))},Da={columnWidth:o,svgWidth:Or,tasks:n,rowHeight:c,dates:Vt.dates,todayColor:pe,rtl:ge},gl={dateSetup:Vt,locale:v,viewMode:p,headerHeight:i,columnWidth:o,fontFamily:K,fontSize:Z,rtl:ge},ml={tasks:an,dates:Vt.dates,ganttEvent:li,selectedTask:Gr,rowHeight:c,taskHeight:Ur,columnWidth:o,arrowColor:Q,timeStep:Se,fontFamily:K,fontSize:Z,arrowIndent:_e,svgWidth:Or,rtl:ge,setGanttEvent:Oi,setFailedTask:po,setSelectedTask:pl,onDateChange:Le,onProgressChange:Ie,onDoubleClick:rt,onClick:Ke,onDelete:wt},vl={rowHeight:c,rowWidth:l,fontFamily:K,fontSize:Z,tasks:an,locale:v,headerHeight:i,scrollY:Ci,ganttHeight:h,horizontalContainerClass:Gw.horizontalContainer,selectedTask:Gr,taskListRef:_t,setSelectedTask:pl,onExpanderClick:Fn,TaskListHeader:nt,TaskListTable:At};return re.createElement("div",null,re.createElement("div",{className:Gw.wrapper,onKeyDown:Zo,tabIndex:0,ref:Ht},l&&re.createElement(ide,Object.assign({},vl)),re.createElement(Ide,{gridProps:Da,calendarProps:gl,barProps:ml,ganttHeight:h,scrollY:Ci,scrollX:Yr}),li.changedTask&&re.createElement(ede,{arrowIndent:_e,rowHeight:c,svgContainerHeight:As,svgContainerWidth:ai,fontFamily:K,fontSize:Z,scrollX:Yr,scrollY:Ci,task:li.changedTask,headerHeight:i,taskListWidth:ls,TooltipContent:Ue,rtl:ge,svgWidth:Or}),re.createElement(rde,{ganttFullHeight:_i,ganttHeight:h,headerHeight:i,scroll:Ci,onScroll:wA,rtl:ge})),re.createElement(Nde,{svgWidth:Or,taskListWidth:ls,scroll:Yr,rtl:ge,onScroll:bA}))};function sn(t){"@babel/helpers - typeof";return sn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn(t)}function kde(t,e){if(sn(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(sn(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function I7(t){var e=kde(t,"string");return sn(e)=="symbol"?e:e+""}function Pu(t,e,n){return(e=I7(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ln(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rL(Object(n),!0).forEach(function(r){Pu(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cb(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Al(t,e){if(t==null)return{};var n,r,i=Cb(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,I7(r.key),r)}}function oi(t,e,n){return e&&iL(t.prototype,e),n&&iL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qw(t){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qw(t)}function N7(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(N7=function(){return!!t})()}function DE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pde(t,e){if(e&&(sn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DE(t)}function os(t,e,n){return e=qw(e),Pde(t,N7()?Reflect.construct(e,n||[],qw(t).constructor):e.apply(t,n))}function Yw(t,e){return Yw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},Yw(t,e)}function as(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Yw(t,e)}function F7(t){if(Array.isArray(t))return t}function Dde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,o,a=[],l=!0,A=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==e);l=!0);}catch(c){A=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(A)throw i}}return a}}function LE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function OI(t,e){if(t){if(typeof t=="string")return LE(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?LE(t,e):void 0}}function k7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vh(t,e){return F7(t)||Dde(t,e)||OI(t,e)||k7()}function P7(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=P7(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function yr(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=P7(t))&&(r&&(r+=" "),r+=e);return r}function rr(){return rr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rr.apply(null,arguments)}var Lde=function(t,e,n,r,i,s,o,a){if(!t){var l;if(e===void 0)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var A=[n,r,i,s,o,a],c=0;l=new Error(e.replace(/%s/g,function(){return A[c++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}},Rde=Lde;const tv=ss(Rde);var Ude=function(){};function Ode(t,e){var n={};return Object.keys(t).forEach(function(r){n[f1(r)]=Ude}),n}function sL(t,e){return t[e]!==void 0}function f1(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function Mde(t){return!!t&&(typeof t!="function"||t.prototype&&t.prototype.isReactComponent)}function D7(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Yw(t,e)}function L7(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function R7(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r??null}this.setState(e.bind(this))}function U7(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}L7.__suppressDeprecationWarning=!0;R7.__suppressDeprecationWarning=!0;U7.__suppressDeprecationWarning=!0;function Qde(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var s=t.displayName||t.name,o=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+s+" uses "+o+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=L7,e.componentWillReceiveProps=R7),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=U7;var a=e.componentDidUpdate;e.componentDidUpdate=function(A,c,u){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:u;a.call(this,A,c,h)}}return t}var jde="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function O7(t,e,n){n===void 0&&(n=[]);var r=t.displayName||t.name||"Component",i=Mde(t),s=Object.keys(e),o=s.map(f1);i||!n.length||tv(!1);var a=function(A){D7(c,A);function c(){for(var h,d=arguments.length,p=new Array(d),f=0;f<d;f++)p[f]=arguments[f];h=A.call.apply(A,[this].concat(p))||this,h.handlers=Object.create(null),s.forEach(function(g){var v=e[g],_=function(F){if(h.props[v]){var O;h._notifying=!0;for(var I=arguments.length,B=new Array(I>1?I-1:0),T=1;T<I;T++)B[T-1]=arguments[T];(O=h.props)[v].apply(O,[F].concat(B)),h._notifying=!1}h.unmounted||h.setState(function(R){var D,E=R.values;return{values:rr(Object.create(null),E,(D={},D[g]=F,D))}})};h.handlers[v]=_}),n.length&&(h.attachRef=function(g){h.inner=g});var b=Object.create(null);return s.forEach(function(g){b[g]=h.props[f1(g)]}),h.state={values:b,prevProps:{}},h}var u=c.prototype;return u.shouldComponentUpdate=function(){return!this._notifying},c.getDerivedStateFromProps=function(d,p){var f=p.values,b=p.prevProps,g={values:rr(Object.create(null),f),prevProps:{}};return s.forEach(function(v){g.prevProps[v]=d[v],!sL(d,v)&&sL(b,v)&&(g.values[v]=d[f1(v)])}),g},u.componentWillUnmount=function(){this.unmounted=!0},u.render=function(){var d=this,p=this.props,f=p.innerRef,b=Cb(p,["innerRef"]);o.forEach(function(v){delete b[v]});var g={};return s.forEach(function(v){var _=d.props[v];g[v]=_!==void 0?_:d.state.values[v]}),re.createElement(t,rr({},b,g,this.handlers,{ref:f||this.attachRef}))},c}(re.Component);Qde(a),a.displayName="Uncontrolled("+r+")",a.propTypes=rr({innerRef:function(){}},Ode(e)),n.forEach(function(A){a.prototype[A]=function(){var u;return(u=this.inner)[A].apply(u,arguments)}});var l=a;return re.forwardRef&&(l=re.forwardRef(function(A,c){return re.createElement(a,rr({},A,{innerRef:c,__source:{fileName:jde,lineNumber:128},__self:this}))}),l.propTypes=a.propTypes),l.ControlledComponent=t,l.deferControlTo=function(A,c,u){return c===void 0&&(c={}),O7(A,rr({},e,c),u)},l}var M7={exports:{}},Hde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Vde=Hde,$de=Vde;function Q7(){}function j7(){}j7.resetWarningCache=Q7;var zde=function(){function t(r,i,s,o,a,l){if(l!==$de){var A=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw A.name="Invariant Violation",A}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:j7,resetWarningCache:Q7};return n.PropTypes=n,n};M7.exports=zde();var Kde=M7.exports;const et=ss(Kde);var Xw="milliseconds",nv="seconds",rv="minutes",iv="hours",yh="day",$f="week",sv="month",wh="year",bh="decade",_h="century",H7={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},Wde={month:1,year:12,decade:10*12,century:100*12};function Gde(t){return[31,qde(t),31,30,31,30,31,31,30,31,30,31]}function qde(t){return t%4===0&&t%100!==0||t%400===0?29:28}function Ia(t,e,n){switch(t=new Date(t),n){case Xw:case nv:case rv:case iv:case yh:case $f:return Yde(t,e*H7[n]);case sv:case wh:case bh:case _h:return Xde(t,e*Wde[n])}throw new TypeError('Invalid units: "'+n+'"')}function Yde(t,e){var n=new Date(+t+e);return Jde(t,n)}function Xde(t,e){var n=t.getFullYear(),r=t.getMonth(),i=t.getDate(),s=n*12+r+e,o=Math.trunc(s/12),a=s%12,l=Math.min(i,Gde(o)[a]),A=new Date(t);return A.setFullYear(o),A.setDate(1),A.setMonth(a),A.setDate(l),A}function Jde(t,e){var n=t.getTimezoneOffset(),r=e.getTimezoneOffset(),i=r-n;return new Date(+e+i*H7.minutes)}function ov(t,e,n){return Ia(t,-e,n)}function Li(t,e,n){switch(t=new Date(t),e){case _h:case bh:case wh:t=Zw(t,0);case sv:t=W7(t,1);case $f:case yh:t=Av(t,0);case iv:t=zf(t,0);case rv:t=lv(t,0);case nv:t=av(t,0)}return e===bh&&(t=ov(t,Ch(t)%10,"year")),e===_h&&(t=ov(t,Ch(t)%100,"year")),e===$f&&(t=G7(t,0,n)),t}function Jw(t,e,n){switch(t=new Date(t),t=Li(t,e,n),e){case _h:case bh:case wh:case sv:case $f:t=Ia(t,1,e),t=ov(t,1,yh),t.setHours(23,59,59,999);break;case yh:t.setHours(23,59,59,999);break;case iv:case rv:case nv:t=Ia(t,1,e),t=ov(t,1,Xw)}return t}var hp=fp(function(t,e){return t===e}),MI=fp(function(t,e){return t!==e}),xb=fp(function(t,e){return t>e}),Yv=fp(function(t,e){return t>=e}),QI=fp(function(t,e){return t<e}),dp=fp(function(t,e){return t<=e});function V7(){return new Date(Math.min.apply(Math,arguments))}function $7(){return new Date(Math.max.apply(Math,arguments))}function z7(t,e,n,r){return r=r||"day",(!e||Yv(t,e,r))&&(!n||dp(t,n,r))}var av=nu("Milliseconds"),lv=nu("Seconds"),zf=nu("Minutes"),Av=nu("Hours"),K7=nu("Day"),W7=nu("Date"),Zw=nu("Month"),Ch=nu("FullYear");function Zde(t,e){return e===void 0?Ch(Li(t,bh)):Ia(t,e+10,wh)}function efe(t,e){return e===void 0?Ch(Li(t,_h)):Ia(t,e+100,wh)}function G7(t,e,n){var r=(K7(t)+7-(n||0))%7;return e===void 0?r:Ia(t,e-r,yh)}function tfe(t,e,n,r){var i,s,o;switch(n){case Xw:case nv:case rv:case iv:case yh:case $f:i=e.getTime()-t.getTime();break;case sv:case wh:case bh:case _h:i=(Ch(e)-Ch(t))*12+Zw(e)-Zw(t);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case Xw:s=1;break;case nv:s=1e3;break;case rv:s=1e3*60;break;case iv:s=1e3*60*60;break;case yh:s=1e3*60*60*24;break;case $f:s=1e3*60*60*24*7;break;case sv:s=1;break;case wh:s=12;break;case bh:s=120;break;case _h:s=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return o=i/s,r?o:Math.round(o)}function nu(t){var e=function(n){switch(n){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(t);return function(n,r){if(r===void 0)return n["get"+t]();var i=new Date(n);return i["set"+t](r),e&&i["get"+t]()!=r&&(t==="Hours"||r>=e&&i.getHours()-n.getHours()<Math.floor(r/e))&&i["set"+t](r+e),i}}function fp(t){return function(e,n,r){return t(+Li(e,r),+Li(n,r))}}const oL=Object.freeze(Object.defineProperty({__proto__:null,add:Ia,century:efe,date:W7,day:K7,decade:Zde,diff:tfe,endOf:Jw,eq:hp,gt:xb,gte:Yv,hours:Av,inRange:z7,lt:QI,lte:dp,max:$7,milliseconds:av,min:V7,minutes:zf,month:Zw,neq:MI,seconds:lv,startOf:Li,subtract:ov,weekday:G7,year:Ch},Symbol.toStringTag,{value:"Module"}));function nfe(t){if(Array.isArray(t))return LE(t)}function q7(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rfe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p1(t){return nfe(t)||q7(t)||OI(t)||rfe()}function ife(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Y7=ife;function sfe(t,e){return t===e||t!==t&&e!==e}var Xv=sfe,ofe=typeof Fr=="object"&&Fr&&Fr.Object===Object&&Fr,X7=ofe,afe=X7,lfe=typeof self=="object"&&self&&self.Object===Object&&self,Afe=afe||lfe||Function("return this")(),cl=Afe,cfe=cl,ufe=cfe.Symbol,pp=ufe,aL=pp,J7=Object.prototype,hfe=J7.hasOwnProperty,dfe=J7.toString,ig=aL?aL.toStringTag:void 0;function ffe(t){var e=hfe.call(t,ig),n=t[ig];try{t[ig]=void 0;var r=!0}catch{}var i=dfe.call(t);return r&&(e?t[ig]=n:delete t[ig]),i}var pfe=ffe,gfe=Object.prototype,mfe=gfe.toString;function vfe(t){return mfe.call(t)}var yfe=vfe,lL=pp,wfe=pfe,bfe=yfe,_fe="[object Null]",Cfe="[object Undefined]",AL=lL?lL.toStringTag:void 0;function xfe(t){return t==null?t===void 0?Cfe:_fe:AL&&AL in Object(t)?wfe(t):bfe(t)}var gp=xfe;function Bfe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yA=Bfe,Efe=gp,Sfe=yA,Tfe="[object AsyncFunction]",Ife="[object Function]",Nfe="[object GeneratorFunction]",Ffe="[object Proxy]";function kfe(t){if(!Sfe(t))return!1;var e=Efe(t);return e==Ife||e==Nfe||e==Tfe||e==Ffe}var jI=kfe,Pfe=9007199254740991;function Dfe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Pfe}var HI=Dfe,Lfe=jI,Rfe=HI;function Ufe(t){return t!=null&&Rfe(t.length)&&!Lfe(t)}var Jv=Ufe,Ofe=9007199254740991,Mfe=/^(?:0|[1-9]\d*)$/;function Qfe(t,e){var n=typeof t;return e=e??Ofe,!!e&&(n=="number"||n!="symbol"&&Mfe.test(t))&&t>-1&&t%1==0&&t<e}var VI=Qfe,jfe=Xv,Hfe=Jv,Vfe=VI,$fe=yA;function zfe(t,e,n){if(!$fe(n))return!1;var r=typeof e;return(r=="number"?Hfe(n)&&Vfe(e,n.length):r=="string"&&e in n)?jfe(n[e],t):!1}var Bb=zfe,Kfe=/\s/;function Wfe(t){for(var e=t.length;e--&&Kfe.test(t.charAt(e)););return e}var Gfe=Wfe,qfe=Gfe,Yfe=/^\s+/;function Xfe(t){return t&&t.slice(0,qfe(t)+1).replace(Yfe,"")}var Jfe=Xfe;function Zfe(t){return t!=null&&typeof t=="object"}var ru=Zfe,epe=gp,tpe=ru,npe="[object Symbol]";function rpe(t){return typeof t=="symbol"||tpe(t)&&epe(t)==npe}var Zv=rpe,ipe=Jfe,cL=yA,spe=Zv,uL=0/0,ope=/^[-+]0x[0-9a-f]+$/i,ape=/^0b[01]+$/i,lpe=/^0o[0-7]+$/i,Ape=parseInt;function cpe(t){if(typeof t=="number")return t;if(spe(t))return uL;if(cL(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=cL(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=ipe(t);var n=ape.test(t);return n||lpe.test(t)?Ape(t.slice(2),n?2:8):ope.test(t)?uL:+t}var upe=cpe,hpe=upe,hL=1/0,dpe=17976931348623157e292;function fpe(t){if(!t)return t===0?t:0;if(t=hpe(t),t===hL||t===-hL){var e=t<0?-1:1;return e*dpe}return t===t?t:0}var Z7=fpe,ppe=Z7;function gpe(t){var e=ppe(t),n=e%1;return e===e?n?e-n:e:0}var eV=gpe,mpe=Y7,vpe=Bb,ype=eV,wpe=Math.ceil,bpe=Math.max;function _pe(t,e,n){(n?vpe(t,e,n):e===void 0)?e=1:e=bpe(ype(e),0);var r=t==null?0:t.length;if(!r||e<1)return[];for(var i=0,s=0,o=Array(wpe(r/e));i<r;)o[s++]=mpe(t,i,i+=e);return o}var Cpe=_pe;const xpe=ss(Cpe);function e0(t){return t&&t.ownerDocument||document}function Bpe(t){var e=e0(t);return e&&e.defaultView||window}function Epe(t,e){return Bpe(t).getComputedStyle(t,e)}var Spe=/([A-Z])/g;function Tpe(t){return t.replace(Spe,"-$1").toLowerCase()}var Ipe=/^ms-/;function cy(t){return Tpe(t).replace(Ipe,"-ms-")}var Npe=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function Fpe(t){return!!(t&&Npe.test(t))}function Sd(t,e){var n="",r="";if(typeof e=="string")return t.style.getPropertyValue(cy(e))||Epe(t).getPropertyValue(cy(e));Object.keys(e).forEach(function(i){var s=e[i];!s&&s!==0?t.style.removeProperty(cy(i)):Fpe(i)?r+=i+"("+s+") ":n+=cy(i)+": "+s+";"}),r&&(n+="transform: "+r+";"),t.style.cssText+=";"+n}function cv(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function kpe(t){return"nodeType"in t&&t.nodeType===document.DOCUMENT_NODE}function $I(t){return"window"in t&&t.window===t?t:kpe(t)&&t.defaultView||!1}function tV(t){var e=t==="pageXOffset"?"scrollLeft":"scrollTop";function n(r,i){var s=$I(r);if(i===void 0)return s?s[t]:r[e];s?s.scrollTo(s[t],i):r[e]=i}return n}const nV=tV("pageXOffset"),rV=tV("pageYOffset");function qu(t){var e=e0(t),n={top:0,left:0,height:0,width:0},r=e&&e.documentElement;return!r||!cv(r,t)||(t.getBoundingClientRect!==void 0&&(n=t.getBoundingClientRect()),n={top:n.top+rV(r)-(r.clientTop||0),left:n.left+nV(r)-(r.clientLeft||0),width:n.width,height:n.height}),n}var Ppe=function(e){return!!e&&"offsetParent"in e};function Dpe(t){for(var e=e0(t),n=t&&t.offsetParent;Ppe(n)&&n.nodeName!=="HTML"&&Sd(n,"position")==="static";)n=n.offsetParent;return n||e.documentElement}var Lpe=function(e){return e.nodeName&&e.nodeName.toLowerCase()};function iV(t,e){var n={top:0,left:0},r;if(Sd(t,"position")==="fixed")r=t.getBoundingClientRect();else{var i=e||Dpe(t);r=qu(t),Lpe(i)!=="html"&&(n=qu(i));var s=String(Sd(i,"borderTopWidth")||0);n.top+=parseInt(s,10)-rV(i)||0;var o=String(Sd(i,"borderLeftWidth")||0);n.left+=parseInt(o,10)-nV(i)||0}var a=String(Sd(t,"marginTop")||0),l=String(Sd(t,"marginLeft")||0);return rr({},r,{top:r.top-n.top-(parseInt(a,10)||0),left:r.left-n.left-(parseInt(l,10)||0)})}const zI=!!(typeof window<"u"&&window.document&&window.document.createElement);var dL=new Date().getTime();function Rpe(t){var e=new Date().getTime(),n=Math.max(0,16-(e-dL)),r=setTimeout(t,n);return dL=e,r}var Upe=["","webkit","moz","o","ms"],RE="clearTimeout",UE=Rpe,fL=function(e,n){return e+(e?n[0].toUpperCase()+n.substr(1):n)+"AnimationFrame"};zI&&Upe.some(function(t){var e=fL(t,"request");return e in window&&(RE=fL(t,"cancel"),UE=function(r){return window[e](r)}),!!UE});var pL=function(e){typeof window[RE]=="function"&&window[RE](e)},sV=UE,RC;function Ope(t,e){if(!RC){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;RC=function(s,o){return r.call(s,o)}}return RC(t,e)}var Mpe=Function.prototype.bind.call(Function.prototype.call,[].slice);function Qpe(t,e){return Mpe(t.querySelectorAll(e))}var OE=!1,ME=!1;try{var UC={get passive(){return OE=!0},get once(){return ME=OE=!0}};zI&&(window.addEventListener("test",UC,UC),window.removeEventListener("test",UC,!0))}catch{}function jpe(t,e,n,r){if(r&&typeof r!="boolean"&&!ME){var i=r.once,s=r.capture,o=n;!ME&&i&&(o=n.__once||function a(l){this.removeEventListener(e,a,s),n.call(this,l)},n.__once=o),t.addEventListener(e,o,OE?r:s)}t.addEventListener(e,n,r)}function Hpe(t){const e=$.useRef(t);return $.useEffect(()=>{e.current=t},[t]),e}function gL(t){const e=Hpe(t);return $.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function mL(){return $.useState(null)}function Vpe(){const t=$.useRef(!0),e=$.useRef(()=>t.current);return $.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function $pe(t){const e=Vpe();return[t[0],$.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}var Vs="top",qo="bottom",Yo="right",$s="left",KI="auto",t0=[Vs,qo,Yo,$s],Kf="start",uv="end",zpe="clippingParents",oV="viewport",sg="popper",Kpe="reference",vL=t0.reduce(function(t,e){return t.concat([e+"-"+Kf,e+"-"+uv])},[]),WI=[].concat(t0,[KI]).reduce(function(t,e){return t.concat([e,e+"-"+Kf,e+"-"+uv])},[]),Wpe="beforeRead",Gpe="read",qpe="afterRead",Ype="beforeMain",Xpe="main",Jpe="afterMain",Zpe="beforeWrite",ege="write",tge="afterWrite",nge=[Wpe,Gpe,qpe,Ype,Xpe,Jpe,Zpe,ege,tge];function il(t){return t.split("-")[0]}function uo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function xh(t){var e=uo(t).Element;return t instanceof e||t instanceof Element}function sl(t){var e=uo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function GI(t){if(typeof ShadowRoot>"u")return!1;var e=uo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var Yu=Math.max,e2=Math.min,Wf=Math.round;function QE(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function aV(){return!/^((?!chrome|android).)*safari/i.test(QE())}function Gf(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,s=1;e&&sl(t)&&(i=t.offsetWidth>0&&Wf(r.width)/t.offsetWidth||1,s=t.offsetHeight>0&&Wf(r.height)/t.offsetHeight||1);var o=xh(t)?uo(t):window,a=o.visualViewport,l=!aV()&&n,A=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/s,u=r.width/i,h=r.height/s;return{width:u,height:h,top:c,right:A+u,bottom:c+h,left:A,x:A,y:c}}function qI(t){var e=Gf(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function lV(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&GI(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function zc(t){return t?(t.nodeName||"").toLowerCase():null}function AA(t){return uo(t).getComputedStyle(t)}function rge(t){return["table","td","th"].indexOf(zc(t))>=0}function iu(t){return((xh(t)?t.ownerDocument:t.document)||window.document).documentElement}function Eb(t){return zc(t)==="html"?t:t.assignedSlot||t.parentNode||(GI(t)?t.host:null)||iu(t)}function yL(t){return!sl(t)||AA(t).position==="fixed"?null:t.offsetParent}function ige(t){var e=/firefox/i.test(QE()),n=/Trident/i.test(QE());if(n&&sl(t)){var r=AA(t);if(r.position==="fixed")return null}var i=Eb(t);for(GI(i)&&(i=i.host);sl(i)&&["html","body"].indexOf(zc(i))<0;){var s=AA(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function n0(t){for(var e=uo(t),n=yL(t);n&&rge(n)&&AA(n).position==="static";)n=yL(n);return n&&(zc(n)==="html"||zc(n)==="body"&&AA(n).position==="static")?e:n||ige(t)||e}function YI(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function rm(t,e,n){return Yu(t,e2(e,n))}function sge(t,e,n){var r=rm(t,e,n);return r>n?n:r}function AV(){return{top:0,right:0,bottom:0,left:0}}function cV(t){return Object.assign({},AV(),t)}function uV(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var oge=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,cV(typeof e!="number"?e:uV(e,t0))};function age(t){var e,n=t.state,r=t.name,i=t.options,s=n.elements.arrow,o=n.modifiersData.popperOffsets,a=il(n.placement),l=YI(a),A=[$s,Yo].indexOf(a)>=0,c=A?"height":"width";if(!(!s||!o)){var u=oge(i.padding,n),h=qI(s),d=l==="y"?Vs:$s,p=l==="y"?qo:Yo,f=n.rects.reference[c]+n.rects.reference[l]-o[l]-n.rects.popper[c],b=o[l]-n.rects.reference[l],g=n0(s),v=g?l==="y"?g.clientHeight||0:g.clientWidth||0:0,_=f/2-b/2,x=u[d],F=v-h[c]-u[p],O=v/2-h[c]/2+_,I=rm(x,O,F),B=l;n.modifiersData[r]=(e={},e[B]=I,e.centerOffset=I-O,e)}}function lge(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||lV(e.elements.popper,i)&&(e.elements.arrow=i))}const Age={name:"arrow",enabled:!0,phase:"main",fn:age,effect:lge,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function qf(t){return t.split("-")[1]}var cge={top:"auto",right:"auto",bottom:"auto",left:"auto"};function uge(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Wf(n*i)/i||0,y:Wf(r*i)/i||0}}function wL(t){var e,n=t.popper,r=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,l=t.gpuAcceleration,A=t.adaptive,c=t.roundOffsets,u=t.isFixed,h=o.x,d=h===void 0?0:h,p=o.y,f=p===void 0?0:p,b=typeof c=="function"?c({x:d,y:f}):{x:d,y:f};d=b.x,f=b.y;var g=o.hasOwnProperty("x"),v=o.hasOwnProperty("y"),_=$s,x=Vs,F=window;if(A){var O=n0(n),I="clientHeight",B="clientWidth";if(O===uo(n)&&(O=iu(n),AA(O).position!=="static"&&a==="absolute"&&(I="scrollHeight",B="scrollWidth")),O=O,i===Vs||(i===$s||i===Yo)&&s===uv){x=qo;var T=u&&O===F&&F.visualViewport?F.visualViewport.height:O[I];f-=T-r.height,f*=l?1:-1}if(i===$s||(i===Vs||i===qo)&&s===uv){_=Yo;var R=u&&O===F&&F.visualViewport?F.visualViewport.width:O[B];d-=R-r.width,d*=l?1:-1}}var D=Object.assign({position:a},A&&cge),E=c===!0?uge({x:d,y:f},uo(n)):{x:d,y:f};if(d=E.x,f=E.y,l){var k;return Object.assign({},D,(k={},k[x]=v?"0":"",k[_]=g?"0":"",k.transform=(F.devicePixelRatio||1)<=1?"translate("+d+"px, "+f+"px)":"translate3d("+d+"px, "+f+"px, 0)",k))}return Object.assign({},D,(e={},e[x]=v?f+"px":"",e[_]=g?d+"px":"",e.transform="",e))}function hge(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,s=n.adaptive,o=s===void 0?!0:s,a=n.roundOffsets,l=a===void 0?!0:a,A={placement:il(e.placement),variation:qf(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,wL(Object.assign({},A,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,wL(Object.assign({},A,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const dge={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:hge,data:{}};var uy={passive:!0};function fge(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,s=i===void 0?!0:i,o=r.resize,a=o===void 0?!0:o,l=uo(e.elements.popper),A=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&A.forEach(function(c){c.addEventListener("scroll",n.update,uy)}),a&&l.addEventListener("resize",n.update,uy),function(){s&&A.forEach(function(c){c.removeEventListener("scroll",n.update,uy)}),a&&l.removeEventListener("resize",n.update,uy)}}const pge={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:fge,data:{}};var gge={left:"right",right:"left",bottom:"top",top:"bottom"};function g1(t){return t.replace(/left|right|bottom|top/g,function(e){return gge[e]})}var mge={start:"end",end:"start"};function bL(t){return t.replace(/start|end/g,function(e){return mge[e]})}function XI(t){var e=uo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function JI(t){return Gf(iu(t)).left+XI(t).scrollLeft}function vge(t,e){var n=uo(t),r=iu(t),i=n.visualViewport,s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;var A=aV();(A||!A&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a+JI(t),y:l}}function yge(t){var e,n=iu(t),r=XI(t),i=(e=t.ownerDocument)==null?void 0:e.body,s=Yu(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),o=Yu(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+JI(t),l=-r.scrollTop;return AA(i||n).direction==="rtl"&&(a+=Yu(n.clientWidth,i?i.clientWidth:0)-s),{width:s,height:o,x:a,y:l}}function ZI(t){var e=AA(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function hV(t){return["html","body","#document"].indexOf(zc(t))>=0?t.ownerDocument.body:sl(t)&&ZI(t)?t:hV(Eb(t))}function im(t,e){var n;e===void 0&&(e=[]);var r=hV(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),s=uo(r),o=i?[s].concat(s.visualViewport||[],ZI(r)?r:[]):r,a=e.concat(o);return i?a:a.concat(im(Eb(o)))}function jE(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function wge(t,e){var n=Gf(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function _L(t,e,n){return e===oV?jE(vge(t,n)):xh(e)?wge(e,n):jE(yge(iu(t)))}function bge(t){var e=im(Eb(t)),n=["absolute","fixed"].indexOf(AA(t).position)>=0,r=n&&sl(t)?n0(t):t;return xh(r)?e.filter(function(i){return xh(i)&&lV(i,r)&&zc(i)!=="body"}):[]}function _ge(t,e,n,r){var i=e==="clippingParents"?bge(t):[].concat(e),s=[].concat(i,[n]),o=s[0],a=s.reduce(function(l,A){var c=_L(t,A,r);return l.top=Yu(c.top,l.top),l.right=e2(c.right,l.right),l.bottom=e2(c.bottom,l.bottom),l.left=Yu(c.left,l.left),l},_L(t,o,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function dV(t){var e=t.reference,n=t.element,r=t.placement,i=r?il(r):null,s=r?qf(r):null,o=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case Vs:l={x:o,y:e.y-n.height};break;case qo:l={x:o,y:e.y+e.height};break;case Yo:l={x:e.x+e.width,y:a};break;case $s:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var A=i?YI(i):null;if(A!=null){var c=A==="y"?"height":"width";switch(s){case Kf:l[A]=l[A]-(e[c]/2-n[c]/2);break;case uv:l[A]=l[A]+(e[c]/2-n[c]/2);break}}return l}function hv(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,s=n.strategy,o=s===void 0?t.strategy:s,a=n.boundary,l=a===void 0?zpe:a,A=n.rootBoundary,c=A===void 0?oV:A,u=n.elementContext,h=u===void 0?sg:u,d=n.altBoundary,p=d===void 0?!1:d,f=n.padding,b=f===void 0?0:f,g=cV(typeof b!="number"?b:uV(b,t0)),v=h===sg?Kpe:sg,_=t.rects.popper,x=t.elements[p?v:h],F=_ge(xh(x)?x:x.contextElement||iu(t.elements.popper),l,c,o),O=Gf(t.elements.reference),I=dV({reference:O,element:_,strategy:"absolute",placement:i}),B=jE(Object.assign({},_,I)),T=h===sg?B:O,R={top:F.top-T.top+g.top,bottom:T.bottom-F.bottom+g.bottom,left:F.left-T.left+g.left,right:T.right-F.right+g.right},D=t.modifiersData.offset;if(h===sg&&D){var E=D[i];Object.keys(R).forEach(function(k){var N=[Yo,qo].indexOf(k)>=0?1:-1,Y=[Vs,qo].indexOf(k)>=0?"y":"x";R[k]+=E[Y]*N})}return R}function Cge(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,s=n.rootBoundary,o=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,A=l===void 0?WI:l,c=qf(r),u=c?a?vL:vL.filter(function(p){return qf(p)===c}):t0,h=u.filter(function(p){return A.indexOf(p)>=0});h.length===0&&(h=u);var d=h.reduce(function(p,f){return p[f]=hv(t,{placement:f,boundary:i,rootBoundary:s,padding:o})[il(f)],p},{});return Object.keys(d).sort(function(p,f){return d[p]-d[f]})}function xge(t){if(il(t)===KI)return[];var e=g1(t);return[bL(t),e,bL(e)]}function Bge(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!0:o,l=n.fallbackPlacements,A=n.padding,c=n.boundary,u=n.rootBoundary,h=n.altBoundary,d=n.flipVariations,p=d===void 0?!0:d,f=n.allowedAutoPlacements,b=e.options.placement,g=il(b),v=g===b,_=l||(v||!p?[g1(b)]:xge(b)),x=[b].concat(_).reduce(function(q,ee){return q.concat(il(ee)===KI?Cge(e,{placement:ee,boundary:c,rootBoundary:u,padding:A,flipVariations:p,allowedAutoPlacements:f}):ee)},[]),F=e.rects.reference,O=e.rects.popper,I=new Map,B=!0,T=x[0],R=0;R<x.length;R++){var D=x[R],E=il(D),k=qf(D)===Kf,N=[Vs,qo].indexOf(E)>=0,Y=N?"width":"height",oe=hv(e,{placement:D,boundary:c,rootBoundary:u,altBoundary:h,padding:A}),ie=N?k?Yo:$s:k?qo:Vs;F[Y]>O[Y]&&(ie=g1(ie));var ne=g1(ie),se=[];if(s&&se.push(oe[E]<=0),a&&se.push(oe[ie]<=0,oe[ne]<=0),se.every(function(q){return q})){T=D,B=!1;break}I.set(D,se)}if(B)for(var ue=p?3:1,le=function(ee){var fe=x.find(function(me){var ge=I.get(me);if(ge)return ge.slice(0,ee).every(function(ye){return ye})});if(fe)return T=fe,"break"},U=ue;U>0;U--){var z=le(U);if(z==="break")break}e.placement!==T&&(e.modifiersData[r]._skip=!0,e.placement=T,e.reset=!0)}}const Ege={name:"flip",enabled:!0,phase:"main",fn:Bge,requiresIfExists:["offset"],data:{_skip:!1}};function CL(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function xL(t){return[Vs,Yo,qo,$s].some(function(e){return t[e]>=0})}function Sge(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,s=e.modifiersData.preventOverflow,o=hv(e,{elementContext:"reference"}),a=hv(e,{altBoundary:!0}),l=CL(o,r),A=CL(a,i,s),c=xL(l),u=xL(A);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:A,isReferenceHidden:c,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":u})}const Tge={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Sge};function Ige(t,e,n){var r=il(t),i=[$s,Vs].indexOf(r)>=0?-1:1,s=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[$s,Yo].indexOf(r)>=0?{x:a,y:o}:{x:o,y:a}}function Nge(t){var e=t.state,n=t.options,r=t.name,i=n.offset,s=i===void 0?[0,0]:i,o=WI.reduce(function(c,u){return c[u]=Ige(u,e.rects,s),c},{}),a=o[e.placement],l=a.x,A=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=A),e.modifiersData[r]=o}const Fge={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Nge};function kge(t){var e=t.state,n=t.name;e.modifiersData[n]=dV({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Pge={name:"popperOffsets",enabled:!0,phase:"read",fn:kge,data:{}};function Dge(t){return t==="x"?"y":"x"}function Lge(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,s=i===void 0?!0:i,o=n.altAxis,a=o===void 0?!1:o,l=n.boundary,A=n.rootBoundary,c=n.altBoundary,u=n.padding,h=n.tether,d=h===void 0?!0:h,p=n.tetherOffset,f=p===void 0?0:p,b=hv(e,{boundary:l,rootBoundary:A,padding:u,altBoundary:c}),g=il(e.placement),v=qf(e.placement),_=!v,x=YI(g),F=Dge(x),O=e.modifiersData.popperOffsets,I=e.rects.reference,B=e.rects.popper,T=typeof f=="function"?f(Object.assign({},e.rects,{placement:e.placement})):f,R=typeof T=="number"?{mainAxis:T,altAxis:T}:Object.assign({mainAxis:0,altAxis:0},T),D=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,E={x:0,y:0};if(O){if(s){var k,N=x==="y"?Vs:$s,Y=x==="y"?qo:Yo,oe=x==="y"?"height":"width",ie=O[x],ne=ie+b[N],se=ie-b[Y],ue=d?-B[oe]/2:0,le=v===Kf?I[oe]:B[oe],U=v===Kf?-B[oe]:-I[oe],z=e.elements.arrow,q=d&&z?qI(z):{width:0,height:0},ee=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:AV(),fe=ee[N],me=ee[Y],ge=rm(0,I[oe],q[oe]),ye=_?I[oe]/2-ue-ge-fe-R.mainAxis:le-ge-fe-R.mainAxis,Me=_?-I[oe]/2+ue+ge+me+R.mainAxis:U+ge+me+R.mainAxis,De=e.elements.arrow&&n0(e.elements.arrow),Se=De?x==="y"?De.clientTop||0:De.clientLeft||0:0,Qe=(k=D==null?void 0:D[x])!=null?k:0,Q=ie+ye-Qe-Se,he=ie+Me-Qe,K=rm(d?e2(ne,Q):ne,ie,d?Yu(se,he):se);O[x]=K,E[x]=K-ie}if(a){var ae,Z=x==="x"?Vs:$s,ce=x==="x"?qo:Yo,_e=O[F],Be=F==="y"?"height":"width",pe=_e+b[Z],Pe=_e-b[ce],je=[Vs,$s].indexOf(g)!==-1,Ue=(ae=D==null?void 0:D[F])!=null?ae:0,Ge=je?pe:_e-I[Be]-B[Be]-Ue+R.altAxis,nt=je?_e+I[Be]+B[Be]-Ue-R.altAxis:Pe,Ze=d&&je?sge(Ge,_e,nt):rm(d?Ge:pe,_e,d?nt:Pe);O[F]=Ze,E[F]=Ze-_e}e.modifiersData[r]=E}}const Rge={name:"preventOverflow",enabled:!0,phase:"main",fn:Lge,requiresIfExists:["offset"]};function Uge(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Oge(t){return t===uo(t)||!sl(t)?XI(t):Uge(t)}function Mge(t){var e=t.getBoundingClientRect(),n=Wf(e.width)/t.offsetWidth||1,r=Wf(e.height)/t.offsetHeight||1;return n!==1||r!==1}function Qge(t,e,n){n===void 0&&(n=!1);var r=sl(e),i=sl(e)&&Mge(e),s=iu(e),o=Gf(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((zc(e)!=="body"||ZI(s))&&(a=Oge(e)),sl(e)?(l=Gf(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):s&&(l.x=JI(s))),{x:o.left+a.scrollLeft-l.x,y:o.top+a.scrollTop-l.y,width:o.width,height:o.height}}function jge(t){var e=new Map,n=new Set,r=[];t.forEach(function(s){e.set(s.name,s)});function i(s){n.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(s)}return t.forEach(function(s){n.has(s.name)||i(s)}),r}function Hge(t){var e=jge(t);return nge.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function Vge(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function $ge(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var BL={placement:"bottom",modifiers:[],strategy:"absolute"};function EL(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function zge(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,s=i===void 0?BL:i;return function(a,l,A){A===void 0&&(A=s);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},BL,s),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},u=[],h=!1,d={state:c,setOptions:function(g){var v=typeof g=="function"?g(c.options):g;f(),c.options=Object.assign({},s,c.options,v),c.scrollParents={reference:xh(a)?im(a):a.contextElement?im(a.contextElement):[],popper:im(l)};var _=Hge($ge([].concat(r,c.options.modifiers)));return c.orderedModifiers=_.filter(function(x){return x.enabled}),p(),d.update()},forceUpdate:function(){if(!h){var g=c.elements,v=g.reference,_=g.popper;if(EL(v,_)){c.rects={reference:Qge(v,n0(_),c.options.strategy==="fixed"),popper:qI(_)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(R){return c.modifiersData[R.name]=Object.assign({},R.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var F=c.orderedModifiers[x],O=F.fn,I=F.options,B=I===void 0?{}:I,T=F.name;typeof O=="function"&&(c=O({state:c,options:B,name:T,instance:d})||c)}}}},update:Vge(function(){return new Promise(function(b){d.forceUpdate(),b(c)})}),destroy:function(){f(),h=!0}};if(!EL(a,l))return d;d.setOptions(A).then(function(b){!h&&A.onFirstUpdate&&A.onFirstUpdate(b)});function p(){c.orderedModifiers.forEach(function(b){var g=b.name,v=b.options,_=v===void 0?{}:v,x=b.effect;if(typeof x=="function"){var F=x({state:c,name:g,instance:d,options:_}),O=function(){};u.push(F||O)}})}function f(){u.forEach(function(b){return b()}),u=[]}return d}}var Kge=zge({defaultModifiers:[Tge,Pge,dge,pge,Fge,Ege,Rge,Age]}),SL=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Wge={name:"applyStyles",enabled:!1},Gge={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var n=e.state;return function(){var r=n.elements,i=r.reference,s=r.popper;if("removeAttribute"in i){var o=(i.getAttribute("aria-describedby")||"").split(",").filter(function(a){return a.trim()!==s.id});o.length?i.setAttribute("aria-describedby",o.join(",")):i.removeAttribute("aria-describedby")}}},fn:function(e){var n,r=e.state,i=r.elements,s=i.popper,o=i.reference,a=(n=s.getAttribute("role"))==null?void 0:n.toLowerCase();if(s.id&&a==="tooltip"&&"setAttribute"in o){var l=o.getAttribute("aria-describedby");if(l&&l.split(",").indexOf(s.id)!==-1)return;o.setAttribute("aria-describedby",l?l+","+s.id:s.id)}}},qge=[];function Yge(t,e,n){var r=n===void 0?{}:n,i=r.enabled,s=i===void 0?!0:i,o=r.placement,a=o===void 0?"bottom":o,l=r.strategy,A=l===void 0?"absolute":l,c=r.modifiers,u=c===void 0?qge:c,h=Cb(r,["enabled","placement","strategy","modifiers"]),d=$.useRef(),p=$.useCallback(function(){var x;(x=d.current)==null||x.update()},[]),f=$.useCallback(function(){var x;(x=d.current)==null||x.forceUpdate()},[]),b=$pe($.useState({placement:a,update:p,forceUpdate:f,attributes:{},styles:{popper:SL(A),arrow:{}}})),g=b[0],v=b[1],_=$.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(F){var O=F.state,I={},B={};Object.keys(O.elements).forEach(function(T){I[T]=O.styles[T],B[T]=O.attributes[T]}),v({state:O,styles:I,attributes:B,update:p,forceUpdate:f,placement:O.placement})}}},[p,f,v]);return $.useEffect(function(){!d.current||!s||d.current.setOptions({placement:a,strategy:A,modifiers:[].concat(u,[_,Wge])})},[A,a,_,s]),$.useEffect(function(){if(!(!s||t==null||e==null))return d.current=Kge(t,e,rr({},h,{placement:a,strategy:A,modifiers:[].concat(u,[Gge,_])})),function(){d.current!=null&&(d.current.destroy(),d.current=void 0,v(function(x){return rr({},x,{attributes:{},styles:{popper:SL(A)}})}))}},[s,t,e]),g}function Xge(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function Bg(t,e,n,r){return jpe(t,e,n,r),function(){Xge(t,e,n,r)}}var Jge=function(){},Zge=Jge;const eme=ss(Zge);function tme(t){return t&&"setState"in t?DM.findDOMNode(t):t??null}const nme=function(t){return e0(tme(t))};var rme=27,TL=function(){};function ime(t){return t.button===0}function sme(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}var IL=function(e){return e&&("current"in e?e.current:e)};function ome(t,e,n){var r=n===void 0?{}:n,i=r.disabled,s=r.clickTrigger,o=s===void 0?"click":s,a=$.useRef(!1),l=e||TL,A=$.useCallback(function(h){var d,p=IL(t);eme(!!p,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),a.current=!p||sme(h)||!ime(h)||!!cv(p,(d=h.composedPath==null?void 0:h.composedPath()[0])!=null?d:h.target)},[t]),c=gL(function(h){a.current||l(h)}),u=gL(function(h){h.keyCode===rme&&l(h)});$.useEffect(function(){if(!(i||t==null)){var h=window.event,d=nme(IL(t)),p=Bg(d,o,A,!0),f=Bg(d,o,function(v){if(v===h){h=void 0;return}c(v)}),b=Bg(d,"keyup",function(v){if(v===h){h=void 0;return}u(v)}),g=[];return"ontouchstart"in d.documentElement&&(g=[].slice.call(d.body.children).map(function(v){return Bg(v,"mousemove",TL)})),function(){p(),f(),b(),g.forEach(function(v){return v()})}}},[t,i,o,A,c,u])}function ame(t){var e={};return Array.isArray(t)?(t==null||t.forEach(function(n){e[n.name]=n}),e):t||e}function lme(t){return t===void 0&&(t={}),Array.isArray(t)?t:Object.keys(t).map(function(e){return t[e].name=e,t[e]})}function Ame(t){var e,n,r,i,s=t.enabled,o=t.enableEvents,a=t.placement,l=t.flip,A=t.offset,c=t.fixed,u=t.containerPadding,h=t.arrowElement,d=t.popperConfig,p=d===void 0?{}:d,f=ame(p.modifiers);return rr({},p,{placement:a,enabled:s,strategy:c?"fixed":p.strategy,modifiers:lme(rr({},f,{eventListeners:{enabled:o},preventOverflow:rr({},f.preventOverflow,{options:u?rr({padding:u},(e=f.preventOverflow)==null?void 0:e.options):(n=f.preventOverflow)==null?void 0:n.options}),offset:{options:rr({offset:A},(r=f.offset)==null?void 0:r.options)},arrow:rr({},f.arrow,{enabled:!!h,options:rr({},(i=f.arrow)==null?void 0:i.options,{element:h})}),flip:rr({enabled:!!l},f.flip)}))})}function cme(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function ume(t,e){t.classList?t.classList.add(e):cme(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function NL(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function hme(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=NL(t.className,e):t.setAttribute("class",NL(t.className&&t.className.baseVal||"",e))}var hy;function e4(t){if((!hy&&hy!==0||t)&&zI){var e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),hy=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return hy}var OC=function(e){var n;return typeof document>"u"?null:e==null?e0().body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),(n=e)!=null&&n.nodeType&&e||null)};function FL(t,e){var n=$.useState(function(){return OC(t)}),r=n[0],i=n[1];if(!r){var s=OC(t);s&&i(s)}return $.useEffect(function(){e&&r&&e(r)},[e,r]),$.useEffect(function(){var o=OC(t);o!==r&&i(o)},[t,r]),r}const kL=t=>!t||typeof t=="function"?t:e=>{t.current=e};function dme(t,e){const n=kL(t),r=kL(e);return i=>{n&&n(i),r&&r(i)}}function fme(t,e){return $.useMemo(()=>dme(t,e),[t,e])}var t4=re.forwardRef(function(t,e){var n=t.flip,r=t.offset,i=t.placement,s=t.containerPadding,o=s===void 0?5:s,a=t.popperConfig,l=a===void 0?{}:a,A=t.transition,c=mL(),u=c[0],h=c[1],d=mL(),p=d[0],f=d[1],b=fme(h,e),g=FL(t.container),v=FL(t.target),_=$.useState(!t.show),x=_[0],F=_[1],O=Yge(v,u,Ame({placement:i,enableEvents:!!t.show,containerPadding:o||5,flip:n,offset:r,arrowElement:p,popperConfig:l})),I=O.styles,B=O.attributes,T=Cb(O,["styles","attributes"]);t.show?x&&F(!1):!t.transition&&!x&&F(!0);var R=function(){F(!0),t.onExited&&t.onExited.apply(t,arguments)},D=t.show||A&&!x;if(ome(u,t.onHide,{disabled:!t.rootClose||t.rootCloseDisabled,clickTrigger:t.rootCloseEvent}),!D)return null;var E=t.children(rr({},T,{show:!!t.show,props:rr({},B.popper,{style:I.popper,ref:b}),arrowProps:rr({},B.arrow,{style:I.arrow,ref:f})}));if(A){var k=t.onExit,N=t.onExiting,Y=t.onEnter,oe=t.onEntering,ie=t.onEntered;E=re.createElement(A,{in:t.show,appear:!0,onExit:k,onExiting:N,onExited:R,onEnter:Y,onEntering:oe,onEntered:ie},E)}return g?DM.createPortal(E,g):null});t4.displayName="Overlay";t4.propTypes={show:et.bool,placement:et.oneOf(WI),target:et.any,container:et.any,flip:et.bool,children:et.func.isRequired,containerPadding:et.number,popperConfig:et.object,rootClose:et.bool,rootCloseEvent:et.oneOf(["click","mousedown"]),rootCloseDisabled:et.bool,onHide:function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(e.rootClose){var s;return(s=et.func).isRequired.apply(s,[e].concat(r))}return et.func.apply(et,[e].concat(r))},transition:et.elementType,onEnter:et.func,onEntering:et.func,onEntered:et.func,onExit:et.func,onExiting:et.func,onExited:et.func};const pme=t4;function gme(){this.__data__=[],this.size=0}var mme=gme,vme=Xv;function yme(t,e){for(var n=t.length;n--;)if(vme(t[n][0],e))return n;return-1}var Sb=yme,wme=Sb,bme=Array.prototype,_me=bme.splice;function Cme(t){var e=this.__data__,n=wme(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():_me.call(e,n,1),--this.size,!0}var xme=Cme,Bme=Sb;function Eme(t){var e=this.__data__,n=Bme(e,t);return n<0?void 0:e[n][1]}var Sme=Eme,Tme=Sb;function Ime(t){return Tme(this.__data__,t)>-1}var Nme=Ime,Fme=Sb;function kme(t,e){var n=this.__data__,r=Fme(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Pme=kme,Dme=mme,Lme=xme,Rme=Sme,Ume=Nme,Ome=Pme;function mp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}mp.prototype.clear=Dme;mp.prototype.delete=Lme;mp.prototype.get=Rme;mp.prototype.has=Ume;mp.prototype.set=Ome;var Tb=mp,Mme=Tb;function Qme(){this.__data__=new Mme,this.size=0}var jme=Qme;function Hme(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Vme=Hme;function $me(t){return this.__data__.get(t)}var zme=$me;function Kme(t){return this.__data__.has(t)}var Wme=Kme,Gme=cl,qme=Gme["__core-js_shared__"],Yme=qme,MC=Yme,PL=function(){var t=/[^.]+$/.exec(MC&&MC.keys&&MC.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Xme(t){return!!PL&&PL in t}var Jme=Xme,Zme=Function.prototype,eve=Zme.toString;function tve(t){if(t!=null){try{return eve.call(t)}catch{}try{return t+""}catch{}}return""}var fV=tve,nve=jI,rve=Jme,ive=yA,sve=fV,ove=/[\\^$.*+?()[\]{}|]/g,ave=/^\[object .+?Constructor\]$/,lve=Function.prototype,Ave=Object.prototype,cve=lve.toString,uve=Ave.hasOwnProperty,hve=RegExp("^"+cve.call(uve).replace(ove,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function dve(t){if(!ive(t)||rve(t))return!1;var e=nve(t)?hve:ave;return e.test(sve(t))}var fve=dve;function pve(t,e){return t==null?void 0:t[e]}var gve=pve,mve=fve,vve=gve;function yve(t,e){var n=vve(t,e);return mve(n)?n:void 0}var Qh=yve,wve=Qh,bve=cl,_ve=wve(bve,"Map"),n4=_ve,Cve=Qh,xve=Cve(Object,"create"),Ib=xve,DL=Ib;function Bve(){this.__data__=DL?DL(null):{},this.size=0}var Eve=Bve;function Sve(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Tve=Sve,Ive=Ib,Nve="__lodash_hash_undefined__",Fve=Object.prototype,kve=Fve.hasOwnProperty;function Pve(t){var e=this.__data__;if(Ive){var n=e[t];return n===Nve?void 0:n}return kve.call(e,t)?e[t]:void 0}var Dve=Pve,Lve=Ib,Rve=Object.prototype,Uve=Rve.hasOwnProperty;function Ove(t){var e=this.__data__;return Lve?e[t]!==void 0:Uve.call(e,t)}var Mve=Ove,Qve=Ib,jve="__lodash_hash_undefined__";function Hve(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qve&&e===void 0?jve:e,this}var Vve=Hve,$ve=Eve,zve=Tve,Kve=Dve,Wve=Mve,Gve=Vve;function vp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vp.prototype.clear=$ve;vp.prototype.delete=zve;vp.prototype.get=Kve;vp.prototype.has=Wve;vp.prototype.set=Gve;var qve=vp,LL=qve,Yve=Tb,Xve=n4;function Jve(){this.size=0,this.__data__={hash:new LL,map:new(Xve||Yve),string:new LL}}var Zve=Jve;function e0e(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var t0e=e0e,n0e=t0e;function r0e(t,e){var n=t.__data__;return n0e(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Nb=r0e,i0e=Nb;function s0e(t){var e=i0e(this,t).delete(t);return this.size-=e?1:0,e}var o0e=s0e,a0e=Nb;function l0e(t){return a0e(this,t).get(t)}var A0e=l0e,c0e=Nb;function u0e(t){return c0e(this,t).has(t)}var h0e=u0e,d0e=Nb;function f0e(t,e){var n=d0e(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var p0e=f0e,g0e=Zve,m0e=o0e,v0e=A0e,y0e=h0e,w0e=p0e;function yp(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}yp.prototype.clear=g0e;yp.prototype.delete=m0e;yp.prototype.get=v0e;yp.prototype.has=y0e;yp.prototype.set=w0e;var r4=yp,b0e=Tb,_0e=n4,C0e=r4,x0e=200;function B0e(t,e){var n=this.__data__;if(n instanceof b0e){var r=n.__data__;if(!_0e||r.length<x0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new C0e(r)}return n.set(t,e),this.size=n.size,this}var E0e=B0e,S0e=Tb,T0e=jme,I0e=Vme,N0e=zme,F0e=Wme,k0e=E0e;function wp(t){var e=this.__data__=new S0e(t);this.size=e.size}wp.prototype.clear=T0e;wp.prototype.delete=I0e;wp.prototype.get=N0e;wp.prototype.has=F0e;wp.prototype.set=k0e;var i4=wp,P0e="__lodash_hash_undefined__";function D0e(t){return this.__data__.set(t,P0e),this}var L0e=D0e;function R0e(t){return this.__data__.has(t)}var U0e=R0e,O0e=r4,M0e=L0e,Q0e=U0e;function t2(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new O0e;++e<n;)this.add(t[e])}t2.prototype.add=t2.prototype.push=M0e;t2.prototype.has=Q0e;var j0e=t2;function H0e(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var V0e=H0e;function $0e(t,e){return t.has(e)}var z0e=$0e,K0e=j0e,W0e=V0e,G0e=z0e,q0e=1,Y0e=2;function X0e(t,e,n,r,i,s){var o=n&q0e,a=t.length,l=e.length;if(a!=l&&!(o&&l>a))return!1;var A=s.get(t),c=s.get(e);if(A&&c)return A==e&&c==t;var u=-1,h=!0,d=n&Y0e?new K0e:void 0;for(s.set(t,e),s.set(e,t);++u<a;){var p=t[u],f=e[u];if(r)var b=o?r(f,p,u,e,t,s):r(p,f,u,t,e,s);if(b!==void 0){if(b)continue;h=!1;break}if(d){if(!W0e(e,function(g,v){if(!G0e(d,v)&&(p===g||i(p,g,n,r,s)))return d.push(v)})){h=!1;break}}else if(!(p===f||i(p,f,n,r,s))){h=!1;break}}return s.delete(t),s.delete(e),h}var pV=X0e,J0e=cl,Z0e=J0e.Uint8Array,gV=Z0e;function eye(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var tye=eye;function nye(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var rye=nye,RL=pp,UL=gV,iye=Xv,sye=pV,oye=tye,aye=rye,lye=1,Aye=2,cye="[object Boolean]",uye="[object Date]",hye="[object Error]",dye="[object Map]",fye="[object Number]",pye="[object RegExp]",gye="[object Set]",mye="[object String]",vye="[object Symbol]",yye="[object ArrayBuffer]",wye="[object DataView]",OL=RL?RL.prototype:void 0,QC=OL?OL.valueOf:void 0;function bye(t,e,n,r,i,s,o){switch(n){case wye:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case yye:return!(t.byteLength!=e.byteLength||!s(new UL(t),new UL(e)));case cye:case uye:case fye:return iye(+t,+e);case hye:return t.name==e.name&&t.message==e.message;case pye:case mye:return t==e+"";case dye:var a=oye;case gye:var l=r&lye;if(a||(a=aye),t.size!=e.size&&!l)return!1;var A=o.get(t);if(A)return A==e;r|=Aye,o.set(t,e);var c=sye(a(t),a(e),r,i,s,o);return o.delete(t),c;case vye:if(QC)return QC.call(t)==QC.call(e)}return!1}var _ye=bye;function Cye(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var s4=Cye,xye=Array.isArray,Xo=xye,Bye=s4,Eye=Xo;function Sye(t,e,n){var r=e(t);return Eye(t)?r:Bye(r,n(t))}var mV=Sye;function Tye(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}var Iye=Tye;function Nye(){return[]}var vV=Nye,Fye=Iye,kye=vV,Pye=Object.prototype,Dye=Pye.propertyIsEnumerable,ML=Object.getOwnPropertySymbols,Lye=ML?function(t){return t==null?[]:(t=Object(t),Fye(ML(t),function(e){return Dye.call(t,e)}))}:kye,o4=Lye;function Rye(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Uye=Rye,Oye=gp,Mye=ru,Qye="[object Arguments]";function jye(t){return Mye(t)&&Oye(t)==Qye}var Hye=jye,QL=Hye,Vye=ru,yV=Object.prototype,$ye=yV.hasOwnProperty,zye=yV.propertyIsEnumerable,Kye=QL(function(){return arguments}())?QL:function(t){return Vye(t)&&$ye.call(t,"callee")&&!zye.call(t,"callee")},a4=Kye,n2={exports:{}};function Wye(){return!1}var Gye=Wye;n2.exports;(function(t,e){var n=cl,r=Gye,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,a=o?n.Buffer:void 0,l=a?a.isBuffer:void 0,A=l||r;t.exports=A})(n2,n2.exports);var Fb=n2.exports,qye=gp,Yye=HI,Xye=ru,Jye="[object Arguments]",Zye="[object Array]",e1e="[object Boolean]",t1e="[object Date]",n1e="[object Error]",r1e="[object Function]",i1e="[object Map]",s1e="[object Number]",o1e="[object Object]",a1e="[object RegExp]",l1e="[object Set]",A1e="[object String]",c1e="[object WeakMap]",u1e="[object ArrayBuffer]",h1e="[object DataView]",d1e="[object Float32Array]",f1e="[object Float64Array]",p1e="[object Int8Array]",g1e="[object Int16Array]",m1e="[object Int32Array]",v1e="[object Uint8Array]",y1e="[object Uint8ClampedArray]",w1e="[object Uint16Array]",b1e="[object Uint32Array]",Wn={};Wn[d1e]=Wn[f1e]=Wn[p1e]=Wn[g1e]=Wn[m1e]=Wn[v1e]=Wn[y1e]=Wn[w1e]=Wn[b1e]=!0;Wn[Jye]=Wn[Zye]=Wn[u1e]=Wn[e1e]=Wn[h1e]=Wn[t1e]=Wn[n1e]=Wn[r1e]=Wn[i1e]=Wn[s1e]=Wn[o1e]=Wn[a1e]=Wn[l1e]=Wn[A1e]=Wn[c1e]=!1;function _1e(t){return Xye(t)&&Yye(t.length)&&!!Wn[qye(t)]}var C1e=_1e;function x1e(t){return function(e){return t(e)}}var kb=x1e,r2={exports:{}};r2.exports;(function(t,e){var n=X7,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=a})(r2,r2.exports);var l4=r2.exports,B1e=C1e,E1e=kb,jL=l4,HL=jL&&jL.isTypedArray,S1e=HL?E1e(HL):B1e,A4=S1e,T1e=Uye,I1e=a4,N1e=Xo,F1e=Fb,k1e=VI,P1e=A4,D1e=Object.prototype,L1e=D1e.hasOwnProperty;function R1e(t,e){var n=N1e(t),r=!n&&I1e(t),i=!n&&!r&&F1e(t),s=!n&&!r&&!i&&P1e(t),o=n||r||i||s,a=o?T1e(t.length,String):[],l=a.length;for(var A in t)(e||L1e.call(t,A))&&!(o&&(A=="length"||i&&(A=="offset"||A=="parent")||s&&(A=="buffer"||A=="byteLength"||A=="byteOffset")||k1e(A,l)))&&a.push(A);return a}var wV=R1e,U1e=Object.prototype;function O1e(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||U1e;return t===n}var c4=O1e;function M1e(t,e){return function(n){return t(e(n))}}var bV=M1e,Q1e=bV,j1e=Q1e(Object.keys,Object),H1e=j1e,V1e=c4,$1e=H1e,z1e=Object.prototype,K1e=z1e.hasOwnProperty;function W1e(t){if(!V1e(t))return $1e(t);var e=[];for(var n in Object(t))K1e.call(t,n)&&n!="constructor"&&e.push(n);return e}var G1e=W1e,q1e=wV,Y1e=G1e,X1e=Jv;function J1e(t){return X1e(t)?q1e(t):Y1e(t)}var r0=J1e,Z1e=mV,ewe=o4,twe=r0;function nwe(t){return Z1e(t,twe,ewe)}var _V=nwe,VL=_V,rwe=1,iwe=Object.prototype,swe=iwe.hasOwnProperty;function owe(t,e,n,r,i,s){var o=n&rwe,a=VL(t),l=a.length,A=VL(e),c=A.length;if(l!=c&&!o)return!1;for(var u=l;u--;){var h=a[u];if(!(o?h in e:swe.call(e,h)))return!1}var d=s.get(t),p=s.get(e);if(d&&p)return d==e&&p==t;var f=!0;s.set(t,e),s.set(e,t);for(var b=o;++u<l;){h=a[u];var g=t[h],v=e[h];if(r)var _=o?r(v,g,h,e,t,s):r(g,v,h,t,e,s);if(!(_===void 0?g===v||i(g,v,n,r,s):_)){f=!1;break}b||(b=h=="constructor")}if(f&&!b){var x=t.constructor,F=e.constructor;x!=F&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof F=="function"&&F instanceof F)&&(f=!1)}return s.delete(t),s.delete(e),f}var awe=owe,lwe=Qh,Awe=cl,cwe=lwe(Awe,"DataView"),uwe=cwe,hwe=Qh,dwe=cl,fwe=hwe(dwe,"Promise"),pwe=fwe,gwe=Qh,mwe=cl,vwe=gwe(mwe,"Set"),ywe=vwe,wwe=Qh,bwe=cl,_we=wwe(bwe,"WeakMap"),Cwe=_we,HE=uwe,VE=n4,$E=pwe,zE=ywe,KE=Cwe,CV=gp,bp=fV,$L="[object Map]",xwe="[object Object]",zL="[object Promise]",KL="[object Set]",WL="[object WeakMap]",GL="[object DataView]",Bwe=bp(HE),Ewe=bp(VE),Swe=bp($E),Twe=bp(zE),Iwe=bp(KE),Nu=CV;(HE&&Nu(new HE(new ArrayBuffer(1)))!=GL||VE&&Nu(new VE)!=$L||$E&&Nu($E.resolve())!=zL||zE&&Nu(new zE)!=KL||KE&&Nu(new KE)!=WL)&&(Nu=function(t){var e=CV(t),n=e==xwe?t.constructor:void 0,r=n?bp(n):"";if(r)switch(r){case Bwe:return GL;case Ewe:return $L;case Swe:return zL;case Twe:return KL;case Iwe:return WL}return e});var Pb=Nu,jC=i4,Nwe=pV,Fwe=_ye,kwe=awe,qL=Pb,YL=Xo,XL=Fb,Pwe=A4,Dwe=1,JL="[object Arguments]",ZL="[object Array]",dy="[object Object]",Lwe=Object.prototype,e3=Lwe.hasOwnProperty;function Rwe(t,e,n,r,i,s){var o=YL(t),a=YL(e),l=o?ZL:qL(t),A=a?ZL:qL(e);l=l==JL?dy:l,A=A==JL?dy:A;var c=l==dy,u=A==dy,h=l==A;if(h&&XL(t)){if(!XL(e))return!1;o=!0,c=!1}if(h&&!c)return s||(s=new jC),o||Pwe(t)?Nwe(t,e,n,r,i,s):Fwe(t,e,l,n,r,i,s);if(!(n&Dwe)){var d=c&&e3.call(t,"__wrapped__"),p=u&&e3.call(e,"__wrapped__");if(d||p){var f=d?t.value():t,b=p?e.value():e;return s||(s=new jC),i(f,b,n,r,s)}}return h?(s||(s=new jC),kwe(t,e,n,r,i,s)):!1}var Uwe=Rwe,Owe=Uwe,t3=ru;function xV(t,e,n,r,i){return t===e?!0:t==null||e==null||!t3(t)&&!t3(e)?t!==t&&e!==e:Owe(t,e,n,r,xV,i)}var u4=xV,Mwe=u4;function Qwe(t,e){return Mwe(t,e)}var jwe=Qwe;const Hwe=ss(jwe);function HC(t,e){var n=$I(t);return n?n.innerHeight:e?t.clientHeight:qu(t).height}function BV(t,e,n){t.closest&&!n&&t.closest(e);var r=t;do{if(Ope(r,e))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}function Vwe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var $we=Vwe,zwe=i4,Kwe=u4,Wwe=1,Gwe=2;function qwe(t,e,n,r){var i=n.length,s=i,o=!r;if(t==null)return!s;for(t=Object(t);i--;){var a=n[i];if(o&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++i<s;){a=n[i];var l=a[0],A=t[l],c=a[1];if(o&&a[2]){if(A===void 0&&!(l in t))return!1}else{var u=new zwe;if(r)var h=r(A,c,l,t,e,u);if(!(h===void 0?Kwe(c,A,Wwe|Gwe,r,u):h))return!1}}return!0}var Ywe=qwe,Xwe=yA;function Jwe(t){return t===t&&!Xwe(t)}var EV=Jwe,Zwe=EV,e2e=r0;function t2e(t){for(var e=e2e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Zwe(i)]}return e}var n2e=t2e;function r2e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var SV=r2e,i2e=Ywe,s2e=n2e,o2e=SV;function a2e(t){var e=s2e(t);return e.length==1&&e[0][2]?o2e(e[0][0],e[0][1]):function(n){return n===t||i2e(n,t,e)}}var l2e=a2e,A2e=Xo,c2e=Zv,u2e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,h2e=/^\w*$/;function d2e(t,e){if(A2e(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||c2e(t)?!0:h2e.test(t)||!u2e.test(t)||e!=null&&t in Object(e)}var h4=d2e,TV=r4,f2e="Expected a function";function d4(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(f2e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(d4.Cache||TV),n}d4.Cache=TV;var p2e=d4,g2e=p2e,m2e=500;function v2e(t){var e=g2e(t,function(r){return n.size===m2e&&n.clear(),r}),n=e.cache;return e}var y2e=v2e,w2e=y2e,b2e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,_2e=/\\(\\)?/g,C2e=w2e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(b2e,function(n,r,i,s){e.push(i?s.replace(_2e,"$1"):r||n)}),e}),x2e=C2e;function B2e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var f4=B2e,n3=pp,E2e=f4,S2e=Xo,T2e=Zv,I2e=1/0,r3=n3?n3.prototype:void 0,i3=r3?r3.toString:void 0;function IV(t){if(typeof t=="string")return t;if(S2e(t))return E2e(t,IV)+"";if(T2e(t))return i3?i3.call(t):"";var e=t+"";return e=="0"&&1/t==-I2e?"-0":e}var N2e=IV,F2e=N2e;function k2e(t){return t==null?"":F2e(t)}var P2e=k2e,D2e=Xo,L2e=h4,R2e=x2e,U2e=P2e;function O2e(t,e){return D2e(t)?t:L2e(t,e)?[t]:R2e(U2e(t))}var Db=O2e,M2e=Zv,Q2e=1/0;function j2e(t){if(typeof t=="string"||M2e(t))return t;var e=t+"";return e=="0"&&1/t==-Q2e?"-0":e}var i0=j2e,H2e=Db,V2e=i0;function $2e(t,e){e=H2e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[V2e(e[n++])];return n&&n==r?t:void 0}var Lb=$2e,z2e=Lb;function K2e(t,e,n){var r=t==null?void 0:z2e(t,e);return r===void 0?n:r}var W2e=K2e;function G2e(t,e){return t!=null&&e in Object(t)}var q2e=G2e,Y2e=Db,X2e=a4,J2e=Xo,Z2e=VI,ebe=HI,tbe=i0;function nbe(t,e,n){e=Y2e(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var o=tbe(e[r]);if(!(s=t!=null&&n(t,o)))break;t=t[o]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&ebe(i)&&Z2e(o,i)&&(J2e(t)||X2e(t)))}var rbe=nbe,ibe=q2e,sbe=rbe;function obe(t,e){return t!=null&&sbe(t,e,ibe)}var abe=obe,lbe=u4,Abe=W2e,cbe=abe,ube=h4,hbe=EV,dbe=SV,fbe=i0,pbe=1,gbe=2;function mbe(t,e){return ube(t)&&hbe(e)?dbe(fbe(t),e):function(n){var r=Abe(n,t);return r===void 0&&r===e?cbe(n,t):lbe(e,r,pbe|gbe)}}var vbe=mbe;function ybe(t){return t}var Rb=ybe;function wbe(t){return function(e){return e==null?void 0:e[t]}}var bbe=wbe,_be=Lb;function Cbe(t){return function(e){return _be(e,t)}}var xbe=Cbe,Bbe=bbe,Ebe=xbe,Sbe=h4,Tbe=i0;function Ibe(t){return Sbe(t)?Bbe(Tbe(t)):Ebe(t)}var Nbe=Ibe,Fbe=l2e,kbe=vbe,Pbe=Rb,Dbe=Xo,Lbe=Nbe;function Rbe(t){return typeof t=="function"?t:t==null?Pbe:typeof t=="object"?Dbe(t)?kbe(t[0],t[1]):Fbe(t):Lbe(t)}var Ub=Rbe,Ube=$we,Obe=Ub,Mbe=eV,Qbe=Math.max;function jbe(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Mbe(n);return i<0&&(i=Qbe(r+i,0)),Ube(t,Obe(e),i)}var Hbe=jbe;const Vbe=ss(Hbe);var $be=Math.ceil,zbe=Math.max;function Kbe(t,e,n,r){for(var i=-1,s=zbe($be((e-t)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=t,t+=n;return o}var Wbe=Kbe,Gbe=Wbe,qbe=Bb,VC=Z7;function Ybe(t){return function(e,n,r){return r&&typeof r!="number"&&qbe(e,n,r)&&(n=r=void 0),e=VC(e),n===void 0?(n=e,e=0):n=VC(n),r=r===void 0?e<n?1:-1:VC(r),Gbe(e,n,r,t)}}var Xbe=Ybe,Jbe=Xbe,Zbe=Jbe(),e_e=Zbe;const t_e=ss(e_e);var s3=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function n_e(t,e){return!!(t===e||s3(t)&&s3(e))}function r_e(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!n_e(t[n],e[n]))return!1;return!0}function NV(t,e){e===void 0&&(e=r_e);var n=null;function r(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];if(n&&n.lastThis===this&&e(i,n.lastArgs))return n.lastResult;var o=t.apply(this,i);return n={lastResult:o,lastArgs:i,lastThis:this},o}return r.clear=function(){n=null},r}function WE(t,e){var n=$I(t);return n?n.innerWidth:e?t.clientWidth:qu(t).width}var o3=pp,i_e=a4,s_e=Xo,a3=o3?o3.isConcatSpreadable:void 0;function o_e(t){return s_e(t)||i_e(t)||!!(a3&&t&&t[a3])}var a_e=o_e,l_e=s4,A_e=a_e;function FV(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=A_e),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?FV(a,e-1,n,r,i):l_e(i,a):r||(i[i.length]=a)}return i}var kV=FV;function c_e(t){return function(e,n,r){for(var i=-1,s=Object(e),o=r(e),a=o.length;a--;){var l=o[t?a:++i];if(n(s[l],l,s)===!1)break}return e}}var u_e=c_e,h_e=u_e,d_e=h_e(),f_e=d_e,p_e=f_e,g_e=r0;function m_e(t,e){return t&&p_e(t,e,g_e)}var p4=m_e,v_e=Jv;function y_e(t,e){return function(n,r){if(n==null)return n;if(!v_e(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=Object(n);(e?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var w_e=y_e,b_e=p4,__e=w_e,C_e=__e(b_e),x_e=C_e,B_e=x_e,E_e=Jv;function S_e(t,e){var n=-1,r=E_e(t)?Array(t.length):[];return B_e(t,function(i,s,o){r[++n]=e(i,s,o)}),r}var T_e=S_e;function I_e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var N_e=I_e,l3=Zv;function F_e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=l3(t),o=e!==void 0,a=e===null,l=e===e,A=l3(e);if(!a&&!A&&!s&&t>e||s&&o&&l&&!a&&!A||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!A&&t<e||A&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}var k_e=F_e,P_e=k_e;function D_e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var l=P_e(i[r],s[r]);if(l){if(r>=a)return l;var A=n[r];return l*(A=="desc"?-1:1)}}return t.index-e.index}var L_e=D_e,$C=f4,R_e=Lb,U_e=Ub,O_e=T_e,M_e=N_e,Q_e=kb,j_e=L_e,H_e=Rb,V_e=Xo;function $_e(t,e,n){e.length?e=$C(e,function(s){return V_e(s)?function(o){return R_e(o,s.length===1?s[0]:s)}:s}):e=[H_e];var r=-1;e=$C(e,Q_e(U_e));var i=O_e(t,function(s,o,a){var l=$C(e,function(A){return A(s)});return{criteria:l,index:++r,value:s}});return M_e(i,function(s,o){return j_e(s,o,n)})}var z_e=$_e;function K_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var W_e=K_e,G_e=W_e,A3=Math.max;function q_e(t,e,n){return e=A3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=A3(r.length-e,0),o=Array(s);++i<s;)o[i]=r[e+i];i=-1;for(var a=Array(e+1);++i<e;)a[i]=r[i];return a[e]=n(o),G_e(t,this,a)}}var PV=q_e;function Y_e(t){return function(){return t}}var X_e=Y_e,J_e=Qh,Z_e=function(){try{var t=J_e(Object,"defineProperty");return t({},"",{}),t}catch{}}(),DV=Z_e,eCe=X_e,c3=DV,tCe=Rb,nCe=c3?function(t,e){return c3(t,"toString",{configurable:!0,enumerable:!1,value:eCe(e),writable:!0})}:tCe,rCe=nCe,iCe=800,sCe=16,oCe=Date.now;function aCe(t){var e=0,n=0;return function(){var r=oCe(),i=sCe-(r-n);if(n=r,i>0){if(++e>=iCe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var lCe=aCe,ACe=rCe,cCe=lCe,uCe=cCe(ACe),LV=uCe,hCe=Rb,dCe=PV,fCe=LV;function pCe(t,e){return fCe(dCe(t,e,hCe),t+"")}var RV=pCe,gCe=kV,mCe=z_e,vCe=RV,u3=Bb,yCe=vCe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&u3(t,e[0],e[1])?e=[]:n>2&&u3(e[0],e[1],e[2])&&(e=[e[0]]),mCe(t,gCe(e,1),[])}),wCe=yCe;const bCe=ss(wCe);function UV(t){return F7(t)||q7(t)||OI(t)||k7()}function _Ce(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var CCe=_Ce,xCe=yA,BCe=c4,ECe=CCe,SCe=Object.prototype,TCe=SCe.hasOwnProperty;function ICe(t){if(!xCe(t))return ECe(t);var e=BCe(t),n=[];for(var r in t)r=="constructor"&&(e||!TCe.call(t,r))||n.push(r);return n}var NCe=ICe,FCe=wV,kCe=NCe,PCe=Jv;function DCe(t){return PCe(t)?FCe(t,!0):kCe(t)}var Ob=DCe,LCe=RV,RCe=Xv,UCe=Bb,OCe=Ob,OV=Object.prototype,MCe=OV.hasOwnProperty,QCe=LCe(function(t,e){t=Object(t);var n=-1,r=e.length,i=r>2?e[2]:void 0;for(i&&UCe(e[0],e[1],i)&&(r=1);++n<r;)for(var s=e[n],o=OCe(s),a=-1,l=o.length;++a<l;){var A=o[a],c=t[A];(c===void 0||RCe(c,OV[A])&&!MCe.call(t,A))&&(t[A]=s[A])}return t}),jCe=QCe;const HCe=ss(jCe);var h3=DV;function VCe(t,e,n){e=="__proto__"&&h3?h3(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var g4=VCe,$Ce=g4,zCe=p4,KCe=Ub;function WCe(t,e){var n={};return e=KCe(e),zCe(t,function(r,i,s){$Ce(n,i,e(r,i,s))}),n}var GCe=WCe;const qCe=ss(GCe);function YCe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r&&e(t[n],n,t)!==!1;);return t}var MV=YCe,XCe=g4,JCe=Xv,ZCe=Object.prototype,exe=ZCe.hasOwnProperty;function txe(t,e,n){var r=t[e];(!(exe.call(t,e)&&JCe(r,n))||n===void 0&&!(e in t))&&XCe(t,e,n)}var QV=txe,nxe=QV,rxe=g4;function ixe(t,e,n,r){var i=!n;n||(n={});for(var s=-1,o=e.length;++s<o;){var a=e[s],l=r?r(n[a],t[a],a,n,t):void 0;l===void 0&&(l=t[a]),i?rxe(n,a,l):nxe(n,a,l)}return n}var s0=ixe,sxe=s0,oxe=r0;function axe(t,e){return t&&sxe(e,oxe(e),t)}var lxe=axe,Axe=s0,cxe=Ob;function uxe(t,e){return t&&Axe(e,cxe(e),t)}var hxe=uxe,i2={exports:{}};i2.exports;(function(t,e){var n=cl,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,o=s?n.Buffer:void 0,a=o?o.allocUnsafe:void 0;function l(A,c){if(c)return A.slice();var u=A.length,h=a?a(u):new A.constructor(u);return A.copy(h),h}t.exports=l})(i2,i2.exports);var dxe=i2.exports;function fxe(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var pxe=fxe,gxe=s0,mxe=o4;function vxe(t,e){return gxe(t,mxe(t),e)}var yxe=vxe,wxe=bV,bxe=wxe(Object.getPrototypeOf,Object),Mb=bxe,_xe=s4,Cxe=Mb,xxe=o4,Bxe=vV,Exe=Object.getOwnPropertySymbols,Sxe=Exe?function(t){for(var e=[];t;)_xe(e,xxe(t)),t=Cxe(t);return e}:Bxe,jV=Sxe,Txe=s0,Ixe=jV;function Nxe(t,e){return Txe(t,Ixe(t),e)}var Fxe=Nxe,kxe=mV,Pxe=jV,Dxe=Ob;function Lxe(t){return kxe(t,Dxe,Pxe)}var HV=Lxe,Rxe=Object.prototype,Uxe=Rxe.hasOwnProperty;function Oxe(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&Uxe.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Mxe=Oxe,d3=gV;function Qxe(t){var e=new t.constructor(t.byteLength);return new d3(e).set(new d3(t)),e}var m4=Qxe,jxe=m4;function Hxe(t,e){var n=e?jxe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var Vxe=Hxe,$xe=/\w*$/;function zxe(t){var e=new t.constructor(t.source,$xe.exec(t));return e.lastIndex=t.lastIndex,e}var Kxe=zxe,f3=pp,p3=f3?f3.prototype:void 0,g3=p3?p3.valueOf:void 0;function Wxe(t){return g3?Object(g3.call(t)):{}}var Gxe=Wxe,qxe=m4;function Yxe(t,e){var n=e?qxe(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var Xxe=Yxe,Jxe=m4,Zxe=Vxe,eBe=Kxe,tBe=Gxe,nBe=Xxe,rBe="[object Boolean]",iBe="[object Date]",sBe="[object Map]",oBe="[object Number]",aBe="[object RegExp]",lBe="[object Set]",ABe="[object String]",cBe="[object Symbol]",uBe="[object ArrayBuffer]",hBe="[object DataView]",dBe="[object Float32Array]",fBe="[object Float64Array]",pBe="[object Int8Array]",gBe="[object Int16Array]",mBe="[object Int32Array]",vBe="[object Uint8Array]",yBe="[object Uint8ClampedArray]",wBe="[object Uint16Array]",bBe="[object Uint32Array]";function _Be(t,e,n){var r=t.constructor;switch(e){case uBe:return Jxe(t);case rBe:case iBe:return new r(+t);case hBe:return Zxe(t,n);case dBe:case fBe:case pBe:case gBe:case mBe:case vBe:case yBe:case wBe:case bBe:return nBe(t,n);case sBe:return new r;case oBe:case ABe:return new r(t);case aBe:return eBe(t);case lBe:return new r;case cBe:return tBe(t)}}var CBe=_Be,xBe=yA,m3=Object.create,BBe=function(){function t(){}return function(e){if(!xBe(e))return{};if(m3)return m3(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),VV=BBe,EBe=VV,SBe=Mb,TBe=c4;function IBe(t){return typeof t.constructor=="function"&&!TBe(t)?EBe(SBe(t)):{}}var NBe=IBe,FBe=Pb,kBe=ru,PBe="[object Map]";function DBe(t){return kBe(t)&&FBe(t)==PBe}var LBe=DBe,RBe=LBe,UBe=kb,v3=l4,y3=v3&&v3.isMap,OBe=y3?UBe(y3):RBe,MBe=OBe,QBe=Pb,jBe=ru,HBe="[object Set]";function VBe(t){return jBe(t)&&QBe(t)==HBe}var $Be=VBe,zBe=$Be,KBe=kb,w3=l4,b3=w3&&w3.isSet,WBe=b3?KBe(b3):zBe,GBe=WBe,qBe=i4,YBe=MV,XBe=QV,JBe=lxe,ZBe=hxe,eEe=dxe,tEe=pxe,nEe=yxe,rEe=Fxe,iEe=_V,sEe=HV,oEe=Pb,aEe=Mxe,lEe=CBe,AEe=NBe,cEe=Xo,uEe=Fb,hEe=MBe,dEe=yA,fEe=GBe,pEe=r0,gEe=Ob,mEe=1,vEe=2,yEe=4,$V="[object Arguments]",wEe="[object Array]",bEe="[object Boolean]",_Ee="[object Date]",CEe="[object Error]",zV="[object Function]",xEe="[object GeneratorFunction]",BEe="[object Map]",EEe="[object Number]",KV="[object Object]",SEe="[object RegExp]",TEe="[object Set]",IEe="[object String]",NEe="[object Symbol]",FEe="[object WeakMap]",kEe="[object ArrayBuffer]",PEe="[object DataView]",DEe="[object Float32Array]",LEe="[object Float64Array]",REe="[object Int8Array]",UEe="[object Int16Array]",OEe="[object Int32Array]",MEe="[object Uint8Array]",QEe="[object Uint8ClampedArray]",jEe="[object Uint16Array]",HEe="[object Uint32Array]",Qn={};Qn[$V]=Qn[wEe]=Qn[kEe]=Qn[PEe]=Qn[bEe]=Qn[_Ee]=Qn[DEe]=Qn[LEe]=Qn[REe]=Qn[UEe]=Qn[OEe]=Qn[BEe]=Qn[EEe]=Qn[KV]=Qn[SEe]=Qn[TEe]=Qn[IEe]=Qn[NEe]=Qn[MEe]=Qn[QEe]=Qn[jEe]=Qn[HEe]=!0;Qn[CEe]=Qn[zV]=Qn[FEe]=!1;function m1(t,e,n,r,i,s){var o,a=e&mEe,l=e&vEe,A=e&yEe;if(n&&(o=i?n(t,r,i,s):n(t)),o!==void 0)return o;if(!dEe(t))return t;var c=cEe(t);if(c){if(o=aEe(t),!a)return tEe(t,o)}else{var u=oEe(t),h=u==zV||u==xEe;if(uEe(t))return eEe(t,a);if(u==KV||u==$V||h&&!i){if(o=l||h?{}:AEe(t),!a)return l?rEe(t,ZBe(o,t)):nEe(t,JBe(o,t))}else{if(!Qn[u])return i?t:{};o=lEe(t,u,a)}}s||(s=new qBe);var d=s.get(t);if(d)return d;s.set(t,o),fEe(t)?t.forEach(function(b){o.add(m1(b,e,n,b,t,s))}):hEe(t)&&t.forEach(function(b,g){o.set(g,m1(b,e,n,g,t,s))});var p=A?l?sEe:iEe:l?gEe:pEe,f=c?void 0:p(t);return YBe(f||t,function(b,g){f&&(g=b,b=t[g]),XBe(o,g,m1(b,e,n,g,t,s))}),o}var VEe=m1;function $Ee(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var zEe=$Ee,KEe=Lb,WEe=Y7;function GEe(t,e){return e.length<2?t:KEe(t,WEe(e,0,-1))}var qEe=GEe,YEe=Db,XEe=zEe,JEe=qEe,ZEe=i0;function e5e(t,e){return e=YEe(e,t),t=JEe(t,e),t==null||delete t[ZEe(XEe(e))]}var t5e=e5e,n5e=gp,r5e=Mb,i5e=ru,s5e="[object Object]",o5e=Function.prototype,a5e=Object.prototype,WV=o5e.toString,l5e=a5e.hasOwnProperty,A5e=WV.call(Object);function c5e(t){if(!i5e(t)||n5e(t)!=s5e)return!1;var e=r5e(t);if(e===null)return!0;var n=l5e.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&WV.call(n)==A5e}var u5e=c5e,h5e=u5e;function d5e(t){return h5e(t)?void 0:t}var f5e=d5e,p5e=kV;function g5e(t){var e=t==null?0:t.length;return e?p5e(t,1):[]}var m5e=g5e,v5e=m5e,y5e=PV,w5e=LV;function b5e(t){return w5e(y5e(t,void 0,v5e),t+"")}var _5e=b5e,C5e=f4,x5e=VEe,B5e=t5e,E5e=Db,S5e=s0,T5e=f5e,I5e=_5e,N5e=HV,F5e=1,k5e=2,P5e=4,D5e=I5e(function(t,e){var n={};if(t==null)return n;var r=!1;e=C5e(e,function(s){return s=E5e(s,t),r||(r=s.length>1),s}),S5e(t,N5e(t),n),r&&(n=x5e(n,F5e|k5e|P5e,T5e));for(var i=e.length;i--;)B5e(n,e[i]);return n}),L5e=D5e;const R5e=ss(L5e);var U5e=MV,O5e=VV,M5e=p4,Q5e=Ub,j5e=Mb,H5e=Xo,V5e=Fb,$5e=jI,z5e=yA,K5e=A4;function W5e(t,e,n){var r=H5e(t),i=r||V5e(t)||K5e(t);if(e=Q5e(e),n==null){var s=t&&t.constructor;i?n=r?new s:[]:z5e(t)?n=$5e(s)?O5e(j5e(t)):{}:n={}}return(i?U5e:M5e)(t,function(o,a,l){return e(n,o,a,l)}),n}var G5e=W5e;const q5e=ss(G5e);var Y5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r,i){r.prototype.isBetween=function(s,o,a,l){var A=i(s),c=i(o),u=(l=l||"()")[0]==="(",h=l[1]===")";return(u?this.isAfter(A,a):!this.isBefore(A,a))&&(h?this.isBefore(c,a):!this.isAfter(c,a))||(u?this.isBefore(A,a):!this.isAfter(A,a))&&(h?this.isAfter(c,a):!this.isBefore(c,a))}}})})(Y5e);var X5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r){r.prototype.isSameOrAfter=function(i,s){return this.isSame(i,s)||this.isAfter(i,s)}}})})(X5e);var J5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r){r.prototype.isSameOrBefore=function(i,s){return this.isSame(i,s)||this.isBefore(i,s)}}})})(J5e);var Z5e={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r,i){var s=r.prototype,o=function(u){return u&&(u.indexOf?u:u.s)},a=function(u,h,d,p,f){var b=u.name?u:u.$locale(),g=o(b[h]),v=o(b[d]),_=g||v.map(function(F){return F.slice(0,p)});if(!f)return _;var x=b.weekStart;return _.map(function(F,O){return _[(O+(x||0))%7]})},l=function(){return i.Ls[i.locale()]},A=function(u,h){return u.formats[h]||function(d){return d.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,f,b){return f||b.slice(1)})}(u.formats[h.toUpperCase()])},c=function(){var u=this;return{months:function(h){return h?h.format("MMMM"):a(u,"months")},monthsShort:function(h){return h?h.format("MMM"):a(u,"monthsShort","months",3)},firstDayOfWeek:function(){return u.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):a(u,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):a(u,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):a(u,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return A(u.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};s.localeData=function(){return c.bind(this)()},i.localeData=function(){var u=l();return{firstDayOfWeek:function(){return u.weekStart||0},weekdays:function(){return i.weekdays()},weekdaysShort:function(){return i.weekdaysShort()},weekdaysMin:function(){return i.weekdaysMin()},months:function(){return i.months()},monthsShort:function(){return i.monthsShort()},longDateFormat:function(h){return A(u,h)},meridiem:u.meridiem,ordinal:u.ordinal}},i.months=function(){return a(l(),"months")},i.monthsShort=function(){return a(l(),"monthsShort","months",3)},i.weekdays=function(u){return a(l(),"weekdays",null,null,u)},i.weekdaysShort=function(u){return a(l(),"weekdaysShort","weekdays",3,u)},i.weekdaysMin=function(u){return a(l(),"weekdaysMin","weekdays",2,u)}}})})(Z5e);var eSe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(r,i,s){var o=i.prototype,a=o.format;s.en.formats=n,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var A=this.$locale().formats,c=function(u,h){return u.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(d,p,f){var b=f&&f.toUpperCase();return p||h[f]||n[f]||h[b].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(g,v,_){return v||_.slice(1)})})}(l,A===void 0?{}:A);return a.call(this,c)}}})})(eSe);var tSe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r,i){var s=function(o,a){if(!a||!a.length||a.length===1&&!a[0]||a.length===1&&Array.isArray(a[0])&&!a[0].length)return null;var l;a.length===1&&a[0].length>0&&(a=a[0]),l=(a=a.filter(function(c){return c}))[0];for(var A=1;A<a.length;A+=1)a[A].isValid()&&!a[A][o](l)||(l=a[A]);return l};i.max=function(){var o=[].slice.call(arguments,0);return s("isAfter",o)},i.min=function(){var o=[].slice.call(arguments,0);return s("isBefore",o)}}})})(tSe);var nSe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){var n="minute",r=/[+-]\d\d(?::?\d\d)?/g,i=/([+-]|\d\d)/g;return function(s,o,a){var l=o.prototype;a.utc=function(f){var b={date:f,utc:!0,args:arguments};return new o(b)},l.utc=function(f){var b=a(this.toDate(),{locale:this.$L,utc:!0});return f?b.add(this.utcOffset(),n):b},l.local=function(){return a(this.toDate(),{locale:this.$L,utc:!1})};var A=l.parse;l.parse=function(f){f.utc&&(this.$u=!0),this.$utils().u(f.$offset)||(this.$offset=f.$offset),A.call(this,f)};var c=l.init;l.init=function(){if(this.$u){var f=this.$d;this.$y=f.getUTCFullYear(),this.$M=f.getUTCMonth(),this.$D=f.getUTCDate(),this.$W=f.getUTCDay(),this.$H=f.getUTCHours(),this.$m=f.getUTCMinutes(),this.$s=f.getUTCSeconds(),this.$ms=f.getUTCMilliseconds()}else c.call(this)};var u=l.utcOffset;l.utcOffset=function(f,b){var g=this.$utils().u;if(g(f))return this.$u?0:g(this.$offset)?u.call(this):this.$offset;if(typeof f=="string"&&(f=function(F){F===void 0&&(F="");var O=F.match(r);if(!O)return null;var I=(""+O[0]).match(i)||["-",0,0],B=I[0],T=60*+I[1]+ +I[2];return T===0?0:B==="+"?T:-T}(f),f===null))return this;var v=Math.abs(f)<=16?60*f:f,_=this;if(b)return _.$offset=v,_.$u=f===0,_;if(f!==0){var x=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(_=this.local().add(v+x,n)).$offset=v,_.$x.$localOffset=x}else _=this.utc();return _};var h=l.format;l.format=function(f){var b=f||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,b)},l.valueOf=function(){var f=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*f},l.isUTC=function(){return!!this.$u},l.toISOString=function(){return this.toDate().toISOString()},l.toString=function(){return this.toDate().toUTCString()};var d=l.toDate;l.toDate=function(f){return f==="s"&&this.$offset?a(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():d.call(this)};var p=l.diff;l.diff=function(f,b,g){if(f&&this.$u===f.$u)return p.call(this,f,b,g);var v=this.local(),_=a(f).local();return p.call(v,_,b,g)}}})})(nSe);var rSe={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(Fr,function(){return function(n,r){r.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(rSe);function Va(t){return t.children}var zs={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},ws={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},_3=Object.keys(ws).map(function(t){return ws[t]});et.oneOfType([et.string,et.func]);et.any;et.func;et.oneOfType([et.arrayOf(et.oneOf(_3)),et.objectOf(function(t,e){var n=_3.indexOf(e)!==-1&&typeof t[e]=="boolean";if(n)return null;for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];return et.elementType.apply(et,[t,e].concat(i))})]);et.oneOfType([et.oneOf(["overlap","no-overlap"]),et.func]);var C3={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function GV(t,e){var n=Li(t,"month");return Li(n,"week",e.startOfWeek())}function qV(t,e){var n=Jw(t,"month");return Jw(n,"week",e.startOfWeek())}function iSe(t,e){for(var n=GV(t,e),r=qV(t,e),i=[];dp(n,r,"day");)i.push(n),n=Ia(n,1,"day");return i}function sSe(t,e){var n=Li(t,e);return hp(n,t)?n:Ia(n,1,e)}function oSe(t,e){for(var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",r=t,i=[];dp(r,e,n);)i.push(r),r=Ia(r,1,n);return i}function aSe(t,e){return e==null&&t==null?null:(e==null&&(e=new Date),t==null&&(t=new Date),t=Li(t,"day"),t=Av(t,Av(e)),t=zf(t,zf(e)),t=lv(t,lv(e)),av(t,av(e)))}function x3(t){return Av(t)===0&&zf(t)===0&&lv(t)===0&&av(t)===0}function lSe(t,e,n,r){return n==="day"&&(n="date"),Math.abs(oL[n](t,void 0,r)-oL[n](e,void 0,r))}function v4(t,e,n){return!n||n==="milliseconds"?Math.abs(+t-+e):Math.round(Math.abs(+Li(t,n)/C3[n]-+Li(e,n)/C3[n]))}var ASe=et.oneOfType([et.string,et.func]);function cSe(t,e,n,r,i){var s=typeof r=="function"?r(n,i,t):e.call(t,n,r,i);return tv(s==null||typeof s=="string","`localizer format(..)` must return a string, null, or undefined"),s}function uSe(t,e,n){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),0,e+n,0,0)}function y4(t,e){return t.getTimezoneOffset()-e.getTimezoneOffset()}function hSe(t,e){return v4(t,e,"minutes")+y4(t,e)}function dSe(t){var e=Li(t,"day");return v4(e,t,"minutes")+y4(e,t)}function fSe(t,e){return QI(t,e,"day")}function pSe(t,e,n){var r=hp(t,e,"minutes");return r?Yv(e,n,"minutes"):xb(e,n,"minutes")}function GE(t,e){return lSe(t,e,"day")}function gSe(t){var e=t.evtA,n=e.start,r=e.end,i=e.allDay,s=t.evtB,o=s.start,a=s.end,l=s.allDay,A=+Li(n,"day")-+Li(o,"day"),c=GE(n,r),u=GE(o,a);return A||u-c||!!l-!!i||+n-+o||+r-+a}function mSe(t){var e=t.event,n=e.start,r=e.end,i=t.range,s=i.start,o=i.end,a=Li(n,"day"),l=dp(a,o,"day"),A=MI(a,r,"minutes"),c=A?xb(r,s,"minutes"):Yv(r,s,"minutes");return l&&c}function vSe(t,e){return hp(t,e,"day")}function ySe(t,e){return x3(t)&&x3(e)}var wSe=oi(function t(e){var n=this;si(this,t),tv(typeof e.format=="function","date localizer `format(..)` must be a function"),tv(typeof e.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=e.propType||ASe,this.formats=e.formats,this.format=function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return cSe.apply(void 0,[n,e.format].concat(i))},this.startOfWeek=e.firstOfWeek,this.merge=e.merge||aSe,this.inRange=e.inRange||z7,this.lt=e.lt||QI,this.lte=e.lte||dp,this.gt=e.gt||xb,this.gte=e.gte||Yv,this.eq=e.eq||hp,this.neq=e.neq||MI,this.startOf=e.startOf||Li,this.endOf=e.endOf||Jw,this.add=e.add||Ia,this.range=e.range||oSe,this.diff=e.diff||v4,this.ceil=e.ceil||sSe,this.min=e.min||V7,this.max=e.max||$7,this.minutes=e.minutes||zf,this.daySpan=e.daySpan||GE,this.firstVisibleDay=e.firstVisibleDay||GV,this.lastVisibleDay=e.lastVisibleDay||qV,this.visibleDays=e.visibleDays||iSe,this.getSlotDate=e.getSlotDate||uSe,this.getTimezoneOffset=e.getTimezoneOffset||function(r){return r.getTimezoneOffset()},this.getDstOffset=e.getDstOffset||y4,this.getTotalMin=e.getTotalMin||hSe,this.getMinutesFromMidnight=e.getMinutesFromMidnight||dSe,this.continuesPrior=e.continuesPrior||fSe,this.continuesAfter=e.continuesAfter||pSe,this.sortEvents=e.sortEvents||gSe,this.inEventRange=e.inEventRange||mSe,this.isSameDate=e.isSameDate||vSe,this.startAndEndAreDateOnly=e.startAndEndAreDateOnly||ySe,this.segmentOffset=e.browserTZOffset?e.browserTZOffset():0});function bSe(t,e,n,r){var i=Ln(Ln({},t.formats),n);return Ln(Ln({},t),{},{messages:r,startOfWeek:function(){return t.startOfWeek(e)},format:function(o,a){return t.format(o,i[a]||a,e)}})}var _Se=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.navigate=function(o){n.props.onNavigate(o)},n.view=function(o){n.props.onView(o)},n}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.localizer.messages,s=r.label;return re.createElement("div",{className:"rbc-toolbar"},re.createElement("span",{className:"rbc-btn-group"},re.createElement("button",{type:"button",onClick:this.navigate.bind(null,zs.TODAY)},i.today),re.createElement("button",{type:"button",onClick:this.navigate.bind(null,zs.PREVIOUS)},i.previous),re.createElement("button",{type:"button",onClick:this.navigate.bind(null,zs.NEXT)},i.next)),re.createElement("span",{className:"rbc-toolbar-label"},s),re.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(i)))}},{key:"viewNamesGroup",value:function(r){var i=this,s=this.props.views,o=this.props.view;if(s.length>1)return s.map(function(a){return re.createElement("button",{type:"button",key:a,className:yr({"rbc-active":o===a}),onClick:i.view.bind(null,a)},r[a])})}}])}(re.Component);function qn(t,e){t&&t.apply(null,[].concat(e))}var CSe={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};function xSe(t){return Ln(Ln({},CSe),t)}function BSe(t){var e=t.ref,n=t.callback;$.useEffect(function(){var r=function(s){e.current&&!e.current.contains(s.target)&&n()};return document.addEventListener("mousedown",r),function(){document.removeEventListener("mousedown",r)}},[e,n])}var ESe=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],YV=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.style,s=r.className,o=r.event,a=r.selected,l=r.isAllDay,A=r.onSelect,c=r.onDoubleClick,u=r.onKeyPress,h=r.localizer,d=r.continuesPrior,p=r.continuesAfter,f=r.accessors,b=r.getters,g=r.children,v=r.components,_=v.event,x=v.eventWrapper,F=r.slotStart,O=r.slotEnd,I=Al(r,ESe);delete I.resizable;var B=f.title(o),T=f.tooltip(o),R=f.end(o),D=f.start(o),E=f.allDay(o),k=l||E||h.diff(D,h.ceil(R,"day"),"day")>1,N=b.eventProp(o,D,R,a),Y=re.createElement("div",{className:"rbc-event-content",title:T||void 0},_?re.createElement(_,{event:o,continuesPrior:d,continuesAfter:p,title:B,isAllDay:E,localizer:h,slotStart:F,slotEnd:O}):B);return re.createElement(x,Object.assign({},this.props,{type:"date"}),re.createElement("div",Object.assign({},I,{style:Ln(Ln({},N.style),i),className:yr("rbc-event",s,N.className,{"rbc-selected":a,"rbc-event-allday":k,"rbc-event-continues-prior":d,"rbc-event-continues-after":p}),onClick:function(ie){return A&&A(o,ie)},onDoubleClick:function(ie){return c&&c(o,ie)},onKeyDown:function(ie){return u&&u(o,ie)}}),typeof g=="function"?g(Y):Y))}}])}(re.Component);function Qb(t,e){return!t||e==null?!1:Hwe(t,e)}function XV(t,e){var n=t.right-t.left,r=n/e;return r}function JV(t,e,n,r){var i=XV(t,r);return n?r-1-Math.floor((e-t.left)/i):Math.floor((e-t.left)/i)}function SSe(t,e){var n=e.x,r=e.y;return r>=t.top&&r<=t.bottom&&n>=t.left&&n<=t.right}function TSe(t,e,n,r,i){var s=-1,o=-1,a=r-1,l=XV(e,r),A=JV(e,n.x,i,r),c=e.top<n.y&&e.bottom>n.y,u=e.top<t.y&&e.bottom>t.y,h=t.y>e.bottom,d=e.top>t.y,p=n.top<e.top&&n.bottom>e.bottom;return p&&(s=0,o=a),c&&(d?(s=0,o=A):h&&(s=A,o=a)),u&&(s=o=i?a-Math.floor((t.x-e.left)/l):Math.floor((t.x-e.left)/l),c?A<s?s=A:o=A:t.y<n.y?o=a:s=0),{startIdx:s,endIdx:o}}function ISe(t){var e=t.target,n=t.offset,r=t.container,i=t.box,s=qu(e),o=s.top,a=s.left,l=s.width,A=s.height,c=qu(r),u=c.top,h=c.left,d=c.width,p=c.height,f=qu(i),b=f.width,g=f.height,v=u+p,_=h+d,x=o+g,F=a+b,O=n.x,I=n.y,B=x>v?o-g-I:o+I+A,T=F>_?a+O-b+l:a+O;return{topOffset:B,leftOffset:T}}function NSe(t){var e=t.containerRef,n=t.accessors,r=t.getters,i=t.selected,s=t.components,o=t.localizer,a=t.position,l=t.show,A=t.events,c=t.slotStart,u=t.slotEnd,h=t.onSelect,d=t.onDoubleClick,p=t.onKeyPress,f=t.handleDragStart,b=t.popperRef,g=t.target,v=t.offset;BSe({ref:b,callback:l}),$.useLayoutEffect(function(){var F=ISe({target:g,offset:v,container:e.current,box:b.current}),O=F.topOffset,I=F.leftOffset;b.current.style.top="".concat(O,"px"),b.current.style.left="".concat(I,"px")},[v.x,v.y,g]);var _=a.width,x={minWidth:_+_/2};return re.createElement("div",{style:x,className:"rbc-overlay",ref:b},re.createElement("div",{className:"rbc-overlay-header"},o.format(c,"dayHeaderFormat")),A.map(function(F,O){return re.createElement(YV,{key:O,type:"popup",localizer:o,event:F,getters:r,onSelect:h,accessors:n,components:s,onDoubleClick:d,onKeyPress:p,continuesPrior:o.lt(n.end(F),c,"day"),continuesAfter:o.gte(n.start(F),u,"day"),slotStart:c,slotEnd:u,selected:Qb(F,i),draggable:!0,onDragStart:function(){return f(F)},onDragEnd:function(){return l()}})}))}var ZV=re.forwardRef(function(t,e){return re.createElement(NSe,Object.assign({},t,{popperRef:e}))});ZV.propTypes={accessors:et.object.isRequired,getters:et.object.isRequired,selected:et.object,components:et.object.isRequired,localizer:et.object.isRequired,position:et.object.isRequired,show:et.func.isRequired,events:et.array.isRequired,slotStart:et.instanceOf(Date).isRequired,slotEnd:et.instanceOf(Date),onSelect:et.func,onDoubleClick:et.func,onKeyPress:et.func,handleDragStart:et.func,style:et.object,offset:et.shape({x:et.number,y:et.number})};function FSe(t){var e=t.containerRef,n=t.popupOffset,r=n===void 0?5:n,i=t.overlay,s=t.accessors,o=t.localizer,a=t.components,l=t.getters,A=t.selected,c=t.handleSelectEvent,u=t.handleDoubleClickEvent,h=t.handleKeyPressEvent,d=t.handleDragStart,p=t.onHide,f=t.overlayDisplay,b=$.useRef(null);if(!i.position)return null;var g=r;isNaN(r)||(g={x:r,y:r});var v=i.position,_=i.events,x=i.date,F=i.end;return re.createElement(pme,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:i.target},function(O){var I=O.props;return re.createElement(ZV,Object.assign({},I,{containerRef:e,ref:b,target:i.target,offset:g,accessors:s,getters:l,selected:A,components:a,localizer:o,position:v,show:f,events:_,slotStart:x,slotEnd:F,onSelect:c,onDoubleClick:u,onKeyPress:h,handleDragStart:d}))})}var w4=re.forwardRef(function(t,e){return re.createElement(FSe,Object.assign({},t,{containerRef:e}))});w4.propTypes={popupOffset:et.oneOfType([et.number,et.shape({x:et.number,y:et.number})]),overlay:et.shape({position:et.object,events:et.array,date:et.instanceOf(Date),end:et.instanceOf(Date)}),accessors:et.object.isRequired,localizer:et.object.isRequired,components:et.object.isRequired,getters:et.object.isRequired,selected:et.object,handleSelectEvent:et.func,handleDoubleClickEvent:et.func,handleKeyPressEvent:et.func,handleDragStart:et.func,onHide:et.func,overlayDisplay:et.func};function Vi(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return Bg(n,t,e,{passive:!1})}function kSe(t,e,n){return!t||cv(t,document.elementFromPoint(e,n))}function PSe(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return BV(i,".rbc-event",t)}function DSe(t,e){var n=e.clientX,r=e.clientY,i=document.elementFromPoint(n,r);return BV(i,".rbc-show-more",t)}function s2(t,e){return!!PSe(t,e)}function LSe(t,e){return!!DSe(t,e)}function og(t){var e=t;return t.touches&&t.touches.length&&(e=t.touches[0]),{clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY}}var B3=5,RSe=250,e9=function(){function t(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=n.global,i=r===void 0?!1:r,s=n.longPressThreshold,o=s===void 0?250:s,a=n.validContainers,l=a===void 0?[]:a;si(this,t),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=e,this.globalMouse=!e||i,this.longPressThreshold=o,this.validContainers=l,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Vi("touchmove",function(){},window),this._removeKeyDownListener=Vi("keydown",this._keyListener),this._removeKeyUpListener=Vi("keyup",this._keyListener),this._removeDropFromOutsideListener=Vi("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Vi("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return oi(t,[{key:"on",value:function(n,r){var i=this._listeners[n]||(this._listeners[n]=[]);return i.push(r),{remove:function(){var o=i.indexOf(r);o!==-1&&i.splice(o,1)}}}},{key:"emit",value:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o,a=this._listeners[n]||[];return a.forEach(function(l){o===void 0&&(o=l.apply(void 0,i))}),o}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(n){var r=this._selectRect;return!r||!this.selecting?!1:E3(r,Bh(n))}},{key:"filter",value:function(n){var r=this._selectRect;return!r||!this.selecting?[]:n.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(n,r){var i=this,s=null,o=null,a=null,l=function(h){s=setTimeout(function(){c(),n(h)},i.longPressThreshold),o=Vi("touchmove",function(){return c()}),a=Vi("touchend",function(){return c()})},A=Vi("touchstart",l),c=function(){s&&clearTimeout(s),o&&o(),a&&a(),s=null,o=null,a=null};return r&&l(r),function(){c(),A()}}},{key:"_addInitialEventListener",value:function(){var n=this,r=Vi("mousedown",function(s){n._removeInitialEventListener(),n._handleInitialEvent(s),n._removeInitialEventListener=Vi("mousedown",n._handleInitialEvent)}),i=Vi("touchstart",function(s){n._removeInitialEventListener(),n._removeInitialEventListener=n._addLongPressListener(n._handleInitialEvent,s)});this._removeInitialEventListener=function(){r(),i()}}},{key:"_dropFromOutsideListener",value:function(n){var r=og(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dropFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(n){var r=og(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY;this.emit("dragOverFromOutside",{x:i,y:s,clientX:o,clientY:a}),n.preventDefault()}},{key:"_handleInitialEvent",value:function(n){if(this._initialEvent=n,!this.isDetached){var r=og(n),i=r.clientX,s=r.clientY,o=r.pageX,a=r.pageY,l=this.container(),A,c;if(!(n.which===3||n.button===2||!kSe(l,i,s))){if(!this.globalMouse&&l&&!cv(l,n.target)){var u=USe(0),h=u.top,d=u.left,p=u.bottom,f=u.right;if(c=Bh(l),A=E3({top:c.top-h,left:c.left-d,bottom:c.bottom+p,right:c.right+f},{top:a,left:o}),!A)return}var b=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(n.type),x:o,y:a,clientX:i,clientY:s});if(b!==!1)switch(n.type){case"mousedown":this._removeEndListener=Vi("mouseup",this._handleTerminatingEvent),this._onEscListener=Vi("keydown",this._handleTerminatingEvent),this._removeMoveListener=Vi("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(n),this._removeEndListener=Vi("touchend",this._handleTerminatingEvent),this._removeMoveListener=Vi("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(n){var r=n.target,i=this.validContainers;return!i||!i.length||!r?!0:i.some(function(s){return!!r.closest(s)})}},{key:"_handleTerminatingEvent",value:function(n){var r=this.selecting,i=this._selectRect;if(!r&&n.type.includes("key")&&(n=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!n){var s=!this.container||cv(this.container(),n.target),o=this._isWithinValidContainer(n);return n.key==="Escape"||!o?this.emit("reset"):!r&&s?this._handleClickEvent(n):r?this.emit("select",i):this.emit("reset")}}},{key:"_handleClickEvent",value:function(n){var r=og(n),i=r.pageX,s=r.pageY,o=r.clientX,a=r.clientY,l=new Date().getTime();return this._lastClickData&&l-this._lastClickData.timestamp<RSe?(this._lastClickData=null,this.emit("doubleClick",{x:i,y:s,clientX:o,clientY:a})):(this._lastClickData={timestamp:l},this.emit("click",{x:i,y:s,clientX:o,clientY:a}))}},{key:"_handleMoveEvent",value:function(n){if(!(this._initialEventData===null||this.isDetached)){var r=this._initialEventData,i=r.x,s=r.y,o=og(n),a=o.pageX,l=o.pageY,A=Math.abs(i-a),c=Math.abs(s-l),u=Math.min(a,i),h=Math.min(l,s),d=this.selecting,p=this.isClick(a,l);p&&!d&&!(A||c)||(!d&&!p&&this.emit("selectStart",this._initialEventData),p||(this.selecting=!0,this._selectRect={top:h,left:u,x:a,y:l,right:u+A,bottom:h+c},this.emit("selecting",this._selectRect)),n.preventDefault())}}},{key:"_keyListener",value:function(n){this.ctrl=n.metaKey||n.ctrlKey}},{key:"isClick",value:function(n,r){var i=this._initialEventData,s=i.x,o=i.y,a=i.isTouch;return!a&&Math.abs(n-s)<=B3&&Math.abs(r-o)<=B3}}])}();function USe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return sn(t)!=="object"&&(t={top:t,left:t,right:t,bottom:t}),t}function E3(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,r=Bh(t),i=r.top,s=r.left,o=r.right,a=o===void 0?s:o,l=r.bottom,A=l===void 0?i:l,c=Bh(e),u=c.top,h=c.left,d=c.right,p=d===void 0?h:d,f=c.bottom,b=f===void 0?u:f;return!(A-n<u||i+n>b||a-n<h||s+n>p)}function Bh(t){if(!t.getBoundingClientRect)return t;var e=t.getBoundingClientRect(),n=e.left+S3("left"),r=e.top+S3("top");return{top:r,left:n,right:(t.offsetWidth||0)+n,bottom:(t.offsetHeight||0)+r}}function S3(t){if(t==="left")return window.pageXOffset||document.body.scrollLeft||0;if(t==="top")return window.pageYOffset||document.body.scrollTop||0}var OSe=function(t){function e(n,r){var i;return si(this,e),i=os(this,e,[n,r]),i.state={selecting:!1},i.containerRef=$.createRef(),i}return as(e,t),oi(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(r){!r.selectable&&this.props.selectable&&this._selectable(),r.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var r=this.props,i=r.range,s=r.getNow,o=r.getters,a=r.date,l=r.components.dateCellWrapper,A=r.localizer,c=this.state,u=c.selecting,h=c.startIdx,d=c.endIdx,p=s();return re.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},i.map(function(f,b){var g=u&&b>=h&&b<=d,v=o.dayProp(f),_=v.className,x=v.style;return re.createElement(l,{key:b,value:f,range:i},re.createElement("div",{style:x,className:yr("rbc-day-bg",_,g&&"rbc-selected-cell",A.isSameDate(f,p)&&"rbc-today",a&&A.neq(a,f,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var r=this,i=this.containerRef.current,s=this._selector=new e9(this.props.container,{longPressThreshold:this.props.longPressThreshold}),o=function(l,A){if(!s2(i,l)&&!LSe(i,l)){var c=Bh(i),u=r.props,h=u.range,d=u.rtl;if(SSe(c,l)){var p=JV(c,l.x,d,h.length);r._selectSlot({startIdx:p,endIdx:p,action:A,box:l})}}r._initial={},r.setState({selecting:!1})};s.on("selecting",function(a){var l=r.props,A=l.range,c=l.rtl,u=-1,h=-1;if(r.state.selecting||(qn(r.props.onSelectStart,[a]),r._initial={x:a.x,y:a.y}),s.isSelected(i)){var d=Bh(i),p=TSe(r._initial,d,a,A.length,c);u=p.startIdx,h=p.endIdx}r.setState({selecting:!0,startIdx:u,endIdx:h})}),s.on("beforeSelect",function(a){if(r.props.selectable==="ignoreEvents")return!s2(r.containerRef.current,a)}),s.on("click",function(a){return o(a,"click")}),s.on("doubleClick",function(a){return o(a,"doubleClick")}),s.on("select",function(a){r._selectSlot(Ln(Ln({},r.state),{},{action:"select",bounds:a})),r._initial={},r.setState({selecting:!1}),qn(r.props.onSelectEnd,[r.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(r){var i=r.endIdx,s=r.startIdx,o=r.action,a=r.bounds,l=r.box;i!==-1&&s!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:s,end:i,action:o,bounds:a,box:l,resourceId:this.props.resourceId})}}])}(re.Component),Lo={propTypes:{slotMetrics:et.object.isRequired,selected:et.object,isAllDay:et.bool,accessors:et.object.isRequired,localizer:et.object.isRequired,components:et.object.isRequired,getters:et.object.isRequired,onSelect:et.func,onDoubleClick:et.func,onKeyPress:et.func},defaultProps:{segments:[],selected:{}},renderEvent:function(e,n){var r=e.selected;e.isAllDay;var i=e.accessors,s=e.getters,o=e.onSelect,a=e.onDoubleClick,l=e.onKeyPress,A=e.localizer,c=e.slotMetrics,u=e.components,h=e.resizable,d=c.continuesPrior(n),p=c.continuesAfter(n);return re.createElement(YV,{event:n,getters:s,localizer:A,accessors:i,components:u,onSelect:o,onDoubleClick:a,onKeyPress:l,continuesPrior:d,continuesAfter:p,slotStart:c.first,slotEnd:c.last,selected:Qb(n,r),resizable:h})},renderSpan:function(e,n,r){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",s=Math.abs(n)/e*100+"%";return re.createElement("div",{key:r,className:"rbc-row-segment",style:{WebkitFlexBasis:s,flexBasis:s,maxWidth:s}},i)}},t9=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.segments,o=i.slotMetrics.slots,a=i.className,l=1;return re.createElement("div",{className:yr(a,"rbc-row")},s.reduce(function(A,c,u){var h=c.event,d=c.left,p=c.right,f=c.span,b="_lvl_"+u,g=d-l,v=Lo.renderEvent(r.props,h);return g&&A.push(Lo.renderSpan(o,g,"".concat(b,"_gap"))),A.push(Lo.renderSpan(o,f,b,v)),l=p+1,A},[]))}}])}(re.Component);t9.defaultProps=Ln({},Lo.defaultProps);function n9(t){var e=t.dateRange,n=t.unit,r=n===void 0?"day":n,i=t.localizer;return{first:e[0],last:i.add(e[e.length-1],1,r)}}function MSe(t,e,n,r){var i=n9({dateRange:e,localizer:r}),s=i.first,o=i.last,a=r.diff(s,o,"day"),l=r.max(r.startOf(n.start(t),"day"),s),A=r.min(r.ceil(n.end(t),"day"),o),c=Vbe(e,function(h){return r.isSameDate(h,l)}),u=r.diff(l,A,"day");return u=Math.min(u,a),u=Math.max(u-r.segmentOffset,1),{event:t,span:u,left:c+1,right:Math.max(c+u,1)}}function qE(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,n,r,i,s=[],o=[];for(n=0;n<t.length;n++){for(i=t[n],r=0;r<s.length&&QSe(i,s[r]);r++);r>=e?o.push(i):(s[r]||(s[r]=[])).push(i)}for(n=0;n<s.length;n++)s[n].sort(function(a,l){return a.left-l.left});return{levels:s,extra:o}}function dv(t,e,n,r,i){var s={start:r.start(t),end:r.end(t)},o={start:e,end:n};return i.inEventRange({event:s,range:o})}function QSe(t,e){return e.some(function(n){return n.left<=t.right&&n.right>=t.left})}function jSe(t,e,n){var r=p1(t),i=[],s=[];r.forEach(function(l){var A=e.start(l),c=e.end(l);n.daySpan(A,c)>1?i.push(l):s.push(l)});var o=i.sort(function(l,A){return YE(l,A,e,n)}),a=s.sort(function(l,A){return YE(l,A,e,n)});return[].concat(p1(o),p1(a))}function YE(t,e,n,r){var i={start:n.start(t),end:n.end(t),allDay:n.allDay(t)},s={start:n.start(e),end:n.end(e),allDay:n.allDay(e)};return r.sortEvents({evtA:i,evtB:s})}var XE=function(e,n){return e.left<=n&&e.right>=n},zC=function(e,n){return e.filter(function(r){return XE(r,n)}).map(function(r){return r.event})},r9=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){for(var r=this.props,i=r.segments,s=r.slotMetrics.slots,o=qE(i).levels[0],a=1,l=1,A=[];a<=s;){var c="_lvl_"+a,u=o.filter(function(x){return XE(x,a)})[0]||{},h=u.event,d=u.left,p=u.right,f=u.span;if(!h){var b=this.getHiddenEventsForSlot(i,a);if(b.length>0){var g=a-l;g&&A.push(Lo.renderSpan(s,g,c+"_gap")),A.push(Lo.renderSpan(s,1,c,this.renderShowMore(i,a))),l=a=a+1;continue}a++;continue}var v=Math.max(0,d-l);if(this.canRenderSlotEvent(d,f)){var _=Lo.renderEvent(this.props,h);v&&A.push(Lo.renderSpan(s,v,c+"_gap")),A.push(Lo.renderSpan(s,f,c,_)),l=a=p+1}else v&&A.push(Lo.renderSpan(s,v,c+"_gap")),A.push(Lo.renderSpan(s,1,c,this.renderShowMore(i,a))),l=a=a+1}return re.createElement("div",{className:"rbc-row"},A)}},{key:"getHiddenEventsForSlot",value:function(r,i){var s=zC(r,i),o=qE(r).levels[0],a=o.filter(function(l){return XE(l,i)}).map(function(l){return l.event});return s.filter(function(l){return!a.some(function(A){return A===l})})}},{key:"canRenderSlotEvent",value:function(r,i){var s=this.props.segments;return t_e(r,r+i).every(function(o){var a=zC(s,o).length;return a===1})}},{key:"renderShowMore",value:function(r,i){var s=this,o=this.props,a=o.localizer,l=o.slotMetrics,A=o.components,c=l.getEventsForSlot(i),u=zC(r,i),h=u.length;if(A!=null&&A.showMore){var d=A.showMore,p=l.getDateForSlot(i-1);return h?re.createElement(d,{localizer:a,slotDate:p,slot:i,count:h,events:c,remainingEvents:u}):!1}return h?re.createElement("button",{type:"button",key:"sm_"+i,className:yr("rbc-button-link","rbc-show-more"),onClick:function(b){return s.showMore(i,b)}},a.messages.showMore(h,u,c)):!1}},{key:"showMore",value:function(r,i){i.preventDefault(),i.stopPropagation(),this.props.onShowMore(r,i.target)}}])}(re.Component);r9.defaultProps=Ln({},Lo.defaultProps);var HSe=function(e){var n=e.children;return re.createElement("div",{className:"rbc-row-content-scroll-container"},n)},VSe=function(e,n){return e.left<=n&&e.right>=n},$Se=function(e,n){return e[0].range===n[0].range&&e[0].events===n[0].events};function i9(){return NV(function(t){for(var e=t.range,n=t.events,r=t.maxRows,i=t.minRows,s=t.accessors,o=t.localizer,a=n9({dateRange:e,localizer:o}),l=a.first,A=a.last,c=n.map(function(f){return MSe(f,e,s,o)}),u=qE(c,Math.max(r-1,1)),h=u.levels,d=u.extra,p=d.length>0?i-1:i;h.length<p;)h.push([]);return{first:l,last:A,levels:h,extra:d,range:e,slots:e.length,clone:function(b){var g=i9();return g(Ln(Ln({},t),b))},getDateForSlot:function(b){return e[b]},getSlotForDate:function(b){return e.find(function(g){return o.isSameDate(g,b)})},getEventsForSlot:function(b){return c.filter(function(g){return VSe(g,b)}).map(function(g){return g.event})},continuesPrior:function(b){return o.continuesPrior(s.start(b),l)},continuesAfter:function(b){var g=s.start(b),v=s.end(b);return o.continuesAfter(g,v,A)}}},$Se)}var fv=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.handleSelectSlot=function(o){var a=n.props,l=a.range,A=a.onSelectSlot;A(l.slice(o.start,o.end+1),o)},n.handleShowMore=function(o,a){var l=n.props,A=l.range,c=l.onShowMore,u=n.slotMetrics(n.props),h=Qpe(n.containerRef.current,".rbc-row-bg")[0],d;h&&(d=h.children[o-1]);var p=u.getEventsForSlot(o);c(p,A[o-1],d,o,a)},n.getContainer=function(){var o=n.props.container;return o?o():n.containerRef.current},n.renderHeadingCell=function(o,a){var l=n.props,A=l.renderHeader,c=l.getNow,u=l.localizer;return A({date:o,key:"header_".concat(a),className:yr("rbc-date-cell",u.isSameDate(o,c())&&"rbc-now")})},n.renderDummy=function(){var o=n.props,a=o.className,l=o.range,A=o.renderHeader,c=o.showAllEvents;return re.createElement("div",{className:a,ref:n.containerRef},re.createElement("div",{className:yr("rbc-row-content",c&&"rbc-row-content-scrollable")},A&&re.createElement("div",{className:"rbc-row",ref:n.headingRowRef},l.map(n.renderHeadingCell)),re.createElement("div",{className:"rbc-row",ref:n.eventRowRef},re.createElement("div",{className:"rbc-row-segment"},re.createElement("div",{className:"rbc-event"},re.createElement("div",{className:"rbc-event-content"}," "))))))},n.containerRef=$.createRef(),n.headingRowRef=$.createRef(),n.eventRowRef=$.createRef(),n.slotMetrics=i9(),n}return as(e,t),oi(e,[{key:"getRowLimit",value:function(){var r,i=HC(this.eventRowRef.current),s=(r=this.headingRowRef)!==null&&r!==void 0&&r.current?HC(this.headingRowRef.current):0,o=HC(this.containerRef.current)-s;return Math.max(Math.floor(o/i),1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.rtl,o=r.range,a=r.className,l=r.selected,A=r.selectable,c=r.renderForMeasure,u=r.accessors,h=r.getters,d=r.components,p=r.getNow,f=r.renderHeader,b=r.onSelect,g=r.localizer,v=r.onSelectStart,_=r.onSelectEnd,x=r.onDoubleClick,F=r.onKeyPress,O=r.resourceId,I=r.longPressThreshold,B=r.isAllDay,T=r.resizable,R=r.showAllEvents;if(c)return this.renderDummy();var D=this.slotMetrics(this.props),E=D.levels,k=D.extra,N=R?HSe:Va,Y=d.weekWrapper,oe={selected:l,accessors:u,getters:h,localizer:g,components:d,onSelect:b,onDoubleClick:x,onKeyPress:F,resourceId:O,slotMetrics:D,resizable:T};return re.createElement("div",{className:a,role:"rowgroup",ref:this.containerRef},re.createElement(OSe,{localizer:g,date:i,getNow:p,rtl:s,range:o,selectable:A,container:this.getContainer,getters:h,onSelectStart:v,onSelectEnd:_,onSelectSlot:this.handleSelectSlot,components:d,longPressThreshold:I,resourceId:O}),re.createElement("div",{className:yr("rbc-row-content",R&&"rbc-row-content-scrollable"),role:"row"},f&&re.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},o.map(this.renderHeadingCell)),re.createElement(N,null,re.createElement(Y,Object.assign({isAllDay:B},oe,{rtl:this.props.rtl}),E.map(function(ie,ne){return re.createElement(t9,Object.assign({key:ne,segments:ie},oe))}),!!k.length&&re.createElement(r9,Object.assign({segments:k,onShowMore:this.handleShowMore},oe))))))}}])}(re.Component);fv.defaultProps={minRows:0,maxRows:1/0};var b4=function(e){var n=e.label;return re.createElement("span",{role:"columnheader","aria-sort":"none"},n)},zSe=function(e){var n=e.label,r=e.drilldownView,i=e.onDrillDown;return r?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:i},n):re.createElement("span",null,n)},KSe=["date","className"],WSe=function(e,n,r,i,s){return e.filter(function(o){return dv(o,n,r,i,s)})},jb=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.getContainer=function(){return n.containerRef.current},n.renderWeek=function(o,a){var l=n.props,A=l.events,c=l.components,u=l.selectable,h=l.getNow,d=l.selected,p=l.date,f=l.localizer,b=l.longPressThreshold,g=l.accessors,v=l.getters,_=l.showAllEvents,x=n.state,F=x.needLimitMeasure,O=x.rowLimit,I=WSe(p1(A),o[0],o[o.length-1],g,f),B=jSe(I,g,f);return re.createElement(fv,{key:a,ref:a===0?n.slotRowRef:void 0,container:n.getContainer,className:"rbc-month-row",getNow:h,date:p,range:o,events:B,maxRows:_?1/0:O,selected:d,selectable:u,components:c,accessors:g,getters:v,localizer:f,renderHeader:n.readerDateHeading,renderForMeasure:F,onShowMore:n.handleShowMore,onSelect:n.handleSelectEvent,onDoubleClick:n.handleDoubleClickEvent,onKeyPress:n.handleKeyPressEvent,onSelectSlot:n.handleSelectSlot,longPressThreshold:b,rtl:n.props.rtl,resizable:n.props.resizable,showAllEvents:_})},n.readerDateHeading=function(o){var a=o.date,l=o.className,A=Al(o,KSe),c=n.props,u=c.date,h=c.getDrilldownView,d=c.localizer,p=d.neq(u,a,"month"),f=d.isSameDate(a,u),b=h(a),g=d.format(a,"dateFormat"),v=n.props.components.dateHeader||zSe;return re.createElement("div",Object.assign({},A,{className:yr(l,p&&"rbc-off-range",f&&"rbc-current"),role:"cell"}),re.createElement(v,{label:g,date:a,drilldownView:b,isOffRange:p,onDrillDown:function(x){return n.handleHeadingClick(a,b,x)}}))},n.handleSelectSlot=function(o,a){n._pendingSelection=n._pendingSelection.concat(o),clearTimeout(n._selectTimer),n._selectTimer=setTimeout(function(){return n.selectDates(a)})},n.handleHeadingClick=function(o,a,l){l.preventDefault(),n.clearSelection(),qn(n.props.onDrillDown,[o,a])},n.handleSelectEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){n.clearSelection();for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onKeyPressEvent,a)},n.handleShowMore=function(o,a,l,A,c){var u=n.props,h=u.popup,d=u.onDrillDown,p=u.onShowMore,f=u.getDrilldownView,b=u.doShowMoreDrillDown;if(n.clearSelection(),h){var g=iV(l,n.containerRef.current);n.setState({overlay:{date:a,events:o,position:g,target:c}})}else b&&qn(d,[a,f(a)||ws.DAY]);qn(p,[o,a,A])},n.overlayDisplay=function(){n.setState({overlay:null})},n.state={rowLimit:5,needLimitMeasure:!0,date:null},n.containerRef=$.createRef(),n.slotRowRef=$.createRef(),n._bgRows=[],n._pendingSelection=[],n}return as(e,t),oi(e,[{key:"componentDidMount",value:function(){var r=this,i;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){i||sV(function(){i=!1,r.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.className,a=s.visibleDays(i,s),l=xpe(a,7);return this._weekCount=l.length,re.createElement("div",{className:yr("rbc-month-view",o),role:"table","aria-label":"Month View",ref:this.containerRef},re.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(l[0])),l.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(r){var i=this.props,s=i.localizer,o=i.components,a=r[0],l=r[r.length-1],A=o.header||b4;return s.range(a,l,"day").map(function(c,u){return re.createElement("div",{key:"header_"+u,className:"rbc-header"},re.createElement(A,{date:c,localizer:s,label:s.format(c,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,A=a.localizer,c=a.components,u=a.getters,h=a.selected,d=a.popupOffset,p=a.handleDragStart,f=function(){return s.setState({overlay:null})};return re.createElement(w4,{overlay:o,accessors:l,localizer:A,components:c,getters:u,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:f})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(r){var i=this._pendingSelection.slice();this._pendingSelection=[],i.sort(function(a,l){return+a-+l});var s=new Date(i[0]),o=new Date(i[i.length-1]);o.setDate(i[i.length-1].getDate()+1),qn(this.props.onSelectSlot,{slots:i,start:s,end:o,action:r.action,bounds:r.bounds,box:r.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(r,i){var s=r.date,o=r.localizer;return{date:s,needLimitMeasure:o.neq(s,i.date,"month")}}}])}(re.Component);jb.range=function(t,e){var n=e.localizer,r=n.firstVisibleDay(t,n),i=n.lastVisibleDay(t,n);return{start:r,end:i}};jb.navigate=function(t,e,n){var r=n.localizer;switch(e){case zs.PREVIOUS:return r.add(t,-1,"month");case zs.NEXT:return r.add(t,1,"month");default:return t}};jb.title=function(t,e){var n=e.localizer;return n.format(t,"monthHeaderFormat")};var T3=function(e){var n=e.min,r=e.max,i=e.step,s=e.slots,o=e.localizer;return"".concat(+o.startOf(n,"minutes"))+"".concat(+o.startOf(r,"minutes"))+"".concat(i,"-").concat(s)};function _4(t){for(var e=t.min,n=t.max,r=t.step,i=t.timeslots,s=t.localizer,o=T3({start:e,end:n,step:r,timeslots:i,localizer:s}),a=1+s.getTotalMin(e,n),l=s.getMinutesFromMidnight(e),A=Math.ceil((a-1)/(r*i)),c=A*i,u=new Array(A),h=new Array(c),d=0;d<A;d++){u[d]=new Array(i);for(var p=0;p<i;p++){var f=d*i+p,b=f*r;h[f]=u[d][p]=s.getSlotDate(e,l,b)}}var g=h.length*r;h.push(s.getSlotDate(e,l,g));function v(_){var x=s.diff(e,_,"minutes")+s.getDstOffset(e,_);return Math.min(x,a)}return{groups:u,update:function(x){return T3(x)!==o?_4(x):this},dateIsInGroup:function(x,F){var O=u[F+1];return s.inRange(x,u[F][0],O?O[0]:n,"minutes")},nextSlot:function(x){var F=h[Math.min(h.findIndex(function(O){return O===x||s.eq(O,x)})+1,h.length-1)];return s.eq(F,x)&&(F=s.add(x,r,"minutes")),F},closestSlotToPosition:function(x){var F=Math.min(h.length-1,Math.max(0,Math.floor(x*c)));return h[F]},closestSlotFromPoint:function(x,F){var O=Math.abs(F.top-F.bottom);return this.closestSlotToPosition((x.y-F.top)/O)},closestSlotFromDate:function(x){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(s.lt(x,e,"minutes"))return h[0];if(s.gt(x,n,"minutes"))return h[h.length-1];var O=s.diff(e,x,"minutes");return h[(O-O%r)/r+F]},startsBeforeDay:function(x){return s.lt(x,e,"day")},startsAfterDay:function(x){return s.gt(x,n,"day")},startsBefore:function(x){return s.lt(s.merge(e,x),e,"minutes")},startsAfter:function(x){return s.gt(s.merge(n,x),n,"minutes")},getRange:function(x,F,O,I){O||(x=s.min(n,s.max(e,x))),I||(F=s.min(n,s.max(e,F)));var B=v(x),T=v(F),R=T>r*c&&!s.eq(n,F)?(B-r)/(r*c)*100:B/(r*c)*100;return{top:R,height:T/(r*c)*100-R,start:v(x),startDate:x,end:v(F),endDate:F}},getCurrentTimePosition:function(x){var F=v(x),O=F/(r*c)*100;return O}}}var GSe=function(){function t(e,n){var r=n.accessors,i=n.slotMetrics;si(this,t);var s=i.getRange(r.start(e),r.end(e)),o=s.start,a=s.startDate,l=s.end,A=s.endDate,c=s.top,u=s.height;this.start=o,this.end=l,this.startMs=+a,this.endMs=+A,this.top=c,this.height=u,this.data=e}return oi(t,[{key:"_width",get:function(){if(this.rows){var n=this.rows.reduce(function(i,s){return Math.max(i,s.leaves.length+1)},0)+1;return 100/n}if(this.leaves){var r=100-this.container._width;return r/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var n=this._width,r=Math.min(100,this._width*1.7);if(this.rows)return r;if(this.leaves)return this.leaves.length>0?r:n;var i=this.row.leaves,s=i.indexOf(this);return s===i.length-1?n:r}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var n=this.row,r=n.leaves,i=n.xOffset,s=n._width,o=r.indexOf(this)+1;return i+o*s}}])}();function qSe(t,e,n){return Math.abs(e.start-t.start)<n||e.start>t.start&&e.start<t.end}function YSe(t){for(var e=bCe(t,["startMs",function(a){return-a.endMs}]),n=[];e.length>0;){var r=e.shift();n.push(r);for(var i=0;i<e.length;i++){var s=e[i];if(!(r.endMs>s.startMs)){if(i>0){var o=e.splice(i,1)[0];n.push(o)}break}}}return n}function s9(t){for(var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=e.map(function(c){return new GSe(c,{slotMetrics:r,accessors:i})}),o=YSe(s),a=[],l=function(){var u=o[A],h=a.find(function(f){return f.end>u.start||Math.abs(u.start-f.start)<n});if(!h)return u.rows=[],a.push(u),1;u.container=h;for(var d=null,p=h.rows.length-1;!d&&p>=0;p--)qSe(h.rows[p],u,n)&&(d=h.rows[p]);d?(d.leaves.push(u),u.row=d):(u.leaves=[],h.rows.push(u))},A=0;A<o.length;A++)l();return o.map(function(c){return{event:c.data,style:{top:c.top,height:c.height,width:c.width,xOffset:Math.max(0,c.xOffset)}}})}function o9(t,e,n){for(var r=0;r<t.friends.length;++r)if(!(n.indexOf(t.friends[r])>-1)){e=e>t.friends[r].idx?e:t.friends[r].idx,n.push(t.friends[r]);var i=o9(t.friends[r],e,n);e=e>i?e:i}return e}function XSe(t){var e=t.events,n=t.minimumStartDifference,r=t.slotMetrics,i=t.accessors,s=s9({events:e,minimumStartDifference:n,slotMetrics:r,accessors:i});s.sort(function(Y,oe){return Y=Y.style,oe=oe.style,Y.top!==oe.top?Y.top>oe.top?1:-1:Y.height!==oe.height?Y.top+Y.height<oe.top+oe.height?1:-1:0});for(var o=0;o<s.length;++o)s[o].friends=[],delete s[o].style.left,delete s[o].style.left,delete s[o].idx,delete s[o].size;for(var a=0;a<s.length-1;++a)for(var l=s[a],A=l.style.top,c=l.style.top+l.style.height,u=a+1;u<s.length;++u){var h=s[u],d=h.style.top,p=h.style.top+h.style.height;(d>=A&&p<=c||p>A&&p<=c||d>=A&&d<c)&&(l.friends.push(h),h.friends.push(l))}for(var f=0;f<s.length;++f){for(var b=s[f],g=[],v=0;v<100;++v)g.push(1);for(var _=0;_<b.friends.length;++_)b.friends[_].idx!==void 0&&(g[b.friends[_].idx]=0);b.idx=g.indexOf(1)}for(var x=0;x<s.length;++x){var F=0;if(!s[x].size){var O=[],I=o9(s[x],0,O);F=100/(I+1),s[x].size=F;for(var B=0;B<O.length;++B)O[B].size=F}}for(var T=0;T<s.length;++T){var R=s[T];R.style.left=R.idx*R.size;for(var D=0,E=0;E<R.friends.length;++E){var k=R.friends[E].idx;D=D>k?D:k}D<=R.idx&&(R.size=100-R.idx*R.size);var N=R.idx===0?0:3;R.style.width="calc(".concat(R.size,"% - ").concat(N,"px)"),R.style.height="calc(".concat(R.style.height,"% - 2px)"),R.style.xOffset="calc(".concat(R.style.left,"% + ").concat(N,"px)")}return s}var I3={overlap:s9,"no-overlap":XSe};function JSe(t){return!!(t&&t.constructor&&t.call&&t.apply)}function ZSe(t){t.events,t.minimumStartDifference,t.slotMetrics,t.accessors;var e=t.dayLayoutAlgorithm,n=e;return e in I3&&(n=I3[e]),JSe(n)?n.apply(this,arguments):[]}var a9=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.renderSlot,s=r.resource,o=r.group,a=r.getters,l=r.components,A=l===void 0?{}:l,c=A.timeSlotWrapper,u=c===void 0?Va:c,h=a?a.slotGroupProp(o):{};return re.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),o.map(function(d,p){var f=a?a.slotProp(d,s):{};return re.createElement(u,{key:p,value:d,resource:s},re.createElement("div",Object.assign({},f,{className:yr("rbc-time-slot",f.className)}),i&&i(d,p)))}))}}])}($.Component);function fy(t){return typeof t=="string"?t:t+"%"}function eTe(t){var e=t.style,n=t.className,r=t.event,i=t.accessors,s=t.rtl,o=t.selected,a=t.label,l=t.continuesPrior,A=t.continuesAfter,c=t.getters,u=t.onClick,h=t.onDoubleClick,d=t.isBackgroundEvent,p=t.onKeyPress,f=t.components,b=f.event,g=f.eventWrapper,v=i.title(r),_=i.tooltip(r),x=i.end(r),F=i.start(r),O=c.eventProp(r,F,x,o),I=[re.createElement("div",{key:"1",className:"rbc-event-label"},a),re.createElement("div",{key:"2",className:"rbc-event-content"},b?re.createElement(b,{event:r,title:v}):v)],B=e.height,T=e.top,R=e.width,D=e.xOffset,E=Ln(Ln({},O.style),{},Pu({top:fy(T),height:fy(B),width:fy(R)},s?"right":"left",fy(D)));return re.createElement(g,Object.assign({type:"time"},t),re.createElement("div",{role:"button",tabIndex:0,onClick:u,onDoubleClick:h,style:E,onKeyDown:p,title:_?(typeof a=="string"?a+": ":"")+_:void 0,className:yr(d?"rbc-background-event":"rbc-event",n,O.className,{"rbc-selected":o,"rbc-event-continues-earlier":l,"rbc-event-continues-later":A})},I))}var tTe=function(e){var n=e.children,r=e.className,i=e.style,s=e.innerRef;return re.createElement("div",{className:r,style:i,ref:s},n)},nTe=re.forwardRef(function(t,e){return re.createElement(tTe,Object.assign({},t,{innerRef:e}))}),rTe=["dayProp"],iTe=["eventContainerWrapper","timeIndicatorWrapper"],l9=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.state={selecting:!1,timeIndicatorPosition:null},n.intervalTriggered=!1,n.renderEvents=function(o){var a=o.events,l=o.isBackgroundEvent,A=n.props,c=A.rtl,u=A.selected,h=A.accessors,d=A.localizer,p=A.getters,f=A.components,b=A.step,g=A.timeslots,v=A.dayLayoutAlgorithm,_=A.resizable,x=n,F=x.slotMetrics,O=d.messages,I=ZSe({events:a,accessors:h,slotMetrics:F,minimumStartDifference:Math.ceil(b*g/2),dayLayoutAlgorithm:v});return I.map(function(B,T){var R,D=B.event,E=B.style,k=h.end(D),N=h.start(D),Y=(R=h.eventId(D))!==null&&R!==void 0?R:"evt_"+T,oe="eventTimeRangeFormat",ie,ne=F.startsBeforeDay(N),se=F.startsAfterDay(k);ne?oe="eventTimeRangeEndFormat":se&&(oe="eventTimeRangeStartFormat"),ne&&se?ie=O.allDay:ie=d.format({start:N,end:k},oe);var ue=ne||F.startsBefore(N),le=se||F.startsAfter(k);return re.createElement(eTe,{style:E,event:D,label:ie,key:Y,getters:p,rtl:c,components:f,continuesPrior:ue,continuesAfter:le,accessors:h,resource:n.props.resource,selected:Qb(D,u),onClick:function(z){return n._select(Ln(Ln(Ln({},D),n.props.resource&&{sourceResource:n.props.resource}),l&&{isBackgroundEvent:!0}),z)},onDoubleClick:function(z){return n._doubleClick(D,z)},isBackgroundEvent:l,onKeyPress:function(z){return n._keyPress(D,z)},resizable:_})})},n._selectable=function(){var o=n.containerRef.current,a=n.props,l=a.longPressThreshold,A=a.localizer,c=n._selector=new e9(function(){return o},{longPressThreshold:l}),u=function(f){var b=n.props.onSelecting,g=n.state||{},v=h(f),_=v.startDate,x=v.endDate;b&&(A.eq(g.startDate,_,"minutes")&&A.eq(g.endDate,x,"minutes")||b({start:_,end:x,resourceId:n.props.resource})===!1)||(n.state.start!==v.start||n.state.end!==v.end||n.state.selecting!==v.selecting)&&n.setState(v)},h=function(f){var b=n.slotMetrics.closestSlotFromPoint(f,Bh(o));n.state.selecting||(n._initialSlot=b);var g=n._initialSlot;A.lte(g,b)?b=n.slotMetrics.nextSlot(b):A.gt(g,b)&&(g=n.slotMetrics.nextSlot(g));var v=n.slotMetrics.getRange(A.min(g,b),A.max(g,b));return Ln(Ln({},v),{},{selecting:!0,top:"".concat(v.top,"%"),height:"".concat(v.height,"%")})},d=function(f,b){if(!s2(n.containerRef.current,f)){var g=h(f),v=g.startDate,_=g.endDate;n._selectSlot({startDate:v,endDate:_,action:b,box:f})}n.setState({selecting:!1})};c.on("selecting",u),c.on("selectStart",u),c.on("beforeSelect",function(p){if(n.props.selectable==="ignoreEvents")return!s2(n.containerRef.current,p)}),c.on("click",function(p){return d(p,"click")}),c.on("doubleClick",function(p){return d(p,"doubleClick")}),c.on("select",function(p){n.state.selecting&&(n._selectSlot(Ln(Ln({},n.state),{},{action:"select",bounds:p})),n.setState({selecting:!1}))}),c.on("reset",function(){n.state.selecting&&n.setState({selecting:!1})})},n._teardownSelectable=function(){n._selector&&(n._selector.teardown(),n._selector=null)},n._selectSlot=function(o){for(var a=o.startDate,l=o.endDate,A=o.action,c=o.bounds,u=o.box,h=a,d=[];n.props.localizer.lte(h,l);)d.push(h),h=new Date(+h+n.props.step*60*1e3);qn(n.props.onSelectSlot,{slots:d,start:a,end:l,resourceId:n.props.resource,action:A,bounds:c,box:u})},n._select=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onSelectEvent,a)},n._doubleClick=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onDoubleClickEvent,a)},n._keyPress=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onKeyPressEvent,a)},n.slotMetrics=_4(n.props),n.containerRef=$.createRef(),n}return as(e,t),oi(e,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(r,i){this.props.selectable&&!r.selectable&&this._selectable(),!this.props.selectable&&r.selectable&&this._teardownSelectable();var s=this.props,o=s.getNow,a=s.isNow,l=s.localizer,A=s.date,c=s.min,u=s.max,h=l.neq(r.getNow(),o(),"minutes");if(r.isNow!==a||h){if(this.clearTimeIndicatorInterval(),a){var d=!h&&l.eq(r.date,A,"minutes")&&i.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(d)}}else a&&(l.neq(r.min,c,"minutes")||l.neq(r.max,u,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var r=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!i&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){r.intervalTriggered=!0,r.positionTimeIndicator(),r.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var r=this.props,i=r.min,s=r.max,o=r.getNow,a=o();if(a>=i&&a<=s){var l=this.slotMetrics.getCurrentTimePosition(a);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:l})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var r=this.props,i=r.date,s=r.max,o=r.rtl,a=r.isNow,l=r.resource,A=r.accessors,c=r.localizer,u=r.getters,h=u.dayProp,d=Al(u,rTe),p=r.components,f=p.eventContainerWrapper,b=p.timeIndicatorWrapper,g=Al(p,iTe);this.slotMetrics=this.slotMetrics.update(this.props);var v=this.slotMetrics,_=this.state,x=_.selecting,F=_.top,O=_.height,I=_.startDate,B=_.endDate,T={start:I,end:B},R=h(s,l),D=R.className,E=R.style,k={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},N=g.dayColumnWrapper||nTe;return re.createElement(N,{ref:this.containerRef,date:i,style:E,className:yr(D,"rbc-day-slot","rbc-time-column",a&&"rbc-now",a&&"rbc-today",x&&"rbc-slot-selecting"),slotMetrics:v,resource:l},v.groups.map(function(Y,oe){return re.createElement(a9,{key:oe,group:Y,resource:l,getters:d,components:g})}),re.createElement(f,{localizer:c,resource:l,accessors:A,getters:d,components:g,slotMetrics:v},re.createElement("div",{className:yr("rbc-events-container",o&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),x&&re.createElement("div",{className:"rbc-slot-selection",style:{top:F,height:O}},re.createElement("span",null,c.format(T,"selectRangeFormat"))),a&&this.intervalTriggered&&re.createElement(b,k,re.createElement("div",k)))}}])}(re.Component);l9.defaultProps={dragThroughEvents:!0,timeslots:2};var A9=function(e){var n=e.label;return re.createElement(re.Fragment,null,n)},sTe=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),qn(n.props.onDrillDown,[o,a])},n.renderRow=function(o){var a=n.props,l=a.events,A=a.rtl,c=a.selectable,u=a.getNow,h=a.range,d=a.getters,p=a.localizer,f=a.accessors,b=a.components,g=a.resizable,v=f.resourceId(o),_=o?l.filter(function(x){return f.resource(x)===v}):l;return re.createElement(fv,{isAllDay:!0,rtl:A,getNow:u,minRows:2,maxRows:n.props.allDayMaxRows+1,range:h,events:_,resourceId:v,className:"rbc-allday-cell",selectable:c,selected:n.props.selected,components:b,accessors:f,getters:d,localizer:p,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyPress:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:g})},n}return as(e,t),oi(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,A=s.getters.dayProp,c=s.components.header,u=c===void 0?b4:c,h=l();return r.map(function(d,p){var f=a(d),b=o.format(d,"dayFormat"),g=A(d),v=g.className,_=g.style,x=re.createElement(u,{date:d,label:b,localizer:o});return re.createElement("div",{key:p,style:_,className:yr("rbc-header",v,o.isSameDate(d,h)&&"rbc-today")},f?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(O){return i.handleHeaderClick(d,f,O)}},x):re.createElement("span",null,x))})}},{key:"render",value:function(){var r=this,i=this.props,s=i.width,o=i.rtl,a=i.resources,l=i.range,A=i.events,c=i.getNow,u=i.accessors,h=i.selectable,d=i.components,p=i.getters,f=i.scrollRef,b=i.localizer,g=i.isOverflowing,v=i.components,_=v.timeGutterHeader,x=v.resourceHeader,F=x===void 0?A9:x,O=i.resizable,I={};g&&(I[o?"marginLeft":"marginRight"]="".concat(e4()-1,"px"));var B=a.groupEvents(A);return re.createElement("div",{style:I,ref:f,className:yr("rbc-time-header",g&&"rbc-overflowing")},re.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},_&&re.createElement(_,null)),a.map(function(T,R){var D=vh(T,2),E=D[0],k=D[1];return re.createElement("div",{className:"rbc-time-header-content",key:E||R},k&&re.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(R)},re.createElement("div",{className:"rbc-header"},re.createElement(F,{index:R,label:u.resourceTitle(k),resource:k}))),re.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(l.length<=1?" rbc-time-header-cell-single-day":"")},r.renderHeaderCells(l)),re.createElement(fv,{isAllDay:!0,rtl:o,getNow:c,minRows:2,maxRows:r.props.allDayMaxRows+1,range:l,events:B.get(E)||[],resourceId:k&&E,className:"rbc-allday-cell",selectable:h,selected:r.props.selected,components:d,accessors:u,getters:p,localizer:b,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyDown:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:O}))}))}}])}(re.Component),oTe=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.handleHeaderClick=function(o,a,l){l.preventDefault(),qn(n.props.onDrillDown,[o,a])},n}return as(e,t),oi(e,[{key:"renderHeaderCells",value:function(r){var i=this,s=this.props,o=s.localizer,a=s.getDrilldownView,l=s.getNow,A=s.getters.dayProp,c=s.components,u=c.header,h=u===void 0?b4:u,d=c.resourceHeader,p=d===void 0?A9:d,f=s.resources,b=s.accessors,g=s.events,v=s.rtl,_=s.selectable,x=s.components,F=s.getters,O=s.resizable,I=l(),B=f.groupEvents(g);return r.map(function(T,R){var D=a(T),E=o.format(T,"dayFormat"),k=A(T),N=k.className,Y=k.style,oe=re.createElement(h,{date:T,label:E,localizer:o});return re.createElement("div",{key:R,className:"rbc-time-header-content rbc-resource-grouping"},re.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(r.length<=1?" rbc-time-header-cell-single-day":"")},re.createElement("div",{style:Y,className:yr("rbc-header",N,o.isSameDate(T,I)&&"rbc-today")},D?re.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(ne){return i.handleHeaderClick(T,D,ne)}},oe):re.createElement("span",null,oe))),re.createElement("div",{className:"rbc-row"},f.map(function(ie,ne){var se=vh(ie,2),ue=se[0],le=se[1];return re.createElement("div",{key:"resource_".concat(ue,"_").concat(ne),className:yr("rbc-header",N,o.isSameDate(T,I)&&"rbc-today")},re.createElement(p,{index:ne,label:b.resourceTitle(le),resource:le}))})),re.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},f.map(function(ie,ne){var se=vh(ie,2),ue=se[0],le=se[1],U=(B.get(ue)||[]).filter(function(z){return o.isSameDate(z.start,T)||o.isSameDate(z.end,T)});return re.createElement(fv,{key:"resource_".concat(ue,"_").concat(ne),isAllDay:!0,rtl:v,getNow:l,minRows:2,maxRows:i.props.allDayMaxRows+1,range:[T],events:U,resourceId:le&&ue,className:"rbc-allday-cell",selectable:_,selected:i.props.selected,components:x,accessors:b,getters:F,localizer:o,onSelect:i.props.onSelectEvent,onShowMore:i.props.onShowMore,onDoubleClick:i.props.onDoubleClickEvent,onKeyDown:i.props.onKeyPressEvent,onSelectSlot:i.props.onSelectSlot,longPressThreshold:i.props.longPressThreshold,resizable:O})})))})}},{key:"render",value:function(){var r=this.props,i=r.width,s=r.rtl,o=r.range,a=r.scrollRef,l=r.isOverflowing,A=r.components.timeGutterHeader,c={};return l&&(c[s?"marginLeft":"marginRight"]="".concat(e4()-1,"px")),re.createElement("div",{style:c,ref:a,className:yr("rbc-time-header",l&&"rbc-overflowing")},re.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:i,minWidth:i,maxWidth:i}},A&&re.createElement(A,null)),this.renderHeaderCells(o))}}])}(re.Component);function aTe(t){var e=t.min,n=t.max,r=t.localizer;return r.getTimezoneOffset(e)!==r.getTimezoneOffset(n)?{start:r.add(e,-1,"day"),end:r.add(n,-1,"day")}:{start:e,end:n}}var lTe=function(e){var n=e.min,r=e.max,i=e.timeslots,s=e.step,o=e.localizer,a=e.getNow,l=e.resource,A=e.components,c=e.getters,u=e.gutterRef,h=A.timeGutterWrapper,d=$.useMemo(function(){return aTe({min:n,max:r,localizer:o})},[n==null?void 0:n.toISOString(),r==null?void 0:r.toISOString(),o]),p=d.start,f=d.end,b=$.useState(_4({min:p,max:f,timeslots:i,step:s,localizer:o})),g=vh(b,2),v=g[0],_=g[1];$.useEffect(function(){v&&_(v.update({min:p,max:f,timeslots:i,step:s,localizer:o}))},[p==null?void 0:p.toISOString(),f==null?void 0:f.toISOString(),i,s]);var x=$.useCallback(function(F,O){if(O)return null;var I=v.dateIsInGroup(a(),O);return re.createElement("span",{className:yr("rbc-label",I&&"rbc-now")},o.format(F,"timeGutterFormat"))},[v,o,a]);return re.createElement(h,{slotMetrics:v},re.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:u},v.groups.map(function(F,O){return re.createElement(a9,{key:O,group:F,resource:l,components:A,renderSlot:x,getters:c})})))},ATe=re.forwardRef(function(t,e){return re.createElement(lTe,Object.assign({gutterRef:e},t))}),KC={};function cTe(t,e){return{map:function(r){return t?t.map(function(i,s){return r([e.resourceId(i),i],s)}):[r([KC,null],0)]},groupEvents:function(r){var i=new Map;return t?(r.forEach(function(s){var o=e.resource(s)||KC;if(Array.isArray(o))o.forEach(function(l){var A=i.get(l)||[];A.push(s),i.set(l,A)});else{var a=i.get(o)||[];a.push(s),i.set(o,a)}}),i):(i.set(KC,r),i)}}}var _p=function(t){function e(n){var r;return si(this,e),r=os(this,e,[n]),r.handleScroll=function(i){r.scrollRef.current&&(r.scrollRef.current.scrollLeft=i.target.scrollLeft)},r.handleResize=function(){pL(r.rafHandle),r.rafHandle=sV(r.checkOverflow)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];qn(r.props.onKeyPressEvent,s)},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];qn(r.props.onSelectEvent,s)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];qn(r.props.onDoubleClickEvent,s)},r.handleShowMore=function(i,s,o,a,l){var A=r.props,c=A.popup,u=A.onDrillDown,h=A.onShowMore,d=A.getDrilldownView,p=A.doShowMoreDrillDown;if(r.clearSelection(),c){var f=iV(o,r.containerRef.current);r.setState({overlay:{date:s,events:i,position:Ln(Ln({},f),{},{width:"200px"}),target:l}})}else p&&qn(u,[s,d(s)||ws.DAY]);qn(h,[i,s,a])},r.handleSelectAllDaySlot=function(i,s){var o=r.props.onSelectSlot,a=new Date(i[0]),l=new Date(i[i.length-1]);l.setDate(i[i.length-1].getDate()+1),qn(o,{slots:i,start:a,end:l,action:s.action,resourceId:s.resourceId})},r.overlayDisplay=function(){r.setState({overlay:null})},r.checkOverflow=function(){if(!r._updatingOverflow){var i=r.contentRef.current;if(i!=null&&i.scrollHeight){var s=i.scrollHeight>i.clientHeight;r.state.isOverflowing!==s&&(r._updatingOverflow=!0,r.setState({isOverflowing:s},function(){r._updatingOverflow=!1}))}}},r.memoizedResources=NV(function(i,s){return cTe(i,s)}),r.state={gutterWidth:void 0,isOverflowing:null},r.scrollRef=re.createRef(),r.contentRef=re.createRef(),r.containerRef=re.createRef(),r._scrollRatio=null,r.gutterRef=$.createRef(),r}return as(e,t),oi(e,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),pL(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(r,i,s,o,a,l,A,c,u,h){var d=this.props,p=d.min,f=d.max,b=(o.get(i)||[]).filter(function(v){return l.inRange(r,A.start(v),A.end(v),"day")}),g=(a.get(i)||[]).filter(function(v){return l.inRange(r,A.start(v),A.end(v),"day")});return re.createElement(l9,Object.assign({},this.props,{localizer:l,min:l.merge(r,p),max:l.merge(r,f),resource:s&&i,components:c,isNow:l.isSameDate(r,h),key:"".concat(i,"-").concat(r),date:r,events:b,backgroundEvents:g,dayLayoutAlgorithm:u}))}},{key:"renderResourcesFirst",value:function(r,i,s,o,a,l,A,c,u){var h=this;return i.map(function(d){var p=vh(d,2),f=p[0],b=p[1];return r.map(function(g){return h.renderDayColumn(g,f,b,s,o,a,l,c,u,A)})})}},{key:"renderRangeFirst",value:function(r,i,s,o,a,l,A,c,u){var h=this;return r.map(function(d){return re.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:d},i.map(function(p){var f=vh(p,2),b=f[0],g=f[1];return re.createElement("div",{style:{flex:1},key:l.resourceId(g)},h.renderDayColumn(d,b,g,s,o,a,l,c,u,A))}))})}},{key:"renderEvents",value:function(r,i,s,o){var a=this.props,l=a.accessors,A=a.localizer,c=a.resourceGroupingLayout,u=a.components,h=a.dayLayoutAlgorithm,d=this.memoizedResources(this.props.resources,l),p=d.groupEvents(i),f=d.groupEvents(s);return c?this.renderRangeFirst(r,d,p,f,A,l,o,u,h):this.renderResourcesFirst(r,d,p,f,A,l,o,u,h)}},{key:"render",value:function(){var r,i=this.props,s=i.events,o=i.backgroundEvents,a=i.range,l=i.width,A=i.rtl,c=i.selected,u=i.getNow,h=i.resources,d=i.components,p=i.accessors,f=i.getters,b=i.localizer,g=i.min,v=i.max,_=i.showMultiDayTimes,x=i.longPressThreshold,F=i.resizable,O=i.resourceGroupingLayout;l=l||this.state.gutterWidth;var I=a[0],B=a[a.length-1];this.slots=a.length;var T=[],R=[],D=[];s.forEach(function(k){if(dv(k,I,B,p,b)){var N=p.start(k),Y=p.end(k);p.allDay(k)||b.startAndEndAreDateOnly(N,Y)||!_&&!b.isSameDate(N,Y)?T.push(k):R.push(k)}}),o.forEach(function(k){dv(k,I,B,p,b)&&D.push(k)}),T.sort(function(k,N){return YE(k,N,p,b)});var E={range:a,events:T,width:l,rtl:A,getNow:u,localizer:b,selected:c,allDayMaxRows:this.props.showAllEvents?1/0:(r=this.props.allDayMaxRows)!==null&&r!==void 0?r:1/0,resources:this.memoizedResources(h,p),selectable:this.props.selectable,accessors:p,getters:f,components:d,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:x,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:F};return re.createElement("div",{className:yr("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&O?re.createElement(oTe,E):re.createElement(sTe,E),this.props.popup&&this.renderOverlay(),re.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},re.createElement(ATe,{date:I,ref:this.gutterRef,localizer:b,min:b.merge(I,g),max:b.merge(I,v),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:d,className:"rbc-time-gutter",getters:f}),this.renderEvents(a,R,D,u())))}},{key:"renderOverlay",value:function(){var r,i,s=this,o=(r=(i=this.state)===null||i===void 0?void 0:i.overlay)!==null&&r!==void 0?r:{},a=this.props,l=a.accessors,A=a.localizer,c=a.components,u=a.getters,h=a.selected,d=a.popupOffset,p=a.handleDragStart,f=function(){return s.setState({overlay:null})};return re.createElement(w4,{overlay:o,accessors:l,localizer:A,components:c,getters:u,selected:h,popupOffset:d,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:p,show:!!o.position,overlayDisplay:this.overlayDisplay,onHide:f})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var r=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var i,s=(i=r.gutterRef)!==null&&i!==void 0&&i.current?WE(r.gutterRef.current):void 0;s&&r.state.gutterWidth!==s&&r.setState({gutterWidth:s})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var r=this.contentRef.current;r.scrollTop=r.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,i=r.min,s=r.max,o=r.scrollToTime,a=r.localizer,l=a.diff(a.merge(o,i),o,"milliseconds"),A=a.diff(i,s,"milliseconds");this._scrollRatio=l/A}}])}($.Component);_p.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var uTe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Hb=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,A=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,u=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,d=h===void 0?!0:h,p=Al(r,uTe),f=e.range(i,{localizer:s});return re.createElement(_p,Object.assign({},p,{range:f,eventOffset:10,localizer:s,min:a,max:A,scrollToTime:u,enableAutoScroll:d}))}}])}(re.Component);Hb.range=function(t,e){var n=e.localizer;return[n.startOf(t,"day")]};Hb.navigate=function(t,e,n){var r=n.localizer;switch(e){case zs.PREVIOUS:return r.add(t,-1,"day");case zs.NEXT:return r.add(t,1,"day");default:return t}};Hb.title=function(t,e){var n=e.localizer;return n.format(t,"dayHeaderFormat")};var hTe=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Kc=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,A=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,u=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,d=h===void 0?!0:h,p=Al(r,hTe),f=e.range(i,this.props);return re.createElement(_p,Object.assign({},p,{range:f,eventOffset:15,localizer:s,min:a,max:A,scrollToTime:u,enableAutoScroll:d}))}}])}(re.Component);Kc.defaultProps=_p.defaultProps;Kc.navigate=function(t,e,n){var r=n.localizer;switch(e){case zs.PREVIOUS:return r.add(t,-1,"week");case zs.NEXT:return r.add(t,1,"week");default:return t}};Kc.range=function(t,e){var n=e.localizer,r=n.startOfWeek(),i=n.startOf(t,"week",r),s=n.endOf(t,"week",r);return n.range(i,s)};Kc.title=function(t,e){var n=e.localizer,r=Kc.range(t,{localizer:n}),i=UV(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var dTe=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function C4(t,e){return Kc.range(t,e).filter(function(n){return[6,0].indexOf(n.getDay())===-1})}var o0=function(t){function e(){return si(this,e),os(this,e,arguments)}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.date,s=r.localizer,o=r.min,a=o===void 0?s.startOf(new Date,"day"):o,l=r.max,A=l===void 0?s.endOf(new Date,"day"):l,c=r.scrollToTime,u=c===void 0?s.startOf(new Date,"day"):c,h=r.enableAutoScroll,d=h===void 0?!0:h,p=Al(r,dTe),f=C4(i,this.props);return re.createElement(_p,Object.assign({},p,{range:f,eventOffset:15,localizer:s,min:a,max:A,scrollToTime:u,enableAutoScroll:d}))}}])}(re.Component);o0.defaultProps=_p.defaultProps;o0.range=C4;o0.navigate=Kc.navigate;o0.title=function(t,e){var n=e.localizer,r=C4(t,{localizer:n}),i=UV(r),s=i[0],o=i.slice(1);return n.format({start:s,end:o.pop()},"dayRangeHeaderFormat")};var Vb=30;function $b(t){var e=t.accessors,n=t.components,r=t.date,i=t.events,s=t.getters,o=t.length,a=o===void 0?Vb:o,l=t.localizer,A=t.onDoubleClickEvent,c=t.onSelectEvent,u=t.selected,h=$.useRef(null),d=$.useRef(null),p=$.useRef(null),f=$.useRef(null),b=$.useRef(null);$.useEffect(function(){_()});var g=function(B,T,R){var D=n.event,E=n.date;return T=T.filter(function(k){return dv(k,l.startOf(B,"day"),l.endOf(B,"day"),e,l)}),T.map(function(k,N){var Y=e.title(k),oe=e.end(k),ie=e.start(k),ne=s.eventProp(k,ie,oe,Qb(k,u)),se=N===0&&l.format(B,"agendaDateFormat"),ue=N===0?re.createElement("td",{rowSpan:T.length,className:"rbc-agenda-date-cell"},E?re.createElement(E,{day:B,label:se}):se):!1;return re.createElement("tr",{key:R+"_"+N,className:ne.className,style:ne.style},ue,re.createElement("td",{className:"rbc-agenda-time-cell"},v(B,k)),re.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(U){return c&&c(k,U)},onDoubleClick:function(U){return A&&A(k,U)}},D?re.createElement(D,{event:k,title:Y}):Y))},[])},v=function(B,T){var R="",D=n.time,E=l.messages.allDay,k=e.end(T),N=e.start(T);return e.allDay(T)||(l.eq(N,k)?E=l.format(N,"agendaTimeFormat"):l.isSameDate(N,k)?E=l.format({start:N,end:k},"agendaTimeRangeFormat"):l.isSameDate(B,N)?E=l.format(N,"agendaTimeFormat"):l.isSameDate(B,k)&&(E=l.format(k,"agendaTimeFormat"))),l.gt(B,N,"day")&&(R="rbc-continues-prior"),l.lt(B,k,"day")&&(R+=" rbc-continues-after"),re.createElement("span",{className:R.trim()},D?re.createElement(D,{event:T,day:B,label:E}):E)},_=function(){if(b.current){var B=h.current,T=b.current.firstChild;if(T){var R=f.current.scrollHeight>f.current.clientHeight,D=[],E=D;D=[WE(T.children[0]),WE(T.children[1])],(E[0]!==D[0]||E[1]!==D[1])&&(d.current.style.width=D[0]+"px",p.current.style.width=D[1]+"px"),R?(ume(B,"rbc-header-overflowing"),B.style.marginRight=e4()+"px"):hme(B,"rbc-header-overflowing")}}},x=l.messages,F=l.add(r,a,"day"),O=l.range(r,F,"day");return i=i.filter(function(I){return dv(I,l.startOf(r,"day"),l.endOf(F,"day"),e,l)}),i.sort(function(I,B){return+e.start(I)-+e.start(B)}),re.createElement("div",{className:"rbc-agenda-view"},i.length!==0?re.createElement(re.Fragment,null,re.createElement("table",{ref:h,className:"rbc-agenda-table"},re.createElement("thead",null,re.createElement("tr",null,re.createElement("th",{className:"rbc-header",ref:d},x.date),re.createElement("th",{className:"rbc-header",ref:p},x.time),re.createElement("th",{className:"rbc-header"},x.event)))),re.createElement("div",{className:"rbc-agenda-content",ref:f},re.createElement("table",{className:"rbc-agenda-table"},re.createElement("tbody",{ref:b},O.map(function(I,B){return g(I,i,B)}))))):re.createElement("span",{className:"rbc-agenda-empty"},x.noEventsInRange))}$b.range=function(t,e){var n=e.length,r=n===void 0?Vb:n,i=e.localizer,s=i.add(t,r,"day");return{start:t,end:s}};$b.navigate=function(t,e,n){var r=n.length,i=r===void 0?Vb:r,s=n.localizer;switch(e){case zs.PREVIOUS:return s.add(t,-i,"day");case zs.NEXT:return s.add(t,i,"day");default:return t}};$b.title=function(t,e){var n=e.length,r=n===void 0?Vb:n,i=e.localizer,s=i.add(t,r,"day");return i.format({start:t,end:s},"agendaHeaderFormat")};var v1=Pu(Pu(Pu(Pu(Pu({},ws.MONTH,jb),ws.WEEK,Kc),ws.WORK_WEEK,o0),ws.DAY,Hb),ws.AGENDA,$b),fTe=["action","date","today"];function pTe(t,e){var n=e.action,r=e.date,i=e.today,s=Al(e,fTe);switch(t=typeof t=="string"?v1[t]:t,n){case zs.TODAY:r=i||new Date;break;case zs.DATE:break;default:tv(t&&typeof t.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),r=t.navigate(r,n,s)}return r}function gTe(t,e){var n=null;return typeof e=="function"?n=e(t):typeof e=="string"&&sn(t)==="object"&&t!=null&&e in t&&(n=t[e]),n}var Nl=function(e){return function(n){return gTe(n,e)}},mTe=["view","date","getNow","onNavigate"],vTe=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function c9(t){if(Array.isArray(t))return t;for(var e=[],n=0,r=Object.entries(t);n<r.length;n++){var i=vh(r[n],2),s=i[0],o=i[1];o&&e.push(s)}return e}function yTe(t,e){var n=e.views,r=c9(n);return r.indexOf(t)!==-1}var u9=function(t){function e(){var n;si(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=os(this,e,[].concat(i)),n.getViews=function(){var o=n.props.views;return Array.isArray(o)?q5e(o,function(a,l){return a[l]=v1[l]},{}):sn(o)==="object"?qCe(o,function(a,l){return a===!0?v1[l]:a}):v1},n.getView=function(){var o=n.getViews();return o[n.props.view]},n.getDrilldownView=function(o){var a=n.props,l=a.view,A=a.drilldownView,c=a.getDrilldownView;return c?c(o,l,Object.keys(n.getViews())):A},n.handleRangeChange=function(o,a,l){var A=n.props,c=A.onRangeChange,u=A.localizer;c&&a.range&&c(a.range(o,{localizer:u}),l)},n.handleNavigate=function(o,a){var l=n.props,A=l.view,c=l.date,u=l.getNow,h=l.onNavigate,d=Al(l,mTe),p=n.getView(),f=u();c=pTe(p,Ln(Ln({},d),{},{action:o,date:a||c||f,today:f})),h(c,A,o),n.handleRangeChange(c,p)},n.handleViewChange=function(o){o!==n.props.view&&yTe(o,n.props)&&n.props.onView(o);var a=n.getViews();n.handleRangeChange(n.props.date||n.props.getNow(),a[o],o)},n.handleSelectEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onDoubleClickEvent,a)},n.handleKeyPressEvent=function(){for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];qn(n.props.onKeyPressEvent,a)},n.handleSelectSlot=function(o){qn(n.props.onSelectSlot,o)},n.handleDrillDown=function(o,a){var l=n.props.onDrillDown;if(l){l(o,a,n.drilldownView);return}a&&n.handleViewChange(a),n.handleNavigate(zs.DATE,o)},n.state={context:e.getContext(n.props)},n}return as(e,t),oi(e,[{key:"render",value:function(){var r=this.props,i=r.view,s=r.toolbar,o=r.events,a=r.backgroundEvents,l=r.resourceGroupingLayout,A=r.style,c=r.className,u=r.elementProps,h=r.date,d=r.getNow,p=r.length,f=r.showMultiDayTimes,b=r.onShowMore,g=r.doShowMoreDrillDown;r.components,r.formats,r.messages,r.culture;var v=Al(r,vTe);h=h||d();var _=this.getView(),x=this.state.context,F=x.accessors,O=x.components,I=x.getters,B=x.localizer,T=x.viewNames,R=O.toolbar||_Se,D=_.title(h,{localizer:B,length:p});return re.createElement("div",Object.assign({},u,{className:yr(c,"rbc-calendar",v.rtl&&"rbc-rtl"),style:A}),s&&re.createElement(R,{date:h,view:i,views:T,label:D,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:B}),re.createElement(_,Object.assign({},v,{events:o,backgroundEvents:a,date:h,getNow:d,length:p,localizer:B,getters:I,components:O,accessors:F,showMultiDayTimes:f,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:b,doShowMoreDrillDown:g,resourceGroupingLayout:l})))}}],[{key:"getDerivedStateFromProps",value:function(r){return{context:e.getContext(r)}}},{key:"getContext",value:function(r){var i=r.startAccessor,s=r.endAccessor,o=r.allDayAccessor,a=r.tooltipAccessor,l=r.titleAccessor,A=r.resourceAccessor,c=r.resourceIdAccessor,u=r.resourceTitleAccessor,h=r.eventIdAccessor,d=r.eventPropGetter,p=r.backgroundEventPropGetter,f=r.slotPropGetter,b=r.slotGroupPropGetter,g=r.dayPropGetter,v=r.view,_=r.views,x=r.localizer,F=r.culture,O=r.messages,I=O===void 0?{}:O,B=r.components,T=B===void 0?{}:B,R=r.formats,D=R===void 0?{}:R,E=c9(_),k=xSe(I);return{viewNames:E,localizer:bSe(x,F,D,k),getters:{eventProp:function(){return d&&d.apply(void 0,arguments)||{}},backgroundEventProp:function(){return p&&p.apply(void 0,arguments)||{}},slotProp:function(){return f&&f.apply(void 0,arguments)||{}},slotGroupProp:function(){return b&&b.apply(void 0,arguments)||{}},dayProp:function(){return g&&g.apply(void 0,arguments)||{}}},components:HCe(T[v]||{},R5e(T,E),{eventWrapper:Va,backgroundEventWrapper:Va,eventContainerWrapper:Va,dateCellWrapper:Va,weekWrapper:Va,timeSlotWrapper:Va,timeGutterWrapper:Va,timeIndicatorWrapper:Va}),accessors:{start:Nl(i),end:Nl(s),allDay:Nl(o),tooltip:Nl(a),title:Nl(l),resource:Nl(A),resourceId:Nl(c),resourceTitle:Nl(u),eventId:Nl(h)}}}}])}(re.Component);u9.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:ws.MONTH,views:[ws.MONTH,ws.WEEK,ws.DAY,ws.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:ws.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var wTe=O7(u9,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),bTe=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"P",n)," – ").concat(r.format(s,"P",n))},WC=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"p",n)," – ").concat(r.format(s,"p",n))},_Te=function(e,n,r){var i=e.start;return"".concat(r.format(i,"h:mma",n)," – ")},CTe=function(e,n,r){var i=e.end;return" – ".concat(r.format(i,"h:mma",n))},xTe=function(e,n,r){var i=e.start,s=e.end;return"".concat(r.format(i,"MMMM dd",n)," – ").concat(r.format(s,hp(i,s,"month")?"dd":"MMMM dd",n))},BTe={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:WC,eventTimeRangeFormat:WC,eventTimeRangeStartFormat:_Te,eventTimeRangeEndFormat:CTe,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:xTe,agendaHeaderFormat:bTe,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:WC},ETe=function(e){var n=e.startOfWeek,r=e.getDay,i=e.format,s=e.locales;return new wSe({formats:BTe,firstOfWeek:function(a){return r(n(new Date,{locale:s[a]}))},format:function(a,l,A){return i(new Date(a),l,{locale:s[A]})}})};const STe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},TTe=(t,e,n)=>{let r;const i=STe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function pf(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const ITe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},NTe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},FTe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},kTe={date:pf({formats:ITe,defaultWidth:"full"}),time:pf({formats:NTe,defaultWidth:"full"}),dateTime:pf({formats:FTe,defaultWidth:"full"})},PTe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},DTe=(t,e,n,r)=>PTe[t];function za(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const LTe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},RTe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},UTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},OTe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},QTe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jTe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},HTe={ordinalNumber:jTe,era:za({values:LTe,defaultWidth:"wide"}),quarter:za({values:RTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:za({values:UTe,defaultWidth:"wide"}),day:za({values:OTe,defaultWidth:"wide"}),dayPeriod:za({values:MTe,defaultWidth:"wide",formattingValues:QTe,defaultFormattingWidth:"wide"})};function Ka(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?$Te(a,u=>u.test(o)):VTe(a,u=>u.test(o));let A;A=t.valueCallback?t.valueCallback(l):l,A=n.valueCallback?n.valueCallback(A):A;const c=e.slice(o.length);return{value:A,rest:c}}}function VTe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function $Te(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function h9(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const zTe=/^(\d+)(th|st|nd|rd)?/i,KTe=/\d+/i,WTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},GTe={any:[/^b/i,/^(a|c)/i]},qTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},YTe={any:[/1/i,/2/i,/3/i,/4/i]},XTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},JTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},ZTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},eIe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},tIe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},nIe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},rIe={ordinalNumber:h9({matchPattern:zTe,parsePattern:KTe,valueCallback:t=>parseInt(t,10)}),era:Ka({matchPatterns:WTe,defaultMatchWidth:"wide",parsePatterns:GTe,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:qTe,defaultMatchWidth:"wide",parsePatterns:YTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ka({matchPatterns:XTe,defaultMatchWidth:"wide",parsePatterns:JTe,defaultParseWidth:"any"}),day:Ka({matchPatterns:ZTe,defaultMatchWidth:"wide",parsePatterns:eIe,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:tIe,defaultMatchWidth:"any",parsePatterns:nIe,defaultParseWidth:"any"})},d9={code:"en-US",formatDistance:TTe,formatLong:kTe,formatRelative:DTe,localize:HTe,match:rIe,options:{weekStartsOn:0,firstWeekContainsDate:1}};let iIe={};function Cp(){return iIe}const f9=6048e5,sIe=864e5,oIe=6e4,aIe=36e5,lIe=1e3,N3=Symbol.for("constructDateFrom");function wi(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&N3 in t?t[N3](e):t instanceof Date?new t.constructor(e):new Date(e)}function Lr(t,e){return wi(e||t,t)}function o2(t){const e=Lr(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function AIe(t,...e){const n=wi.bind(null,t||e.find(r=>typeof r=="object"));return e.map(n)}function F3(t,e){const n=Lr(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function cIe(t,e,n){const[r,i]=AIe(n==null?void 0:n.in,t,e),s=F3(r),o=F3(i),a=+s-o2(s),l=+o-o2(o);return Math.round((a-l)/sIe)}function uIe(t,e){const n=Lr(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function hIe(t,e){const n=Lr(t,e==null?void 0:e.in);return cIe(n,uIe(n))+1}function cA(t,e){var a,l,A,c;const n=Cp(),r=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((c=(A=n.locale)==null?void 0:A.options)==null?void 0:c.weekStartsOn)??0,i=Lr(t,e==null?void 0:e.in),s=i.getDay(),o=(s<r?7:0)+s-r;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Yf(t,e){return cA(t,{...e,weekStartsOn:1})}function p9(t,e){const n=Lr(t,e==null?void 0:e.in),r=n.getFullYear(),i=wi(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const s=Yf(i),o=wi(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const a=Yf(o);return n.getTime()>=s.getTime()?r+1:n.getTime()>=a.getTime()?r:r-1}function dIe(t,e){const n=p9(t,e),r=wi((e==null?void 0:e.in)||t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Yf(r)}function g9(t,e){const n=Lr(t,e==null?void 0:e.in),r=+Yf(n)-+dIe(n);return Math.round(r/f9)+1}function x4(t,e){var c,u,h,d;const n=Lr(t,e==null?void 0:e.in),r=n.getFullYear(),i=Cp(),s=(e==null?void 0:e.firstWeekContainsDate)??((u=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??i.firstWeekContainsDate??((d=(h=i.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=wi((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,s),o.setHours(0,0,0,0);const a=cA(o,e),l=wi((e==null?void 0:e.in)||t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const A=cA(l,e);return+n>=+a?r+1:+n>=+A?r:r-1}function fIe(t,e){var a,l,A,c;const n=Cp(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((c=(A=n.locale)==null?void 0:A.options)==null?void 0:c.firstWeekContainsDate)??1,i=x4(t,e),s=wi((e==null?void 0:e.in)||t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),cA(s,e)}function m9(t,e){const n=Lr(t,e==null?void 0:e.in),r=+cA(n,e)-+fIe(n,e);return Math.round(r/f9)+1}function Cn(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const WA={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Cn(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Cn(n+1,2)},d(t,e){return Cn(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Cn(t.getHours()%12||12,e.length)},H(t,e){return Cn(t.getHours(),e.length)},m(t,e){return Cn(t.getMinutes(),e.length)},s(t,e){return Cn(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Cn(i,e.length)}},dd={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},k3={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return WA.y(t,e)},Y:function(t,e,n,r){const i=x4(t,r),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Cn(o,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Cn(s,e.length)},R:function(t,e){const n=p9(t);return Cn(n,e.length)},u:function(t,e){const n=t.getFullYear();return Cn(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Cn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Cn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return WA.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Cn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=m9(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Cn(i,e.length)},I:function(t,e,n){const r=g9(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Cn(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):WA.d(t,e)},D:function(t,e,n){const r=hIe(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Cn(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Cn(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Cn(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Cn(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=dd.noon:r===0?i=dd.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=dd.evening:r>=12?i=dd.afternoon:r>=4?i=dd.morning:i=dd.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return WA.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):WA.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Cn(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):WA.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):WA.s(t,e)},S:function(t,e){return WA.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return D3(r);case"XXXX":case"XX":return Fu(r);case"XXXXX":case"XXX":default:return Fu(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return D3(r);case"xxxx":case"xx":return Fu(r);case"xxxxx":case"xxx":default:return Fu(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+P3(r,":");case"OOOO":default:return"GMT"+Fu(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+P3(r,":");case"zzzz":default:return"GMT"+Fu(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return Cn(r,e.length)},T:function(t,e,n){return Cn(+t,e.length)}};function P3(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Cn(s,2)}function D3(t,e){return t%60===0?(t>0?"-":"+")+Cn(Math.abs(t)/60,2):Fu(t,e)}function Fu(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Cn(Math.trunc(r/60),2),s=Cn(r%60,2);return n+i+e+s}const L3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},v9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},pIe=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return L3(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",L3(r,e)).replace("{{time}}",v9(i,e))},JE={p:v9,P:pIe},gIe=/^D+$/,mIe=/^Y+$/,vIe=["D","DD","YY","YYYY"];function y9(t){return gIe.test(t)}function w9(t){return mIe.test(t)}function ZE(t,e,n){const r=yIe(t,e,n);if(console.warn(r),vIe.includes(t))throw new RangeError(r)}function yIe(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}function wIe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function bIe(t){return!(!wIe(t)&&typeof t!="number"||isNaN(+Lr(t)))}const _Ie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,CIe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xIe=/^'([^]*?)'?$/,BIe=/''/g,EIe=/[a-zA-Z]/;function SIe(t,e,n){var c,u,h,d,p,f,b,g;const r=Cp(),i=(n==null?void 0:n.locale)??r.locale??d9,s=(n==null?void 0:n.firstWeekContainsDate)??((u=(c=n==null?void 0:n.locale)==null?void 0:c.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(h=r.locale)==null?void 0:h.options)==null?void 0:d.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((f=(p=n==null?void 0:n.locale)==null?void 0:p.options)==null?void 0:f.weekStartsOn)??r.weekStartsOn??((g=(b=r.locale)==null?void 0:b.options)==null?void 0:g.weekStartsOn)??0,a=Lr(t,n==null?void 0:n.in);if(!bIe(a))throw new RangeError("Invalid time value");let l=e.match(CIe).map(v=>{const _=v[0];if(_==="p"||_==="P"){const x=JE[_];return x(v,i.formatLong)}return v}).join("").match(_Ie).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const _=v[0];if(_==="'")return{isToken:!1,value:TIe(v)};if(k3[_])return{isToken:!0,value:v};if(_.match(EIe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const A={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const _=v.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&w9(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&y9(_))&&ZE(_,e,String(t));const x=k3[_[0]];return x(a,_,i.localize,A)}).join("")}function TIe(t){const e=t.match(xIe);return e?e[1].replace(BIe,"'"):t}function IIe(){return Object.assign({},Cp())}function NIe(t,e){const n=FIe(e)?new e(0):wi(e,0);return n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),n}function FIe(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const kIe=10;class b9{constructor(){ut(this,"subPriority",0)}validate(e,n){return!0}}class PIe extends b9{constructor(e,n,r,i,s){super(),this.value=e,this.validateValue=n,this.setValue=r,this.priority=i,s&&(this.subPriority=s)}validate(e,n){return this.validateValue(e,this.value,n)}set(e,n,r){return this.setValue(e,n,this.value,r)}}class DIe extends b9{constructor(n,r){super();ut(this,"priority",kIe);ut(this,"subPriority",-1);this.context=n||(i=>wi(r,i))}set(n,r){return r.timestampIsSet?n:wi(n,NIe(n,this.context))}}let gn=class{run(e,n,r,i){const s=this.parse(e,n,r,i);return s?{setter:new PIe(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,n,r){return!0}};class LIe extends gn{constructor(){super(...arguments);ut(this,"priority",140);ut(this,"incompatibleTokens",["R","u","t","T"])}parse(n,r,i){switch(r){case"G":case"GG":case"GGG":return i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"});case"GGGGG":return i.era(n,{width:"narrow"});case"GGGG":default:return i.era(n,{width:"wide"})||i.era(n,{width:"abbreviated"})||i.era(n,{width:"narrow"})}}set(n,r,i){return r.era=i,n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}const kr={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Wa={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Pr(t,e){return t&&{value:e(t.value),rest:t.rest}}function or(t,e){const n=e.match(t);return n?{value:parseInt(n[0],10),rest:e.slice(n[0].length)}:null}function Ga(t,e){const n=e.match(t);if(!n)return null;if(n[0]==="Z")return{value:0,rest:e.slice(1)};const r=n[1]==="+"?1:-1,i=n[2]?parseInt(n[2],10):0,s=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*aIe+s*oIe+o*lIe),rest:e.slice(n[0].length)}}function _9(t){return or(kr.anyDigitsSigned,t)}function wr(t,e){switch(t){case 1:return or(kr.singleDigit,e);case 2:return or(kr.twoDigits,e);case 3:return or(kr.threeDigits,e);case 4:return or(kr.fourDigits,e);default:return or(new RegExp("^\\d{1,"+t+"}"),e)}}function a2(t,e){switch(t){case 1:return or(kr.singleDigitSigned,e);case 2:return or(kr.twoDigitsSigned,e);case 3:return or(kr.threeDigitsSigned,e);case 4:return or(kr.fourDigitsSigned,e);default:return or(new RegExp("^-?\\d{1,"+t+"}"),e)}}function B4(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function C9(t,e){const n=e>0,r=n?e:1-e;let i;if(r<=50)i=t||100;else{const s=r+50,o=Math.trunc(s/100)*100,a=t>=s%100;i=t+o-(a?100:0)}return n?i:1-i}function x9(t){return t%400===0||t%4===0&&t%100!==0}class RIe extends gn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Pr(wr(4,n),s);case"yo":return Pr(i.ordinalNumber(n,{unit:"year"}),s);default:return Pr(wr(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i){const s=n.getFullYear();if(i.isTwoDigitYear){const a=C9(i.year,s);return n.setFullYear(a,0,1),n.setHours(0,0,0,0),n}const o=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(o,0,1),n.setHours(0,0,0,0),n}}class UIe extends gn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(n,r,i){const s=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Pr(wr(4,n),s);case"Yo":return Pr(i.ordinalNumber(n,{unit:"year"}),s);default:return Pr(wr(r.length,n),s)}}validate(n,r){return r.isTwoDigitYear||r.year>0}set(n,r,i,s){const o=x4(n,s);if(i.isTwoDigitYear){const l=C9(i.year,o);return n.setFullYear(l,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),cA(n,s)}const a=!("era"in r)||r.era===1?i.year:1-i.year;return n.setFullYear(a,0,s.firstWeekContainsDate),n.setHours(0,0,0,0),cA(n,s)}}class OIe extends gn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(n,r){return a2(r==="R"?4:r.length,n)}set(n,r,i){const s=wi(n,0);return s.setFullYear(i,0,4),s.setHours(0,0,0,0),Yf(s)}}class MIe extends gn{constructor(){super(...arguments);ut(this,"priority",130);ut(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(n,r){return a2(r==="u"?4:r.length,n)}set(n,r,i){return n.setFullYear(i,0,1),n.setHours(0,0,0,0),n}}class QIe extends gn{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"Q":case"QQ":return wr(r.length,n);case"Qo":return i.ordinalNumber(n,{unit:"quarter"});case"QQQ":return i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(n,{width:"wide",context:"formatting"})||i.quarter(n,{width:"abbreviated",context:"formatting"})||i.quarter(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class jIe extends gn{constructor(){super(...arguments);ut(this,"priority",120);ut(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"q":case"qq":return wr(r.length,n);case"qo":return i.ordinalNumber(n,{unit:"quarter"});case"qqq":return i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(n,{width:"wide",context:"standalone"})||i.quarter(n,{width:"abbreviated",context:"standalone"})||i.quarter(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=1&&r<=4}set(n,r,i){return n.setMonth((i-1)*3,1),n.setHours(0,0,0,0),n}}class HIe extends gn{constructor(){super(...arguments);ut(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);ut(this,"priority",110)}parse(n,r,i){const s=o=>o-1;switch(r){case"M":return Pr(or(kr.month,n),s);case"MM":return Pr(wr(2,n),s);case"Mo":return Pr(i.ordinalNumber(n,{unit:"month"}),s);case"MMM":return i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(n,{width:"wide",context:"formatting"})||i.month(n,{width:"abbreviated",context:"formatting"})||i.month(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}class VIe extends gn{constructor(){super(...arguments);ut(this,"priority",110);ut(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(n,r,i){const s=o=>o-1;switch(r){case"L":return Pr(or(kr.month,n),s);case"LL":return Pr(wr(2,n),s);case"Lo":return Pr(i.ordinalNumber(n,{unit:"month"}),s);case"LLL":return i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(n,{width:"wide",context:"standalone"})||i.month(n,{width:"abbreviated",context:"standalone"})||i.month(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.setMonth(i,1),n.setHours(0,0,0,0),n}}function $Ie(t,e,n){const r=Lr(t,n==null?void 0:n.in),i=m9(r,n)-e;return r.setDate(r.getDate()-i*7),Lr(r,n==null?void 0:n.in)}class zIe extends gn{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(n,r,i){switch(r){case"w":return or(kr.week,n);case"wo":return i.ordinalNumber(n,{unit:"week"});default:return wr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i,s){return cA($Ie(n,i,s),s)}}function KIe(t,e,n){const r=Lr(t,n==null?void 0:n.in),i=g9(r,n)-e;return r.setDate(r.getDate()-i*7),r}class WIe extends gn{constructor(){super(...arguments);ut(this,"priority",100);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(n,r,i){switch(r){case"I":return or(kr.week,n);case"Io":return i.ordinalNumber(n,{unit:"week"});default:return wr(r.length,n)}}validate(n,r){return r>=1&&r<=53}set(n,r,i){return Yf(KIe(n,i))}}const GIe=[31,28,31,30,31,30,31,31,30,31,30,31],qIe=[31,29,31,30,31,30,31,31,30,31,30,31];class YIe extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subPriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"d":return or(kr.date,n);case"do":return i.ordinalNumber(n,{unit:"date"});default:return wr(r.length,n)}}validate(n,r){const i=n.getFullYear(),s=x9(i),o=n.getMonth();return s?r>=1&&r<=qIe[o]:r>=1&&r<=GIe[o]}set(n,r,i){return n.setDate(i),n.setHours(0,0,0,0),n}}class XIe extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"subpriority",1);ut(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(n,r,i){switch(r){case"D":case"DD":return or(kr.dayOfYear,n);case"Do":return i.ordinalNumber(n,{unit:"date"});default:return wr(r.length,n)}}validate(n,r){const i=n.getFullYear();return x9(i)?r>=1&&r<=366:r>=1&&r<=365}set(n,r,i){return n.setMonth(0,i),n.setHours(0,0,0,0),n}}function B9(t,e,n){const r=Lr(t,n==null?void 0:n.in);return isNaN(e)?wi((n==null?void 0:n.in)||t,NaN):(e&&r.setDate(r.getDate()+e),r)}function E4(t,e,n){var u,h,d,p;const r=Cp(),i=(n==null?void 0:n.weekStartsOn)??((h=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:h.weekStartsOn)??r.weekStartsOn??((p=(d=r.locale)==null?void 0:d.options)==null?void 0:p.weekStartsOn)??0,s=Lr(t,n==null?void 0:n.in),o=s.getDay(),l=(e%7+7)%7,A=7-i,c=e<0||e>6?e-(o+A)%7:(l+A)%7-(o+A)%7;return B9(s,c,n)}class JIe extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(n,r,i){switch(r){case"E":case"EE":case"EEE":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=E4(n,i,s),n.setHours(0,0,0,0),n}}class ZIe extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"e":case"ee":return Pr(wr(r.length,n),o);case"eo":return Pr(i.ordinalNumber(n,{unit:"day"}),o);case"eee":return i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeeee":return i.day(n,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=E4(n,i,s),n.setHours(0,0,0,0),n}}class e4e extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(n,r,i,s){const o=a=>{const l=Math.floor((a-1)/7)*7;return(a+s.weekStartsOn+6)%7+l};switch(r){case"c":case"cc":return Pr(wr(r.length,n),o);case"co":return Pr(i.ordinalNumber(n,{unit:"day"}),o);case"ccc":return i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"ccccc":return i.day(n,{width:"narrow",context:"standalone"});case"cccccc":return i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(n,{width:"wide",context:"standalone"})||i.day(n,{width:"abbreviated",context:"standalone"})||i.day(n,{width:"short",context:"standalone"})||i.day(n,{width:"narrow",context:"standalone"})}}validate(n,r){return r>=0&&r<=6}set(n,r,i,s){return n=E4(n,i,s),n.setHours(0,0,0,0),n}}function t4e(t,e){const n=Lr(t,e==null?void 0:e.in).getDay();return n===0?7:n}function n4e(t,e,n){const r=Lr(t,n==null?void 0:n.in),i=t4e(r,n),s=e-i;return B9(r,s,n)}class r4e extends gn{constructor(){super(...arguments);ut(this,"priority",90);ut(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(n,r,i){const s=o=>o===0?7:o;switch(r){case"i":case"ii":return wr(r.length,n);case"io":return i.ordinalNumber(n,{unit:"day"});case"iii":return Pr(i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiii":return Pr(i.day(n,{width:"narrow",context:"formatting"}),s);case"iiiiii":return Pr(i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s);case"iiii":default:return Pr(i.day(n,{width:"wide",context:"formatting"})||i.day(n,{width:"abbreviated",context:"formatting"})||i.day(n,{width:"short",context:"formatting"})||i.day(n,{width:"narrow",context:"formatting"}),s)}}validate(n,r){return r>=1&&r<=7}set(n,r,i){return n=n4e(n,i),n.setHours(0,0,0,0),n}}class i4e extends gn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(n,r,i){switch(r){case"a":case"aa":case"aaa":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(B4(i),0,0,0),n}}class s4e extends gn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(n,r,i){switch(r){case"b":case"bb":case"bbb":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(B4(i),0,0,0),n}}class o4e extends gn{constructor(){super(...arguments);ut(this,"priority",80);ut(this,"incompatibleTokens",["a","b","t","T"])}parse(n,r,i){switch(r){case"B":case"BB":case"BBB":return i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(n,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(n,{width:"wide",context:"formatting"})||i.dayPeriod(n,{width:"abbreviated",context:"formatting"})||i.dayPeriod(n,{width:"narrow",context:"formatting"})}}set(n,r,i){return n.setHours(B4(i),0,0,0),n}}class a4e extends gn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["H","K","k","t","T"])}parse(n,r,i){switch(r){case"h":return or(kr.hour12h,n);case"ho":return i.ordinalNumber(n,{unit:"hour"});default:return wr(r.length,n)}}validate(n,r){return r>=1&&r<=12}set(n,r,i){const s=n.getHours()>=12;return s&&i<12?n.setHours(i+12,0,0,0):!s&&i===12?n.setHours(0,0,0,0):n.setHours(i,0,0,0),n}}class l4e extends gn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(n,r,i){switch(r){case"H":return or(kr.hour23h,n);case"Ho":return i.ordinalNumber(n,{unit:"hour"});default:return wr(r.length,n)}}validate(n,r){return r>=0&&r<=23}set(n,r,i){return n.setHours(i,0,0,0),n}}class A4e extends gn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["h","H","k","t","T"])}parse(n,r,i){switch(r){case"K":return or(kr.hour11h,n);case"Ko":return i.ordinalNumber(n,{unit:"hour"});default:return wr(r.length,n)}}validate(n,r){return r>=0&&r<=11}set(n,r,i){return n.getHours()>=12&&i<12?n.setHours(i+12,0,0,0):n.setHours(i,0,0,0),n}}class c4e extends gn{constructor(){super(...arguments);ut(this,"priority",70);ut(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(n,r,i){switch(r){case"k":return or(kr.hour24h,n);case"ko":return i.ordinalNumber(n,{unit:"hour"});default:return wr(r.length,n)}}validate(n,r){return r>=1&&r<=24}set(n,r,i){const s=i<=24?i%24:i;return n.setHours(s,0,0,0),n}}class u4e extends gn{constructor(){super(...arguments);ut(this,"priority",60);ut(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"m":return or(kr.minute,n);case"mo":return i.ordinalNumber(n,{unit:"minute"});default:return wr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setMinutes(i,0,0),n}}class h4e extends gn{constructor(){super(...arguments);ut(this,"priority",50);ut(this,"incompatibleTokens",["t","T"])}parse(n,r,i){switch(r){case"s":return or(kr.second,n);case"so":return i.ordinalNumber(n,{unit:"second"});default:return wr(r.length,n)}}validate(n,r){return r>=0&&r<=59}set(n,r,i){return n.setSeconds(i,0),n}}class d4e extends gn{constructor(){super(...arguments);ut(this,"priority",30);ut(this,"incompatibleTokens",["t","T"])}parse(n,r){const i=s=>Math.trunc(s*Math.pow(10,-r.length+3));return Pr(wr(r.length,n),i)}set(n,r,i){return n.setMilliseconds(i),n}}class f4e extends gn{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","x"])}parse(n,r){switch(r){case"X":return Ga(Wa.basicOptionalMinutes,n);case"XX":return Ga(Wa.basic,n);case"XXXX":return Ga(Wa.basicOptionalSeconds,n);case"XXXXX":return Ga(Wa.extendedOptionalSeconds,n);case"XXX":default:return Ga(Wa.extended,n)}}set(n,r,i){return r.timestampIsSet?n:wi(n,n.getTime()-o2(n)-i)}}class p4e extends gn{constructor(){super(...arguments);ut(this,"priority",10);ut(this,"incompatibleTokens",["t","T","X"])}parse(n,r){switch(r){case"x":return Ga(Wa.basicOptionalMinutes,n);case"xx":return Ga(Wa.basic,n);case"xxxx":return Ga(Wa.basicOptionalSeconds,n);case"xxxxx":return Ga(Wa.extendedOptionalSeconds,n);case"xxx":default:return Ga(Wa.extended,n)}}set(n,r,i){return r.timestampIsSet?n:wi(n,n.getTime()-o2(n)-i)}}class g4e extends gn{constructor(){super(...arguments);ut(this,"priority",40);ut(this,"incompatibleTokens","*")}parse(n){return _9(n)}set(n,r,i){return[wi(n,i*1e3),{timestampIsSet:!0}]}}class m4e extends gn{constructor(){super(...arguments);ut(this,"priority",20);ut(this,"incompatibleTokens","*")}parse(n){return _9(n)}set(n,r,i){return[wi(n,i),{timestampIsSet:!0}]}}const v4e={G:new LIe,y:new RIe,Y:new UIe,R:new OIe,u:new MIe,Q:new QIe,q:new jIe,M:new HIe,L:new VIe,w:new zIe,I:new WIe,d:new YIe,D:new XIe,E:new JIe,e:new ZIe,c:new e4e,i:new r4e,a:new i4e,b:new s4e,B:new o4e,h:new a4e,H:new l4e,K:new A4e,k:new c4e,m:new u4e,s:new h4e,S:new d4e,X:new f4e,x:new p4e,t:new g4e,T:new m4e},y4e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,w4e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,b4e=/^'([^]*?)'?$/,_4e=/''/g,C4e=/\S/,x4e=/[a-zA-Z]/;function B4e(t,e,n,r){var b,g,v,_,x,F,O,I;const i=()=>wi((r==null?void 0:r.in)||n,NaN),s=IIe(),o=(r==null?void 0:r.locale)??s.locale??d9,a=(r==null?void 0:r.firstWeekContainsDate)??((g=(b=r==null?void 0:r.locale)==null?void 0:b.options)==null?void 0:g.firstWeekContainsDate)??s.firstWeekContainsDate??((_=(v=s.locale)==null?void 0:v.options)==null?void 0:_.firstWeekContainsDate)??1,l=(r==null?void 0:r.weekStartsOn)??((F=(x=r==null?void 0:r.locale)==null?void 0:x.options)==null?void 0:F.weekStartsOn)??s.weekStartsOn??((I=(O=s.locale)==null?void 0:O.options)==null?void 0:I.weekStartsOn)??0;if(!e)return t?i():Lr(n,r==null?void 0:r.in);const A={firstWeekContainsDate:a,weekStartsOn:l,locale:o},c=[new DIe(r==null?void 0:r.in,n)],u=e.match(w4e).map(B=>{const T=B[0];if(T in JE){const R=JE[T];return R(B,o.formatLong)}return B}).join("").match(y4e),h=[];for(let B of u){!(r!=null&&r.useAdditionalWeekYearTokens)&&w9(B)&&ZE(B,e,t),!(r!=null&&r.useAdditionalDayOfYearTokens)&&y9(B)&&ZE(B,e,t);const T=B[0],R=v4e[T];if(R){const{incompatibleTokens:D}=R;if(Array.isArray(D)){const k=h.find(N=>D.includes(N.token)||N.token===T);if(k)throw new RangeError(`The format string mustn't contain \`${k.fullToken}\` and \`${B}\` at the same time`)}else if(R.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${B}\` and any other token at the same time`);h.push({token:T,fullToken:B});const E=R.run(t,B,o.match,A);if(!E)return i();c.push(E.setter),t=E.rest}else{if(T.match(x4e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");if(B==="''"?B="'":T==="'"&&(B=E4e(B)),t.indexOf(B)===0)t=t.slice(B.length);else return i()}}if(t.length>0&&C4e.test(t))return i();const d=c.map(B=>B.priority).sort((B,T)=>T-B).filter((B,T,R)=>R.indexOf(B)===T).map(B=>c.filter(T=>T.priority===B).sort((T,R)=>R.subPriority-T.subPriority)).map(B=>B[0]);let p=Lr(n,r==null?void 0:r.in);if(isNaN(+p))return i();const f={};for(const B of d){if(!B.validate(p,A))return i();const T=B.set(p,f,A);Array.isArray(T)?(p=T[0],Object.assign(f,T[1])):p=T}return p}function E4e(t){return t.match(b4e)[1].replace(_4e,"'")}function S4e(t,e){return Lr(t,e==null?void 0:e.in).getDay()}const T4e={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 día",other:"{{count}} días"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 año",other:"alrededor de {{count}} años"},xYears:{one:"1 año",other:"{{count}} años"},overXYears:{one:"más de 1 año",other:"más de {{count}} años"},almostXYears:{one:"casi 1 año",other:"casi {{count}} años"}},I4e=(t,e,n)=>{let r;const i=T4e[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"en "+r:"hace "+r:r},N4e={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},F4e={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},k4e={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P4e={date:pf({formats:N4e,defaultWidth:"full"}),time:pf({formats:F4e,defaultWidth:"full"}),dateTime:pf({formats:k4e,defaultWidth:"full"})},D4e={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'mañana a la' p",nextWeek:"eeee 'a la' p",other:"P"},L4e={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'mañana a las' p",nextWeek:"eeee 'a las' p",other:"P"},R4e=(t,e,n,r)=>e.getHours()!==1?L4e[t]:D4e[t],U4e={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","después de cristo"]},O4e={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1º trimestre","2º trimestre","3º trimestre","4º trimestre"]},M4e={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},Q4e={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","sá"],abbreviated:["dom","lun","mar","mié","jue","vie","sáb"],wide:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"]},j4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"mañana",afternoon:"tarde",evening:"tarde",night:"noche"}},H4e={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la mañana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},V4e=(t,e)=>Number(t)+"º",$4e={ordinalNumber:V4e,era:za({values:U4e,defaultWidth:"wide"}),quarter:za({values:O4e,defaultWidth:"wide",argumentCallback:t=>Number(t)-1}),month:za({values:M4e,defaultWidth:"wide"}),day:za({values:Q4e,defaultWidth:"wide"}),dayPeriod:za({values:j4e,defaultWidth:"wide",formattingValues:H4e,defaultFormattingWidth:"wide"})},z4e=/^(\d+)(º)?/i,K4e=/\d+/i,W4e={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},G4e={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},q4e={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},Y4e={any:[/1/i,/2/i,/3/i,/4/i]},X4e={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},J4e={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},Z4e={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},eNe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},tNe={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},nNe={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},rNe={ordinalNumber:h9({matchPattern:z4e,parsePattern:K4e,valueCallback:function(t){return parseInt(t,10)}}),era:Ka({matchPatterns:W4e,defaultMatchWidth:"wide",parsePatterns:G4e,defaultParseWidth:"any"}),quarter:Ka({matchPatterns:q4e,defaultMatchWidth:"wide",parsePatterns:Y4e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ka({matchPatterns:X4e,defaultMatchWidth:"wide",parsePatterns:J4e,defaultParseWidth:"any"}),day:Ka({matchPatterns:Z4e,defaultMatchWidth:"wide",parsePatterns:eNe,defaultParseWidth:"any"}),dayPeriod:Ka({matchPatterns:tNe,defaultMatchWidth:"any",parsePatterns:nNe,defaultParseWidth:"any"})},iNe={code:"es",formatDistance:I4e,formatLong:P4e,formatRelative:R4e,localize:$4e,match:rNe,options:{weekStartsOn:1,firstWeekContainsDate:1}};function GC(t){const e=n=>String(n).padStart(2,"0");return`${t.getUTCFullYear()}${e(t.getUTCMonth()+1)}${e(t.getUTCDate())}T${e(t.getUTCHours())}${e(t.getUTCMinutes())}${e(t.getUTCSeconds())}Z`}function sNe(t){const e=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//Lovenda//WeddingApp//ES"];return t.forEach(n=>{e.push("BEGIN:VEVENT"),e.push(`UID:${n.id}`),e.push(`DTSTAMP:${GC(new Date)}`),e.push(`DTSTART:${GC(n.start)}`),e.push(`DTEND:${GC(n.end)}`),e.push(`SUMMARY:${n.title}`),n.desc&&e.push(`DESCRIPTION:${n.desc}`),e.push("END:VEVENT")}),e.push("END:VCALENDAR"),e.join(`\r
`)}const oNe=t=>{const e=sNe(t),n=new Blob([e],{type:"text/calendar;charset=utf-8"}),r=URL.createObjectURL(n),i=document.createElement("a");i.href=r,i.download="calendario_wedding.ics",document.body.appendChild(i),i.click(),document.body.removeChild(i)},aNe={"es-ES":iNe},lNe=ETe({format:SIe,parse:B4e,startOfWeek:()=>cA(new Date,{weekStartsOn:1}),getDay:S4e,locales:aNe}),Xu={LUGAR:{name:"Lugar",color:"#10b981",bgColor:"#d1fae5",borderColor:"#34d399"},FOTOGRAFO:{name:"Fotógrafo",color:"#f59e0b",bgColor:"#fef3c7",borderColor:"#fbbf24"},MUSICA:{name:"Música",color:"#ef4444",bgColor:"#fee2e2",borderColor:"#f87171"},VESTUARIO:{name:"Vestuario",color:"#8b5cf6",bgColor:"#ede9fe",borderColor:"#a78bfa"},CATERING:{name:"Catering",color:"#3b82f6",bgColor:"#dbeafe",borderColor:"#60a5fa"},OTROS:{name:"Otros",color:"#6b7280",bgColor:"#f3f4f6",borderColor:"#9ca3af"}},ANe=t=>{const e=Xu[t.category]||Xu.OTROS;return{style:{backgroundColor:e.bgColor,color:"#1f2937",border:`2px solid ${e.color}`,borderRadius:"4px",opacity:.9,display:"block",fontSize:"0.85rem",padding:"2px 4px",boxShadow:"0 1px 2px rgba(0,0,0,0.1)"}}},cNe=({event:t})=>{const e=Xu[t.category]||Xu.OTROS;return y.jsx("div",{className:"p-1",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("div",{className:"w-1.5 h-1.5 rounded-full mr-1 flex-shrink-0",style:{backgroundColor:e.color}}),y.jsx("span",{className:"truncate font-medium",children:t.title})]})})},py=[{start:new Date(2025,0,1),end:new Date(2025,2,31),name:"Buscar lugar de la boda",id:"1",type:"task",category:"LUGAR",progress:20,isDisabled:!1,dependencies:[]},{start:new Date(2025,3,1),end:new Date(2025,4,15),name:"Buscar fotógrafo",id:"2",type:"task",category:"FOTOGRAFO",progress:10,isDisabled:!1,dependencies:[]},{start:new Date(2025,2,15),end:new Date(2025,3,30),name:"Contratar grupo musical",id:"3",type:"task",category:"MUSICA",progress:5,isDisabled:!1,dependencies:[]}],uNe=[{id:"m1",title:"Visita al salón de eventos",start:new Date(2025,5,10,10,0),end:new Date(2025,5,10,11,30),type:"meeting",category:"LUGAR",desc:"Ver las instalaciones y paquetes disponibles",location:"Salón Las Dalias, Calle Principal 123"},{id:"m2",title:"Reunión con fotógrafo",start:new Date(2025,5,12,16,0),end:new Date(2025,5,12,17,0),type:"meeting",category:"FOTOGRAFO",desc:"Revisar portafolio y paquetes",contact:"Fotografía Martínez, 555-1234"},{id:"m3",title:"Prueba de vestido",start:new Date(2025,5,15,16,0),end:new Date(2025,5,15,18,0),type:"task",category:"VESTUARIO",desc:"Llevar zapatos y joyas",location:"Boutique Elegancia, Centro Comercial Galerías"},{id:"m4",title:"Prueba de sonido con la banda",start:new Date(2025,5,18,19,0),end:new Date(2025,5,18,21,0),type:"task",category:"MUSICA",desc:"Llevar lista de canciones",contact:"Banda Sonora Perfecta, 555-5678"},{id:"m5",title:"Cata de menú",start:new Date(2025,5,20,12,0),end:new Date(2025,5,20,13,0),type:"meeting",category:"CATERING",desc:"Probar opciones de menú y postres",location:"Catering Delicias, Av. Principal 456"}];function hNe(){const[t,e]=$.useState(()=>localStorage.getItem("tasksView")||"month"),n=$.useRef(null);$.useEffect(()=>{localStorage.setItem("tasksView",t)},[t]);const r=40,[i,s]=$.useState(0);$.useEffect(()=>{if(!n.current)return;const l=n.current.clientWidth,A=py.flatMap(g=>[g.start,g.end]),c=Math.min(...A.map(g=>g.getTime())),u=Math.max(...A.map(g=>g.getTime())),h=new Date(c),d=new Date(u),p=(d.getFullYear()-h.getFullYear())*12+(d.getMonth()-h.getMonth())+1,f=l-r,b=Math.min(Math.floor(f/p),50);s(b)},[py]);const o=[...uNe,...py.map(l=>({id:l.id,title:l.name,start:l.start,end:l.end,type:"task",desc:`Progreso: ${l.progress}%`,category:l.category}))];$.useEffect(()=>{"Notification"in window&&Notification.requestPermission().then(l=>{l==="granted"&&o.forEach(A=>{const c=new Date,u=A.start-c-10*60*1e3;u>0&&setTimeout(()=>{new Notification(`Próximo evento: ${A.title}`,{body:`Empieza a las ${A.start.toLocaleTimeString()}`})},u)})})},[o]);const a=o.map(l=>({...l,start:l.start instanceof Date?l.start:new Date(l.start),end:l.end instanceof Date?l.end:new Date(l.end)}));return y.jsxs("div",{className:"p-4 md:p-6 space-y-8",children:[y.jsx("style",{children:` 
        ._1nBOt > *:nth-child(n+2),
        ._34SS0 > *:nth-child(n+2) {
          display: none !important;
        }
      `}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestión de Tareas y Eventos"}),y.jsxs("details",{className:"relative inline-block",children:[y.jsx("summary",{className:"bg-blue-600 text-white px-3 py-1 rounded cursor-pointer",children:"Sincronizar calendario"}),y.jsxs("div",{className:"absolute left-0 mt-2 bg-white border rounded shadow p-2 space-y-1",children:[y.jsx("button",{onClick:()=>oNe(o),className:"w-full text-left text-gray-800 hover:bg-gray-100 p-1",children:"Exportar .ics"}),y.jsx("button",{onClick:()=>window.open("/calendar.ics","_blank"),className:"w-full text-left text-gray-800 hover:bg-gray-100 p-1",children:"Suscribirse iCal"}),y.jsx("a",{href:`https://calendar.google.com/calendar/r?cid=${encodeURIComponent(window.location.origin+"/calendar.ics")}`,target:"_blank",rel:"noopener",className:"w-full block text-left text-gray-800 hover:bg-gray-100 p-1",children:"Google Calendar"}),y.jsx("a",{href:`https://outlook.live.com/owa/?path=/calendar/view&rru=addsubscription&url=${encodeURIComponent(window.location.origin+"/calendar.ics")}`,target:"_blank",rel:"noopener",className:"w-full block text-left text-gray-800 hover:bg-gray-100 p-1",children:"Outlook Calendar"})]})]})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Vista del Proyecto"}),y.jsx("div",{ref:n,className:"w-full overflow-x-hidden",style:{marginLeft:-r,paddingLeft:r},children:y.jsx(Fde,{tasks:py,viewMode:Hn.Month,listCellWidth:r,columnWidth:i,locale:"es",barFill:60,barCornerRadius:4,barProgressColor:"#4f46e5",barProgressSelectedColor:"#4338ca",barBackgroundColor:"#a5b4fc",barBackgroundSelectedColor:"#818cf8",todayColor:"rgba(252,165,165,0.2)"})})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[y.jsx("div",{className:"md:w-2/3",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Calendario"}),y.jsxs("div",{className:"flex space-x-2 mt-2",children:[y.jsx("button",{onClick:()=>e("month"),className:`px-3 py-1 text-sm rounded ${t==="month"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Mes"}),y.jsx("button",{onClick:()=>e("week"),className:`px-3 py-1 text-sm rounded ${t==="week"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Semana"}),y.jsx("button",{onClick:()=>e("day"),className:`px-3 py-1 text-sm rounded ${t==="day"?"bg-pink-500 text-white":"bg-gray-200"}`,children:"Día"})]})]}),y.jsx("div",{className:"p-2",children:y.jsx(wTe,{localizer:lNe,events:a,startAccessor:"start",endAccessor:"end",style:{height:500},defaultView:"month",view:t,onView:e,components:{event:cNe},eventPropGetter:ANe,messages:{next:"Siguiente",previous:"Anterior",today:"Hoy",month:"Mes",week:"Semana",day:"Día",noEventsInRange:"No hay eventos en este rango."}})})]})}),y.jsx("div",{className:"md:w-1/3",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden h-full flex flex-col",children:[y.jsxs("div",{className:"p-4 border-b border-gray-200",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Próximas Tareas"}),y.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Object.entries(Xu).map(([l,A])=>y.jsxs("div",{className:"flex items-center text-xs",children:[y.jsx("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:A.color}}),A.name]},l))})]}),y.jsxs("div",{className:"p-4 space-y-4 flex-1 overflow-y-auto",children:[a.sort((l,A)=>l.start-A.start).filter(l=>l.start>=new Date).slice(0,8).map(l=>{const A=Xu[l.category]||Xu.OTROS;return y.jsxs("div",{className:"p-3 border rounded-lg hover:shadow-md transition-shadow",style:{borderColor:A.borderColor,backgroundColor:`${A.bgColor}40`},children:[y.jsxs("div",{className:"flex items-start",children:[y.jsx("div",{className:"w-3 h-3 rounded-full mr-2 flex-shrink-0",style:{backgroundColor:A.color}}),y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"font-medium flex justify-between",children:[y.jsx("span",{children:l.title}),y.jsx("span",{className:"text-xs text-gray-500",children:l.start.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})})]}),l.desc&&y.jsx("div",{className:"text-xs mt-1 text-gray-700",children:l.desc}),l.location&&y.jsxs("div",{className:"text-xs mt-1 flex items-center text-gray-600",children:[y.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9"})}),l.location]}),l.contact&&y.jsxs("div",{className:"text-xs mt-1 flex items-center text-gray-600",children:[y.jsx("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 5a2 2"})}),l.contact]})]})]}),y.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[y.jsx("span",{className:"text-xs px-2 py-1 rounded-full",style:{backgroundColor:`${A.color}20`,color:A.color},children:A.name}),y.jsx("span",{className:"text-xs text-gray-500",children:l.start.toLocaleDateString("es-ES",{weekday:"short",day:"numeric",month:"short"})})]})]},l.id)}),a.filter(l=>l.start>=new Date).length===0&&y.jsx("div",{className:"text-center text-gray-500 py-4",children:"No hay tareas próximas"})]})]})})]})]})}function S4({message:t,type:e="info",onClose:n,duration:r=3e3}){$.useEffect(()=>{const s=setTimeout(n,r);return()=>clearTimeout(s)},[n,r]);const i={success:"bg-green-500",error:"bg-red-500",info:"bg-blue-500",warning:"bg-yellow-500"}[e]||"bg-gray-500";return y.jsx("div",{role:"alert","aria-live":"assertive",className:`fixed top-4 right-4 ${i} text-white px-4 py-2 rounded shadow-lg`,children:t})}var E9={exports:{}};(function(t,e){(function(n,r){r()})(Fr,function(){function n(A,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(A.type)?new Blob(["\uFEFF",A],{type:A.type}):A}function r(A,c,u){var h=new XMLHttpRequest;h.open("GET",A),h.responseType="blob",h.onload=function(){l(h.response,c,u)},h.onerror=function(){console.error("could not download file")},h.send()}function i(A){var c=new XMLHttpRequest;c.open("HEAD",A,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function s(A){try{A.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(c)}}var o=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Fr=="object"&&Fr.global===Fr?Fr:void 0,a=o.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=o.saveAs||(typeof window!="object"||window!==o?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(A,c,u){var h=o.URL||o.webkitURL,d=document.createElement("a");c=c||A.name||"download",d.download=c,d.rel="noopener",typeof A=="string"?(d.href=A,d.origin===location.origin?s(d):i(d.href)?r(A,c,u):s(d,d.target="_blank")):(d.href=h.createObjectURL(A),setTimeout(function(){h.revokeObjectURL(d.href)},4e4),setTimeout(function(){s(d)},0))}:"msSaveOrOpenBlob"in navigator?function(A,c,u){if(c=c||A.name||"download",typeof A!="string")navigator.msSaveOrOpenBlob(n(A,u),c);else if(i(A))r(A,c,u);else{var h=document.createElement("a");h.href=A,h.target="_blank",setTimeout(function(){s(h)})}}:function(A,c,u,h){if(h=h||open("","_blank"),h&&(h.document.title=h.document.body.innerText="downloading..."),typeof A=="string")return r(A,c,u);var d=A.type==="application/octet-stream",p=/constructor/i.test(o.HTMLElement)||o.safari,f=/CriOS\/[\d]+/.test(navigator.userAgent);if((f||d&&p||a)&&typeof FileReader<"u"){var b=new FileReader;b.onloadend=function(){var _=b.result;_=f?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"),h?h.location.href=_:location=_,h=null},b.readAsDataURL(A)}else{var g=o.URL||o.webkitURL,v=g.createObjectURL(A);h?h.location=v:location.href=v,h=null,setTimeout(function(){g.revokeObjectURL(v)},4e4)}});o.saveAs=l.saveAs=l,t.exports=l})})(E9);var dNe=E9.exports;function pn({children:t,className:e=""}){return y.jsx("div",{className:`bg-white/80 backdrop-blur-md shadow rounded-2xl p-4 transition-colors duration-300 ${e}`,children:t})}function ir({variant:t="primary",children:e,className:n="",...r}){const i="px-4 py-2 rounded transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",s={primary:"bg-blue-600 text-white hover:bg-blue-700",secondary:"bg-gray-300 text-gray-800 hover:bg-gray-400",success:"bg-green-500 text-white hover:bg-green-600",danger:"bg-red-600 text-white hover:bg-red-700"},o=`${i} ${s[t]||s.primary} ${n}`;return y.jsx("button",{className:o,...r,children:e})}function a0({open:t,title:e,children:n,onClose:r}){return t?y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",onClick:r,children:y.jsxs("div",{className:"bg-white rounded shadow-lg p-4 w-full max-w-md",onClick:i=>i.stopPropagation(),children:[y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsx("h2",{className:"text-lg font-bold",children:e}),y.jsx("button",{onClick:r,className:"text-gray-500",children:"✖"})]}),n]})}):null}function fNe(){const[t,e]=re.useState(!1),n=12e3,r=[{id:1,name:"Fotógrafo",amount:800,date:"2025-07-10"},{id:2,name:"Florería",amount:600,date:"2025-07-15"}],i=[{id:1,name:"Regalo padres",amount:2e3,date:"2025-07-20"}],s=r,o=[{id:1,name:"Reserva finca",amount:3e3,date:"2025-06-01",type:"expense"},{id:2,name:"Aportación Persona A",amount:5e3,date:"2025-05-30",type:"income"}],a=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"});return y.jsxs("div",{className:"space-y-6 p-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Finanzas"}),y.jsxs("div",{className:"flex flex-wrap gap-4 items-start",children:[y.jsxs(pn,{className:"flex-1 min-w-[260px] text-center",children:[y.jsx("h2",{className:"text-lg font-medium mb-2",children:"Saldo disponible"}),y.jsx("p",{className:"text-4xl font-bold text-green-600",children:a.format(n)})]}),y.jsxs("div",{className:"flex flex-1 gap-4 flex-wrap",children:[y.jsxs(pn,{className:"flex-1 min-w-[220px]",children:[y.jsx("h3",{className:"font-medium mb-2",children:"Próximos gastos"}),y.jsx("ul",{className:"text-sm space-y-1",children:r.map(l=>y.jsxs("li",{className:"flex justify-between",children:[y.jsx("span",{children:l.name}),y.jsx("span",{className:"text-red-600",children:a.format(l.amount)})]},l.id))})]}),y.jsxs(pn,{className:"flex-1 min-w-[220px]",children:[y.jsx("h3",{className:"font-medium mb-2",children:"Próximos ingresos"}),y.jsx("ul",{className:"text-sm space-y-1",children:i.map(l=>y.jsxs("li",{className:"flex justify-between",children:[y.jsx("span",{children:l.name}),y.jsx("span",{className:"text-green-600",children:a.format(l.amount)})]},l.id))})]})]}),y.jsx(ir,{leftIcon:y.jsx(Fhe,{size:18}),onClick:()=>e(!0),children:"Configuración"})]}),y.jsxs(pn,{children:[y.jsx("h3",{className:"font-medium mb-2",children:"Gastos pendientes"}),y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{children:"Concepto"}),y.jsx("th",{children:"Fecha"}),y.jsx("th",{children:"Importe"})]})}),y.jsx("tbody",{children:s.map(l=>y.jsxs("tr",{className:"border-t",children:[y.jsx("td",{children:l.name}),y.jsx("td",{children:l.date}),y.jsx("td",{className:"text-red-600",children:a.format(l.amount)})]},l.id))})]})]}),y.jsxs(pn,{children:[y.jsx("h3",{className:"font-medium mb-2",children:"Histórico de gastos e ingresos"}),y.jsxs("table",{className:"w-full text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left",children:[y.jsx("th",{children:"Concepto"}),y.jsx("th",{children:"Fecha"}),y.jsx("th",{children:"Importe"}),y.jsx("th",{children:"Tipo"})]})}),y.jsx("tbody",{children:o.map(l=>y.jsxs("tr",{className:"border-t",children:[y.jsx("td",{children:l.name}),y.jsx("td",{children:l.date}),y.jsx("td",{className:l.type==="expense"?"text-red-600":"text-green-600",children:a.format(l.amount)}),y.jsx("td",{children:l.type==="expense"?"Gasto":"Ingreso"})]},l.id))})]})]}),y.jsx(a0,{open:t,onClose:()=>e(!1),title:"Configuración finanzas",children:y.jsxs("div",{className:"space-y-3",children:[y.jsxs("label",{className:"block",children:["Aportación Persona A",y.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-full",placeholder:"€"})]}),y.jsxs("label",{className:"block",children:["Aportación Persona B",y.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-full",placeholder:"€"})]}),y.jsxs("label",{className:"block",children:["Regalos estimados invitados",y.jsx("input",{type:"number",className:"border rounded px-2 py-1 w-full",placeholder:"€"})]}),y.jsx("div",{className:"text-right",children:y.jsx(ir,{onClick:()=>e(!1),children:"Guardar"})})]})})]})}function pNe(){const[t,e]=$.useState(null);return y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Más"}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx(_b,{size:24,className:"text-gray-600 cursor-pointer"}),y.jsx("img",{src:"https://via.placeholder.com/32",alt:"Avatar",className:"w-8 h-8 rounded-full"})]})]}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>e(t==="invitados"?null:"invitados"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[y.jsx(PE,{size:32,className:"text-blue-600 mb-2"}),y.jsx("h2",{className:"font-semibold mb-1",children:"Invitados"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona invitados y seating plan."})]}),t==="invitados"&&y.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[y.jsx(hi,{to:"/invitados",className:"block px-4 py-2 hover:bg-gray-100",children:"Gestión de invitados"}),y.jsx(hi,{to:"/invitados/seating",className:"block px-4 py-2 hover:bg-gray-100",children:"Seating plan"})]})]}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>e(t==="proveedores"?null:"proveedores"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[y.jsx(mhe,{size:32,className:"text-blue-600 mb-2"}),y.jsx("h2",{className:"font-semibold mb-1",children:"Proveedores"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Gestiona proveedores y contratos."})]}),t==="proveedores"&&y.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[y.jsx(hi,{to:"/proveedores",className:"block px-4 py-2 hover:bg-gray-100",children:"Gestión de proveedores"}),y.jsx(hi,{to:"/proveedores/contratos",className:"block px-4 py-2 hover:bg-gray-100",children:"Contratos"})]})]}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>e(t==="protocolo"?null:"protocolo"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[y.jsx(bhe,{size:32,className:"text-blue-600 mb-2"}),y.jsx("h2",{className:"font-semibold mb-1",children:"Protocolo"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Define momentos, timing y checklist de protocolo."})]}),t==="protocolo"&&y.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[y.jsx(hi,{to:"/protocolo/momentos-especiales",className:"block px-4 py-2 hover:bg-gray-100",children:"Momentos especiales"}),y.jsx(hi,{to:"/protocolo/timing",className:"block px-4 py-2 hover:bg-gray-100",children:"Timing"}),y.jsx(hi,{to:"/protocolo/checklist",className:"block px-4 py-2 hover:bg-gray-100",children:"Checklist"}),y.jsx(hi,{to:"/protocolo/ayuda-ceremonia",className:"block px-4 py-2 hover:bg-gray-100",children:"Ayuda Ceremonia"})]})]}),y.jsxs("div",{className:"relative",children:[y.jsxs("button",{onClick:()=>e(t==="extras"?null:"extras"),className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col text-left w-full",children:[y.jsx(She,{size:32,className:"text-blue-600 mb-2"}),y.jsx("h2",{className:"font-semibold mb-1",children:"Extras"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Diseño web e ideas"})]}),t==="extras"&&y.jsxs("div",{className:"absolute bg-white border border-gray-200 rounded shadow mt-2 w-full z-10",children:[y.jsx(hi,{to:"/diseno-web",className:"block px-4 py-2 hover:bg-gray-100",children:"Diseño Web"}),y.jsx(hi,{to:"/disenos",className:"block px-4 py-2 hover:bg-gray-100",children:"Diseños"}),y.jsx(hi,{to:"/ideas",className:"block px-4 py-2 hover:bg-gray-100",children:"Ideas"})]})]}),y.jsxs(hi,{to:"/perfil",className:"bg-white p-4 rounded shadow hover:shadow-md flex flex-col",children:[y.jsx(zw,{size:32,className:"text-blue-600 mb-2"}),y.jsx("h2",{className:"font-semibold mb-1",children:"Perfil"}),y.jsx("p",{className:"text-sm text-gray-600",children:"Configura tu cuenta, roles y suscripciones."})]})]}),y.jsx("div",{className:"mt-6 p-4 bg-gray-50 rounded",children:y.jsx(xv,{})})]})}const Jr=re.forwardRef(({className:t="",label:e,error:n,id:r,...i},s)=>{const o=r||`input-${Math.random().toString(36).substr(2,9)}`;return y.jsxs("div",{className:`w-full ${t}`,children:[e&&y.jsx("label",{htmlFor:o,className:"block text-sm font-medium text-gray-700 mb-1",children:e}),y.jsx("input",{id:o,ref:s,className:`w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${n?"border-red-500":"border-gray-300"}`,"aria-invalid":!!n,"aria-describedby":n?`${o}-error`:void 0,...i}),n&&y.jsx("p",{id:`${o}-error`,className:"mt-1 text-sm text-red-600",role:"alert",children:n})]})});Jr.displayName="Input";function gNe(){const t=[{id:1,name:"Ana García",phone:"123456789",address:"Calle Sol 1",companion:1,table:"5",response:"Sí"},{id:2,name:"Luis Martínez",phone:"987654321",address:"Av. Luna 3",companion:0,table:"",response:"Pendiente"}],[e,n]=re.useState(t),[r,i]=re.useState(""),[s,o]=re.useState(""),[a,l]=re.useState(""),[A,c]=re.useState(!1),[u,h]=re.useState(null),d={name:"",phone:"",address:"",companion:0,table:"",response:"Pendiente"},p=async()=>{if(navigator.contacts&&navigator.contacts.select)try{const _=await navigator.contacts.select(["name","tel"],{multiple:!0});_&&_.length&&n(x=>{let F=x.length?Math.max(...x.map(I=>I.id))+1:1;const O=_.map(I=>({id:F++,name:Array.isArray(I.name)?I.name[0]:I.name||"Invitado",phone:Array.isArray(I.tel)?I.tel[0]:I.tel||"",address:"",companion:0,table:"",response:"Pendiente"}));return[...x,...O]})}catch(_){console.error("Error importando contactos",_)}else alert("La API de Contactos no está disponible en este dispositivo.")},f=()=>{u.name.trim()&&(n(_=>{if(u.id)return _.map(F=>F.id===u.id?u:F);const x=_.length?Math.max(..._.map(F=>F.id))+1:1;return[..._,{...u,id:x}]}),c(!1),h(null))},b=_=>{window.confirm("¿Eliminar invitado?")&&n(x=>x.filter(F=>F.id!==_))},g=e.filter(_=>_.name.toLowerCase().includes(r.toLowerCase())&&(s?_.response===s:!0)&&(a?String(_.table)===a:!0)),v=_=>{if(!_)return"";const x=e.filter(F=>F.table===_).map(F=>F.name);return`Mesa de ${x.slice(0,3).join(", ")}${x.length>3?"…":""}`};return y.jsxs("div",{className:"p-6 space-y-6",children:[y.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[y.jsx("h1",{className:"text-2xl font-semibold mr-auto",children:"Gestión de Invitados"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx(ir,{leftIcon:y.jsx(bb,{size:16}),onClick:()=>{h({...d}),c(!0)},children:"Añadir Invitado"}),y.jsx(ir,{variant:"outline",leftIcon:y.jsx(The,{size:16}),onClick:p,children:"Añadir desde contactos"})]})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[y.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[y.jsx(_b,{size:16,className:"mr-2 text-gray-600"}),y.jsx("input",{type:"text",placeholder:"Buscar por nombre",value:r,onChange:_=>i(_.target.value),className:"outline-none"})]}),y.jsxs("select",{value:s,onChange:_=>o(_.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todas las respuestas"}),y.jsx("option",{value:"Sí",children:"Sí"}),y.jsx("option",{value:"No",children:"No"}),y.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),y.jsx("input",{type:"text",placeholder:"Mesa",value:a,onChange:_=>l(_.target.value),className:"border rounded px-2 py-1 w-24"})]}),y.jsx("div",{className:"overflow-auto",children:y.jsxs("table",{className:"w-full table-auto text-sm",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-50 text-left",children:[y.jsx("th",{className:"p-2",children:"Nombre"}),y.jsx("th",{className:"p-2",children:"Teléfono"}),y.jsx("th",{className:"p-2",children:"Respuesta"}),y.jsx("th",{className:"p-2",children:"Acompañante(s)"}),y.jsx("th",{className:"p-2",children:"Mesa"}),y.jsx("th",{className:"p-2",children:"Acciones"})]})}),y.jsx("tbody",{children:g.map(_=>y.jsxs("tr",{className:"border-b hover:bg-gray-50 cursor-pointer",onClick:()=>{h({..._}),c(!0)},children:[y.jsxs("td",{className:"p-2 flex items-center",children:[y.jsx(zw,{size:16,className:"mr-2 text-gray-600"}),_.name]}),y.jsx("td",{className:"p-2",children:_.phone}),y.jsx("td",{className:"p-2",children:_.response}),y.jsx("td",{className:"p-2",children:_.companion}),y.jsx("td",{className:"p-2",title:v(_.table),children:_.table||"-"}),y.jsx("td",{className:"p-2",onClick:x=>x.stopPropagation(),children:y.jsx(Gv,{size:16,className:"text-red-600",onClick:()=>b(_.id)})})]},_.id))})]})}),A&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:y.jsxs("div",{className:"bg-white p-6 rounded shadow w-96 space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:u!=null&&u.id?"Editar Invitado":"Añadir Invitado"}),y.jsxs("div",{className:"space-y-3",children:[y.jsx(Jr,{label:"Nombre",value:u.name,onChange:_=>h({...u,name:_.target.value})}),y.jsx(Jr,{label:"Teléfono",value:u.phone,onChange:_=>h({...u,phone:_.target.value})}),y.jsx(Jr,{label:"Dirección postal",value:u.address,onChange:_=>h({...u,address:_.target.value})}),y.jsx(Jr,{label:"Acompañantes",type:"number",min:"0",value:u.companion,onChange:_=>h({...u,companion:parseInt(_.target.value,10)||0})}),y.jsx(Jr,{label:"Mesa (número o apodo)",value:u.table,onChange:_=>h({...u,table:_.target.value})})]}),y.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[y.jsx(ir,{variant:"outline",onClick:()=>{c(!1),h(null)},children:"Cancelar"}),y.jsx(ir,{onClick:f,children:"Guardar"})]})]})})]})}function mNe(){const t=[{id:1,name:"Eventos Catering",service:"Catering",contact:"Luis Pérez",email:"luis@catering.com",phone:"555-1234",status:"Contactado",date:"2025-06-10",rating:0,ratingCount:0},{id:2,name:"Flores y Diseño",service:"Flores",contact:"Ana Gómez",email:"ana@flores.com",phone:"555-5678",status:"Confirmado",date:"2025-06-12",rating:0,ratingCount:0}],[e,n]=$.useState(t),[r,i]=$.useState(""),[s,o]=$.useState(""),[a,l]=$.useState(""),[A,c]=$.useState(""),[u,h]=$.useState(""),[d,p]=$.useState(""),[f,b]=$.useState(!1),[g,v]=$.useState(null),[_,x]=$.useState([]),[F,O]=$.useState(!1),[I,B]=$.useState(!1),[T,R]=$.useState(null),[D,E]=$.useState([]),[k,N]=$.useState(!1),[Y,oe]=$.useState(null),[ie,ne]=$.useState(""),[se,ue]=$.useState(""),le={name:"",service:"",contact:"",email:"",phone:"",status:"",date:""},[U,z]=$.useState(le),q=Se=>{Se.preventDefault();const Qe=e.length?Math.max(...e.map(Q=>Q.id))+1:1;n(Q=>[...Q,{id:Qe,...U,rating:0,ratingCount:0}]),z(le),O(!1),v({message:"Proveedor agregado",type:"success"})},ee=Se=>{oe(Se),ne(""),ue(""),N(!0)},fe=()=>{if(Y&&ie&&se){const Se=new Date(ie+"T"+se);E(Qe=>[...Qe,{providerId:Y.id,datetime:Se}]),N(!1)}},me=(Se,Qe)=>{n(Q=>Q.map(he=>he.id===Se?{...he,ratingCount:he.ratingCount+1,rating:(he.rating*he.ratingCount+Qe)/(he.ratingCount+1)}:he))},ge=e.filter(Se=>(Se.name.toLowerCase().includes(r.toLowerCase())||Se.service.toLowerCase().includes(r.toLowerCase()))&&(s?Se.service===s:!0)&&(a?Se.status===a:!0)&&(A?Se.date>=A:!0)&&(u?Se.date<=u:!0)),ye=Se=>{x(Qe=>Qe.includes(Se)?Qe.filter(Q=>Q!==Se):[...Qe,Se])},Me=()=>{i(""),p(""),o(""),l(""),c(""),h("")},De=Se=>{R(Se),B(!0)};return y.jsxs(pn,{className:"p-6 space-y-6",children:[g&&y.jsx(S4,{message:g.message,type:g.type,onClose:()=>v(null)}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Gestión de Proveedores"}),y.jsxs("button",{onClick:()=>O(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[y.jsx(bb,{size:16,className:"mr-2"})," Añadir Proveedor"]}),y.jsxs("button",{className:"bg-gray-200 px-4 py-2 rounded flex items-center",children:[y.jsx(VD,{size:16,className:"mr-2"})," Importar CSV"]})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[y.jsx(_b,{size:16,className:"mr-2 text-gray-600"}),y.jsx("input",{type:"text",placeholder:"Buscar nombre o servicio",value:r,onChange:Se=>i(Se.target.value),className:"outline-none"})]}),y.jsxs("div",{className:"flex items-center border rounded px-2 py-1",children:[y.jsx(Che,{size:16,className:"mr-2 text-gray-600"}),f&&y.jsx(UI,{className:"ml-2"}),y.jsx("input",{type:"text",placeholder:"Buscar IA...",value:d,onChange:Se=>p(Se.target.value),className:"outline-none"})]}),y.jsxs("select",{value:s,onChange:Se=>o(Se.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todos los servicios"}),y.jsx("option",{value:"Catering",children:"Catering"}),y.jsx("option",{value:"Flores",children:"Flores"}),y.jsx("option",{value:"Música",children:"Música"}),y.jsx("option",{value:"Fotografía",children:"Fotografía"})]}),y.jsxs("select",{value:a,onChange:Se=>l(Se.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todos los estados"}),y.jsx("option",{value:"Contactado",children:"Contactado"}),y.jsx("option",{value:"Confirmado",children:"Confirmado"}),y.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),y.jsx("input",{type:"date",value:A,onChange:Se=>c(Se.target.value),className:"border rounded px-2 py-1"}),y.jsx("input",{type:"date",value:u,onChange:Se=>h(Se.target.value),className:"border rounded px-2 py-1"}),y.jsxs("button",{onClick:Me,className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[y.jsx(VD,{size:16,className:"mr-1"})," Limpiar"]})]}),_.length>0&&y.jsxs("div",{className:"bg-gray-100 p-2 rounded flex gap-2",children:[y.jsxs("button",{className:"bg-green-600 text-white px-3 py-1 rounded",children:["Enviar comunicaciones (",_.length,")"]}),y.jsxs("select",{className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Cambiar estado..."}),y.jsx("option",{value:"Contactado",children:"Contactado"}),y.jsx("option",{value:"Confirmado",children:"Confirmado"}),y.jsx("option",{value:"Pendiente",children:"Pendiente"})]})]}),y.jsx("div",{className:"hidden md:block overflow-auto",children:y.jsxs("table",{className:"w-full table-auto",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-50",children:[y.jsx("th",{className:"p-2",children:y.jsx("input",{type:"checkbox"})}),y.jsx("th",{className:"p-2",children:"Nombre"}),y.jsx("th",{className:"p-2",children:"Servicio"}),y.jsx("th",{className:"p-2",children:"Contacto"}),y.jsx("th",{className:"p-2",children:"Email"}),y.jsx("th",{className:"p-2",children:"Teléfono"}),y.jsx("th",{className:"p-2",children:"Estado"}),y.jsx("th",{className:"p-2",children:"Fecha"}),y.jsx("th",{className:"p-2",children:"Valoración"}),y.jsx("th",{className:"p-2",children:"Acciones"})]})}),y.jsx("tbody",{children:ge.map(Se=>y.jsxs("tr",{className:"border-b",children:[y.jsx("td",{className:"p-2",children:y.jsx("input",{type:"checkbox",checked:_.includes(Se.id),onChange:()=>ye(Se.id)})}),y.jsx("td",{className:"p-2",children:Se.name}),y.jsx("td",{className:"p-2",children:Se.service}),y.jsx("td",{className:"p-2",children:Se.contact}),y.jsx("td",{className:"p-2",children:Se.email}),y.jsx("td",{className:"p-2",children:Se.phone}),y.jsx("td",{className:"p-2 cursor-pointer",children:Se.status}),y.jsx("td",{className:"p-2 cursor-pointer",children:Se.date}),y.jsxs("td",{className:"p-2",children:[[1,2,3,4,5].map(Qe=>y.jsx(khe,{size:16,className:"cursor-pointer",color:Qe<=Math.round(Se.rating)?"#facc15":"#e5e7eb",onClick:()=>me(Se.id,Qe)},Qe)),y.jsxs("span",{className:"text-sm text-gray-600 ml-1",children:["(",Se.ratingCount,")"]})]}),y.jsxs("td",{className:"p-2 flex gap-2",children:[y.jsx(wb,{size:16,className:"cursor-pointer text-gray-600",onClick:()=>De(Se)}),y.jsx(b7,{size:16,className:"cursor-pointer text-blue-600"}),y.jsx(Gv,{size:16,className:"cursor-pointer text-red-600",onClick:()=>{n(Qe=>Qe.filter(Q=>Q.id!==Se.id)),v({message:"Proveedor eliminado",type:"success"})}}),y.jsx(kE,{size:16,className:"cursor-pointer text-green-600",onClick:()=>ee(Se)}),y.jsx("span",{className:"text-sm text-gray-600 ml-1",children:D.filter(Qe=>Qe.providerId===Se.id).length}),y.jsx($w,{size:16,className:"cursor-pointer text-purple-600"})]})]},Se.id))})]})}),y.jsx("div",{className:"block md:hidden space-y-4",children:ge.map(Se=>y.jsx("div",{className:"bg-white p-4 rounded shadow",children:y.jsxs("div",{className:"flex justify-between items-center mb-2",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold text-lg",children:Se.name}),y.jsxs("p",{className:"text-sm text-gray-600",children:[Se.service," - ",Se.status]}),y.jsx("p",{className:"text-sm text-gray-600",children:Se.contact})]}),y.jsx("button",{onClick:()=>ye(Se.id),className:"text-gray-600",children:"Acciones"})]})},Se.id))}),F&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:y.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Añadir Proveedor"}),y.jsxs("form",{onSubmit:q,className:"space-y-3",children:[y.jsx("input",{type:"text",placeholder:"Nombre",value:U.name,onChange:Se=>z({...U,name:Se.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsx("input",{type:"text",placeholder:"Servicio",value:U.service,onChange:Se=>z({...U,service:Se.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsx("input",{type:"text",placeholder:"Contacto",value:U.contact,onChange:Se=>z({...U,contact:Se.target.value}),className:"w-full border rounded px-2 py-1"}),y.jsx("input",{type:"email",placeholder:"Email",value:U.email,onChange:Se=>z({...U,email:Se.target.value}),className:"w-full border rounded px-2 py-1"}),y.jsx("input",{type:"tel",placeholder:"Teléfono",value:U.phone,onChange:Se=>z({...U,phone:Se.target.value}),className:"w-full border rounded px-2 py-1"}),y.jsxs("select",{value:U.status,onChange:Se=>z({...U,status:Se.target.value}),className:"w-full border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Seleccionar estado"}),y.jsx("option",{value:"Contactado",children:"Contactado"}),y.jsx("option",{value:"Confirmado",children:"Confirmado"}),y.jsx("option",{value:"Pendiente",children:"Pendiente"})]}),y.jsx("input",{type:"date",value:U.date,onChange:Se=>z({...U,date:Se.target.value}),className:"w-full border rounded px-2 py-1"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:()=>O(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Guardar"})]})]})]})}),I&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:y.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[y.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Detalle del Proveedor"}),y.jsxs("p",{children:[y.jsx("strong",{children:"Nombre:"})," ",T.name]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Servicio:"})," ",T.service]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Contacto:"})," ",T.contact]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Email:"})," ",T.email]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Teléfono:"})," ",T.phone]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Estado:"})," ",T.status]}),y.jsxs("p",{children:[y.jsx("strong",{children:"Fecha:"})," ",T.date]}),y.jsx("div",{className:"flex justify-end mt-4",children:y.jsx("button",{onClick:()=>B(!1),className:"px-4 py-2 bg-red-600 text-white rounded",children:"Cerrar"})})]})}),k&&y.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:y.jsxs("div",{className:"bg-white p-4 rounded shadow w-96",children:[y.jsxs("h2",{className:"text-lg font-semibold mb-4",children:["Reservar con ",Y==null?void 0:Y.name]}),y.jsx("input",{type:"date",value:ie,onChange:Se=>ne(Se.target.value),className:"w-full border rounded px-2 py-1 mb-2"}),y.jsx("input",{type:"time",value:se,onChange:Se=>ue(Se.target.value),className:"w-full border rounded px-2 py-1 mb-2"}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:()=>N(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{type:"button",onClick:fe,className:"px-4 py-2 bg-green-600 text-white rounded",children:"Reservar"})]})]})})]})}function vNe(){const[t,e]=$.useState("free"),[n,r]=$.useState({name:"",linkedAccount:"",planner:"",helpers:"",email:"",password:""}),[i,s]=$.useState({fullName:"",address:"",zip:"",city:"",state:"",country:"",dni:""}),o=A=>r({...n,[A.target.name]:A.target.value}),a=A=>s({...i,[A.target.name]:A.target.value}),l=()=>console.log({subscription:t,account:n,billing:i});return y.jsxs("div",{className:"space-y-6 p-4 max-w-3xl mx-auto",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Perfil"}),y.jsxs(pn,{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-medium",children:"Tipo de suscripción"}),y.jsxs("div",{className:"flex gap-4",children:[y.jsx(ir,{variant:t==="free"?"primary":"outline",onClick:()=>e("free"),children:"Gratis"}),y.jsx(ir,{variant:t==="premium"?"primary":"outline",onClick:()=>e("premium"),children:"Premium"})]})]}),y.jsxs(pn,{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-medium",children:"Información de la cuenta"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsx(Jr,{label:"Nombre",name:"name",value:n.name,onChange:o}),y.jsx(Jr,{label:"Cuenta vinculada",name:"linkedAccount",value:n.linkedAccount,onChange:o}),y.jsx(Jr,{label:"Wedding planner vinculada",name:"planner",value:n.planner,onChange:o}),y.jsx(Jr,{label:"Ayudantes vinculados",name:"helpers",value:n.helpers,onChange:o}),y.jsx(Jr,{label:"Correo electrónico",name:"email",type:"email",value:n.email,onChange:o}),y.jsx(Jr,{label:"Reestablecer contraseña",name:"password",type:"password",value:n.password,onChange:o})]}),y.jsx("div",{className:"text-right",children:y.jsx(ir,{onClick:l,children:"Guardar"})})]}),y.jsxs(pn,{className:"space-y-4",children:[y.jsx("h2",{className:"text-lg font-medium",children:"Datos de facturación"}),y.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[y.jsx(Jr,{label:"Nombre completo",name:"fullName",value:i.fullName,onChange:a}),y.jsx(Jr,{label:"Dirección",name:"address",value:i.address,onChange:a}),y.jsx(Jr,{label:"CP",name:"zip",value:i.zip,onChange:a}),y.jsx(Jr,{label:"Localidad",name:"city",value:i.city,onChange:a}),y.jsx(Jr,{label:"Provincia",name:"state",value:i.state,onChange:a}),y.jsx(Jr,{label:"País",name:"country",value:i.country,onChange:a}),y.jsx(Jr,{label:"DNI",name:"dni",value:i.dni,onChange:a})]}),y.jsx("div",{className:"text-right",children:y.jsx(ir,{onClick:l,children:"Guardar"})})]})]})}const S9=$.createContext({dragDropManager:void 0});function ko(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var R3=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),qC=function(){return Math.random().toString(36).substring(7).split("").join(".")},U3={INIT:"@@redux/INIT"+qC(),REPLACE:"@@redux/REPLACE"+qC(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+qC()}};function yNe(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function T9(t,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(ko(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(ko(1));return n(T9)(t,e)}if(typeof t!="function")throw new Error(ko(2));var i=t,s=e,o=[],a=o,l=!1;function A(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(ko(3));return s}function u(f){if(typeof f!="function")throw new Error(ko(4));if(l)throw new Error(ko(5));var b=!0;return A(),a.push(f),function(){if(b){if(l)throw new Error(ko(6));b=!1,A();var v=a.indexOf(f);a.splice(v,1),o=null}}}function h(f){if(!yNe(f))throw new Error(ko(7));if(typeof f.type>"u")throw new Error(ko(8));if(l)throw new Error(ko(9));try{l=!0,s=i(s,f)}finally{l=!1}for(var b=o=a,g=0;g<b.length;g++){var v=b[g];v()}return f}function d(f){if(typeof f!="function")throw new Error(ko(10));i=f,h({type:U3.REPLACE})}function p(){var f,b=u;return f={subscribe:function(v){if(typeof v!="object"||v===null)throw new Error(ko(11));function _(){v.next&&v.next(c())}_();var x=b(_);return{unsubscribe:x}}},f[R3]=function(){return this},f}return h({type:U3.INIT}),r={dispatch:h,subscribe:u,getState:c,replaceReducer:d},r[R3]=p,r}function Mt(t,e,...n){if(wNe()&&e===void 0)throw new Error("invariant requires an error message argument");if(!t){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let i=0;r=new Error(e.replace(/%s/g,function(){return n[i++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function wNe(){return typeof process<"u"&&process.env.NODE_ENV==="production"}function bNe(t,e,n){return e.split(".").reduce((r,i)=>r&&r[i]?r[i]:n||null,t)}function _Ne(t,e){return t.filter(n=>n!==e)}function I9(t){return typeof t=="object"}function CNe(t,e){const n=new Map,r=s=>{n.set(s,n.has(s)?n.get(s)+1:1)};t.forEach(r),e.forEach(r);const i=[];return n.forEach((s,o)=>{s===1&&i.push(o)}),i}function xNe(t,e){return t.filter(n=>e.indexOf(n)>-1)}const T4="dnd-core/INIT_COORDS",zb="dnd-core/BEGIN_DRAG",I4="dnd-core/PUBLISH_DRAG_SOURCE",Kb="dnd-core/HOVER",Wb="dnd-core/DROP",Gb="dnd-core/END_DRAG";function O3(t,e){return{type:T4,payload:{sourceClientOffset:e||null,clientOffset:t||null}}}const BNe={type:T4,payload:{clientOffset:null,sourceClientOffset:null}};function ENe(t){return function(n=[],r={publishSource:!0}){const{publishSource:i=!0,clientOffset:s,getSourceClientOffset:o}=r,a=t.getMonitor(),l=t.getRegistry();t.dispatch(O3(s)),SNe(n,a,l);const A=NNe(n,a);if(A==null){t.dispatch(BNe);return}let c=null;if(s){if(!o)throw new Error("getSourceClientOffset must be defined");TNe(o),c=o(A)}t.dispatch(O3(s,c));const h=l.getSource(A).beginDrag(a,A);if(h==null)return;INe(h),l.pinSource(A);const d=l.getSourceType(A);return{type:zb,payload:{itemType:d,item:h,sourceId:A,clientOffset:s||null,sourceClientOffset:c||null,isSourcePublic:!!i}}}}function SNe(t,e,n){Mt(!e.isDragging(),"Cannot call beginDrag while dragging."),t.forEach(function(r){Mt(n.getSource(r),"Expected sourceIds to be registered.")})}function TNe(t){Mt(typeof t=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function INe(t){Mt(I9(t),"Item must be an object.")}function NNe(t,e){let n=null;for(let r=t.length-1;r>=0;r--)if(e.canDragSource(t[r])){n=t[r];break}return n}function FNe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){FNe(t,i,n[i])})}return t}function PNe(t){return function(n={}){const r=t.getMonitor(),i=t.getRegistry();DNe(r),UNe(r).forEach((o,a)=>{const l=LNe(o,a,i,r),A={type:Wb,payload:{dropResult:kNe({},n,l)}};t.dispatch(A)})}}function DNe(t){Mt(t.isDragging(),"Cannot call drop while not dragging."),Mt(!t.didDrop(),"Cannot call drop twice during one drag operation.")}function LNe(t,e,n,r){const i=n.getTarget(t);let s=i?i.drop(r,t):void 0;return RNe(s),typeof s>"u"&&(s=e===0?{}:r.getDropResult()),s}function RNe(t){Mt(typeof t>"u"||I9(t),"Drop result must either be an object or undefined.")}function UNe(t){const e=t.getTargetIds().filter(t.canDropOnTarget,t);return e.reverse(),e}function ONe(t){return function(){const n=t.getMonitor(),r=t.getRegistry();MNe(n);const i=n.getSourceId();return i!=null&&(r.getSource(i,!0).endDrag(n,i),r.unpinSource()),{type:Gb}}}function MNe(t){Mt(t.isDragging(),"Cannot call endDrag while not dragging.")}function e5(t,e){return e===null?t===null:Array.isArray(t)?t.some(n=>n===e):t===e}function QNe(t){return function(n,{clientOffset:r}={}){jNe(n);const i=n.slice(0),s=t.getMonitor(),o=t.getRegistry(),a=s.getItemType();return VNe(i,o,a),HNe(i,s,o),$Ne(i,s,o),{type:Kb,payload:{targetIds:i,clientOffset:r||null}}}}function jNe(t){Mt(Array.isArray(t),"Expected targetIds to be an array.")}function HNe(t,e,n){Mt(e.isDragging(),"Cannot call hover while not dragging."),Mt(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<t.length;r++){const i=t[r];Mt(t.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");const s=n.getTarget(i);Mt(s,"Expected targetIds to be registered.")}}function VNe(t,e,n){for(let r=t.length-1;r>=0;r--){const i=t[r],s=e.getTargetType(i);e5(s,n)||t.splice(r,1)}}function $Ne(t,e,n){t.forEach(function(r){n.getTarget(r).hover(e,r)})}function zNe(t){return function(){if(t.getMonitor().isDragging())return{type:I4}}}function KNe(t){return{beginDrag:ENe(t),publishDragSource:zNe(t),hover:QNe(t),drop:PNe(t),endDrag:ONe(t)}}class WNe{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(s){return(...o)=>{const a=s.apply(e,o);typeof a<"u"&&n(a)}}const i=KNe(this);return Object.keys(i).reduce((s,o)=>{const a=i[o];return s[o]=r(a),s},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function GNe(t,e){return{x:t.x+e.x,y:t.y+e.y}}function N9(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qNe(t){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=t;return!e||!n||!r?null:N9(GNe(e,r),n)}function YNe(t){const{clientOffset:e,initialClientOffset:n}=t;return!e||!n?null:N9(e,n)}const sm=[],N4=[];sm.__IS_NONE__=!0;N4.__IS_ALL__=!0;function XNe(t,e){return t===sm?!1:t===N4||typeof e>"u"?!0:xNe(e,t).length>0}class JNe{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;Mt(typeof e=="function","listener must be a function."),Mt(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let i=this.store.getState().stateId;const s=()=>{const o=this.store.getState(),a=o.stateId;try{a===i||a===i+1&&!XNe(o.dirtyHandlerIds,r)||e()}finally{i=a}};return this.store.subscribe(s)}subscribeToOffsetChange(e){Mt(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const i=this.store.getState().dragOffset;i!==n&&(n=i,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return Mt(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(Mt(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),i=this.getItemType();return e5(r,i)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(Mt(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),i=this.getItemType();return r!==i?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const i=this.registry.getTargetType(e),s=this.getItemType();if(s&&!e5(i,s))return!1;const o=this.getTargetIds();if(!o.length)return!1;const a=o.indexOf(e);return r?a===o.length-1:a>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return qNe(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return YNe(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const M3=typeof global<"u"?global:self,F9=M3.MutationObserver||M3.WebKitMutationObserver;function k9(t){return function(){const n=setTimeout(i,0),r=setInterval(i,50);function i(){clearTimeout(n),clearInterval(r),t()}}}function ZNe(t){let e=1;const n=new F9(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const eFe=typeof F9=="function"?ZNe:k9;class tFe{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,i=e.length-this.index;r<i;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=eFe(this.flush),this.requestErrorThrow=k9(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class nFe{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class rFe{create(e){const n=this.freeTasks,r=n.length?n.pop():new nFe(this.onError,i=>n[n.length]=i);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const P9=new tFe,iFe=new rFe(P9.registerPendingError);function sFe(t){P9.enqueueTask(iFe.create(t))}const F4="dnd-core/ADD_SOURCE",k4="dnd-core/ADD_TARGET",P4="dnd-core/REMOVE_SOURCE",qb="dnd-core/REMOVE_TARGET";function oFe(t){return{type:F4,payload:{sourceId:t}}}function aFe(t){return{type:k4,payload:{targetId:t}}}function lFe(t){return{type:P4,payload:{sourceId:t}}}function AFe(t){return{type:qb,payload:{targetId:t}}}function cFe(t){Mt(typeof t.canDrag=="function","Expected canDrag to be a function."),Mt(typeof t.beginDrag=="function","Expected beginDrag to be a function."),Mt(typeof t.endDrag=="function","Expected endDrag to be a function.")}function uFe(t){Mt(typeof t.canDrop=="function","Expected canDrop to be a function."),Mt(typeof t.hover=="function","Expected hover to be a function."),Mt(typeof t.drop=="function","Expected beginDrag to be a function.")}function t5(t,e){if(e&&Array.isArray(t)){t.forEach(n=>t5(n,!1));return}Mt(typeof t=="string"||typeof t=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var Oo;(function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"})(Oo||(Oo={}));let hFe=0;function dFe(){return hFe++}function fFe(t){const e=dFe().toString();switch(t){case Oo.SOURCE:return`S${e}`;case Oo.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${t}`)}}function Q3(t){switch(t[0]){case"S":return Oo.SOURCE;case"T":return Oo.TARGET;default:throw new Error(`Cannot parse handler ID: ${t}`)}}function j3(t,e){const n=t.entries();let r=!1;do{const{done:i,value:[,s]}=n.next();if(s===e)return!0;r=!!i}while(!r);return!1}class pFe{addSource(e,n){t5(e),cFe(n);const r=this.addHandler(Oo.SOURCE,e,n);return this.store.dispatch(oFe(r)),r}addTarget(e,n){t5(e,!0),uFe(n);const r=this.addHandler(Oo.TARGET,e,n);return this.store.dispatch(aFe(r)),r}containsHandler(e){return j3(this.dragSources,e)||j3(this.dropTargets,e)}getSource(e,n=!1){return Mt(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return Mt(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return Mt(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return Mt(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return Q3(e)===Oo.SOURCE}isTargetId(e){return Q3(e)===Oo.TARGET}removeSource(e){Mt(this.getSource(e),"Expected an existing source."),this.store.dispatch(lFe(e)),sFe(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){Mt(this.getTarget(e),"Expected an existing target."),this.store.dispatch(AFe(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);Mt(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){Mt(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const i=fFe(e);return this.types.set(i,n),e===Oo.SOURCE?this.dragSources.set(i,r):e===Oo.TARGET&&this.dropTargets.set(i,r),i}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const gFe=(t,e)=>t===e;function mFe(t,e){return!t&&!e?!0:!t||!e?!1:t.x===e.x&&t.y===e.y}function vFe(t,e,n=gFe){if(t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(!n(t[r],e[r]))return!1;return!0}function yFe(t=sm,e){switch(e.type){case Kb:break;case F4:case k4:case qb:case P4:return sm;case zb:case I4:case Gb:case Wb:default:return N4}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,i=CNe(n,r);if(!(i.length>0||!vFe(n,r)))return sm;const o=r[r.length-1],a=n[n.length-1];return o!==a&&(o&&i.push(o),a&&i.push(a)),i}function wFe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bFe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){wFe(t,i,n[i])})}return t}const H3={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function _Fe(t=H3,e){const{payload:n}=e;switch(e.type){case T4:case zb:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Kb:return mFe(t.clientOffset,n.clientOffset)?t:bFe({},t,{clientOffset:n.clientOffset});case Gb:case Wb:return H3;default:return t}}function CFe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){CFe(t,i,n[i])})}return t}const xFe={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function BFe(t=xFe,e){const{payload:n}=e;switch(e.type){case zb:return fd({},t,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case I4:return fd({},t,{isSourcePublic:!0});case Kb:return fd({},t,{targetIds:n.targetIds});case qb:return t.targetIds.indexOf(n.targetId)===-1?t:fd({},t,{targetIds:_Ne(t.targetIds,n.targetId)});case Wb:return fd({},t,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Gb:return fd({},t,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return t}}function EFe(t=0,e){switch(e.type){case F4:case k4:return t+1;case P4:case qb:return t-1;default:return t}}function SFe(t=0){return t+1}function TFe(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IFe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){TFe(t,i,n[i])})}return t}function NFe(t={},e){return{dirtyHandlerIds:yFe(t.dirtyHandlerIds,{type:e.type,payload:IFe({},e.payload,{prevTargetIds:bNe(t,"dragOperation.targetIds",[])})}),dragOffset:_Fe(t.dragOffset,e),refCount:EFe(t.refCount,e),dragOperation:BFe(t.dragOperation,e),stateId:SFe(t.stateId)}}function FFe(t,e=void 0,n={},r=!1){const i=kFe(r),s=new JNe(i,new pFe(i)),o=new WNe(i,s),a=t(o,e,n);return o.receiveBackend(a),o}function kFe(t){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return T9(NFe,t&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function PFe(t,e){if(t==null)return{};var n=DFe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DFe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}let V3=0;const y1=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var LFe=$.memo(function(e){var{children:n}=e,r=PFe(e,["children"]);const[i,s]=RFe(r);return $.useEffect(()=>{if(s){const o=D9();return++V3,()=>{--V3===0&&(o[y1]=null)}}},[]),y.jsx(S9.Provider,{value:i,children:n})});function RFe(t){if("manager"in t)return[{dragDropManager:t.manager},!1];const e=UFe(t.backend,t.context,t.options,t.debugMode),n=!t.context;return[e,n]}function UFe(t,e=D9(),n,r){const i=e;return i[y1]||(i[y1]={dragDropManager:FFe(t,e,n,r)}),i[y1]}function D9(){return typeof global<"u"?global:window}var OFe=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(s=Object.keys(e),r=s.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;i--!==0;){var o=s[i];if(!t(e[o],n[o]))return!1}return!0}return e!==e&&n!==n};const MFe=ss(OFe),Eh=typeof window<"u"?$.useLayoutEffect:$.useEffect;function QFe(t,e,n){const[r,i]=$.useState(()=>e(t)),s=$.useCallback(()=>{const o=e(t);MFe(r,o)||(i(o),n&&n())},[r,t,n]);return Eh(s),[r,s]}function jFe(t,e,n){const[r,i]=QFe(t,e,n);return Eh(function(){const o=t.getHandlerId();if(o!=null)return t.subscribeToStateChange(i,{handlerIds:[o]})},[t,i]),r}function L9(t,e,n){return jFe(e,t||(()=>({})),()=>n.reconnect())}function R9(t,e){const n=[...e||[]];return e==null&&typeof t!="function"&&n.push(t),$.useMemo(()=>typeof t=="function"?t():t,n)}function HFe(t){return $.useMemo(()=>t.hooks.dragSource(),[t])}function VFe(t){return $.useMemo(()=>t.hooks.dragPreview(),[t])}let YC=!1,XC=!1;class $Fe{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){Mt(!YC,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return YC=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{YC=!1}}isDragging(){if(!this.sourceId)return!1;Mt(!XC,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return XC=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{XC=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let JC=!1;class zFe{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;Mt(!JC,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return JC=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{JC=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function KFe(t,e,n){const r=n.getRegistry(),i=r.addTarget(t,e);return[i,()=>r.removeTarget(i)]}function WFe(t,e,n){const r=n.getRegistry(),i=r.addSource(t,e);return[i,()=>r.removeSource(i)]}function n5(t,e,n,r){let i=n?n.call(r,t,e):void 0;if(i!==void 0)return!!i;if(t===e)return!0;if(typeof t!="object"||!t||typeof e!="object"||!e)return!1;const s=Object.keys(t),o=Object.keys(e);if(s.length!==o.length)return!1;const a=Object.prototype.hasOwnProperty.bind(e);for(let l=0;l<s.length;l++){const A=s[l];if(!a(A))return!1;const c=t[A],u=e[A];if(i=n?n.call(r,c,u,A):void 0,i===!1||i===void 0&&c!==u)return!1}return!0}function r5(t){return t!==null&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function GFe(t){if(typeof t.type=="string")return;const e=t.type.displayName||t.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function qFe(t){return(e=null,n=null)=>{if(!$.isValidElement(e)){const s=e;return t(s,n),s}const r=e;return GFe(r),YFe(r,n?s=>t(s,n):t)}}function U9(t){const e={};return Object.keys(t).forEach(n=>{const r=t[n];if(n.endsWith("Ref"))e[n]=t[n];else{const i=qFe(r);e[n]=()=>i}}),e}function $3(t,e){typeof t=="function"?t(e):t.current=e}function YFe(t,e){const n=t.ref;return Mt(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?$.cloneElement(t,{ref:r=>{$3(n,r),$3(e,r)}}):$.cloneElement(t,{ref:e})}class XFe{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!n5(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!n5(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=U9({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,r5(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,r5(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class JFe{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!n5(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=U9({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,r5(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function xp(){const{dragDropManager:t}=$.useContext(S9);return Mt(t!=null,"Expected drag drop context"),t}function ZFe(t,e){const n=xp(),r=$.useMemo(()=>new XFe(n.getBackend()),[n]);return Eh(()=>(r.dragSourceOptions=t||null,r.reconnect(),()=>r.disconnectDragSource()),[r,t]),Eh(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function eke(){const t=xp();return $.useMemo(()=>new $Fe(t),[t])}class tke{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,i=this.monitor,{isDragging:s}=r;return s?s(i):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:i}=e;i&&i(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function nke(t,e,n){const r=$.useMemo(()=>new tke(t,e,n),[e,n]);return $.useEffect(()=>{r.spec=t},[t]),r}function rke(t){return $.useMemo(()=>{const e=t.type;return Mt(e!=null,"spec.type must be defined"),e},[t])}function ike(t,e,n){const r=xp(),i=nke(t,e,n),s=rke(t);Eh(function(){if(s!=null){const[a,l]=WFe(s,i,r);return e.receiveHandlerId(a),n.receiveHandlerId(a),l}},[r,e,n,i,s])}function ske(t,e){const n=R9(t,e);Mt(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=eke(),i=ZFe(n.options,n.previewOptions);return ike(n,r,i),[L9(n.collect,r,i),HFe(i),VFe(i)]}function oke(t){return $.useMemo(()=>t.hooks.dropTarget(),[t])}function ake(t){const e=xp(),n=$.useMemo(()=>new JFe(e.getBackend()),[e]);return Eh(()=>(n.dropTargetOptions=t||null,n.reconnect(),()=>n.disconnectDropTarget()),[t]),n}function lke(){const t=xp();return $.useMemo(()=>new zFe(t),[t])}function Ake(t){const{accept:e}=t;return $.useMemo(()=>(Mt(t.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class cke{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function uke(t,e){const n=$.useMemo(()=>new cke(t,e),[e]);return $.useEffect(()=>{n.spec=t},[t]),n}function hke(t,e,n){const r=xp(),i=uke(t,e),s=Ake(t);Eh(function(){const[a,l]=KFe(s,i,r);return e.receiveHandlerId(a),n.receiveHandlerId(a),l},[r,e,i,n,s.map(o=>o.toString()).join("|")])}function dke(t,e){const n=R9(t,e),r=lke(),i=ake(n.options);return hke(n,r,i),[L9(n.collect,r,i),oke(i)]}function O9(t){let e=null;return()=>(e==null&&(e=t()),e)}function fke(t,e){return t.filter(n=>n!==e)}function pke(t,e){const n=new Set,r=s=>n.add(s);t.forEach(r),e.forEach(r);const i=[];return n.forEach(s=>i.push(s)),i}class gke{enter(e){const n=this.entered.length,r=i=>this.isNodeInDocument(i)&&(!i.contains||i.contains(e));return this.entered=pke(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=fke(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class mke{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const i=this.config.exposeProperties[r];i!=null&&(n[r]={value:i(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const M9="__NATIVE_FILE__",Q9="__NATIVE_URL__",j9="__NATIVE_TEXT__",H9="__NATIVE_HTML__",z3=Object.freeze(Object.defineProperty({__proto__:null,FILE:M9,HTML:H9,TEXT:j9,URL:Q9},Symbol.toStringTag,{value:"Module"}));function ZC(t,e,n){const r=e.reduce((i,s)=>i||t.getData(s),"");return r??n}const i5={[M9]:{exposeProperties:{files:t=>Array.prototype.slice.call(t.files),items:t=>t.items,dataTransfer:t=>t},matchesTypes:["Files"]},[H9]:{exposeProperties:{html:(t,e)=>ZC(t,e,""),dataTransfer:t=>t},matchesTypes:["Html","text/html"]},[Q9]:{exposeProperties:{urls:(t,e)=>ZC(t,e,"").split(`
`),dataTransfer:t=>t},matchesTypes:["Url","text/uri-list"]},[j9]:{exposeProperties:{text:(t,e)=>ZC(t,e,""),dataTransfer:t=>t},matchesTypes:["Text","text/plain"]}};function vke(t,e){const n=i5[t];if(!n)throw new Error(`native type ${t} has no configuration`);const r=new mke(n);return r.loadDataTransfer(e),r}function ex(t){if(!t)return null;const e=Array.prototype.slice.call(t.types||[]);return Object.keys(i5).filter(n=>{const r=i5[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(i=>e.indexOf(i)>-1):!1})[0]||null}const yke=O9(()=>/firefox/i.test(navigator.userAgent)),V9=O9(()=>!!window.safari);class K3{interpolate(e){const{xs:n,ys:r,c1s:i,c2s:s,c3s:o}=this;let a=n.length-1;if(e===n[a])return r[a];let l=0,A=o.length-1,c;for(;l<=A;){c=Math.floor(.5*(l+A));const d=n[c];if(d<e)l=c+1;else if(d>e)A=c-1;else return r[c]}a=Math.max(0,A);const u=e-n[a],h=u*u;return r[a]+i[a]*u+s[a]*h+o[a]*u*h}constructor(e,n){const{length:r}=e,i=[];for(let d=0;d<r;d++)i.push(d);i.sort((d,p)=>e[d]<e[p]?-1:1);const s=[],o=[];let a,l;for(let d=0;d<r-1;d++)a=e[d+1]-e[d],l=n[d+1]-n[d],s.push(a),o.push(l/a);const A=[o[0]];for(let d=0;d<s.length-1;d++){const p=o[d],f=o[d+1];if(p*f<=0)A.push(0);else{a=s[d];const b=s[d+1],g=a+b;A.push(3*g/((g+b)/p+(g+a)/f))}}A.push(o[o.length-1]);const c=[],u=[];let h;for(let d=0;d<A.length-1;d++){h=o[d];const p=A[d],f=1/s[d],b=p+A[d+1]-h-h;c.push((h-p-b)*f),u.push(b*f*f)}this.xs=e,this.ys=n,this.c1s=A,this.c2s=c,this.c3s=u}}const wke=1;function $9(t){const e=t.nodeType===wke?t:t.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function gy(t){return{x:t.clientX,y:t.clientY}}function bke(t){var e;return t.nodeName==="IMG"&&(yke()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(t)))}function _ke(t,e,n,r){let i=t?e.width:n,s=t?e.height:r;return V9()&&t&&(s/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:s}}function Cke(t,e,n,r,i){const s=bke(e),a=$9(s?t:e),l={x:n.x-a.x,y:n.y-a.y},{offsetWidth:A,offsetHeight:c}=t,{anchorX:u,anchorY:h}=r,{dragPreviewWidth:d,dragPreviewHeight:p}=_ke(s,e,A,c),f=()=>{let O=new K3([0,.5,1],[l.y,l.y/c*p,l.y+p-c]).interpolate(h);return V9()&&s&&(O+=(window.devicePixelRatio-1)*p),O},b=()=>new K3([0,.5,1],[l.x,l.x/A*d,l.x+d-A]).interpolate(u),{offsetX:g,offsetY:v}=i,_=g===0||g,x=v===0||v;return{x:_?g:b(),y:x?v:f()}}let xke=class{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}};function Bke(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable}))),r.forEach(function(i){Bke(t,i,n[i])})}return t}class Eke{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const i=o=>this.handleDragStart(o,e),s=o=>this.handleSelectStart(o);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",i),n.addEventListener("selectstart",s),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",i),n.removeEventListener("selectstart",s),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=o=>this.handleDragEnter(o,e),i=o=>this.handleDragOver(o,e),s=o=>this.handleDrop(o,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",i),n.addEventListener("drop",s),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",i),n.removeEventListener("drop",s)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return W3({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return W3({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(z3).some(n=>z3[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=vke(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&$9(s)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=i=>!!(i&&this.document&&this.document.body&&this.document.body.contains(i)),this.endDragIfSourceWasRemovedFromDOM=()=>{const i=this.currentDragSourceNode;i==null||this.isNodeInDocument(i)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=i=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(i||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=i=>{if(i.defaultPrevented)return;const{dragStartSourceIds:s}=this;this.dragStartSourceIds=null;const o=gy(i);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(s||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:o});const{dataTransfer:a}=i,l=ex(a);if(this.monitor.isDragging()){if(a&&typeof a.setDragImage=="function"){const c=this.monitor.getSourceId(),u=this.sourceNodes.get(c),h=this.sourcePreviewNodes.get(c)||u;if(h){const{anchorX:d,anchorY:p,offsetX:f,offsetY:b}=this.getCurrentSourcePreviewNodeOptions(),_=Cke(u,h,o,{anchorX:d,anchorY:p},{offsetX:f,offsetY:b});a.setDragImage(h,_.x,_.y)}}try{a==null||a.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(i.target);const{captureDraggingState:A}=this.getCurrentSourcePreviewNodeOptions();A?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(l)this.beginDragNativeItem(l);else{if(a&&!a.types&&(i.target&&!i.target.hasAttribute||!i.target.hasAttribute("draggable")))return;i.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=i=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}if(!this.enterLeaveCounter.enter(i.target)||this.monitor.isDragging())return;const{dataTransfer:a}=i,l=ex(a);l&&this.beginDragNativeItem(l,a)},this.handleTopDragEnter=i=>{const{dragEnterTargetIds:s}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=i.altKey,s.length>0&&this.actions.hover(s,{clientOffset:gy(i)}),s.some(a=>this.monitor.canDropOnTarget(a))&&(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=i=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var s;(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}},this.handleTopDragOver=i=>{const{dragOverTargetIds:s}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none");return}this.altKeyPressed=i.altKey,this.lastClientOffset=gy(i),this.scheduleHover(s),(s||[]).some(a=>this.monitor.canDropOnTarget(a))?(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?i.preventDefault():(i.preventDefault(),i.dataTransfer&&(i.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=i=>{this.isDraggingNativeItem()&&i.preventDefault(),this.enterLeaveCounter.leave(i.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=i=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var s;i.preventDefault(),(s=this.currentNativeSource)===null||s===void 0||s.loadDataTransfer(i.dataTransfer)}else ex(i.dataTransfer)&&i.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=i=>{const{dropTargetIds:s}=this;this.dropTargetIds=[],this.actions.hover(s,{clientOffset:gy(i)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=i=>{const s=i.target;typeof s.dragDrop=="function"&&(s.tagName==="INPUT"||s.tagName==="SELECT"||s.tagName==="TEXTAREA"||s.isContentEditable||(i.preventDefault(),s.dragDrop()))},this.options=new xke(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new gke(this.isNodeInDocument)}}const Ske=function(e,n,r){return new Eke(e,n,r)};var Pc;(function(t){t.mouse="mouse",t.touch="touch",t.keyboard="keyboard"})(Pc||(Pc={}));class Tke{get delay(){var e;return(e=this.args.delay)!==null&&e!==void 0?e:0}get scrollAngleRanges(){return this.args.scrollAngleRanges}get getDropTargetElementsAtPoint(){return this.args.getDropTargetElementsAtPoint}get ignoreContextMenu(){var e;return(e=this.args.ignoreContextMenu)!==null&&e!==void 0?e:!1}get enableHoverOutsideTarget(){var e;return(e=this.args.enableHoverOutsideTarget)!==null&&e!==void 0?e:!1}get enableKeyboardEvents(){var e;return(e=this.args.enableKeyboardEvents)!==null&&e!==void 0?e:!1}get enableMouseEvents(){var e;return(e=this.args.enableMouseEvents)!==null&&e!==void 0?e:!1}get enableTouchEvents(){var e;return(e=this.args.enableTouchEvents)!==null&&e!==void 0?e:!0}get touchSlop(){return this.args.touchSlop||0}get delayTouchStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayTouchStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get delayMouseStart(){var e,n,r,i;return(i=(r=(e=this.args)===null||e===void 0?void 0:e.delayMouseStart)!==null&&r!==void 0?r:(n=this.args)===null||n===void 0?void 0:n.delay)!==null&&i!==void 0?i:0}get window(){if(this.context&&this.context.window)return this.context.window;if(typeof window<"u")return window}get document(){var e;if(!((e=this.context)===null||e===void 0)&&e.document)return this.context.document;if(this.window)return this.window.document}get rootElement(){var e;return((e=this.args)===null||e===void 0?void 0:e.rootElement)||this.document}constructor(e,n){this.args=e,this.context=n}}function Ike(t,e,n,r){return Math.sqrt(Math.pow(Math.abs(n-t),2)+Math.pow(Math.abs(r-e),2))}function Nke(t,e,n,r,i){if(!i)return!1;const s=Math.atan2(r-e,n-t)*180/Math.PI+180;for(let o=0;o<i.length;++o){const a=i[o];if(a&&(a.start==null||s>=a.start)&&(a.end==null||s<=a.end))return!0}return!1}const Fke={Left:1,Right:2,Center:4},kke={Left:0,Center:1,Right:2};function tx(t){return t.button===void 0||t.button===kke.Left}function Pke(t){return t.buttons===void 0||(t.buttons&Fke.Left)===0}function z9(t){return!!t.targetTouches}const Dke=1;function Lke(t){const e=t.nodeType===Dke?t:t.parentElement;if(!e)return;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Rke(t,e){if(t.targetTouches.length===1)return l2(t.targetTouches[0]);if(e&&t.touches.length===1&&t.touches[0].target===e.target)return l2(t.touches[0])}function l2(t,e){return z9(t)?Rke(t,e):{x:t.clientX,y:t.clientY}}const G3=(()=>{let t=!1;try{addEventListener("test",()=>{},Object.defineProperty({},"passive",{get(){return t=!0,!0}}))}catch{}return t})(),ag={[Pc.mouse]:{start:"mousedown",move:"mousemove",end:"mouseup",contextmenu:"contextmenu"},[Pc.touch]:{start:"touchstart",move:"touchmove",end:"touchend"},[Pc.keyboard]:{keydown:"keydown"}};class om{profile(){var e;return{sourceNodes:this.sourceNodes.size,sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,targetNodes:this.targetNodes.size,dragOverTargetIds:((e=this.dragOverTargetIds)===null||e===void 0?void 0:e.length)||0}}get document(){return this.options.document}setup(){const e=this.options.rootElement;e&&(Mt(!om.isSetUp,"Cannot have two Touch backends at the same time."),om.isSetUp=!0,this.addEventListener(e,"start",this.getTopMoveStartHandler()),this.addEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.addEventListener(e,"move",this.handleTopMove),this.addEventListener(e,"move",this.handleTopMoveCapture,!0),this.addEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.addEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.addEventListener(e,"keydown",this.handleCancelOnEscape,!0))}teardown(){const e=this.options.rootElement;e&&(om.isSetUp=!1,this._mouseClientOffset={},this.removeEventListener(e,"start",this.handleTopMoveStartCapture,!0),this.removeEventListener(e,"start",this.handleTopMoveStart),this.removeEventListener(e,"move",this.handleTopMoveCapture,!0),this.removeEventListener(e,"move",this.handleTopMove),this.removeEventListener(e,"end",this.handleTopMoveEndCapture,!0),this.options.enableMouseEvents&&!this.options.ignoreContextMenu&&this.removeEventListener(e,"contextmenu",this.handleTopMoveEndCapture),this.options.enableKeyboardEvents&&this.removeEventListener(e,"keydown",this.handleCancelOnEscape,!0),this.uninstallSourceNodeRemovalObserver())}addEventListener(e,n,r,i=!1){const s=G3?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const a=ag[o][n];a&&e.addEventListener(a,r,s)})}removeEventListener(e,n,r,i=!1){const s=G3?{capture:i,passive:!1}:i;this.listenerTypes.forEach(function(o){const a=ag[o][n];a&&e.removeEventListener(a,r,s)})}connectDragSource(e,n){const r=this.handleMoveStart.bind(this,e);return this.sourceNodes.set(e,n),this.addEventListener(n,"start",r),()=>{this.sourceNodes.delete(e),this.removeEventListener(n,"start",r)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDropTarget(e,n){const r=this.options.rootElement;if(!this.document||!r)return()=>{};const i=s=>{if(!this.document||!r||!this.monitor.isDragging())return;let o;switch(s.type){case ag.mouse.move:o={x:s.clientX,y:s.clientY};break;case ag.touch.move:var a,l;o={x:((a=s.touches[0])===null||a===void 0?void 0:a.clientX)||0,y:((l=s.touches[0])===null||l===void 0?void 0:l.clientY)||0};break}const A=o!=null?this.document.elementFromPoint(o.x,o.y):void 0,c=A&&n.contains(A);if(A===n||c)return this.handleMove(s,e)};return this.addEventListener(this.document.body,"move",i),this.targetNodes.set(e,n),()=>{this.document&&(this.targetNodes.delete(e),this.removeEventListener(this.document.body,"move",i))}}getTopMoveStartHandler(){return!this.options.delayTouchStart&&!this.options.delayMouseStart?this.handleTopMoveStart:this.handleTopMoveStartDelay}installSourceNodeRemovalObserver(e){this.uninstallSourceNodeRemovalObserver(),this.draggedSourceNode=e,this.draggedSourceNodeRemovalObserver=new MutationObserver(()=>{e&&!e.parentElement&&(this.resurrectSourceNode(),this.uninstallSourceNodeRemovalObserver())}),!(!e||!e.parentElement)&&this.draggedSourceNodeRemovalObserver.observe(e.parentElement,{childList:!0})}resurrectSourceNode(){this.document&&this.draggedSourceNode&&(this.draggedSourceNode.style.display="none",this.draggedSourceNode.removeAttribute("data-reactid"),this.document.body.appendChild(this.draggedSourceNode))}uninstallSourceNodeRemovalObserver(){this.draggedSourceNodeRemovalObserver&&this.draggedSourceNodeRemovalObserver.disconnect(),this.draggedSourceNodeRemovalObserver=void 0,this.draggedSourceNode=void 0}constructor(e,n,r){this.getSourceClientOffset=i=>{const s=this.sourceNodes.get(i);return s&&Lke(s)},this.handleTopMoveStartCapture=i=>{tx(i)&&(this.moveStartSourceIds=[])},this.handleMoveStart=i=>{Array.isArray(this.moveStartSourceIds)&&this.moveStartSourceIds.unshift(i)},this.handleTopMoveStart=i=>{if(!tx(i))return;const s=l2(i);s&&(z9(i)&&(this.lastTargetTouchFallback=i.targetTouches[0]),this._mouseClientOffset=s),this.waitingForDelay=!1},this.handleTopMoveStartDelay=i=>{if(!tx(i))return;const s=i.type===ag.touch.start?this.options.delayTouchStart:this.options.delayMouseStart;this.timeout=setTimeout(this.handleTopMoveStart.bind(this,i),s),this.waitingForDelay=!0},this.handleTopMoveCapture=()=>{this.dragOverTargetIds=[]},this.handleMove=(i,s)=>{this.dragOverTargetIds&&this.dragOverTargetIds.unshift(s)},this.handleTopMove=i=>{if(this.timeout&&clearTimeout(this.timeout),!this.document||this.waitingForDelay)return;const{moveStartSourceIds:s,dragOverTargetIds:o}=this,a=this.options.enableHoverOutsideTarget,l=l2(i,this.lastTargetTouchFallback);if(!l)return;if(this._isScrolling||!this.monitor.isDragging()&&Nke(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y,this.options.scrollAngleRanges)){this._isScrolling=!0;return}if(!this.monitor.isDragging()&&this._mouseClientOffset.hasOwnProperty("x")&&s&&Ike(this._mouseClientOffset.x||0,this._mouseClientOffset.y||0,l.x,l.y)>(this.options.touchSlop?this.options.touchSlop:0)&&(this.moveStartSourceIds=void 0,this.actions.beginDrag(s,{clientOffset:this._mouseClientOffset,getSourceClientOffset:this.getSourceClientOffset,publishSource:!1})),!this.monitor.isDragging())return;const A=this.sourceNodes.get(this.monitor.getSourceId());this.installSourceNodeRemovalObserver(A),this.actions.publishDragSource(),i.cancelable&&i.preventDefault();const c=(o||[]).map(p=>this.targetNodes.get(p)).filter(p=>!!p),u=this.options.getDropTargetElementsAtPoint?this.options.getDropTargetElementsAtPoint(l.x,l.y,c):this.document.elementsFromPoint(l.x,l.y),h=[];for(const p in u){if(!u.hasOwnProperty(p))continue;let f=u[p];for(f!=null&&h.push(f);f;)f=f.parentElement,f&&h.indexOf(f)===-1&&h.push(f)}const d=h.filter(p=>c.indexOf(p)>-1).map(p=>this._getDropTargetId(p)).filter(p=>!!p).filter((p,f,b)=>b.indexOf(p)===f);if(a)for(const p in this.targetNodes){const f=this.targetNodes.get(p);if(A&&f&&f.contains(A)&&d.indexOf(p)===-1){d.unshift(p);break}}d.reverse(),this.actions.hover(d,{clientOffset:l})},this._getDropTargetId=i=>{const s=this.targetNodes.keys();let o=s.next();for(;o.done===!1;){const a=o.value;if(i===this.targetNodes.get(a))return a;o=s.next()}},this.handleTopMoveEndCapture=i=>{if(this._isScrolling=!1,this.lastTargetTouchFallback=void 0,!!Pke(i)){if(!this.monitor.isDragging()||this.monitor.didDrop()){this.moveStartSourceIds=void 0;return}i.cancelable&&i.preventDefault(),this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.drop(),this.actions.endDrag()}},this.handleCancelOnEscape=i=>{i.key==="Escape"&&this.monitor.isDragging()&&(this._mouseClientOffset={},this.uninstallSourceNodeRemovalObserver(),this.actions.endDrag())},this.options=new Tke(r,n),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.sourceNodes=new Map,this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.targetNodes=new Map,this.listenerTypes=[],this._mouseClientOffset={},this._isScrolling=!1,this.options.enableMouseEvents&&this.listenerTypes.push(Pc.mouse),this.options.enableTouchEvents&&this.listenerTypes.push(Pc.touch),this.options.enableKeyboardEvents&&this.listenerTypes.push(Pc.keyboard)}}const Uke=function(e,n={},r={}){return new om(e,n,r)};function Oke({className:t="",style:e={},strokeColor:n="#3b82f6",scale:r=1,offset:i={x:0,y:0},areas:s=[],onFinalize:o}){const a=$.useRef(null),[l,A]=$.useState([]),[c,u]=$.useState(!1),h=_=>{const F=a.current.getBoundingClientRect();return{x:(_.clientX-F.left-i.x)/r,y:(_.clientY-F.top-i.y)/r}},d=_=>{if(_.length<2)return _;const x=[];for(let F=0;F<_.length-1;F++){const O=_[F],I=_[F+1];x.push({x:.75*O.x+.25*I.x,y:.75*O.y+.25*I.y}),x.push({x:.25*O.x+.75*I.x,y:.25*O.y+.75*I.y})}return x},p=_=>{if(!_.length)return"";const x=[`M ${_[0].x} ${_[0].y}`];for(let F=1;F<_.length;F++)x.push(`L ${_[F].x} ${_[F].y}`);return x.join(" ")},f=_=>{_.preventDefault(),u(!0),A([h(_)])},b=_=>{c&&A(x=>[...x,h(_)])},g=()=>{u(!1)},v=()=>{if(l.length>2){const _=d(l);o&&o(_),A([])}};return y.jsxs("svg",{ref:a,className:`w-full h-full touch-none ${t}`,style:e,onPointerDown:f,onPointerMove:b,onPointerUp:g,onDoubleClick:v,children:[s.map((_,x)=>y.jsx("path",{d:p(_),stroke:"#10b981",strokeWidth:2,fill:"none"},x)),y.jsxs("g",{transform:`translate(${i.x} ${i.y}) scale(${r})`,children:[s.map((_,x)=>y.jsx("path",{d:p(_),stroke:"#10b981",strokeWidth:2,fill:"none"},x)),y.jsx("path",{d:p(l),stroke:n,strokeWidth:2,fill:"none"})]})]})}const K9={GUEST:"guest"};function Mke({guest:t}){const[{isDragging:e},n]=ske(()=>({type:K9.GUEST,item:{id:t.id},collect:r=>({isDragging:r.isDragging()})}),[t.id]);return y.jsx("div",{ref:n,className:`p-2 mb-1 border rounded bg-white cursor-grab ${e?"opacity-50":""}`,"aria-label":`Invitado ${t.name}`,children:t.name})}const Qke=re.memo(Mke);function jke({table:t,scale:e,offset:n,onMove:r,onAssignGuest:i,onToggleEnabled:s,onOpenConfig:o}){const a=$.useRef(null),[{isOver:l},A]=dke(()=>({accept:K9.GUEST,canDrop:()=>t.enabled!==!1&&!t.guestId,drop:p=>i(t.id,p.id),collect:p=>({isOver:p.isOver()})}),[t.id]),c=p=>{p.stopPropagation();const f={x:p.clientX,y:p.clientY},b={x:t.x,y:t.y},g=_=>{const x=(_.clientX-f.x)/e,F=(_.clientY-f.y)/e;r(t.id,{x:b.x+x,y:b.y+F})},v=()=>{window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",v)};window.addEventListener("pointermove",g),window.addEventListener("pointerup",v)},u=60,h=t.enabled===!1,d={position:"absolute",left:t.x*e+n.x-u*e/2,top:t.y*e+n.y-u*e/2,width:u*e,height:u*e,backgroundColor:h?"#e5e7eb":"#fef3c7",border:"2px solid #f59e0b",borderRadius:t.shape==="circle"?"50%":"6px",display:"flex",alignItems:"center",justifyContent:"center",cursor:h?"not-allowed":"grab",userSelect:"none"};return y.jsxs("div",{ref:p=>{a.current=p,A(p)},style:{...d,backgroundColor:l?"#d1fae5":d.backgroundColor},onPointerDown:h?void 0:c,onContextMenu:p=>{p.preventDefault(),s(t.id)},onDoubleClick:()=>o(t),children:[y.jsx("button",{onClick:p=>{p.stopPropagation(),i(t.id,null)},className:"absolute top-0 right-0 text-xs px-1 text-red-600",children:"✖"}),t.guestId?`👤 ${t.guestName}`:"Libre",h&&y.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-50 rounded"}),(()=>{if(t.shape==="rect"){const f=Math.ceil((t.seats||8)/2);return Array.from({length:t.seats||8}).map((b,g)=>{const v=g<f,_=v?g:g-f,x=u*e/(f+1)*(_+1),F=v?4:u*e-4;return y.jsx("div",{style:{position:"absolute",width:6,height:6,background:"#6b7280",borderRadius:"50%",left:x-3,top:F-3}},g)})}const p=t.seats||8;return Array.from({length:p}).map((f,b)=>{const g=Math.PI*2*b/p,v=u*e/2+8,_=u*e/2+Math.cos(g)*v,x=u*e/2+Math.sin(g)*v;return y.jsx("div",{style:{position:"absolute",width:6,height:6,background:"#6b7280",borderRadius:"50%",left:_-3,top:x-3}},b)})})()]})}const Hke=$.forwardRef(function({tab:e,areas:n,tables:r,scale:i,offset:s,addArea:o,moveTable:a,onAssignGuest:l,onToggleEnabled:A,setConfigTable:c,online:u,handleWheel:h,handlePointerDown:d},p){return y.jsx(LFe,{backend:"ontouchstart"in window||navigator.maxTouchPoints>0?Uke:Ske,children:y.jsxs("div",{className:"md:w-3/4 border border-gray-300 h-96 relative",onWheel:h,onPointerDown:d,role:"main","aria-label":"Lienzo de plano",ref:p,children:[y.jsx(Oke,{areas:n,scale:i,offset:s,onFinalize:o}),r.map(f=>y.jsx(jke,{table:f,scale:i,offset:s,onMove:a,onAssignGuest:l,onToggleEnabled:A,onOpenConfig:c},f.id)),e==="banquet"&&(()=>{const f=[...new Set(r.map(g=>g.x))],b=[...new Set(r.map(g=>g.y))];return y.jsxs(y.Fragment,{children:[f.map((g,v)=>y.jsx("div",{style:{position:"absolute",left:g*i+s.x,top:0,height:"100%",width:1,background:"#cbd5e1",pointerEvents:"none"}},`v${v}`)),b.map((g,v)=>y.jsx("div",{style:{position:"absolute",top:g*i+s.y,left:0,width:"100%",height:1,background:"#cbd5e1",pointerEvents:"none"}},`h${v}`))]})})(),y.jsxs("div",{className:"absolute top-2 left-2 bg-white bg-opacity-80 px-2 py-1 text-sm rounded shadow",children:["Áreas: ",n.length," | Mesas: ",r.length," | Zoom: ",i.toFixed(2)," | Online: ",u]})]})})});var q3=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Vke(t,e){return!!(t===e||q3(t)&&q3(e))}function $ke(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!Vke(t[n],e[n]))return!1;return!0}function nx(t,e){e===void 0&&(e=$ke);var n,r=[],i,s=!1;function o(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];return s&&n===this&&e(a,r)||(i=t.apply(this,a),s=!0,n=this,r=a),i}return o}var zke=typeof performance=="object"&&typeof performance.now=="function",Y3=zke?function(){return performance.now()}:function(){return Date.now()};function X3(t){cancelAnimationFrame(t.id)}function Kke(t,e){var n=Y3();function r(){Y3()-n>=e?t.call(null):i.id=requestAnimationFrame(r)}var i={id:requestAnimationFrame(r)};return i}var rx=-1;function J3(t){if(t===void 0&&(t=!1),rx===-1||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",document.body.appendChild(e),rx=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return rx}var pd=null;function Z3(t){if(t===void 0&&(t=!1),pd===null||t){var e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";var r=document.createElement("div"),i=r.style;return i.width="100px",i.height="100px",e.appendChild(r),document.body.appendChild(e),e.scrollLeft>0?pd="positive-descending":(e.scrollLeft=1,e.scrollLeft===0?pd="negative":pd="positive-ascending"),document.body.removeChild(e),pd}return pd}var Wke=150,Gke=function(e,n){return e};function qke(t){var e,n=t.getItemOffset,r=t.getEstimatedTotalSize,i=t.getItemSize,s=t.getOffsetForIndexAndAlignment,o=t.getStartIndexForOffset,a=t.getStopIndexForStartIndex,l=t.initInstanceProps,A=t.shouldResetStyleCacheOnItemSizeChange,c=t.validateProps;return e=function(u){D7(h,u);function h(p){var f;return f=u.call(this,p)||this,f._instanceProps=l(f.props,DE(f)),f._outerRef=void 0,f._resetIsScrollingTimeoutId=null,f.state={instance:DE(f),isScrolling:!1,scrollDirection:"forward",scrollOffset:typeof f.props.initialScrollOffset=="number"?f.props.initialScrollOffset:0,scrollUpdateWasRequested:!1},f._callOnItemsRendered=void 0,f._callOnItemsRendered=nx(function(b,g,v,_){return f.props.onItemsRendered({overscanStartIndex:b,overscanStopIndex:g,visibleStartIndex:v,visibleStopIndex:_})}),f._callOnScroll=void 0,f._callOnScroll=nx(function(b,g,v){return f.props.onScroll({scrollDirection:b,scrollOffset:g,scrollUpdateWasRequested:v})}),f._getItemStyle=void 0,f._getItemStyle=function(b){var g=f.props,v=g.direction,_=g.itemSize,x=g.layout,F=f._getItemStyleCache(A&&_,A&&x,A&&v),O;if(F.hasOwnProperty(b))O=F[b];else{var I=n(f.props,b,f._instanceProps),B=i(f.props,b,f._instanceProps),T=v==="horizontal"||x==="horizontal",R=v==="rtl",D=T?I:0;F[b]=O={position:"absolute",left:R?void 0:D,right:R?D:void 0,top:T?0:I,height:T?"100%":B,width:T?B:"100%"}}return O},f._getItemStyleCache=void 0,f._getItemStyleCache=nx(function(b,g,v){return{}}),f._onScrollHorizontal=function(b){var g=b.currentTarget,v=g.clientWidth,_=g.scrollLeft,x=g.scrollWidth;f.setState(function(F){if(F.scrollOffset===_)return null;var O=f.props.direction,I=_;if(O==="rtl")switch(Z3()){case"negative":I=-_;break;case"positive-descending":I=x-v-_;break}return I=Math.max(0,Math.min(I,x-v)),{isScrolling:!0,scrollDirection:F.scrollOffset<I?"forward":"backward",scrollOffset:I,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._onScrollVertical=function(b){var g=b.currentTarget,v=g.clientHeight,_=g.scrollHeight,x=g.scrollTop;f.setState(function(F){if(F.scrollOffset===x)return null;var O=Math.max(0,Math.min(x,_-v));return{isScrolling:!0,scrollDirection:F.scrollOffset<O?"forward":"backward",scrollOffset:O,scrollUpdateWasRequested:!1}},f._resetIsScrollingDebounced)},f._outerRefSetter=function(b){var g=f.props.outerRef;f._outerRef=b,typeof g=="function"?g(b):g!=null&&typeof g=="object"&&g.hasOwnProperty("current")&&(g.current=b)},f._resetIsScrollingDebounced=function(){f._resetIsScrollingTimeoutId!==null&&X3(f._resetIsScrollingTimeoutId),f._resetIsScrollingTimeoutId=Kke(f._resetIsScrolling,Wke)},f._resetIsScrolling=function(){f._resetIsScrollingTimeoutId=null,f.setState({isScrolling:!1},function(){f._getItemStyleCache(-1,null)})},f}h.getDerivedStateFromProps=function(f,b){return Yke(f,b),c(f),null};var d=h.prototype;return d.scrollTo=function(f){f=Math.max(0,f),this.setState(function(b){return b.scrollOffset===f?null:{scrollDirection:b.scrollOffset<f?"forward":"backward",scrollOffset:f,scrollUpdateWasRequested:!0}},this._resetIsScrollingDebounced)},d.scrollToItem=function(f,b){b===void 0&&(b="auto");var g=this.props,v=g.itemCount,_=g.layout,x=this.state.scrollOffset;f=Math.max(0,Math.min(f,v-1));var F=0;if(this._outerRef){var O=this._outerRef;_==="vertical"?F=O.scrollWidth>O.clientWidth?J3():0:F=O.scrollHeight>O.clientHeight?J3():0}this.scrollTo(s(this.props,f,b,x,this._instanceProps,F))},d.componentDidMount=function(){var f=this.props,b=f.direction,g=f.initialScrollOffset,v=f.layout;if(typeof g=="number"&&this._outerRef!=null){var _=this._outerRef;b==="horizontal"||v==="horizontal"?_.scrollLeft=g:_.scrollTop=g}this._callPropsCallbacks()},d.componentDidUpdate=function(){var f=this.props,b=f.direction,g=f.layout,v=this.state,_=v.scrollOffset,x=v.scrollUpdateWasRequested;if(x&&this._outerRef!=null){var F=this._outerRef;if(b==="horizontal"||g==="horizontal")if(b==="rtl")switch(Z3()){case"negative":F.scrollLeft=-_;break;case"positive-ascending":F.scrollLeft=_;break;default:var O=F.clientWidth,I=F.scrollWidth;F.scrollLeft=I-O-_;break}else F.scrollLeft=_;else F.scrollTop=_}this._callPropsCallbacks()},d.componentWillUnmount=function(){this._resetIsScrollingTimeoutId!==null&&X3(this._resetIsScrollingTimeoutId)},d.render=function(){var f=this.props,b=f.children,g=f.className,v=f.direction,_=f.height,x=f.innerRef,F=f.innerElementType,O=f.innerTagName,I=f.itemCount,B=f.itemData,T=f.itemKey,R=T===void 0?Gke:T,D=f.layout,E=f.outerElementType,k=f.outerTagName,N=f.style,Y=f.useIsScrolling,oe=f.width,ie=this.state.isScrolling,ne=v==="horizontal"||D==="horizontal",se=ne?this._onScrollHorizontal:this._onScrollVertical,ue=this._getRangeToRender(),le=ue[0],U=ue[1],z=[];if(I>0)for(var q=le;q<=U;q++)z.push($.createElement(b,{data:B,key:R(q,B),index:q,isScrolling:Y?ie:void 0,style:this._getItemStyle(q)}));var ee=r(this.props,this._instanceProps);return $.createElement(E||k||"div",{className:g,onScroll:se,ref:this._outerRefSetter,style:rr({position:"relative",height:_,width:oe,overflow:"auto",WebkitOverflowScrolling:"touch",willChange:"transform",direction:v},N)},$.createElement(F||O||"div",{children:z,ref:x,style:{height:ne?"100%":ee,pointerEvents:ie?"none":void 0,width:ne?ee:"100%"}}))},d._callPropsCallbacks=function(){if(typeof this.props.onItemsRendered=="function"){var f=this.props.itemCount;if(f>0){var b=this._getRangeToRender(),g=b[0],v=b[1],_=b[2],x=b[3];this._callOnItemsRendered(g,v,_,x)}}if(typeof this.props.onScroll=="function"){var F=this.state,O=F.scrollDirection,I=F.scrollOffset,B=F.scrollUpdateWasRequested;this._callOnScroll(O,I,B)}},d._getRangeToRender=function(){var f=this.props,b=f.itemCount,g=f.overscanCount,v=this.state,_=v.isScrolling,x=v.scrollDirection,F=v.scrollOffset;if(b===0)return[0,0,0,0];var O=o(this.props,F,this._instanceProps),I=a(this.props,O,F,this._instanceProps),B=!_||x==="backward"?Math.max(1,g):1,T=!_||x==="forward"?Math.max(1,g):1;return[Math.max(0,O-B),Math.max(0,Math.min(b-1,I+T)),O,I]},h}($.PureComponent),e.defaultProps={direction:"ltr",itemData:void 0,layout:"vertical",overscanCount:2,useIsScrolling:!1},e}var Yke=function(e,n){e.children,e.direction,e.height,e.layout,e.innerTagName,e.outerTagName,e.width,n.instance},Xke=qke({getItemOffset:function(e,n){var r=e.itemSize;return n*r},getItemSize:function(e,n){var r=e.itemSize;return r},getEstimatedTotalSize:function(e){var n=e.itemCount,r=e.itemSize;return r*n},getOffsetForIndexAndAlignment:function(e,n,r,i,s,o){var a=e.direction,l=e.height,A=e.itemCount,c=e.itemSize,u=e.layout,h=e.width,d=a==="horizontal"||u==="horizontal",p=d?h:l,f=Math.max(0,A*c-p),b=Math.min(f,n*c),g=Math.max(0,n*c-p+c+o);switch(r==="smart"&&(i>=g-p&&i<=b+p?r="auto":r="center"),r){case"start":return b;case"end":return g;case"center":{var v=Math.round(g+(b-g)/2);return v<Math.ceil(p/2)?0:v>f+Math.floor(p/2)?f:v}case"auto":default:return i>=g&&i<=b?i:i<g?g:b}},getStartIndexForOffset:function(e,n){var r=e.itemCount,i=e.itemSize;return Math.max(0,Math.min(r-1,Math.floor(n/i)))},getStopIndexForStartIndex:function(e,n,r){var i=e.direction,s=e.height,o=e.itemCount,a=e.itemSize,l=e.layout,A=e.width,c=i==="horizontal"||l==="horizontal",u=n*a,h=c?A:s,d=Math.ceil((h+r-u)/a);return Math.max(0,Math.min(o-1,n+d-1))},initInstanceProps:function(e){},shouldResetStyleCacheOnItemSizeChange:!0,validateProps:function(e){e.itemSize}});const Jke=({guests:t,tables:e,search:n,setSearch:r,guestOpen:i,setGuestOpen:s,guestBtnRef:o,searchRef:a})=>{const l=t.filter(A=>A.name.toLowerCase().includes(n.toLowerCase())&&!e.some(c=>c.guestId===A.id));return y.jsxs(y.Fragment,{children:[y.jsx("button",{ref:o,className:"md:hidden mb-2 px-3 py-1 bg-gray-200 rounded",onClick:()=>s(A=>!A),"aria-expanded":i,"aria-controls":"guestPanel",children:i?"Ocultar invitados":"Mostrar invitados"}),y.jsxs("div",{id:"guestPanel",className:`md:w-1/4 border rounded p-2 h-96 overflow-y-auto bg-gray-50 ${i?"block md:block":"hidden md:block"} ${i?"fixed inset-0 z-50 bg-white md:static md:bg-gray-50":""}`,role:"dialog","aria-modal":i,"aria-label":"Lista de invitados",children:[y.jsx("input",{ref:a,type:"text",value:n,onChange:A=>r(A.target.value),placeholder:"Buscar invitado",className:"mb-2 w-full border rounded px-2 py-1"}),y.jsx(Xke,{height:400,width:300,itemSize:50,itemCount:l.length,children:({index:A,style:c})=>y.jsx("div",{style:c,children:y.jsx(Qke,{guest:l[A]})})})]})]})};function Zke({open:t,table:e,onSave:n,onClose:r}){const[i,s]=$.useState(e.shape||"circle"),[o,a]=$.useState(e.name||""),[l,A]=$.useState(e.seats||8),c=()=>{n({...e,shape:i,name:o,seats:l}),r()};return y.jsx(a0,{open:t,title:`Configurar Mesa ${e.id}`,onClose:r,children:y.jsxs("div",{className:"flex flex-col space-y-2",children:[y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Nombre:"}),y.jsx("input",{value:o,onChange:u=>a(u.target.value),className:"border rounded px-2 py-1 w-32"})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Forma:"}),y.jsxs("select",{value:i,onChange:u=>s(u.target.value),className:"border rounded px-2 py-1 w-32",children:[y.jsx("option",{value:"circle",children:"Circular"}),y.jsx("option",{value:"rect",children:"Rectangular"})]})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Asientos:"}),y.jsx("input",{type:"number",min:1,max:20,value:l,onChange:u=>A(+u.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("div",{className:"flex justify-end mt-4 space-x-2",children:[y.jsx("button",{onClick:r,className:"px-3 py-1 bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{onClick:c,className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Guardar"})]})]})})}const ePe=[{id:"circle8",name:"Círculo de 8 mesas",generate:()=>{const e={x:300,y:220};return Array.from({length:8}).map((n,r)=>{const i=Math.PI*2*r/8;return{id:r+1,x:e.x+Math.cos(i)*180,y:e.y+Math.sin(i)*180,shape:"circle",seats:8}})}},{id:"rows20",name:"Filas 2 x 10",generate:()=>{const t=[];for(let r=0;r<2;r++)for(let i=0;i<10;i++)t.push({id:r*10+i+1,x:120+i*90,y:120+r*120,shape:"rect",seats:8});return t}},{id:"u12",name:"Forma U 12 mesas",generate:()=>{const t=[];for(let i=0;i<4;i++)t.push({id:i+1,x:120,y:120+i*100,shape:"rect",seats:8});for(let i=0;i<4;i++)t.push({id:5+i,x:600,y:120+i*100,shape:"rect",seats:8});for(let i=0;i<4;i++)t.push({id:9+i,x:120+120+i*110,y:120+4*100,shape:"rect",seats:8});return t}}];function tPe({open:t,onApply:e,onClose:n}){return y.jsx(a0,{open:t,title:"Plantillas de diseño",onClose:n,children:y.jsx("div",{className:"space-y-3",children:ePe.map(r=>y.jsxs("div",{className:"flex justify-between items-center border p-2 rounded",children:[y.jsx("span",{children:r.name}),y.jsx("button",{onClick:()=>e(r.generate()),className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Aplicar"})]},r.id))})})}function nPe({open:t,onApply:e,onClose:n}){const[r,i]=$.useState(3),[s,o]=$.useState(4),[a,l]=$.useState(8),[A,c]=$.useState(140),[u,h]=$.useState(160),d=()=>{e({rows:+r,cols:+s,seats:+a,gapX:+A,gapY:+u}),n()};return y.jsx(a0,{open:t,title:"Configurar Banquete",onClose:n,children:y.jsxs("div",{className:"flex flex-col space-y-2 w-60",children:[y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Filas:"}),y.jsx("input",{type:"number",min:"1",max:"10",value:r,onChange:p=>i(p.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Columnas:"}),y.jsx("input",{type:"number",min:"1",max:"10",value:s,onChange:p=>o(p.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Asientos/mesa:"}),y.jsx("input",{type:"number",min:"1",max:"20",value:a,onChange:p=>l(p.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Espacio X:"}),y.jsx("input",{type:"number",min:"60",max:"400",value:A,onChange:p=>c(p.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("label",{className:"flex justify-between items-center",children:[y.jsx("span",{children:"Espacio Y:"}),y.jsx("input",{type:"number",min:"60",max:"400",value:u,onChange:p=>h(p.target.value),className:"border rounded px-2 py-1 w-20"})]}),y.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[y.jsx("button",{onClick:n,className:"px-3 py-1 bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{onClick:d,className:"px-3 py-1 bg-blue-600 text-white rounded",children:"Aplicar"})]})]})})}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var s5=function(t,e){return s5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},s5(t,e)};function Fa(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");s5(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var o5=function(){return o5=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},o5.apply(this,arguments)};function ms(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(c){try{A(r.next(c))}catch(u){o(u)}}function l(c){try{A(r.throw(c))}catch(u){o(u)}}function A(c){c.done?s(c.value):i(c.value).then(a,l)}A((r=r.apply(t,e||[])).next())})}function Gi(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(A){return function(c){return l([A,c])}}function l(A){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=A[0]&2?i.return:A[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,A[1])).done)return s;switch(i=0,s&&(A=[A[0]&2,s.value]),A[0]){case 0:case 1:s=A;break;case 4:return n.label++,{value:A[1],done:!1};case 5:n.label++,i=A[1],A=[0];continue;case 7:A=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(A[0]===6||A[0]===2)){n=0;continue}if(A[0]===3&&(!s||A[1]>s[0]&&A[1]<s[3])){n.label=A[1];break}if(A[0]===6&&n.label<s[1]){n.label=s[1],s=A;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(A);break}s[2]&&n.ops.pop(),n.trys.pop();continue}A=e.call(t,n)}catch(c){A=[6,c],i=0}finally{r=s=0}if(A[0]&5)throw A[1];return{value:A[0]?A[1]:void 0,done:!0}}}function my(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var uA=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),Yb=function(t,e){return uA.fromClientRect(t,e.getBoundingClientRect())},rPe=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new uA(0,0,r,i)},Xb=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},Br=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},eR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",iPe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vy=0;vy<eR.length;vy++)iPe[eR.charCodeAt(vy)]=vy;var tR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Eg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var yy=0;yy<tR.length;yy++)Eg[tR.charCodeAt(yy)]=yy;var sPe=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=Eg[t.charCodeAt(r)],o=Eg[t.charCodeAt(r+1)],a=Eg[t.charCodeAt(r+2)],l=Eg[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return A},oPe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},aPe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Ju=5,D4=6+5,ix=2,lPe=D4-Ju,W9=65536>>Ju,APe=1<<Ju,sx=APe-1,cPe=1024>>Ju,uPe=W9+cPe,hPe=uPe,dPe=32,fPe=hPe+dPe,pPe=65536>>D4,gPe=1<<lPe,mPe=gPe-1,nR=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},vPe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},yPe=function(t,e){var n=sPe(t),r=Array.isArray(n)?aPe(n):new Uint32Array(n),i=Array.isArray(n)?oPe(n):new Uint16Array(n),s=24,o=nR(i,s/2,r[4]/2),a=r[5]===2?nR(i,(s+r[4])/2):vPe(r,Math.ceil((s+r[4])/4));return new wPe(r[0],r[1],r[2],r[3],o,a)},wPe=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Ju],n=(n<<ix)+(e&sx),this.data[n];if(e<=65535)return n=this.index[W9+(e-55296>>Ju)],n=(n<<ix)+(e&sx),this.data[n];if(e<this.highStart)return n=fPe-pPe+(e>>D4),n=this.index[n],n+=e>>Ju&mPe,n=this.index[n],n=(n<<ix)+(e&sx),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),rR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bPe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var wy=0;wy<rR.length;wy++)bPe[rR.charCodeAt(wy)]=wy;var _Pe="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",iR=50,CPe=1,G9=2,q9=3,xPe=4,BPe=5,sR=7,Y9=8,oR=9,dc=10,a5=11,aR=12,l5=13,EPe=14,Sg=15,A5=16,by=17,lg=18,SPe=19,lR=20,c5=21,Ag=22,ox=23,gd=24,no=25,Tg=26,Ig=27,md=28,TPe=29,Du=30,IPe=31,_y=32,Cy=33,u5=34,h5=35,d5=36,pv=37,f5=38,w1=39,b1=40,ax=41,X9=42,NPe=43,FPe=[9001,65288],J9="!",tn="×",xy="÷",p5=yPe(_Pe),Fl=[Du,d5],g5=[CPe,G9,q9,BPe],Z9=[dc,Y9],AR=[Ig,Tg],kPe=g5.concat(Z9),cR=[f5,w1,b1,u5,h5],PPe=[Sg,l5],DPe=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,o){var a=p5.get(s);if(a>iR?(i.push(!0),a-=iR):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(o),n.push(A5);if(a===xPe||a===a5){if(o===0)return r.push(o),n.push(Du);var l=n[o-1];return kPe.indexOf(l)===-1?(r.push(r[o-1]),n.push(l)):(r.push(o),n.push(Du))}if(r.push(o),a===IPe)return n.push(e==="strict"?c5:pv);if(a===X9||a===TPe)return n.push(Du);if(a===NPe)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(pv):n.push(Du);n.push(a)}),[r,n,i]},lx=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var o=r[s];if(o===e)return!0;if(o!==dc)break}if(i===dc)for(var s=n;s>0;){s--;var a=r[s];if(Array.isArray(t)?t.indexOf(a)!==-1:t===a)for(var l=n;l<=r.length;){l++;var o=r[l];if(o===e)return!0;if(o!==dc)break}if(a!==dc)break}return!1},uR=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===dc)n--;else return r}return 0},LPe=function(t,e,n,r,i){if(n[r]===0)return tn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return tn;var o=s-1,a=s+1,l=e[s],A=o>=0?e[o]:0,c=e[a];if(l===G9&&c===q9)return tn;if(g5.indexOf(l)!==-1)return J9;if(g5.indexOf(c)!==-1||Z9.indexOf(c)!==-1)return tn;if(uR(s,e)===Y9)return xy;if(p5.get(t[s])===a5||(l===_y||l===Cy)&&p5.get(t[a])===a5||l===sR||c===sR||l===oR||[dc,l5,Sg].indexOf(l)===-1&&c===oR||[by,lg,SPe,gd,md].indexOf(c)!==-1||uR(s,e)===Ag||lx(ox,Ag,s,e)||lx([by,lg],c5,s,e)||lx(aR,aR,s,e))return tn;if(l===dc)return xy;if(l===ox||c===ox)return tn;if(c===A5||l===A5)return xy;if([l5,Sg,c5].indexOf(c)!==-1||l===EPe||A===d5&&PPe.indexOf(l)!==-1||l===md&&c===d5||c===lR||Fl.indexOf(c)!==-1&&l===no||Fl.indexOf(l)!==-1&&c===no||l===Ig&&[pv,_y,Cy].indexOf(c)!==-1||[pv,_y,Cy].indexOf(l)!==-1&&c===Tg||Fl.indexOf(l)!==-1&&AR.indexOf(c)!==-1||AR.indexOf(l)!==-1&&Fl.indexOf(c)!==-1||[Ig,Tg].indexOf(l)!==-1&&(c===no||[Ag,Sg].indexOf(c)!==-1&&e[a+1]===no)||[Ag,Sg].indexOf(l)!==-1&&c===no||l===no&&[no,md,gd].indexOf(c)!==-1)return tn;if([no,md,gd,by,lg].indexOf(c)!==-1)for(var u=s;u>=0;){var h=e[u];if(h===no)return tn;if([md,gd].indexOf(h)!==-1)u--;else break}if([Ig,Tg].indexOf(c)!==-1)for(var u=[by,lg].indexOf(l)!==-1?o:s;u>=0;){var h=e[u];if(h===no)return tn;if([md,gd].indexOf(h)!==-1)u--;else break}if(f5===l&&[f5,w1,u5,h5].indexOf(c)!==-1||[w1,u5].indexOf(l)!==-1&&[w1,b1].indexOf(c)!==-1||[b1,h5].indexOf(l)!==-1&&c===b1||cR.indexOf(l)!==-1&&[lR,Tg].indexOf(c)!==-1||cR.indexOf(c)!==-1&&l===Ig||Fl.indexOf(l)!==-1&&Fl.indexOf(c)!==-1||l===gd&&Fl.indexOf(c)!==-1||Fl.concat(no).indexOf(l)!==-1&&c===Ag&&FPe.indexOf(t[a])===-1||Fl.concat(no).indexOf(c)!==-1&&l===lg)return tn;if(l===ax&&c===ax){for(var d=n[s],p=1;d>0&&(d--,e[d]===ax);)p++;if(p%2!==0)return tn}return l===_y&&c===Cy?tn:xy},RPe=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=DPe(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(a){return[no,Du,X9].indexOf(a)!==-1?pv:a}));var o=e.wordBreak==="keep-all"?s.map(function(a,l){return a&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,o]},UPe=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===J9,this.start=r,this.end=i}return t.prototype.slice=function(){return Br.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),OPe=function(t,e){var n=Xb(t),r=RPe(n,e),i=r[0],s=r[1],o=r[2],a=n.length,l=0,A=0;return{next:function(){if(A>=a)return{done:!0,value:null};for(var c=tn;A<a&&(c=LPe(n,s,i,++A,o))===tn;);if(c!==tn||A===a){var u=new UPe(n,c,l,A);return l=A,{value:u,done:!1}}return{done:!0,value:null}}}},MPe=1,QPe=2,l0=4,hR=8,A2=10,dR=47,am=92,jPe=9,HPe=32,By=34,cg=61,VPe=35,$Pe=36,zPe=37,Ey=39,Sy=40,ug=41,KPe=95,Ps=45,WPe=33,GPe=60,qPe=62,YPe=64,XPe=91,JPe=93,ZPe=61,eDe=123,Ty=63,tDe=125,fR=124,nDe=126,rDe=128,pR=65533,Ax=42,Vu=43,iDe=44,sDe=58,oDe=59,gv=46,aDe=0,lDe=8,ADe=11,cDe=14,uDe=31,hDe=127,Qa=-1,e$=48,t$=97,n$=101,dDe=102,fDe=117,pDe=122,r$=65,i$=69,s$=70,gDe=85,mDe=90,Xi=function(t){return t>=e$&&t<=57},vDe=function(t){return t>=55296&&t<=57343},vd=function(t){return Xi(t)||t>=r$&&t<=s$||t>=t$&&t<=dDe},yDe=function(t){return t>=t$&&t<=pDe},wDe=function(t){return t>=r$&&t<=mDe},bDe=function(t){return yDe(t)||wDe(t)},_De=function(t){return t>=rDe},Iy=function(t){return t===A2||t===jPe||t===HPe},c2=function(t){return bDe(t)||_De(t)||t===KPe},gR=function(t){return c2(t)||Xi(t)||t===Ps},CDe=function(t){return t>=aDe&&t<=lDe||t===ADe||t>=cDe&&t<=uDe||t===hDe},nc=function(t,e){return t!==am?!1:e!==A2},Ny=function(t,e,n){return t===Ps?c2(e)||nc(e,n):c2(t)?!0:!!(t===am&&nc(t,e))},cx=function(t,e,n){return t===Vu||t===Ps?Xi(e)?!0:e===gv&&Xi(n):Xi(t===gv?e:t)},xDe=function(t){var e=0,n=1;(t[e]===Vu||t[e]===Ps)&&(t[e]===Ps&&(n=-1),e++);for(var r=[];Xi(t[e]);)r.push(t[e++]);var i=r.length?parseInt(Br.apply(void 0,r),10):0;t[e]===gv&&e++;for(var s=[];Xi(t[e]);)s.push(t[e++]);var o=s.length,a=o?parseInt(Br.apply(void 0,s),10):0;(t[e]===i$||t[e]===n$)&&e++;var l=1;(t[e]===Vu||t[e]===Ps)&&(t[e]===Ps&&(l=-1),e++);for(var A=[];Xi(t[e]);)A.push(t[e++]);var c=A.length?parseInt(Br.apply(void 0,A),10):0;return n*(i+a*Math.pow(10,-o))*Math.pow(10,l*c)},BDe={type:2},EDe={type:3},SDe={type:4},TDe={type:13},IDe={type:8},NDe={type:21},FDe={type:9},kDe={type:10},PDe={type:11},DDe={type:12},LDe={type:14},Fy={type:23},RDe={type:1},UDe={type:25},ODe={type:24},MDe={type:26},QDe={type:27},jDe={type:28},HDe={type:29},VDe={type:31},m5={type:32},o$=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(Xb(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==m5;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case By:return this.consumeStringToken(By);case VPe:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(gR(n)||nc(r,i)){var s=Ny(n,r,i)?QPe:MPe,o=this.consumeName();return{type:5,value:o,flags:s}}break;case $Pe:if(this.peekCodePoint(0)===cg)return this.consumeCodePoint(),TDe;break;case Ey:return this.consumeStringToken(Ey);case Sy:return BDe;case ug:return EDe;case Ax:if(this.peekCodePoint(0)===cg)return this.consumeCodePoint(),LDe;break;case Vu:if(cx(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case iDe:return SDe;case Ps:var a=e,l=this.peekCodePoint(0),A=this.peekCodePoint(1);if(cx(a,l,A))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Ny(a,l,A))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===Ps&&A===qPe)return this.consumeCodePoint(),this.consumeCodePoint(),ODe;break;case gv:if(cx(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case dR:if(this.peekCodePoint(0)===Ax)for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(c===Ax&&(c=this.consumeCodePoint(),c===dR))return this.consumeToken();if(c===Qa)return this.consumeToken()}break;case sDe:return MDe;case oDe:return QDe;case GPe:if(this.peekCodePoint(0)===WPe&&this.peekCodePoint(1)===Ps&&this.peekCodePoint(2)===Ps)return this.consumeCodePoint(),this.consumeCodePoint(),UDe;break;case YPe:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),d=this.peekCodePoint(2);if(Ny(u,h,d)){var o=this.consumeName();return{type:7,value:o}}break;case XPe:return jDe;case am:if(nc(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case JPe:return HDe;case ZPe:if(this.peekCodePoint(0)===cg)return this.consumeCodePoint(),IDe;break;case eDe:return PDe;case tDe:return DDe;case fDe:case gDe:var p=this.peekCodePoint(0),f=this.peekCodePoint(1);return p===Vu&&(vd(f)||f===Ty)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case fR:if(this.peekCodePoint(0)===cg)return this.consumeCodePoint(),FDe;if(this.peekCodePoint(0)===fR)return this.consumeCodePoint(),NDe;break;case nDe:if(this.peekCodePoint(0)===cg)return this.consumeCodePoint(),kDe;break;case Qa:return m5}return Iy(e)?(this.consumeWhiteSpace(),VDe):Xi(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):c2(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Br(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();vd(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===Ty&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(Br.apply(void 0,e.map(function(l){return l===Ty?e$:l})),16),s=parseInt(Br.apply(void 0,e.map(function(l){return l===Ty?s$:l})),16);return{type:30,start:i,end:s}}var o=parseInt(Br.apply(void 0,e),16);if(this.peekCodePoint(0)===Ps&&vd(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var a=[];vd(n)&&a.length<6;)a.push(n),n=this.consumeCodePoint();var s=parseInt(Br.apply(void 0,a),16);return{type:30,start:o,end:s}}else return{type:30,start:o,end:o}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Sy?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Sy?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qa)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===Ey||n===By){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qa||this.peekCodePoint(0)===ug)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),Fy)}for(;;){var i=this.consumeCodePoint();if(i===Qa||i===ug)return{type:22,value:Br.apply(void 0,e)};if(Iy(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Qa||this.peekCodePoint(0)===ug?(this.consumeCodePoint(),{type:22,value:Br.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Fy);if(i===By||i===Ey||i===Sy||CDe(i))return this.consumeBadUrlRemnants(),Fy;if(i===am)if(nc(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Fy;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;Iy(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ug||e===Qa)return;nc(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=Br.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Qa||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===A2)return this._value.splice(0,r),RDe;if(i===am){var s=this._value[r+1];s!==Qa&&s!==void 0&&(s===A2?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):nc(i,s)&&(n+=this.consumeStringSlice(r),n+=Br(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=l0,r=this.peekCodePoint(0);for((r===Vu||r===Ps)&&e.push(this.consumeCodePoint());Xi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===gv&&Xi(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hR;Xi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===i$||r===n$)&&((i===Vu||i===Ps)&&Xi(s)||Xi(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=hR;Xi(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[xDe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),o=this.peekCodePoint(2);if(Ny(i,s,o)){var a=this.consumeName();return{type:15,number:n,flags:r,unit:a}}return i===zPe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(vd(e)){for(var n=Br(e);vd(this.peekCodePoint(0))&&n.length<6;)n+=Br(this.consumeCodePoint());Iy(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||vDe(r)||r>1114111?pR:r}return e===Qa?pR:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(gR(n))e+=Br(n);else if(nc(n,this.peekCodePoint(0)))e+=Br(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),a$=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new o$;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||zDe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?m5:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),A0=function(t){return t.type===15},Bp=function(t){return t.type===17},Nn=function(t){return t.type===20},$De=function(t){return t.type===0},v5=function(t,e){return Nn(t)&&t.value===e},l$=function(t){return t.type!==31},Xf=function(t){return t.type!==31&&t.type!==4},ul=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},zDe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Wc=function(t){return t.type===17||t.type===15},zr=function(t){return t.type===16||Wc(t)},A$=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Ni={type:17,number:0,flags:l0},L4={type:16,number:50,flags:l0},fc={type:16,number:100,flags:l0},Ng=function(t,e,n){var r=t[0],i=t[1];return[Vn(r,e),Vn(typeof i<"u"?i:r,n)]},Vn=function(t,e){if(t.type===16)return t.number/100*e;if(A0(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},c$="deg",u$="grad",h$="rad",d$="turn",Jb={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case c$:return Math.PI*e.number/180;case u$:return Math.PI/200*e.number;case h$:return e.number;case d$:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},f$=function(t){return t.type===15&&(t.unit===c$||t.unit===u$||t.unit===h$||t.unit===d$)},p$=function(t){var e=t.filter(Nn).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Ni,Ni];case"to top":case"bottom":return Ho(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Ni,fc];case"to right":case"left":return Ho(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[fc,fc];case"to bottom":case"top":return Ho(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[fc,Ni];case"to left":case"right":return Ho(270)}return 0},Ho=function(t){return Math.PI*t/180},Dc={name:"color",parse:function(t,e){if(e.type===18){var n=KDe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return pc(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),o=e.value.substring(3,4);return pc(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(o+o,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return pc(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),o=e.value.substring(6,8);return pc(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(o,16)/255)}}if(e.type===20){var a=Xl[e.value.toUpperCase()];if(typeof a<"u")return a}return Xl.TRANSPARENT}},Lc=function(t){return(255&t)===0},ui=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},pc=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},mR=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},vR=function(t,e){var n=e.filter(Xf);if(n.length===3){var r=n.map(mR),i=r[0],s=r[1],o=r[2];return pc(i,s,o,1)}if(n.length===4){var a=n.map(mR),i=a[0],s=a[1],o=a[2],l=a[3];return pc(i,s,o,l)}return 0};function ux(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var yR=function(t,e){var n=e.filter(Xf),r=n[0],i=n[1],s=n[2],o=n[3],a=(r.type===17?Ho(r.number):Jb.parse(t,r))/(Math.PI*2),l=zr(i)?i.number/100:0,A=zr(s)?s.number/100:0,c=typeof o<"u"&&zr(o)?Vn(o,1):1;if(l===0)return pc(A*255,A*255,A*255,1);var u=A<=.5?A*(l+1):A+l-A*l,h=A*2-u,d=ux(h,u,a+1/3),p=ux(h,u,a),f=ux(h,u,a-1/3);return pc(d*255,p*255,f*255,c)},KDe={hsl:yR,hsla:yR,rgb:vR,rgba:vR},lm=function(t,e){return Dc.parse(t,a$.create(e).parseComponentValue())},Xl={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},WDe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},GDe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zb=function(t,e){var n=Dc.parse(t,e[0]),r=e[1];return r&&zr(r)?{color:n,stop:r}:{color:n,stop:null}},wR=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Ni),r.stop===null&&(r.stop=fc);for(var i=[],s=0,o=0;o<t.length;o++){var a=t[o].stop;if(a!==null){var l=Vn(a,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var A=null,o=0;o<i.length;o++){var c=i[o];if(c===null)A===null&&(A=o);else if(A!==null){for(var u=o-A,h=i[A-1],d=(c-h)/(u+1),p=1;p<=u;p++)i[A+p-1]=d*p;A=null}}return t.map(function(f,b){var g=f.color;return{color:g,stop:Math.max(Math.min(1,i[b]/e),0)}})},qDe=function(t,e,n){var r=e/2,i=n/2,s=Vn(t[0],e)-r,o=i-Vn(t[1],n);return(Math.atan2(o,s)+Math.PI*2)%(Math.PI*2)},YDe=function(t,e,n){var r=typeof t=="number"?t:qDe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,o=n/2,a=i/2,l=Math.sin(r-Math.PI/2)*a,A=Math.cos(r-Math.PI/2)*a;return[i,s-A,s+A,o-l,o+l]},da=function(t,e){return Math.sqrt(t*t+e*e)},bR=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(o,a){var l=a[0],A=a[1],c=da(n-l,r-A);return(i?c<o.optimumDistance:c>o.optimumDistance)?{optimumCorner:a,optimumDistance:c}:o},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},XDe=function(t,e,n,r,i){var s=0,o=0;switch(t.size){case 0:t.shape===0?s=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=o=Math.min(da(e,n),da(e,n-i),da(e-r,n),da(e-r,n-i));else if(t.shape===1){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=bR(r,i,e,n,!0),A=l[0],c=l[1];s=da(A-e,(c-n)/a),o=a*s}break;case 1:t.shape===0?s=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=o=Math.max(da(e,n),da(e,n-i),da(e-r,n),da(e-r,n-i));else if(t.shape===1){var a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),u=bR(r,i,e,n,!1),A=u[0],c=u[1];s=da(A-e,(c-n)/a),o=a*s}break}return Array.isArray(t.size)&&(s=Vn(t.size[0],r),o=t.size.length===2?Vn(t.size[1],i):s),[s,o]},JDe=function(t,e){var n=Ho(180),r=[];return ul(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&o.value==="to"){n=p$(i);return}else if(f$(o)){n=Jb.parse(t,o);return}}var a=Zb(t,i);r.push(a)}),{angle:n,stops:r,type:1}},ky=function(t,e){var n=Ho(180),r=[];return ul(e).forEach(function(i,s){if(s===0){var o=i[0];if(o.type===20&&["top","left","right","bottom"].indexOf(o.value)!==-1){n=p$(i);return}else if(f$(o)){n=(Jb.parse(t,o)+Ho(270))%Ho(360);return}}var a=Zb(t,i);r.push(a)}),{angle:n,stops:r,type:1}},ZDe=function(t,e){var n=Ho(180),r=[],i=1,s=0,o=3,a=[];return ul(e).forEach(function(l,A){var c=l[0];if(A===0){if(Nn(c)&&c.value==="linear"){i=1;return}else if(Nn(c)&&c.value==="radial"){i=2;return}}if(c.type===18){if(c.name==="from"){var u=Dc.parse(t,c.values[0]);r.push({stop:Ni,color:u})}else if(c.name==="to"){var u=Dc.parse(t,c.values[0]);r.push({stop:fc,color:u})}else if(c.name==="color-stop"){var h=c.values.filter(Xf);if(h.length===2){var u=Dc.parse(t,h[1]),d=h[0];Bp(d)&&r.push({stop:{type:16,number:d.number*100,flags:d.flags},color:u})}}}}),i===1?{angle:(n+Ho(180))%Ho(360),stops:r,type:i}:{size:o,shape:s,stops:r,position:a,type:i}},g$="closest-side",m$="farthest-side",v$="closest-corner",y$="farthest-corner",w$="circle",b$="ellipse",_$="cover",C$="contain",eLe=function(t,e){var n=0,r=3,i=[],s=[];return ul(e).forEach(function(o,a){var l=!0;if(a===0){var A=!1;l=o.reduce(function(u,h){if(A)if(Nn(h))switch(h.value){case"center":return s.push(L4),u;case"top":case"left":return s.push(Ni),u;case"right":case"bottom":return s.push(fc),u}else(zr(h)||Wc(h))&&s.push(h);else if(Nn(h))switch(h.value){case w$:return n=0,!1;case b$:return n=1,!1;case"at":return A=!0,!1;case g$:return r=0,!1;case _$:case m$:return r=1,!1;case C$:case v$:return r=2,!1;case y$:return r=3,!1}else if(Wc(h)||zr(h))return Array.isArray(r)||(r=[]),r.push(h),!1;return u},l)}if(l){var c=Zb(t,o);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},Py=function(t,e){var n=0,r=3,i=[],s=[];return ul(e).forEach(function(o,a){var l=!0;if(a===0?l=o.reduce(function(c,u){if(Nn(u))switch(u.value){case"center":return s.push(L4),!1;case"top":case"left":return s.push(Ni),!1;case"right":case"bottom":return s.push(fc),!1}else if(zr(u)||Wc(u))return s.push(u),!1;return c},l):a===1&&(l=o.reduce(function(c,u){if(Nn(u))switch(u.value){case w$:return n=0,!1;case b$:return n=1,!1;case C$:case g$:return r=0,!1;case m$:return r=1,!1;case v$:return r=2,!1;case _$:case y$:return r=3,!1}else if(Wc(u)||zr(u))return Array.isArray(r)||(r=[]),r.push(u),!1;return c},l)),l){var A=Zb(t,o);i.push(A)}}),{size:r,shape:n,stops:i,position:s,type:2}},tLe=function(t){return t.type===1},nLe=function(t){return t.type===2},R4={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=x$[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function rLe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!x$[t.name])}var x$={"linear-gradient":JDe,"-moz-linear-gradient":ky,"-ms-linear-gradient":ky,"-o-linear-gradient":ky,"-webkit-linear-gradient":ky,"radial-gradient":eLe,"-moz-radial-gradient":Py,"-ms-radial-gradient":Py,"-o-radial-gradient":Py,"-webkit-radial-gradient":Py,"-webkit-gradient":ZDe},iLe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Xf(r)&&rLe(r)}).map(function(r){return R4.parse(t,r)})}},sLe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Nn(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},oLe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return ul(e).map(function(n){return n.filter(zr)}).map(A$)}},aLe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return ul(e).map(function(n){return n.filter(Nn).map(function(r){return r.value}).join(" ")}).map(lLe)}},lLe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},gf;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(gf||(gf={}));var ALe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return ul(e).map(function(n){return n.filter(cLe)})}},cLe=function(t){return Nn(t)||zr(t)},e_=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},uLe=e_("top"),hLe=e_("right"),dLe=e_("bottom"),fLe=e_("left"),t_=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return A$(n.filter(zr))}}},pLe=t_("top-left"),gLe=t_("top-right"),mLe=t_("bottom-right"),vLe=t_("bottom-left"),n_=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},yLe=n_("top"),wLe=n_("right"),bLe=n_("bottom"),_Le=n_("left"),r_=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return A0(n)?n.number:0}}},CLe=r_("top"),xLe=r_("right"),BLe=r_("bottom"),ELe=r_("left"),SLe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},TLe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},ILe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Nn).reduce(function(n,r){return n|NLe(r.value)},0)}},NLe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},FLe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},kLe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},u2;(function(t){t.NORMAL="normal",t.STRICT="strict"})(u2||(u2={}));var PLe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return u2.STRICT;case"normal":default:return u2.NORMAL}}},DLe={name:"line-height",initialValue:"normal",prefix:!1,type:4},_R=function(t,e){return Nn(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:zr(t)?Vn(t,e):e},LLe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:R4.parse(t,e)}},RLe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},y5={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},i_=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},ULe=i_("top"),OLe=i_("right"),MLe=i_("bottom"),QLe=i_("left"),jLe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Nn).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},HLe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},s_=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},VLe=s_("top"),$Le=s_("right"),zLe=s_("bottom"),KLe=s_("left"),WLe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},GLe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},qLe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&v5(e[0],"none")?[]:ul(e).map(function(n){for(var r={color:Xl.TRANSPARENT,offsetX:Ni,offsetY:Ni,blur:Ni},i=0,s=0;s<n.length;s++){var o=n[s];Wc(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:r.blur=o,i++):r.color=Dc.parse(t,o)}return r})}},YLe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},XLe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=e3e[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},JLe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},ZLe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],a=e[13];return e[14],e[15],e.length===16?[n,r,i,s,o,a]:null},e3e={matrix:JLe,matrix3d:ZLe},CR={type:16,number:50,flags:l0},t3e=[CR,CR],n3e={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(zr);return n.length!==2?t3e:[n[0],n[1]]}},r3e={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},Am;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(Am||(Am={}));var i3e={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return Am.BREAK_ALL;case"keep-all":return Am.KEEP_ALL;case"normal":default:return Am.NORMAL}}},s3e={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Bp(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},B$={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},o3e={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Bp(e)?e.number:1}},a3e={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},l3e={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Nn).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},A3e={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},c3e={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},u3e={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Bp(e))return e.number;if(Nn(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},h3e={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Nn).map(function(n){return n.value})}},d3e={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},ei=function(t,e){return(t&e)!==0},f3e={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},p3e={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(l$),s=0;s<i.length;s++){var o=i[s],a=i[s+1];if(o.type===20){var l=a&&Bp(a)?a.number:1;r.push({counter:o.value,increment:l})}}return r}},g3e={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(l$),i=0;i<r.length;i++){var s=r[i],o=r[i+1];if(Nn(s)&&s.value!=="none"){var a=o&&Bp(o)?o.number:0;n.push({counter:s.value,reset:a})}}return n}},m3e={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(A0).map(function(n){return B$.parse(t,n)})}},v3e={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter($De);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var o=i[s].value,a=i[s+1].value;r.push({open:o,close:a})}return r}},xR=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},y3e={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&v5(e[0],"none")?[]:ul(e).map(function(n){for(var r={color:255,offsetX:Ni,offsetY:Ni,blur:Ni,spread:Ni,inset:!1},i=0,s=0;s<n.length;s++){var o=n[s];v5(o,"inset")?r.inset=!0:Wc(o)?(i===0?r.offsetX=o:i===1?r.offsetY=o:i===2?r.blur=o:r.spread=o,i++):r.color=Dc.parse(t,o)}return r})}},w3e={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Nn).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},b3e={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},_3e={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return A0(e)?e.number:0}},C3e=function(){function t(e,n){var r,i;this.animationDuration=ct(e,m3e,n.animationDuration),this.backgroundClip=ct(e,WDe,n.backgroundClip),this.backgroundColor=ct(e,GDe,n.backgroundColor),this.backgroundImage=ct(e,iLe,n.backgroundImage),this.backgroundOrigin=ct(e,sLe,n.backgroundOrigin),this.backgroundPosition=ct(e,oLe,n.backgroundPosition),this.backgroundRepeat=ct(e,aLe,n.backgroundRepeat),this.backgroundSize=ct(e,ALe,n.backgroundSize),this.borderTopColor=ct(e,uLe,n.borderTopColor),this.borderRightColor=ct(e,hLe,n.borderRightColor),this.borderBottomColor=ct(e,dLe,n.borderBottomColor),this.borderLeftColor=ct(e,fLe,n.borderLeftColor),this.borderTopLeftRadius=ct(e,pLe,n.borderTopLeftRadius),this.borderTopRightRadius=ct(e,gLe,n.borderTopRightRadius),this.borderBottomRightRadius=ct(e,mLe,n.borderBottomRightRadius),this.borderBottomLeftRadius=ct(e,vLe,n.borderBottomLeftRadius),this.borderTopStyle=ct(e,yLe,n.borderTopStyle),this.borderRightStyle=ct(e,wLe,n.borderRightStyle),this.borderBottomStyle=ct(e,bLe,n.borderBottomStyle),this.borderLeftStyle=ct(e,_Le,n.borderLeftStyle),this.borderTopWidth=ct(e,CLe,n.borderTopWidth),this.borderRightWidth=ct(e,xLe,n.borderRightWidth),this.borderBottomWidth=ct(e,BLe,n.borderBottomWidth),this.borderLeftWidth=ct(e,ELe,n.borderLeftWidth),this.boxShadow=ct(e,y3e,n.boxShadow),this.color=ct(e,SLe,n.color),this.direction=ct(e,TLe,n.direction),this.display=ct(e,ILe,n.display),this.float=ct(e,FLe,n.cssFloat),this.fontFamily=ct(e,A3e,n.fontFamily),this.fontSize=ct(e,c3e,n.fontSize),this.fontStyle=ct(e,d3e,n.fontStyle),this.fontVariant=ct(e,h3e,n.fontVariant),this.fontWeight=ct(e,u3e,n.fontWeight),this.letterSpacing=ct(e,kLe,n.letterSpacing),this.lineBreak=ct(e,PLe,n.lineBreak),this.lineHeight=ct(e,DLe,n.lineHeight),this.listStyleImage=ct(e,LLe,n.listStyleImage),this.listStylePosition=ct(e,RLe,n.listStylePosition),this.listStyleType=ct(e,y5,n.listStyleType),this.marginTop=ct(e,ULe,n.marginTop),this.marginRight=ct(e,OLe,n.marginRight),this.marginBottom=ct(e,MLe,n.marginBottom),this.marginLeft=ct(e,QLe,n.marginLeft),this.opacity=ct(e,o3e,n.opacity);var s=ct(e,jLe,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=ct(e,HLe,n.overflowWrap),this.paddingTop=ct(e,VLe,n.paddingTop),this.paddingRight=ct(e,$Le,n.paddingRight),this.paddingBottom=ct(e,zLe,n.paddingBottom),this.paddingLeft=ct(e,KLe,n.paddingLeft),this.paintOrder=ct(e,w3e,n.paintOrder),this.position=ct(e,GLe,n.position),this.textAlign=ct(e,WLe,n.textAlign),this.textDecorationColor=ct(e,a3e,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=ct(e,l3e,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=ct(e,qLe,n.textShadow),this.textTransform=ct(e,YLe,n.textTransform),this.transform=ct(e,XLe,n.transform),this.transformOrigin=ct(e,n3e,n.transformOrigin),this.visibility=ct(e,r3e,n.visibility),this.webkitTextStrokeColor=ct(e,b3e,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=ct(e,_3e,n.webkitTextStrokeWidth),this.wordBreak=ct(e,i3e,n.wordBreak),this.zIndex=ct(e,s3e,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Lc(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return ei(this.display,4)||ei(this.display,33554432)||ei(this.display,268435456)||ei(this.display,536870912)||ei(this.display,67108864)||ei(this.display,134217728)},t}(),x3e=function(){function t(e,n){this.content=ct(e,f3e,n.content),this.quotes=ct(e,v3e,n.quotes)}return t}(),BR=function(){function t(e,n){this.counterIncrement=ct(e,p3e,n.counterIncrement),this.counterReset=ct(e,g3e,n.counterReset)}return t}(),ct=function(t,e,n){var r=new o$,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new a$(r.read());switch(e.type){case 2:var o=s.parseComponentValue();return e.parse(t,Nn(o)?o.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return Jb.parse(t,s.parseComponentValue());case"color":return Dc.parse(t,s.parseComponentValue());case"image":return R4.parse(t,s.parseComponentValue());case"length":var a=s.parseComponentValue();return Wc(a)?a:Ni;case"length-percentage":var l=s.parseComponentValue();return zr(l)?l:Ni;case"time":return B$.parse(t,s.parseComponentValue())}break}},B3e="data-html2canvas-debug",E3e=function(t){var e=t.getAttribute(B3e);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},w5=function(t,e){var n=E3e(t);return n===1||e===n},hl=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,w5(n,3))debugger;this.styles=new C3e(e,window.getComputedStyle(n,null)),C5(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=Yb(this.context,n),w5(n,4)&&(this.flags|=16)}return t}(),S3e="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",ER="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Dy=0;Dy<ER.length;Dy++)Fg[ER.charCodeAt(Dy)]=Dy;var T3e=function(t){var e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var A=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),c=Array.isArray(A)?A:new Uint8Array(A);for(r=0;r<n;r+=4)s=Fg[t.charCodeAt(r)],o=Fg[t.charCodeAt(r+1)],a=Fg[t.charCodeAt(r+2)],l=Fg[t.charCodeAt(r+3)],c[i++]=s<<2|o>>4,c[i++]=(o&15)<<4|a>>2,c[i++]=(a&3)<<6|l&63;return A},I3e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},N3e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},Zu=5,U4=6+5,hx=2,F3e=U4-Zu,E$=65536>>Zu,k3e=1<<Zu,dx=k3e-1,P3e=1024>>Zu,D3e=E$+P3e,L3e=D3e,R3e=32,U3e=L3e+R3e,O3e=65536>>U4,M3e=1<<F3e,Q3e=M3e-1,SR=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},j3e=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},H3e=function(t,e){var n=T3e(t),r=Array.isArray(n)?N3e(n):new Uint32Array(n),i=Array.isArray(n)?I3e(n):new Uint16Array(n),s=24,o=SR(i,s/2,r[4]/2),a=r[5]===2?SR(i,(s+r[4])/2):j3e(r,Math.ceil((s+r[4])/4));return new V3e(r[0],r[1],r[2],r[3],o,a)},V3e=function(){function t(e,n,r,i,s,o){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=o}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>Zu],n=(n<<hx)+(e&dx),this.data[n];if(e<=65535)return n=this.index[E$+(e-55296>>Zu)],n=(n<<hx)+(e&dx),this.data[n];if(e<this.highStart)return n=U3e-O3e+(e>>U4),n=this.index[n],n+=e>>Zu&Q3e,n=this.index[n],n=(n<<hx)+(e&dx),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),TR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$3e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ly=0;Ly<TR.length;Ly++)$3e[TR.charCodeAt(Ly)]=Ly;var z3e=1,fx=2,px=3,IR=4,NR=5,K3e=7,FR=8,gx=9,mx=10,kR=11,PR=12,DR=13,LR=14,vx=15,W3e=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},G3e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var o=t[i];o<=65535?r.push(o):(o-=65536,r.push((o>>10)+55296,o%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},q3e=H3e(S3e),Do="×",yx="÷",Y3e=function(t){return q3e.get(t)},X3e=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],o=e[n];if(s===fx&&o===px)return Do;if(s===fx||s===px||s===IR||o===fx||o===px||o===IR)return yx;if(s===FR&&[FR,gx,kR,PR].indexOf(o)!==-1||(s===kR||s===gx)&&(o===gx||o===mx)||(s===PR||s===mx)&&o===mx||o===DR||o===NR||o===K3e||s===z3e)return Do;if(s===DR&&o===LR){for(;i===NR;)i=e[--r];if(i===LR)return Do}if(s===vx&&o===vx){for(var a=0;i===vx;)a++,i=e[--r];if(a%2===0)return Do}return yx},J3e=function(t){var e=W3e(t),n=e.length,r=0,i=0,s=e.map(Y3e);return{next:function(){if(r>=n)return{done:!0,value:null};for(var o=Do;r<n&&(o=X3e(e,s,++r))===Do;);if(o!==Do||r===n){var a=G3e.apply(null,e.slice(i,r));return i=r,{value:a,done:!1}}return{done:!0,value:null}}}},Z3e=function(t){for(var e=J3e(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},eRe=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},tRe=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=Xb(r.data).map(function(l){return Br(l)}),s=0,o={},a=i.every(function(l,A){n.setStart(r,s),n.setEnd(r,s+l.length);var c=n.getBoundingClientRect();s+=l.length;var u=c.x>o.x||c.y>o.y;return o=c,A===0?!0:u});return t.body.removeChild(e),a},nRe=function(){return typeof new Image().crossOrigin<"u"},rRe=function(){return typeof new XMLHttpRequest().responseType=="string"},iRe=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},RR=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},sRe=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var o=b5(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),UR(o).then(function(a){r.drawImage(a,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var A=t.createElement("div");return A.style.backgroundImage="url("+s+")",A.style.height=n+"px",RR(l)?UR(b5(n,n,0,0,A)):Promise.reject(!1)}).then(function(a){return r.drawImage(a,0,0),RR(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},b5=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",o=document.createElementNS(s,"svg"),a=document.createElementNS(s,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},UR=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Ti={get SUPPORT_RANGE_BOUNDS(){var t=eRe(document);return Object.defineProperty(Ti,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ti.SUPPORT_RANGE_BOUNDS&&tRe(document);return Object.defineProperty(Ti,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=iRe(document);return Object.defineProperty(Ti,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?sRe(document):Promise.resolve(!1);return Object.defineProperty(Ti,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=nRe();return Object.defineProperty(Ti,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=rRe();return Object.defineProperty(Ti,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ti,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Ti,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},cm=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),oRe=function(t,e,n,r){var i=ARe(e,n),s=[],o=0;return i.forEach(function(a){if(n.textDecorationLine.length||a.trim().length>0)if(Ti.SUPPORT_RANGE_BOUNDS){var l=OR(r,o,a.length).getClientRects();if(l.length>1){var A=O4(a),c=0;A.forEach(function(h){s.push(new cm(h,uA.fromDOMRectList(t,OR(r,c+o,h.length).getClientRects()))),c+=h.length})}else s.push(new cm(a,uA.fromDOMRectList(t,l)))}else{var u=r.splitText(a.length);s.push(new cm(a,aRe(t,r))),r=u}else Ti.SUPPORT_RANGE_BOUNDS||(r=r.splitText(a.length));o+=a.length}),s},aRe=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=Yb(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return uA.EMPTY},OR=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},O4=function(t){if(Ti.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return Z3e(t)},lRe=function(t,e){if(Ti.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return uRe(t,e)},ARe=function(t,e){return e.letterSpacing!==0?O4(t):lRe(t,e)},cRe=[32,160,4961,65792,65793,4153,4241],uRe=function(t,e){for(var n=OPe(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var o=i.value.slice(),a=Xb(o),l="";a.forEach(function(A){cRe.indexOf(A)===-1?l+=Br(A):(l.length&&r.push(l),r.push(Br(A)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},hRe=function(){function t(e,n,r){this.text=dRe(n.data,r.textTransform),this.textBounds=oRe(e,this.text,r,n)}return t}(),dRe=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(fRe,pRe);case 2:return t.toUpperCase();default:return t}},fRe=/(^|\s|:|-|\(|\))([a-z])/g,pRe=function(t,e,n){return t.length>0?e+n.toUpperCase():t},S$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(hl),T$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(hl),I$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,o=Yb(n,r);return r.setAttribute("width",o.width+"px"),r.setAttribute("height",o.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(hl),N$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(hl),_5=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(hl),gRe=[{type:15,flags:0,unit:"px",number:3}],mRe=[{type:16,flags:0,number:50}],vRe=function(t){return t.width>t.height?new uA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new uA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},yRe=function(t){var e=t.type===wRe?new Array(t.value.length+1).join("•"):t.value;return e.length===0?t.placeholder||"":e},h2="checkbox",d2="radio",wRe="password",MR=707406591,M4=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=yRe(r),(i.type===h2||i.type===d2)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=vRe(i.bounds)),i.type){case h2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=gRe;break;case d2:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=mRe;break}return i}return e}(hl),F$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(hl),k$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(hl),P$=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=L$(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?lm(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):Xl.TRANSPARENT,o=r.contentWindow.document.body?lm(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):Xl.TRANSPARENT;i.backgroundColor=Lc(s)?Lc(o)?i.styles.backgroundColor:o:s}}catch{}return i}return e}(hl),bRe=["OL","UL","MENU"],_1=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,R$(i)&&i.data.trim().length>0)n.textNodes.push(new hRe(t,i,n.styles));else if(Xd(i))if(Q$(i)&&i.assignedNodes)i.assignedNodes().forEach(function(a){return _1(t,a,n,r)});else{var o=D$(t,i);o.styles.isVisible()&&(_Re(i,o,r)?o.flags|=4:CRe(o.styles)&&(o.flags|=2),bRe.indexOf(i.tagName)!==-1&&(o.flags|=8),n.elements.push(o),i.slot,i.shadowRoot?_1(t,i.shadowRoot,o,r):!f2(i)&&!U$(i)&&!p2(i)&&_1(t,i,o,r))}},D$=function(t,e){return x5(e)?new S$(t,e):O$(e)?new T$(t,e):U$(e)?new I$(t,e):xRe(e)?new N$(t,e):BRe(e)?new _5(t,e):ERe(e)?new M4(t,e):p2(e)?new F$(t,e):f2(e)?new k$(t,e):M$(e)?new P$(t,e):new hl(t,e)},L$=function(t,e){var n=D$(t,e);return n.flags|=4,_1(t,e,n,n),n},_Re=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Q4(t)&&n.styles.isTransparent()},CRe=function(t){return t.isPositioned()||t.isFloating()},R$=function(t){return t.nodeType===Node.TEXT_NODE},Xd=function(t){return t.nodeType===Node.ELEMENT_NODE},C5=function(t){return Xd(t)&&typeof t.style<"u"&&!C1(t)},C1=function(t){return typeof t.className=="object"},xRe=function(t){return t.tagName==="LI"},BRe=function(t){return t.tagName==="OL"},ERe=function(t){return t.tagName==="INPUT"},SRe=function(t){return t.tagName==="HTML"},U$=function(t){return t.tagName==="svg"},Q4=function(t){return t.tagName==="BODY"},O$=function(t){return t.tagName==="CANVAS"},QR=function(t){return t.tagName==="VIDEO"},x5=function(t){return t.tagName==="IMG"},M$=function(t){return t.tagName==="IFRAME"},jR=function(t){return t.tagName==="STYLE"},TRe=function(t){return t.tagName==="SCRIPT"},f2=function(t){return t.tagName==="TEXTAREA"},p2=function(t){return t.tagName==="SELECT"},Q$=function(t){return t.tagName==="SLOT"},HR=function(t){return t.tagName.indexOf("-")>0},IRe=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(a){var l=n.counters[a.counter];l&&a.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=a.increment)});var o=[];return s&&i.forEach(function(a){var l=n.counters[a.counter];o.push(a.counter),l||(l=n.counters[a.counter]=[]),l.push(a.reset)}),o},t}(),VR={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},$R={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},NRe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},FRe={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},yd=function(t,e,n,r,i,s){return t<e||t>n?mv(t,i,s.length>0):r.integers.reduce(function(o,a,l){for(;t>=a;)t-=a,o+=r.values[l];return o},"")+s},j$=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},xr=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(j$(Math.abs(t),s,r,function(o){return Br(Math.floor(o%s)+e)})+i)},_u=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return j$(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},Td=1,XA=2,JA=4,kg=8,kl=function(t,e,n,r,i,s){if(t<-9999||t>9999)return mv(t,4,i.length>0);var o=Math.abs(t),a=i;if(o===0)return e[0]+a;for(var l=0;o>0&&l<=4;l++){var A=o%10;A===0&&ei(s,Td)&&a!==""?a=e[A]+a:A>1||A===1&&l===0||A===1&&l===1&&ei(s,XA)||A===1&&l===1&&ei(s,JA)&&t>100||A===1&&l>1&&ei(s,kg)?a=e[A]+(l>0?n[l-1]:"")+a:A===1&&l>0&&(a=n[l-1]+a),o=Math.floor(o/10)}return(t<0?r:"")+a},zR="十百千萬",KR="拾佰仟萬",WR="マイナス",wx="마이너스",mv=function(t,e,n){var r=n?". ":"",i=n?"、":"",s=n?", ":"",o=n?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var a=xr(t,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return _u(t,"〇一二三四五六七八九",i);case 6:return yd(t,1,3999,VR,3,r).toLowerCase();case 7:return yd(t,1,3999,VR,3,r);case 8:return xr(t,945,969,!1,r);case 9:return xr(t,97,122,!1,r);case 10:return xr(t,65,90,!1,r);case 11:return xr(t,1632,1641,!0,r);case 12:case 49:return yd(t,1,9999,$R,3,r);case 35:return yd(t,1,9999,$R,3,r).toLowerCase();case 13:return xr(t,2534,2543,!0,r);case 14:case 30:return xr(t,6112,6121,!0,r);case 15:return _u(t,"子丑寅卯辰巳午未申酉戌亥",i);case 16:return _u(t,"甲乙丙丁戊己庚辛壬癸",i);case 17:case 48:return kl(t,"零一二三四五六七八九",zR,"負",i,XA|JA|kg);case 47:return kl(t,"零壹貳參肆伍陸柒捌玖",KR,"負",i,Td|XA|JA|kg);case 42:return kl(t,"零一二三四五六七八九",zR,"负",i,XA|JA|kg);case 41:return kl(t,"零壹贰叁肆伍陆柒捌玖",KR,"负",i,Td|XA|JA|kg);case 26:return kl(t,"〇一二三四五六七八九","十百千万",WR,i,0);case 25:return kl(t,"零壱弐参四伍六七八九","拾百千万",WR,i,Td|XA|JA);case 31:return kl(t,"영일이삼사오육칠팔구","십백천만",wx,s,Td|XA|JA);case 33:return kl(t,"零一二三四五六七八九","十百千萬",wx,s,0);case 32:return kl(t,"零壹貳參四五六七八九","拾百千",wx,s,Td|XA|JA);case 18:return xr(t,2406,2415,!0,r);case 20:return yd(t,1,19999,FRe,3,r);case 21:return xr(t,2790,2799,!0,r);case 22:return xr(t,2662,2671,!0,r);case 22:return yd(t,1,10999,NRe,3,r);case 23:return _u(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return _u(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return xr(t,3302,3311,!0,r);case 28:return _u(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",i);case 29:return _u(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",i);case 34:return xr(t,3792,3801,!0,r);case 37:return xr(t,6160,6169,!0,r);case 38:return xr(t,4160,4169,!0,r);case 39:return xr(t,2918,2927,!0,r);case 40:return xr(t,1776,1785,!0,r);case 43:return xr(t,3046,3055,!0,r);case 44:return xr(t,3174,3183,!0,r);case 45:return xr(t,3664,3673,!0,r);case 46:return xr(t,3872,3881,!0,r);case 3:default:return xr(t,48,57,!0,r)}},H$="data-html2canvas-ignore",GR=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new IRe,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=kRe(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=i.contentWindow,l=a.document,A=LRe(i).then(function(){return ms(r,void 0,void 0,function(){var c,u;return Gi(this,function(h){switch(h.label){case 0:return this.scrolledElements.forEach(MRe),a&&(a.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(a.scrollY!==n.top||a.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-n.left,a.scrollY-n.top,0,0))),c=this.options.onclone,u=this.clonedReferenceElement,typeof u>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:h.sent(),h.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,DRe(l)]:[3,4];case 3:h.sent(),h.label=4;case 4:return typeof c=="function"?[2,Promise.resolve().then(function(){return c(l,u)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(URe(document.doctype)+"<html></html>"),ORe(this.referenceElement.ownerDocument,s,o),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),A},t.prototype.createElementClone=function(e){if(w5(e,2))debugger;if(O$(e))return this.createCanvasClone(e);if(QR(e))return this.createVideoClone(e);if(jR(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return x5(n)&&(x5(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),HR(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return bx(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,o){return o&&typeof o.cssText=="string"?s+o.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),o=i.getContext("2d");if(o)if(!this.options.allowTaint&&s)o.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var a=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(a){var l=a.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!Xd(n)||!TRe(n)&&!n.hasAttribute(H$)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!Xd(n)||!jR(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(Xd(s)&&Q$(s)&&typeof s.assignedNodes=="function"){var o=s.assignedNodes();o.length&&o.forEach(function(a){return i.appendChildNode(n,a,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(R$(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&Xd(e)&&(C5(e)||C1(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),o=r.getComputedStyle(e,":before"),a=r.getComputedStyle(e,":after");this.referenceElement===e&&C5(i)&&(this.clonedReferenceElement=i),Q4(i)&&HRe(i);var l=this.counters.parse(new BR(this.context,s)),A=this.resolvePseudoContent(e,i,o,um.BEFORE);HR(e)&&(n=!0),QR(e)||this.cloneChildNodes(e,i,n),A&&i.insertBefore(A,i.firstChild);var c=this.resolvePseudoContent(e,i,a,um.AFTER);return c&&i.appendChild(c),this.counters.pop(l),(s&&(this.options.copyStyles||C1(e))&&!M$(e)||n)&&bx(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(f2(e)||p2(e))&&(f2(i)||p2(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var o=r.content,a=n.ownerDocument;if(!(!a||!o||o==="none"||o==="-moz-alt-content"||r.display==="none")){this.counters.parse(new BR(this.context,r));var l=new x3e(this.context,r),A=a.createElement("html2canvaspseudoelement");bx(r,A),l.content.forEach(function(u){if(u.type===0)A.appendChild(a.createTextNode(u.value));else if(u.type===22){var h=a.createElement("img");h.src=u.value,h.style.opacity="1",A.appendChild(h)}else if(u.type===18){if(u.name==="attr"){var d=u.values.filter(Nn);d.length&&A.appendChild(a.createTextNode(e.getAttribute(d[0].value)||""))}else if(u.name==="counter"){var p=u.values.filter(Xf),f=p[0],b=p[1];if(f&&Nn(f)){var g=s.counters.getCounterValue(f.value),v=b&&Nn(b)?y5.parse(s.context,b.value):3;A.appendChild(a.createTextNode(mv(g,v,!1)))}}else if(u.name==="counters"){var _=u.values.filter(Xf),f=_[0],x=_[1],b=_[2];if(f&&Nn(f)){var F=s.counters.getCounterValues(f.value),O=b&&Nn(b)?y5.parse(s.context,b.value):3,I=x&&x.type===0?x.value:"",B=F.map(function(D){return mv(D,O,!1)}).join(I);A.appendChild(a.createTextNode(B))}}}else if(u.type===20)switch(u.value){case"open-quote":A.appendChild(a.createTextNode(xR(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":A.appendChild(a.createTextNode(xR(l.quotes,--s.quoteDepth,!1)));break;default:A.appendChild(a.createTextNode(u.value))}}),A.className=B5+" "+E5;var c=i===um.BEFORE?" "+B5:" "+E5;return C1(n)?n.className.baseValue+=c:n.className+=c,A}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),um;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(um||(um={}));var kRe=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(H$,"true"),t.body.appendChild(n),n},PRe=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},DRe=function(t){return Promise.all([].slice.call(t.images,0).map(PRe))},LRe=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},RRe=["all","d","content"],bx=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);RRe.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},URe=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},ORe=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},MRe=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},QRe=":before",jRe=":after",B5="___html2canvas___pseudoelement_before",E5="___html2canvas___pseudoelement_after",qR=`{
    content: "" !important;
    display: none !important;
}`,HRe=function(t){VRe(t,"."+B5+QRe+qR+`
         .`+E5+jRe+qR)},VRe=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},V$=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),$Re=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(Cx(e)||GRe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return ms(this,void 0,void 0,function(){var n,r,i,s,o=this;return Gi(this,function(a){switch(a.label){case 0:return n=V$.isSameOrigin(e),r=!_x(e)&&this._options.useCORS===!0&&Ti.SUPPORT_CORS_IMAGES&&!n,i=!_x(e)&&!n&&!Cx(e)&&typeof this._options.proxy=="string"&&Ti.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!_x(e)&&!Cx(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=a.sent(),a.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,A){var c=new Image;c.onload=function(){return l(c)},c.onerror=A,(qRe(s)||r)&&(c.crossOrigin="anonymous"),c.src=s,c.complete===!0&&setTimeout(function(){return l(c)},500),o._options.imageTimeout>0&&setTimeout(function(){return A("Timed out ("+o._options.imageTimeout+"ms) loading image")},o._options.imageTimeout)})];case 3:return[2,a.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,o){var a=Ti.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(a==="text")s(l.response);else{var u=new FileReader;u.addEventListener("load",function(){return s(u.result)},!1),u.addEventListener("error",function(h){return o(h)},!1),u.readAsDataURL(l.response)}else o("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=o;var A=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+A+"url="+encodeURIComponent(e)+"&responseType="+a),a!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=a),n._options.imageTimeout){var c=n._options.imageTimeout;l.timeout=c,l.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+i)}}l.send()})},t}(),zRe=/^data:image\/svg\+xml/i,KRe=/^data:image\/.*;base64,/i,WRe=/^data:image\/.*/i,GRe=function(t){return Ti.SUPPORT_SVG_DRAWING||!YRe(t)},_x=function(t){return WRe.test(t)},qRe=function(t){return KRe.test(t)},Cx=function(t){return t.substr(0,4)==="blob"},YRe=function(t){return t.substr(-3).toLowerCase()==="svg"||zRe.test(t)},at=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),wd=function(t,e,n){return new at(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},Ry=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=wd(this.start,this.startControl,e),i=wd(this.startControl,this.endControl,e),s=wd(this.endControl,this.end,e),o=wd(r,i,e),a=wd(i,s,e),l=wd(o,a,e);return n?new t(this.start,r,o,l):new t(l,a,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Mo=function(t){return t.type===1},XRe=function(){function t(e){var n=e.styles,r=e.bounds,i=Ng(n.borderTopLeftRadius,r.width,r.height),s=i[0],o=i[1],a=Ng(n.borderTopRightRadius,r.width,r.height),l=a[0],A=a[1],c=Ng(n.borderBottomRightRadius,r.width,r.height),u=c[0],h=c[1],d=Ng(n.borderBottomLeftRadius,r.width,r.height),p=d[0],f=d[1],b=[];b.push((s+l)/r.width),b.push((p+u)/r.width),b.push((o+f)/r.height),b.push((A+h)/r.height);var g=Math.max.apply(Math,b);g>1&&(s/=g,o/=g,l/=g,A/=g,u/=g,h/=g,p/=g,f/=g);var v=r.width-l,_=r.height-h,x=r.width-u,F=r.height-f,O=n.borderTopWidth,I=n.borderRightWidth,B=n.borderBottomWidth,T=n.borderLeftWidth,R=Vn(n.paddingTop,e.bounds.width),D=Vn(n.paddingRight,e.bounds.width),E=Vn(n.paddingBottom,e.bounds.width),k=Vn(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||o>0?Zn(r.left+T/3,r.top+O/3,s-T/3,o-O/3,yn.TOP_LEFT):new at(r.left+T/3,r.top+O/3),this.topRightBorderDoubleOuterBox=s>0||o>0?Zn(r.left+v,r.top+O/3,l-I/3,A-O/3,yn.TOP_RIGHT):new at(r.left+r.width-I/3,r.top+O/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?Zn(r.left+x,r.top+_,u-I/3,h-B/3,yn.BOTTOM_RIGHT):new at(r.left+r.width-I/3,r.top+r.height-B/3),this.bottomLeftBorderDoubleOuterBox=p>0||f>0?Zn(r.left+T/3,r.top+F,p-T/3,f-B/3,yn.BOTTOM_LEFT):new at(r.left+T/3,r.top+r.height-B/3),this.topLeftBorderDoubleInnerBox=s>0||o>0?Zn(r.left+T*2/3,r.top+O*2/3,s-T*2/3,o-O*2/3,yn.TOP_LEFT):new at(r.left+T*2/3,r.top+O*2/3),this.topRightBorderDoubleInnerBox=s>0||o>0?Zn(r.left+v,r.top+O*2/3,l-I*2/3,A-O*2/3,yn.TOP_RIGHT):new at(r.left+r.width-I*2/3,r.top+O*2/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?Zn(r.left+x,r.top+_,u-I*2/3,h-B*2/3,yn.BOTTOM_RIGHT):new at(r.left+r.width-I*2/3,r.top+r.height-B*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||f>0?Zn(r.left+T*2/3,r.top+F,p-T*2/3,f-B*2/3,yn.BOTTOM_LEFT):new at(r.left+T*2/3,r.top+r.height-B*2/3),this.topLeftBorderStroke=s>0||o>0?Zn(r.left+T/2,r.top+O/2,s-T/2,o-O/2,yn.TOP_LEFT):new at(r.left+T/2,r.top+O/2),this.topRightBorderStroke=s>0||o>0?Zn(r.left+v,r.top+O/2,l-I/2,A-O/2,yn.TOP_RIGHT):new at(r.left+r.width-I/2,r.top+O/2),this.bottomRightBorderStroke=u>0||h>0?Zn(r.left+x,r.top+_,u-I/2,h-B/2,yn.BOTTOM_RIGHT):new at(r.left+r.width-I/2,r.top+r.height-B/2),this.bottomLeftBorderStroke=p>0||f>0?Zn(r.left+T/2,r.top+F,p-T/2,f-B/2,yn.BOTTOM_LEFT):new at(r.left+T/2,r.top+r.height-B/2),this.topLeftBorderBox=s>0||o>0?Zn(r.left,r.top,s,o,yn.TOP_LEFT):new at(r.left,r.top),this.topRightBorderBox=l>0||A>0?Zn(r.left+v,r.top,l,A,yn.TOP_RIGHT):new at(r.left+r.width,r.top),this.bottomRightBorderBox=u>0||h>0?Zn(r.left+x,r.top+_,u,h,yn.BOTTOM_RIGHT):new at(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||f>0?Zn(r.left,r.top+F,p,f,yn.BOTTOM_LEFT):new at(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||o>0?Zn(r.left+T,r.top+O,Math.max(0,s-T),Math.max(0,o-O),yn.TOP_LEFT):new at(r.left+T,r.top+O),this.topRightPaddingBox=l>0||A>0?Zn(r.left+Math.min(v,r.width-I),r.top+O,v>r.width+I?0:Math.max(0,l-I),Math.max(0,A-O),yn.TOP_RIGHT):new at(r.left+r.width-I,r.top+O),this.bottomRightPaddingBox=u>0||h>0?Zn(r.left+Math.min(x,r.width-T),r.top+Math.min(_,r.height-B),Math.max(0,u-I),Math.max(0,h-B),yn.BOTTOM_RIGHT):new at(r.left+r.width-I,r.top+r.height-B),this.bottomLeftPaddingBox=p>0||f>0?Zn(r.left+T,r.top+Math.min(F,r.height-B),Math.max(0,p-T),Math.max(0,f-B),yn.BOTTOM_LEFT):new at(r.left+T,r.top+r.height-B),this.topLeftContentBox=s>0||o>0?Zn(r.left+T+k,r.top+O+R,Math.max(0,s-(T+k)),Math.max(0,o-(O+R)),yn.TOP_LEFT):new at(r.left+T+k,r.top+O+R),this.topRightContentBox=l>0||A>0?Zn(r.left+Math.min(v,r.width+T+k),r.top+O+R,v>r.width+T+k?0:l-T+k,A-(O+R),yn.TOP_RIGHT):new at(r.left+r.width-(I+D),r.top+O+R),this.bottomRightContentBox=u>0||h>0?Zn(r.left+Math.min(x,r.width-(T+k)),r.top+Math.min(_,r.height+O+R),Math.max(0,u-(I+D)),h-(B+E),yn.BOTTOM_RIGHT):new at(r.left+r.width-(I+D),r.top+r.height-(B+E)),this.bottomLeftContentBox=p>0||f>0?Zn(r.left+T+k,r.top+F,Math.max(0,p-(T+k)),f-(B+E),yn.BOTTOM_LEFT):new at(r.left+T+k,r.top+r.height-(B+E))}return t}(),yn;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(yn||(yn={}));var Zn=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),o=n*s,a=r*s,l=t+n,A=e+r;switch(i){case yn.TOP_LEFT:return new Ry(new at(t,A),new at(t,A-a),new at(l-o,e),new at(l,e));case yn.TOP_RIGHT:return new Ry(new at(t,e),new at(t+o,e),new at(l,A-a),new at(l,A));case yn.BOTTOM_RIGHT:return new Ry(new at(l,e),new at(l,e+a),new at(t+o,A),new at(t,A));case yn.BOTTOM_LEFT:default:return new Ry(new at(l,A),new at(l-o,A),new at(t,e+a),new at(t,e))}},g2=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},JRe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},m2=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},ZRe=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),Uy=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),eUe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),tUe=function(t){return t.type===0},$$=function(t){return t.type===1},nUe=function(t){return t.type===2},YR=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},rUe=function(t,e,n,r,i){return t.map(function(s,o){switch(o){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},z$=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),K$=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new XRe(this.container),this.container.styles.opacity<1&&this.effects.push(new eUe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new ZRe(r,i,s))}if(this.container.styles.overflowX!==0){var o=g2(this.curves),a=m2(this.curves);YR(o,a)?this.effects.push(new Uy(o,6)):(this.effects.push(new Uy(o,2)),this.effects.push(new Uy(a,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!$$(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var o=g2(r.curves),a=m2(r.curves);YR(o,a)||i.unshift(new Uy(a,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return ei(l.target,e)})},t}(),S5=function(t,e,n,r){t.container.elements.forEach(function(i){var s=ei(i.flags,4),o=ei(i.flags,2),a=new K$(i,t);ei(i.styles.display,2048)&&r.push(a);var l=ei(i.flags,8)?[]:r;if(s||o){var A=s||i.styles.isPositioned()?n:e,c=new z$(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var h=0;A.negativeZIndex.some(function(p,f){return u>p.element.container.styles.zIndex.order?(h=f,!1):h>0}),A.negativeZIndex.splice(h,0,c)}else if(u>0){var d=0;A.positiveZIndex.some(function(p,f){return u>=p.element.container.styles.zIndex.order?(d=f+1,!1):d>0}),A.positiveZIndex.splice(d,0,c)}else A.zeroOrAutoZIndexOrTransformedOrOpacity.push(c)}else i.styles.isFloating()?A.nonPositionedFloats.push(c):A.nonPositionedInlineLevel.push(c);S5(a,c,s?c:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(a):e.nonInlineLevel.push(a),S5(a,e,n,l);ei(i.flags,8)&&W$(i,l)})},W$=function(t,e){for(var n=t instanceof _5?t.start:1,r=t instanceof _5?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof N$&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=mv(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},iUe=function(t){var e=new K$(t,null),n=new z$(e),r=[];return S5(e,n,n,r),W$(e.container,r),n},XR=function(t,e){switch(e){case 0:return Vo(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Vo(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Vo(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Vo(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},sUe=function(t,e){switch(e){case 0:return Vo(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Vo(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Vo(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Vo(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},oUe=function(t,e){switch(e){case 0:return Vo(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Vo(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Vo(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Vo(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},aUe=function(t,e){switch(e){case 0:return Oy(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Oy(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Oy(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Oy(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Oy=function(t,e){var n=[];return Mo(t)?n.push(t.subdivide(.5,!1)):n.push(t),Mo(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Vo=function(t,e,n,r){var i=[];return Mo(t)?i.push(t.subdivide(.5,!1)):i.push(t),Mo(n)?i.push(n.subdivide(.5,!0)):i.push(n),Mo(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Mo(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},G$=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},v2=function(t){var e=t.styles,n=t.bounds,r=Vn(e.paddingLeft,n.width),i=Vn(e.paddingRight,n.width),s=Vn(e.paddingTop,n.width),o=Vn(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+o))},lUe=function(t,e){return t===0?e.bounds:t===2?v2(e):G$(e)},AUe=function(t,e){return t===0?e.bounds:t===2?v2(e):G$(e)},xx=function(t,e,n){var r=lUe(Id(t.styles.backgroundOrigin,e),t),i=AUe(Id(t.styles.backgroundClip,e),t),s=cUe(Id(t.styles.backgroundSize,e),n,r),o=s[0],a=s[1],l=Ng(Id(t.styles.backgroundPosition,e),r.width-o,r.height-a),A=uUe(Id(t.styles.backgroundRepeat,e),l,s,r,i),c=Math.round(r.left+l[0]),u=Math.round(r.top+l[1]);return[A,c,u,o,a]},bd=function(t){return Nn(t)&&t.value===gf.AUTO},My=function(t){return typeof t=="number"},cUe=function(t,e,n){var r=e[0],i=e[1],s=e[2],o=t[0],a=t[1];if(!o)return[0,0];if(zr(o)&&a&&zr(a))return[Vn(o,n.width),Vn(a,n.height)];var l=My(s);if(Nn(o)&&(o.value===gf.CONTAIN||o.value===gf.COVER)){if(My(s)){var A=n.width/n.height;return A<s!=(o.value===gf.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var c=My(r),u=My(i),h=c||u;if(bd(o)&&(!a||bd(a))){if(c&&u)return[r,i];if(!l&&!h)return[n.width,n.height];if(h&&l){var d=c?r:i*s,p=u?i:r/s;return[d,p]}var f=c?r:n.width,b=u?i:n.height;return[f,b]}if(l){var g=0,v=0;return zr(o)?g=Vn(o,n.width):zr(a)&&(v=Vn(a,n.height)),bd(o)?g=v*s:(!a||bd(a))&&(v=g/s),[g,v]}var _=null,x=null;if(zr(o)?_=Vn(o,n.width):a&&zr(a)&&(x=Vn(a,n.height)),_!==null&&(!a||bd(a))&&(x=c&&u?_/r*i:n.height),x!==null&&bd(o)&&(_=c&&u?x/i*r:n.width),_!==null&&x!==null)return[_,x];throw new Error("Unable to calculate background-size for element")},Id=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},uUe=function(t,e,n,r,i){var s=e[0],o=e[1],a=n[0],l=n[1];switch(t){case 2:return[new at(Math.round(r.left),Math.round(r.top+o)),new at(Math.round(r.left+r.width),Math.round(r.top+o)),new at(Math.round(r.left+r.width),Math.round(l+r.top+o)),new at(Math.round(r.left),Math.round(l+r.top+o))];case 3:return[new at(Math.round(r.left+s),Math.round(r.top)),new at(Math.round(r.left+s+a),Math.round(r.top)),new at(Math.round(r.left+s+a),Math.round(r.height+r.top)),new at(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new at(Math.round(r.left+s),Math.round(r.top+o)),new at(Math.round(r.left+s+a),Math.round(r.top+o)),new at(Math.round(r.left+s+a),Math.round(r.top+o+l)),new at(Math.round(r.left+s),Math.round(r.top+o+l))];default:return[new at(Math.round(i.left),Math.round(i.top)),new at(Math.round(i.left+i.width),Math.round(i.top)),new at(Math.round(i.left+i.width),Math.round(i.height+i.top)),new at(Math.round(i.left),Math.round(i.height+i.top))]}},hUe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",JR="Hidden Text",dUe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),o=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",o.appendChild(r),i.src=hUe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(JR)),r.appendChild(s),r.appendChild(i);var a=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(JR)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return o.removeChild(r),{baseline:a,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),q$=function(){function t(e,n){this.context=e,this.options=n}return t}(),fUe=1e4,pUe=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new dUe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),nUe(n)&&(this.ctx.globalAlpha=n.opacity),tUe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),$$(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return ms(this,void 0,void 0,function(){var r;return Gi(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return ms(this,void 0,void 0,function(){return Gi(this,function(r){switch(r.label){case 0:if(ei(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var o=O4(n.text);o.reduce(function(a,l){return s.ctx.fillText(l,a,n.bounds.top+i),a+s.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(o){return o==="normal"||o==="small-caps"}).join(""),i=wUe(n.fontFamily).join(", "),s=A0(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return ms(this,void 0,void 0,function(){var i,s,o,a,l,A,c,u,h=this;return Gi(this,function(d){return i=this.createFontStyle(r),s=i[0],o=i[1],a=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(o,a),A=l.baseline,c=l.middle,u=r.paintOrder,n.textBounds.forEach(function(p){u.forEach(function(f){switch(f){case 0:h.ctx.fillStyle=ui(r.color),h.renderTextWithLetterSpacing(p,r.letterSpacing,A);var b=r.textShadow;b.length&&p.text.trim().length&&(b.slice(0).reverse().forEach(function(g){h.ctx.shadowColor=ui(g.color),h.ctx.shadowOffsetX=g.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=g.offsetY.number*h.options.scale,h.ctx.shadowBlur=g.blur.number,h.renderTextWithLetterSpacing(p,r.letterSpacing,A)}),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),r.textDecorationLine.length&&(h.ctx.fillStyle=ui(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(g){switch(g){case 1:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+A),p.bounds.width,1);break;case 2:h.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:h.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+c),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(h.ctx.strokeStyle=ui(r.webkitTextStrokeColor),h.ctx.lineWidth=r.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+A)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=v2(n),o=m2(r);this.path(o),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return ms(this,void 0,void 0,function(){var r,i,s,o,a,l,v,v,A,c,u,h,x,d,p,F,f,b,g,v,_,x,F;return Gi(this,function(O){switch(O.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,o=0,a=r.textNodes,O.label=1;case 1:return o<a.length?(l=a[o],[4,this.renderTextNode(l,s)]):[3,4];case 2:O.sent(),O.label=3;case 3:return o++,[3,1];case 4:if(!(r instanceof S$))return[3,8];O.label=5;case 5:return O.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return v=O.sent(),this.renderReplacedElement(r,i,v),[3,8];case 7:return O.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof T$&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof I$))return[3,12];O.label=9;case 9:return O.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return v=O.sent(),this.renderReplacedElement(r,i,v),[3,12];case 11:return O.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof P$&&r.tree?(A=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,A.render(r.tree)]):[3,14];case 13:c=O.sent(),r.width&&r.height&&this.ctx.drawImage(c,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),O.label=14;case 14:if(r instanceof M4&&(u=Math.min(r.bounds.width,r.bounds.height),r.type===h2?r.checked&&(this.ctx.save(),this.path([new at(r.bounds.left+u*.39363,r.bounds.top+u*.79),new at(r.bounds.left+u*.16,r.bounds.top+u*.5549),new at(r.bounds.left+u*.27347,r.bounds.top+u*.44071),new at(r.bounds.left+u*.39694,r.bounds.top+u*.5649),new at(r.bounds.left+u*.72983,r.bounds.top+u*.23),new at(r.bounds.left+u*.84,r.bounds.top+u*.34085),new at(r.bounds.left+u*.39363,r.bounds.top+u*.79)]),this.ctx.fillStyle=ui(MR),this.ctx.fill(),this.ctx.restore()):r.type===d2&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+u/2,r.bounds.top+u/2,u/4,0,Math.PI*2,!0),this.ctx.fillStyle=ui(MR),this.ctx.fill(),this.ctx.restore())),gUe(r)&&r.value.length){switch(h=this.createFontStyle(s),x=h[0],d=h[1],p=this.fontMetrics.getMetrics(x,d).baseline,this.ctx.font=x,this.ctx.fillStyle=ui(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=vUe(r.styles.textAlign),F=v2(r),f=0,r.styles.textAlign){case 1:f+=F.width/2;break;case 2:f+=F.width;break}b=F.add(f,0,0,-F.height/2+1),this.ctx.save(),this.path([new at(F.left,F.top),new at(F.left+F.width,F.top),new at(F.left+F.width,F.top+F.height),new at(F.left,F.top+F.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new cm(r.value,b),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!ei(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(g=r.styles.listStyleImage,g.type!==0)return[3,18];v=void 0,_=g.url,O.label=15;case 15:return O.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return v=O.sent(),this.ctx.drawImage(v,r.bounds.left-(v.width+10),r.bounds.top),[3,18];case 17:return O.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(x=this.createFontStyle(s)[0],this.ctx.font=x,this.ctx.fillStyle=ui(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",F=new uA(r.bounds.left,r.bounds.top+Vn(r.styles.paddingTop,r.bounds.width),r.bounds.width,_R(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new cm(n.listValue,F),s.letterSpacing,_R(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),O.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return ms(this,void 0,void 0,function(){var r,i,g,s,o,g,a,l,g,A,c,g,u,h,g,d,p,g,f,b,g;return Gi(this,function(v){switch(v.label){case 0:if(ei(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:v.sent(),r=0,i=n.negativeZIndex,v.label=2;case 2:return r<i.length?(g=i[r],[4,this.renderStack(g)]):[3,5];case 3:v.sent(),v.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:v.sent(),s=0,o=n.nonInlineLevel,v.label=7;case 7:return s<o.length?(g=o[s],[4,this.renderNode(g)]):[3,10];case 8:v.sent(),v.label=9;case 9:return s++,[3,7];case 10:a=0,l=n.nonPositionedFloats,v.label=11;case 11:return a<l.length?(g=l[a],[4,this.renderStack(g)]):[3,14];case 12:v.sent(),v.label=13;case 13:return a++,[3,11];case 14:A=0,c=n.nonPositionedInlineLevel,v.label=15;case 15:return A<c.length?(g=c[A],[4,this.renderStack(g)]):[3,18];case 16:v.sent(),v.label=17;case 17:return A++,[3,15];case 18:u=0,h=n.inlineLevel,v.label=19;case 19:return u<h.length?(g=h[u],[4,this.renderNode(g)]):[3,22];case 20:v.sent(),v.label=21;case 21:return u++,[3,19];case 22:d=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,v.label=23;case 23:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,26];case 24:v.sent(),v.label=25;case 25:return d++,[3,23];case 26:f=0,b=n.positiveZIndex,v.label=27;case 27:return f<b.length?(g=b[f],[4,this.renderStack(g)]):[3,30];case 28:v.sent(),v.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var o=Mo(i)?i.start:i;s===0?r.ctx.moveTo(o.x,o.y):r.ctx.lineTo(o.x,o.y),Mo(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var o=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,a=o.createElement("canvas");a.width=Math.max(1,r),a.height=Math.max(1,i);var l=a.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),a},e.prototype.renderBackgroundImage=function(n){return ms(this,void 0,void 0,function(){var r,i,s,o,a,l;return Gi(this,function(A){switch(A.label){case 0:r=n.styles.backgroundImage.length-1,i=function(c){var u,h,d,R,oe,ie,k,N,B,p,R,oe,ie,k,N,f,b,g,v,_,x,F,O,I,B,T,R,D,E,k,N,Y,oe,ie,ne,se,ue,le,U,z,q,ee;return Gi(this,function(fe){switch(fe.label){case 0:if(c.type!==0)return[3,5];u=void 0,h=c.url,fe.label=1;case 1:return fe.trys.push([1,3,,4]),[4,s.context.cache.match(h)];case 2:return u=fe.sent(),[3,4];case 3:return fe.sent(),s.context.logger.error("Error loading background-image "+h),[3,4];case 4:return u&&(d=xx(n,r,[u.width,u.height,u.width/u.height]),R=d[0],oe=d[1],ie=d[2],k=d[3],N=d[4],B=s.ctx.createPattern(s.resizeImage(u,k,N),"repeat"),s.renderRepeat(R,B,oe,ie)),[3,6];case 5:tLe(c)?(p=xx(n,r,[null,null,null]),R=p[0],oe=p[1],ie=p[2],k=p[3],N=p[4],f=YDe(c.angle,k,N),b=f[0],g=f[1],v=f[2],_=f[3],x=f[4],F=document.createElement("canvas"),F.width=k,F.height=N,O=F.getContext("2d"),I=O.createLinearGradient(g,_,v,x),wR(c.stops,b).forEach(function(me){return I.addColorStop(me.stop,ui(me.color))}),O.fillStyle=I,O.fillRect(0,0,k,N),k>0&&N>0&&(B=s.ctx.createPattern(F,"repeat"),s.renderRepeat(R,B,oe,ie))):nLe(c)&&(T=xx(n,r,[null,null,null]),R=T[0],D=T[1],E=T[2],k=T[3],N=T[4],Y=c.position.length===0?[L4]:c.position,oe=Vn(Y[0],k),ie=Vn(Y[Y.length-1],N),ne=XDe(c,oe,ie,k,N),se=ne[0],ue=ne[1],se>0&&ue>0&&(le=s.ctx.createRadialGradient(D+oe,E+ie,0,D+oe,E+ie,se),wR(c.stops,se*2).forEach(function(me){return le.addColorStop(me.stop,ui(me.color))}),s.path(R),s.ctx.fillStyle=le,se!==ue?(U=n.bounds.left+.5*n.bounds.width,z=n.bounds.top+.5*n.bounds.height,q=ue/se,ee=1/q,s.ctx.save(),s.ctx.translate(U,z),s.ctx.transform(1,0,0,q,0,0),s.ctx.translate(-U,-z),s.ctx.fillRect(D,ee*(E-z)+z,k,N*ee),s.ctx.restore()):s.ctx.fill())),fe.label=6;case 6:return r--,[2]}})},s=this,o=0,a=n.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<a.length?(l=a[o],[5,i(l)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return ms(this,void 0,void 0,function(){return Gi(this,function(s){return this.path(XR(i,r)),this.ctx.fillStyle=ui(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return ms(this,void 0,void 0,function(){var o,a;return Gi(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return o=sUe(s,i),this.path(o),this.ctx.fillStyle=ui(n),this.ctx.fill(),a=oUe(s,i),this.path(a),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return ms(this,void 0,void 0,function(){var r,i,s,o,a,l,A,c,u=this;return Gi(this,function(h){switch(h.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Lc(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],o=mUe(Id(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),Lc(r.backgroundColor)||(this.ctx.fillStyle=ui(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:h.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(d){u.ctx.save();var p=g2(n.curves),f=d.inset?0:fUe,b=rUe(p,-f+(d.inset?1:-1)*d.spread.number,(d.inset?1:-1)*d.spread.number,d.spread.number*(d.inset?-2:2),d.spread.number*(d.inset?-2:2));d.inset?(u.path(p),u.ctx.clip(),u.mask(b)):(u.mask(p),u.ctx.clip(),u.path(b)),u.ctx.shadowOffsetX=d.offsetX.number+f,u.ctx.shadowOffsetY=d.offsetY.number,u.ctx.shadowColor=ui(d.color),u.ctx.shadowBlur=d.blur.number,u.ctx.fillStyle=d.inset?ui(d.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()}),h.label=2;case 2:a=0,l=0,A=s,h.label=3;case 3:return l<A.length?(c=A[l],c.style!==0&&!Lc(c.color)&&c.width>0?c.style!==2?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,2)]:[3,11]):[3,13];case 4:return h.sent(),[3,11];case 5:return c.style!==3?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,a,n.curves,3)];case 6:return h.sent(),[3,11];case 7:return c.style!==4?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,a,n.curves)];case 8:return h.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,a,n.curves)];case 10:h.sent(),h.label=11;case 11:a++,h.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,o){return ms(this,void 0,void 0,function(){var a,l,A,c,u,h,d,p,f,b,g,v,_,x,F,O,F,O;return Gi(this,function(I){return this.ctx.save(),a=aUe(s,i),l=XR(s,i),o===2&&(this.path(l),this.ctx.clip()),Mo(l[0])?(A=l[0].start.x,c=l[0].start.y):(A=l[0].x,c=l[0].y),Mo(l[1])?(u=l[1].end.x,h=l[1].end.y):(u=l[1].x,h=l[1].y),i===0||i===2?d=Math.abs(A-u):d=Math.abs(c-h),this.ctx.beginPath(),o===3?this.formatPath(a):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,f=r<3?r*2:r,o===3&&(p=r,f=r),b=!0,d<=p*2?b=!1:d<=p*2+f?(g=d/(2*p+f),p*=g,f*=g):(v=Math.floor((d+f)/(p+f)),_=(d-v*p)/(v-1),x=(d-(v+1)*p)/v,f=x<=0||Math.abs(f-_)<Math.abs(f-x)?_:x),b&&(o===3?this.ctx.setLineDash([0,p+f]):this.ctx.setLineDash([p,f])),o===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ui(n),this.ctx.stroke(),this.ctx.setLineDash([]),o===2&&(Mo(l[0])&&(F=l[3],O=l[0],this.ctx.beginPath(),this.formatPath([new at(F.end.x,F.end.y),new at(O.start.x,O.start.y)]),this.ctx.stroke()),Mo(l[1])&&(F=l[1],O=l[2],this.ctx.beginPath(),this.formatPath([new at(F.end.x,F.end.y),new at(O.start.x,O.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return ms(this,void 0,void 0,function(){var r;return Gi(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=iUe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(q$),gUe=function(t){return t instanceof k$||t instanceof F$?!0:t instanceof M4&&t.type!==d2&&t.type!==h2},mUe=function(t,e){switch(t){case 0:return g2(e);case 2:return JRe(e);case 1:default:return m2(e)}},vUe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},yUe=["-apple-system","system-ui"],wUe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return yUe.indexOf(e)===-1}):t},bUe=function(t){Fa(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return ms(this,void 0,void 0,function(){var r,i;return Gi(this,function(s){switch(s.label){case 0:return r=b5(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,_Ue(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ui(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(q$),_Ue=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},CUe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,my([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,my([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,my([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,my([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),xUe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new CUe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new $Re(this,e)}return t.instanceCount=1,t}(),T5=function(t,e){return e===void 0&&(e={}),BUe(t,e)};typeof window<"u"&&V$.setContext(window);var BUe=function(t,e){return ms(void 0,void 0,void 0,function(){var n,r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v,_,x,F,I,O,I,B,T,R,D,E,k,N,Y,oe,ie,ne,se,ue,le,U,z,q;return Gi(this,function(ee){switch(ee.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(B=e.allowTaint)!==null&&B!==void 0?B:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(R=e.useCORS)!==null&&R!==void 0?R:!1},s=o5({logging:(D=e.logging)!==null&&D!==void 0?D:!0,cache:e.cache},i),o={windowWidth:(E=e.windowWidth)!==null&&E!==void 0?E:r.innerWidth,windowHeight:(k=e.windowHeight)!==null&&k!==void 0?k:r.innerHeight,scrollX:(N=e.scrollX)!==null&&N!==void 0?N:r.pageXOffset,scrollY:(Y=e.scrollY)!==null&&Y!==void 0?Y:r.pageYOffset},a=new uA(o.scrollX,o.scrollY,o.windowWidth,o.windowHeight),l=new xUe(s,a),A=(oe=e.foreignObjectRendering)!==null&&oe!==void 0?oe:!1,c={allowTaint:(ie=e.allowTaint)!==null&&ie!==void 0?ie:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:A,copyStyles:A},l.logger.debug("Starting document clone with size "+a.width+"x"+a.height+" scrolled to "+-a.left+","+-a.top),u=new GR(l,t,c),h=u.clonedReferenceElement,h?[4,u.toIFrame(n,a)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return d=ee.sent(),p=Q4(h)||SRe(h)?rPe(h.ownerDocument):Yb(l,h),f=p.width,b=p.height,g=p.left,v=p.top,_=EUe(l,h,e.backgroundColor),x={canvas:e.canvas,backgroundColor:_,scale:(se=(ne=e.scale)!==null&&ne!==void 0?ne:r.devicePixelRatio)!==null&&se!==void 0?se:1,x:((ue=e.x)!==null&&ue!==void 0?ue:0)+g,y:((le=e.y)!==null&&le!==void 0?le:0)+v,width:(U=e.width)!==null&&U!==void 0?U:Math.ceil(f),height:(z=e.height)!==null&&z!==void 0?z:Math.ceil(b)},A?(l.logger.debug("Document cloned, using foreign object rendering"),I=new bUe(l,x),[4,I.render(h)]):[3,3];case 2:return F=ee.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+g+","+v+" with size "+f+"x"+b+" using computed rendering"),l.logger.debug("Starting DOM parsing"),O=L$(l,h),_===O.styles.backgroundColor&&(O.styles.backgroundColor=Xl.TRANSPARENT),l.logger.debug("Starting renderer for element at "+x.x+","+x.y+" with size "+x.width+"x"+x.height),I=new pUe(l,x),[4,I.render(O)];case 4:F=ee.sent(),ee.label=5;case 5:return(!((q=e.removeContainer)!==null&&q!==void 0)||q)&&(GR.destroy(d)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,F]}})})},EUe=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?lm(t,getComputedStyle(r.documentElement).backgroundColor):Xl.TRANSPARENT,s=r.body?lm(t,getComputedStyle(r.body).backgroundColor):Xl.TRANSPARENT,o=typeof n=="string"?lm(t,n):n===null?Xl.TRANSPARENT:4294967295;return e===r.documentElement?Lc(i)?Lc(s)?o:s:i:o};const SUe=Object.freeze(Object.defineProperty({__proto__:null,default:T5},Symbol.toStringTag,{value:"Module"}));function TUe({tab:t,addTable:e,setScale:n,undo:r,redo:i,exportPNG:s,exportPDF:o,generateSeatGrid:a,setTemplateOpen:l,setBanquetConfigOpen:A,handleLocalAssign:c,handleServerAssign:u,loadingAI:h,setOffset:d}){return y.jsxs("div",{className:"mt-3 flex space-x-2 flex-wrap md:flex-nowrap overflow-x-auto pb-2",children:[y.jsx("button",{"aria-label":!0,onClick:e,className:"px-3 py-1 text-sm bg-amber-300 rounded",children:"Añadir mesa"}),y.jsx("button",{"aria-label":!0,onClick:()=>n(p=>Math.min(4,p*1.2)),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"➕"}),y.jsx("button",{"aria-label":!0,onClick:()=>n(p=>Math.max(.5,p/1.2)),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"➖"}),y.jsx("button",{"aria-label":!0,onClick:()=>{n(1),d({x:0,y:0})},className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Reset"}),y.jsx("button",{"aria-label":!0,onClick:r,className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Undo"}),y.jsx("button",{"aria-label":!0,onClick:i,className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Redo"}),y.jsx("button",{"aria-label":!0,onClick:s,className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Export PNG"}),y.jsx("button",{"aria-label":!0,onClick:o,className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Export PDF"}),y.jsx("button",{"aria-label":!0,onClick:()=>l(!0),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Plantillas"}),t==="banquet"&&y.jsx("button",{"aria-label":!0,onClick:()=>A(!0),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Auto-layout banquete"}),t==="ceremony"&&y.jsx("button",{"aria-label":!0,onClick:()=>a(10,12,40,100,80,6,3),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Generar parrilla"}),y.jsx("button",{"aria-label":!0,onClick:c,className:"px-3 py-1 text-sm bg-emerald-400 text-white rounded",children:"Propuesta IA (local)"}),y.jsx("button",{"aria-label":!0,onClick:u,className:`px-3 py-1 ${h?"bg-gray-400":"bg-purple-600"} text-white rounded`,disabled:h,children:h?"Esperando...":"Propuesta IA (servidor)"})]})}const IUe="modulepreload",NUe=function(t){return"/"+t},ZR={},I5=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=NUe(s),s in ZR)return;ZR[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const u=i[c];if(u.href===s&&(!o||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const A=document.createElement("link");if(A.rel=o?"stylesheet":IUe,o||(A.as="script",A.crossOrigin=""),A.href=s,document.head.appendChild(A),o)return new Promise((c,u)=>{A.addEventListener("load",c),A.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var ns=Uint8Array,so=Uint16Array,j4=Int32Array,o_=new ns([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a_=new ns([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),N5=new ns([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Y$=function(t,e){for(var n=new so(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new j4(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},X$=Y$(o_,2),J$=X$.b,F5=X$.r;J$[28]=258,F5[258]=28;var Z$=Y$(a_,0),FUe=Z$.b,eU=Z$.r,k5=new so(32768);for(var Yn=0;Yn<32768;++Yn){var GA=(Yn&43690)>>1|(Yn&21845)<<1;GA=(GA&52428)>>2|(GA&13107)<<2,GA=(GA&61680)>>4|(GA&3855)<<4,k5[Yn]=((GA&65280)>>8|(GA&255)<<8)>>1}var ol=function(t,e,n){for(var r=t.length,i=0,s=new so(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new so(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new so(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var A=i<<4|t[i],c=e-t[i],u=o[t[i]-1]++<<c,h=u|(1<<c)-1;u<=h;++u)a[k5[u]>>l]=A}else for(a=new so(r),i=0;i<r;++i)t[i]&&(a[i]=k5[o[t[i]-1]++]>>15-t[i]);return a},Gc=new ns(288);for(var Yn=0;Yn<144;++Yn)Gc[Yn]=8;for(var Yn=144;Yn<256;++Yn)Gc[Yn]=9;for(var Yn=256;Yn<280;++Yn)Gc[Yn]=7;for(var Yn=280;Yn<288;++Yn)Gc[Yn]=8;var vv=new ns(32);for(var Yn=0;Yn<32;++Yn)vv[Yn]=5;var kUe=ol(Gc,9,0),PUe=ol(Gc,9,1),DUe=ol(vv,5,0),LUe=ol(vv,5,1),Bx=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ua=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Ex=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},H4=function(t){return(t+7)/8|0},ez=function(t,e,n){return(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length),new ns(t.subarray(e,n))},RUe=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],pa=function(t,e,n){var r=new Error(e||RUe[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,pa),!n)throw r;return r},UUe=function(t,e,n,r){var i=t.length,s=r?r.length:0;if(!i||e.f&&!e.l)return n||new ns(0);var o=!n,a=o||e.i!=2,l=e.i;o&&(n=new ns(i*3));var A=function(De){var Se=n.length;if(De>Se){var Qe=new ns(Math.max(Se*2,De));Qe.set(n),n=Qe}},c=e.f||0,u=e.p||0,h=e.b||0,d=e.l,p=e.d,f=e.m,b=e.n,g=i*8;do{if(!d){c=ua(t,u,1);var v=ua(t,u+1,3);if(u+=3,v)if(v==1)d=PUe,p=LUe,f=9,b=5;else if(v==2){var O=ua(t,u,31)+257,I=ua(t,u+10,15)+4,B=O+ua(t,u+5,31)+1;u+=14;for(var T=new ns(B),R=new ns(19),D=0;D<I;++D)R[N5[D]]=ua(t,u+D*3,7);u+=I*3;for(var E=Bx(R),k=(1<<E)-1,N=ol(R,E,1),D=0;D<B;){var Y=N[ua(t,u,k)];u+=Y&15;var _=Y>>4;if(_<16)T[D++]=_;else{var oe=0,ie=0;for(_==16?(ie=3+ua(t,u,3),u+=2,oe=T[D-1]):_==17?(ie=3+ua(t,u,7),u+=3):_==18&&(ie=11+ua(t,u,127),u+=7);ie--;)T[D++]=oe}}var ne=T.subarray(0,O),se=T.subarray(O);f=Bx(ne),b=Bx(se),d=ol(ne,f,1),p=ol(se,b,1)}else pa(1);else{var _=H4(u)+4,x=t[_-4]|t[_-3]<<8,F=_+x;if(F>i){l&&pa(0);break}a&&A(h+x),n.set(t.subarray(_,F),h),e.b=h+=x,e.p=u=F*8,e.f=c;continue}if(u>g){l&&pa(0);break}}a&&A(h+131072);for(var ue=(1<<f)-1,le=(1<<b)-1,U=u;;U=u){var oe=d[Ex(t,u)&ue],z=oe>>4;if(u+=oe&15,u>g){l&&pa(0);break}if(oe||pa(2),z<256)n[h++]=z;else if(z==256){U=u,d=null;break}else{var q=z-254;if(z>264){var D=z-257,ee=o_[D];q=ua(t,u,(1<<ee)-1)+J$[D],u+=ee}var fe=p[Ex(t,u)&le],me=fe>>4;fe||pa(3),u+=fe&15;var se=FUe[me];if(me>3){var ee=a_[me];se+=Ex(t,u)&(1<<ee)-1,u+=ee}if(u>g){l&&pa(0);break}a&&A(h+131072);var ge=h+q;if(h<se){var ye=s-se,Me=Math.min(se,ge);for(ye+h<0&&pa(3);h<Me;++h)n[h]=r[ye+h]}for(;h<ge;++h)n[h]=n[h-se]}}e.l=d,e.p=U,e.b=h,e.f=c,d&&(c=1,e.m=f,e.d=p,e.n=b)}while(!c);return h!=n.length&&o?ez(n,0,h):n.subarray(0,h)},Pl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},hg=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Sx=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:nz,l:0};if(i==1){var o=new ns(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(F,O){return F.f-O.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],A=0,c=1,u=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[A].f<n[u].f?A++:u++],l=n[A!=c&&n[A].f<n[u].f?A++:u++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var d=new so(h+1),p=P5(n[c-1],d,0);if(p>e){var r=0,f=0,b=p-e,g=1<<b;for(s.sort(function(O,I){return d[I.s]-d[O.s]||O.f-I.f});r<i;++r){var v=s[r].s;if(d[v]>e)f+=g-(1<<p-d[v]),d[v]=e;else break}for(f>>=b;f>0;){var _=s[r].s;d[_]<e?f-=1<<e-d[_]++-1:++r}for(;r>=0&&f;--r){var x=s[r].s;d[x]==e&&(--d[x],++f)}p=e}return{t:new ns(d),l:p}},P5=function(t,e,n){return t.s==-1?Math.max(P5(t.l,e,n+1),P5(t.r,e,n+1)):e[t.s]=n},tU=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new so(++e),r=0,i=t[0],s=1,o=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},dg=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},tz=function(t,e,n){var r=n.length,i=H4(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},nU=function(t,e,n,r,i,s,o,a,l,A,c){Pl(e,c++,n),++i[256];for(var u=Sx(i,15),h=u.t,d=u.l,p=Sx(s,15),f=p.t,b=p.l,g=tU(h),v=g.c,_=g.n,x=tU(f),F=x.c,O=x.n,I=new so(19),B=0;B<v.length;++B)++I[v[B]&31];for(var B=0;B<F.length;++B)++I[F[B]&31];for(var T=Sx(I,7),R=T.t,D=T.l,E=19;E>4&&!R[N5[E-1]];--E);var k=A+5<<3,N=dg(i,Gc)+dg(s,vv)+o,Y=dg(i,h)+dg(s,f)+o+14+3*E+dg(I,R)+2*I[16]+3*I[17]+7*I[18];if(l>=0&&k<=N&&k<=Y)return tz(e,c,t.subarray(l,l+A));var oe,ie,ne,se;if(Pl(e,c,1+(Y<N)),c+=2,Y<N){oe=ol(h,d,0),ie=h,ne=ol(f,b,0),se=f;var ue=ol(R,D,0);Pl(e,c,_-257),Pl(e,c+5,O-1),Pl(e,c+10,E-4),c+=14;for(var B=0;B<E;++B)Pl(e,c+3*B,R[N5[B]]);c+=3*E;for(var le=[v,F],U=0;U<2;++U)for(var z=le[U],B=0;B<z.length;++B){var q=z[B]&31;Pl(e,c,ue[q]),c+=R[q],q>15&&(Pl(e,c,z[B]>>5&127),c+=z[B]>>12)}}else oe=kUe,ie=Gc,ne=DUe,se=vv;for(var B=0;B<a;++B){var ee=r[B];if(ee>255){var q=ee>>18&31;hg(e,c,oe[q+257]),c+=ie[q+257],q>7&&(Pl(e,c,ee>>23&31),c+=o_[q]);var fe=ee&31;hg(e,c,ne[fe]),c+=se[fe],fe>3&&(hg(e,c,ee>>5&8191),c+=a_[fe])}else hg(e,c,oe[ee]),c+=ie[ee]}return hg(e,c,oe[256]),c+ie[256]},OUe=new j4([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),nz=new ns(0),MUe=function(t,e,n,r,i,s){var o=s.z||t.length,a=new ns(r+o+5*(1+Math.ceil(o/7e3))+i),l=a.subarray(r,a.length-i),A=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var u=OUe[e-1],h=u>>13,d=u&8191,p=(1<<n)-1,f=s.p||new so(32768),b=s.h||new so(p+1),g=Math.ceil(n/3),v=2*g,_=function(Q){return(t[Q]^t[Q+1]<<g^t[Q+2]<<v)&p},x=new j4(25e3),F=new so(288),O=new so(32),I=0,B=0,T=s.i||0,R=0,D=s.w||0,E=0;T+2<o;++T){var k=_(T),N=T&32767,Y=b[k];if(f[N]=Y,b[k]=N,D<=T){var oe=o-T;if((I>7e3||R>24576)&&(oe>423||!A)){c=nU(t,l,0,x,F,O,B,R,E,T-E,c),R=I=B=0,E=T;for(var ie=0;ie<286;++ie)F[ie]=0;for(var ie=0;ie<30;++ie)O[ie]=0}var ne=2,se=0,ue=d,le=N-Y&32767;if(oe>2&&k==_(T-le))for(var U=Math.min(h,oe)-1,z=Math.min(32767,T),q=Math.min(258,oe);le<=z&&--ue&&N!=Y;){if(t[T+ne]==t[T+ne-le]){for(var ee=0;ee<q&&t[T+ee]==t[T+ee-le];++ee);if(ee>ne){if(ne=ee,se=le,ee>U)break;for(var fe=Math.min(le,ee-2),me=0,ie=0;ie<fe;++ie){var ge=T-le+ie&32767,ye=f[ge],Me=ge-ye&32767;Me>me&&(me=Me,Y=ge)}}}N=Y,Y=f[N],le+=N-Y&32767}if(se){x[R++]=268435456|F5[ne]<<18|eU[se];var De=F5[ne]&31,Se=eU[se]&31;B+=o_[De]+a_[Se],++F[257+De],++O[Se],D=T+ne,++I}else x[R++]=t[T],++F[t[T]]}}for(T=Math.max(T,D);T<o;++T)x[R++]=t[T],++F[t[T]];c=nU(t,l,A,x,F,O,B,R,E,T-E,c),A||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=b,s.p=f,s.i=T,s.w=D)}else{for(var T=s.w||0;T<o+A;T+=65535){var Qe=T+65535;Qe>=o&&(l[c/8|0]=A,Qe=o),c=tz(l,c+1,t.subarray(T,Qe))}s.i=o}return ez(a,0,r+H4(c)+i)},rz=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},QUe=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new ns(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return MUe(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},iz=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},jUe=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=rz();i.p(e.dictionary),iz(t,2,i.d())}},HUe=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&pa(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&pa(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function D5(t,e){e||(e={});var n=rz();n.p(t);var r=QUe(t,e,e.dictionary?6:2,4);return jUe(r,e),iz(r,r.length-4,n.d()),r}function VUe(t,e){return UUe(t.subarray(HUe(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var $Ue=typeof TextDecoder<"u"&&new TextDecoder,zUe=0;try{$Ue.decode(nz,{stream:!0}),zUe=1}catch{}var St=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Tx(){St.console&&typeof St.console.log=="function"&&St.console.log.apply(St.console,arguments)}var Dn={log:Tx,warn:function(t){St.console&&(typeof St.console.warn=="function"?St.console.warn.apply(St.console,arguments):Tx.call(null,arguments))},error:function(t){St.console&&(typeof St.console.error=="function"?St.console.error.apply(St.console,arguments):Tx(t))}};function Ix(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ku(r.response,e,n)},r.onerror=function(){Dn.error("could not download file")},r.send()}function rU(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Qy(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var hm,L5,ku=St.saveAs||((typeof window>"u"?"undefined":sn(window))!=="object"||window!==St?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=St.URL||St.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?rU(i.href)?Ix(t,e,n):Qy(i,i.target="_blank"):Qy(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Qy(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(rU(t))Ix(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Qy(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:sn(s)!=="object"&&(Dn.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Ix(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(St.HTMLElement)||St.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":sn(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var c=a.result;c=o?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=c:location=c,r=null},a.readAsDataURL(t)}else{var l=St.URL||St.webkitURL,A=l.createObjectURL(t);r?r.location=A:location.href=A,r=null,setTimeout(function(){l.revokeObjectURL(A)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function sz(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),l=this.g.toString(16),A=this.b.toString(16);return a.length==1&&(a="0"+a),l.length==1&&(l="0"+l),A.length==1&&(A="0"+A),"#"+a+l+A}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Nx(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=$i(n,r,i,s,e[0],7,-680876936),s=$i(s,n,r,i,e[1],12,-389564586),i=$i(i,s,n,r,e[2],17,606105819),r=$i(r,i,s,n,e[3],22,-1044525330),n=$i(n,r,i,s,e[4],7,-176418897),s=$i(s,n,r,i,e[5],12,1200080426),i=$i(i,s,n,r,e[6],17,-1473231341),r=$i(r,i,s,n,e[7],22,-45705983),n=$i(n,r,i,s,e[8],7,1770035416),s=$i(s,n,r,i,e[9],12,-1958414417),i=$i(i,s,n,r,e[10],17,-42063),r=$i(r,i,s,n,e[11],22,-1990404162),n=$i(n,r,i,s,e[12],7,1804603682),s=$i(s,n,r,i,e[13],12,-40341101),i=$i(i,s,n,r,e[14],17,-1502002290),n=zi(n,r=$i(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=zi(s,n,r,i,e[6],9,-1069501632),i=zi(i,s,n,r,e[11],14,643717713),r=zi(r,i,s,n,e[0],20,-373897302),n=zi(n,r,i,s,e[5],5,-701558691),s=zi(s,n,r,i,e[10],9,38016083),i=zi(i,s,n,r,e[15],14,-660478335),r=zi(r,i,s,n,e[4],20,-405537848),n=zi(n,r,i,s,e[9],5,568446438),s=zi(s,n,r,i,e[14],9,-1019803690),i=zi(i,s,n,r,e[3],14,-187363961),r=zi(r,i,s,n,e[8],20,1163531501),n=zi(n,r,i,s,e[13],5,-1444681467),s=zi(s,n,r,i,e[2],9,-51403784),i=zi(i,s,n,r,e[7],14,1735328473),n=Ki(n,r=zi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Ki(s,n,r,i,e[8],11,-2022574463),i=Ki(i,s,n,r,e[11],16,1839030562),r=Ki(r,i,s,n,e[14],23,-35309556),n=Ki(n,r,i,s,e[1],4,-1530992060),s=Ki(s,n,r,i,e[4],11,1272893353),i=Ki(i,s,n,r,e[7],16,-155497632),r=Ki(r,i,s,n,e[10],23,-1094730640),n=Ki(n,r,i,s,e[13],4,681279174),s=Ki(s,n,r,i,e[0],11,-358537222),i=Ki(i,s,n,r,e[3],16,-722521979),r=Ki(r,i,s,n,e[6],23,76029189),n=Ki(n,r,i,s,e[9],4,-640364487),s=Ki(s,n,r,i,e[12],11,-421815835),i=Ki(i,s,n,r,e[15],16,530742520),n=Wi(n,r=Ki(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Wi(s,n,r,i,e[7],10,1126891415),i=Wi(i,s,n,r,e[14],15,-1416354905),r=Wi(r,i,s,n,e[5],21,-57434055),n=Wi(n,r,i,s,e[12],6,1700485571),s=Wi(s,n,r,i,e[3],10,-1894986606),i=Wi(i,s,n,r,e[10],15,-1051523),r=Wi(r,i,s,n,e[1],21,-2054922799),n=Wi(n,r,i,s,e[8],6,1873313359),s=Wi(s,n,r,i,e[15],10,-30611744),i=Wi(i,s,n,r,e[6],15,-1560198380),r=Wi(r,i,s,n,e[13],21,1309151649),n=Wi(n,r,i,s,e[4],6,-145523070),s=Wi(s,n,r,i,e[11],10,-1120210379),i=Wi(i,s,n,r,e[2],15,718787259),r=Wi(r,i,s,n,e[9],21,-343485551),t[0]=gc(n,t[0]),t[1]=gc(r,t[1]),t[2]=gc(i,t[2]),t[3]=gc(s,t[3])}function l_(t,e,n,r,i,s){return e=gc(gc(e,t),gc(r,s)),gc(e<<i|e>>>32-i,n)}function $i(t,e,n,r,i,s,o){return l_(e&n|~e&r,t,e,i,s,o)}function zi(t,e,n,r,i,s,o){return l_(e&r|n&~r,t,e,i,s,o)}function Ki(t,e,n,r,i,s,o){return l_(e^n^r,t,e,i,s,o)}function Wi(t,e,n,r,i,s,o){return l_(n^(e|~r),t,e,i,s,o)}function oz(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Nx(r,KUe(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Nx(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Nx(r,i),r}function KUe(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}hm=St.atob.bind(St),L5=St.btoa.bind(St);var iU="0123456789abcdef".split("");function WUe(t){for(var e="",n=0;n<4;n++)e+=iU[t>>8*n+4&15]+iU[t>>8*n&15];return e}function GUe(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function R5(t){return oz(t).map(GUe).join("")}var qUe=function(t){for(var e=0;e<t.length;e++)t[e]=WUe(t[e]);return t.join("")}(oz("hello"))!="5d41402abc4b2a76b9719d911017c592";function gc(t,e){if(qUe){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function U5(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],l=0;l<256;l++)a[l]=l;var A=0;for(l=0;l<256;l++){var c=a[l];A=(A+c+o.charCodeAt(l))%256,a[l]=a[A],a[A]=c}n=t,r=a}else a=r;var u=e.length,h=0,d=0,p="";for(l=0;l<u;l++)d=(d+(c=a[h=(h+1)%256]))%256,a[h]=a[d],a[d]=c,o=a[(a[h]+a[d])%256],p+=String.fromCharCode(e.charCodeAt(l)^o);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sU={print:4,modify:8,copy:16,"annot-forms":32};function Nd(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(sU.perm!==void 0)throw new Error("Invalid permission: "+a);i+=sU[a]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=R5(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=U5(this.encryptionKey,this.padding)}function Fd(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function oU(t){if(sn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){St.console&&Dn.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function y2(t){if(!(this instanceof y2))return new y2(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function az(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Lu(t,e,n,r,i){if(!(this instanceof Lu))return new Lu(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,az.call(this,r,i)}function Jd(t,e,n,r,i){if(!(this instanceof Jd))return new Jd(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,az.call(this,r,i)}function Et(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,l=16,A="S",c=null;sn(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),A=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var u=t.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=oU;var p="1.3",f=d.__private__.getPdfVersion=function(){return p};d.__private__.setPdfVersion=function(S){p=S};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return b};var g=d.__private__.getPageFormat=function(S){return b[S]};i=i||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},_=v.COMPAT;function x(){this.saveGraphicsState(),K(new vt(Ie,0,0,-Ie,0,oa()*Ie).toString()+" cm"),this.setFontSize(this.getFontSize()/Ie),A="n",_=v.ADVANCED}function F(){this.restoreGraphicsState(),A="S",_=v.COMPAT}var O=d.__private__.combineFontStyleAndFontWeight=function(S,H){if(S=="bold"&&H=="normal"||S=="bold"&&H==400||S=="normal"&&H=="italic"||S=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(S=H==400||H==="normal"?S==="italic"?"italic":"normal":H!=700&&H!=="bold"||S!=="normal"?(H==700?"bold":H)+""+S:"bold"),S};d.advancedAPI=function(S){var H=_===v.COMPAT;return H&&x.call(this),typeof S!="function"||(S(this),H&&F.call(this)),this},d.compatAPI=function(S){var H=_===v.ADVANCED;return H&&F.call(this),typeof S!="function"||(S(this),H&&x.call(this)),this},d.isAdvancedAPI=function(){return _===v.ADVANCED};var I,B=function(S){if(_!==v.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=d.roundToPrecision=d.__private__.roundToPrecision=function(S,H){var de=e||H;if(isNaN(S)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(de).replace(/0+$/,"")};I=d.hpf=d.__private__.hpf=typeof l=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,l)}:l==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return T(S,16)};var R=d.f2=d.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return T(S,2)},D=d.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return T(S,3)},E=d.scale=d.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return _===v.COMPAT?S*Ie:_===v.ADVANCED?S:void 0},k=function(S){return _===v.COMPAT?oa()-S:_===v.ADVANCED?S:void 0},N=function(S){return E(k(S))};d.__private__.setPrecision=d.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(e=parseInt(S,10))};var Y,oe="00000000000000000000000000000000",ie=d.__private__.getFileId=function(){return oe},ne=d.__private__.setFileId=function(S){return oe=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():oe.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(ur=new Nd(c.userPermissions,c.userPassword,c.ownerPassword,oe)),oe};d.setFileId=function(S){return ne(S),this},d.getFileId=function(){return ie()};var se=d.__private__.convertDateToPDFDate=function(S){var H=S.getTimezoneOffset(),de=H<0?"+":"-",ve=Math.floor(Math.abs(H/60)),Te=Math.abs(H%60),Re=[de,q(ve),"'",q(Te),"'"].join("");return["D:",S.getFullYear(),q(S.getMonth()+1),q(S.getDate()),q(S.getHours()),q(S.getMinutes()),q(S.getSeconds()),Re].join("")},ue=d.__private__.convertPDFDateToDate=function(S){var H=parseInt(S.substr(2,4),10),de=parseInt(S.substr(6,2),10)-1,ve=parseInt(S.substr(8,2),10),Te=parseInt(S.substr(10,2),10),Re=parseInt(S.substr(12,2),10),We=parseInt(S.substr(14,2),10);return new Date(H,de,ve,Te,Re,We,0)},le=d.__private__.setCreationDate=function(S){var H;if(S===void 0&&(S=new Date),S instanceof Date)H=se(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=S}return Y=H},U=d.__private__.getCreationDate=function(S){var H=Y;return S==="jsDate"&&(H=ue(Y)),H};d.setCreationDate=function(S){return le(S),this},d.getCreationDate=function(S){return U(S)};var z,q=d.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},ee=d.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},fe=0,me=[],ge=[],ye=0,Me=[],De=[],Se=!1,Qe=ge,Q=function(){fe=0,ye=0,ge=[],me=[],Me=[],li=an(),Oi=an()};d.__private__.setCustomOutputDestination=function(S){Se=!0,Qe=S};var he=function(S){Se||(Qe=S)};d.__private__.resetCustomOutputDestination=function(){Se=!1,Qe=ge};var K=d.__private__.out=function(S){return S=S.toString(),ye+=S.length+1,Qe.push(S),Qe},ae=d.__private__.write=function(S){return K(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},Z=d.__private__.getArrayBuffer=function(S){for(var H=S.length,de=new ArrayBuffer(H),ve=new Uint8Array(de);H--;)ve[H]=S.charCodeAt(H);return de},ce=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ce};var _e=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(S){return _e=_===v.ADVANCED?S/Ie:S,this};var Be,pe=d.__private__.getFontSize=d.getFontSize=function(){return _===v.COMPAT?_e:_e*Ie},Pe=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(S){return Pe=S,this},d.__private__.getR2L=d.getR2L=function(){return Pe};var je,Ue=d.__private__.setZoomMode=function(S){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))Be=S;else if(isNaN(S)){if(H.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');Be=S}else Be=parseInt(S,10)};d.__private__.getZoomMode=function(){return Be};var Ge,nt=d.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');je=S};d.__private__.getPageMode=function(){return je};var Ze=d.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Ge=S};d.__private__.getLayoutMode=function(){return Ge},d.__private__.setDisplayMode=d.setDisplayMode=function(S,H,de){return Ue(S),Ze(H),nt(de),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(S){if(Object.keys(At).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[S]},d.__private__.getDocumentProperties=function(){return At},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(S){for(var H in At)At.hasOwnProperty(H)&&S[H]&&(At[H]=S[H]);return this},d.__private__.setDocumentProperty=function(S,H){if(Object.keys(At).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[S]=H};var Le,Ie,rt,Ke,wt,mt={},ft={},Ht=[],_t={},Xt={},Vt={},Jt={},En=null,Kt=0,Ct=[],jt=new oU(d),ls=t.hotfixes||[],zn={},Ri={},ai=[],vt=function S(H,de,ve,Te,Re,We){if(!(this instanceof S))return new S(H,de,ve,Te,Re,We);isNaN(H)&&(H=1),isNaN(de)&&(de=0),isNaN(ve)&&(ve=0),isNaN(Te)&&(Te=1),isNaN(Re)&&(Re=0),isNaN(We)&&(We=0),this._matrix=[H,de,ve,Te,Re,We]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(S)},vt.prototype.multiply=function(S){var H=S.sx*this.sx+S.shy*this.shx,de=S.sx*this.shy+S.shy*this.sy,ve=S.shx*this.sx+S.sy*this.shx,Te=S.shx*this.shy+S.sy*this.sy,Re=S.tx*this.sx+S.ty*this.shx+this.tx,We=S.tx*this.shy+S.ty*this.sy+this.ty;return new vt(H,de,ve,Te,Re,We)},vt.prototype.decompose=function(){var S=this.sx,H=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Re=this.ty,We=Math.sqrt(S*S+H*H),ot=(S/=We)*de+(H/=We)*ve;de-=S*ot,ve-=H*ot;var pt=Math.sqrt(de*de+ve*ve);return ot/=pt,S*(ve/=pt)<H*(de/=pt)&&(S=-S,H=-H,ot=-ot,We=-We),{scale:new vt(We,0,0,pt,0,0),translate:new vt(1,0,0,1,Te,Re),rotate:new vt(S,H,-H,S,0,0),skew:new vt(1,0,ot,1,0,0)}},vt.prototype.toString=function(S){return this.join(" ")},vt.prototype.inversed=function(){var S=this.sx,H=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Re=this.ty,We=1/(S*ve-H*de),ot=ve*We,pt=-H*We,w=-de*We,L=S*We;return new vt(ot,pt,w,L,-ot*Te-w*Re,-pt*Te-L*Re)},vt.prototype.applyToPoint=function(S){var H=S.x*this.sx+S.y*this.shx+this.tx,de=S.x*this.shy+S.y*this.sy+this.ty;return new bo(H,de)},vt.prototype.applyToRectangle=function(S){var H=this.applyToPoint(S),de=this.applyToPoint(new bo(S.x+S.w,S.y+S.h));return new IA(H.x,H.y,de.x-H.x,de.y-H.y)},vt.prototype.clone=function(){var S=this.sx,H=this.shy,de=this.shx,ve=this.sy,Te=this.tx,Re=this.ty;return new vt(S,H,de,ve,Te,Re)},d.Matrix=vt;var mn=d.matrixMult=function(S,H){return H.multiply(S)},As=new vt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=As;var tr=function(S,H){if(!Xt[S]){var de=(H instanceof Lu?"Sh":"P")+(Object.keys(_t).length+1).toString(10);H.id=de,Xt[S]=de,_t[de]=H,jt.publish("addPattern",H)}};d.ShadingPattern=Lu,d.TilingPattern=Jd,d.addShadingPattern=function(S,H){return B("addShadingPattern()"),tr(S,H),this},d.beginTilingPattern=function(S){B("beginTilingPattern()"),FA(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},d.endTilingPattern=function(S,H){B("endTilingPattern()"),H.stream=De[z].join(`
`),tr(S,H),jt.publish("endTilingPattern",H),ai.pop().restore()};var Sn=d.__private__.newObject=function(){var S=an();return Rr(S,!0),S},an=d.__private__.newObjectDeferred=function(){return fe++,me[fe]=function(){return ye},fe},Rr=function(S,H){return H=typeof H=="boolean"&&H,me[S]=ye,H&&K(S+" 0 obj"),S},Ui=d.__private__.newAdditionalObject=function(){var S={objId:an(),content:""};return Me.push(S),S},li=an(),Oi=an(),Ur=d.__private__.decodeColorString=function(S){var H=S.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var de=parseFloat(H[0]);H=[de,de,de,"r"]}for(var ve="#",Te=0;Te<3;Te++)ve+=("0"+Math.floor(255*parseFloat(H[Te])).toString(16)).slice(-2);return ve},bi=d.__private__.encodeColorString=function(S){var H;typeof S=="string"&&(S={ch1:S});var de=S.ch1,ve=S.ch2,Te=S.ch3,Re=S.ch4,We=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var ot=new sz(de);if(ot.ok)de=ot.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var pt=parseInt(de.substr(1),16);de=pt>>16&255,ve=pt>>8&255,Te=255&pt}if(ve===void 0||Re===void 0&&de===ve&&ve===Te)if(typeof de=="string")H=de+" "+We[0];else switch(S.precision){case 2:H=R(de/255)+" "+We[0];break;case 3:default:H=D(de/255)+" "+We[0]}else if(Re===void 0||sn(Re)==="object"){if(Re&&!isNaN(Re.a)&&Re.a===0)return H=["1.","1.","1.",We[1]].join(" ");if(typeof de=="string")H=[de,ve,Te,We[1]].join(" ");else switch(S.precision){case 2:H=[R(de/255),R(ve/255),R(Te/255),We[1]].join(" ");break;default:case 3:H=[D(de/255),D(ve/255),D(Te/255),We[1]].join(" ")}}else if(typeof de=="string")H=[de,ve,Te,Re,We[2]].join(" ");else switch(S.precision){case 2:H=[R(de),R(ve),R(Te),R(Re),We[2]].join(" ");break;case 3:default:H=[D(de),D(ve),D(Te),D(Re),We[2]].join(" ")}return H},Gr=d.__private__.getFilters=function(){return o},qr=d.__private__.putStream=function(S){var H=(S=S||{}).data||"",de=S.filters||Gr(),ve=S.alreadyAppliedFilters||[],Te=S.addLength1||!1,Re=H.length,We=S.objectId,ot=function(Ye){return Ye};if(c!==null&&We===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ot=ur.encryptor(We,0));var pt={};de===!0&&(de=["FlateEncode"]);var w=S.additionalKeyValues||[],L=(pt=Et.API.processDataByFilters!==void 0?Et.API.processDataByFilters(H,de):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(pt.data.length!==0&&(w.push({key:"Length",value:pt.data.length}),Te===!0&&w.push({key:"Length1",value:Re})),L.length!=0)if(L.split("/").length-1==1)w.push({key:"Filter",value:L});else{w.push({key:"Filter",value:"["+L+"]"});for(var j=0;j<w.length;j+=1)if(w[j].key==="DecodeParms"){for(var X=[],Ce=0;Ce<pt.reverseChain.split("/").length-1;Ce+=1)X.push("null");X.push(w[j].value),w[j].value="["+X.join(" ")+"]"}}K("<<");for(var Ne=0;Ne<w.length;Ne++)K("/"+w[Ne].key+" "+w[Ne].value);K(">>"),pt.data.length!==0&&(K("stream"),K(ot(pt.data)),K("endstream"))},cr=d.__private__.putPage=function(S){var H=S.number,de=S.data,ve=S.objId,Te=S.contentsObjId;Rr(ve,!0),K("<</Type /Page"),K("/Parent "+S.rootDictionaryObjId+" 0 R"),K("/Resources "+S.resourceDictionaryObjId+" 0 R"),K("/MediaBox ["+parseFloat(I(S.mediaBox.bottomLeftX))+" "+parseFloat(I(S.mediaBox.bottomLeftY))+" "+I(S.mediaBox.topRightX)+" "+I(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&K("/CropBox ["+I(S.cropBox.bottomLeftX)+" "+I(S.cropBox.bottomLeftY)+" "+I(S.cropBox.topRightX)+" "+I(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&K("/BleedBox ["+I(S.bleedBox.bottomLeftX)+" "+I(S.bleedBox.bottomLeftY)+" "+I(S.bleedBox.topRightX)+" "+I(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&K("/TrimBox ["+I(S.trimBox.bottomLeftX)+" "+I(S.trimBox.bottomLeftY)+" "+I(S.trimBox.topRightX)+" "+I(S.trimBox.topRightY)+"]"),S.artBox!==null&&K("/ArtBox ["+I(S.artBox.bottomLeftX)+" "+I(S.artBox.bottomLeftY)+" "+I(S.artBox.topRightX)+" "+I(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&K("/UserUnit "+S.userUnit),jt.publish("putPage",{objId:ve,pageContext:Ct[H],pageNumber:H,page:de}),K("/Contents "+Te+" 0 R"),K(">>"),K("endobj");var Re=de.join(`
`);return _===v.ADVANCED&&(Re+=`
Q`),Rr(Te,!0),qr({data:Re,filters:Gr(),objectId:Te}),K("endobj"),ve},cs=d.__private__.putPages=function(){var S,H,de=[];for(S=1;S<=Kt;S++)Ct[S].objId=an(),Ct[S].contentsObjId=an();for(S=1;S<=Kt;S++)de.push(cr({number:S,data:De[S],objId:Ct[S].objId,contentsObjId:Ct[S].contentsObjId,mediaBox:Ct[S].mediaBox,cropBox:Ct[S].cropBox,bleedBox:Ct[S].bleedBox,trimBox:Ct[S].trimBox,artBox:Ct[S].artBox,userUnit:Ct[S].userUnit,rootDictionaryObjId:li,resourceDictionaryObjId:Oi}));Rr(li,!0),K("<</Type /Pages");var ve="/Kids [";for(H=0;H<Kt;H++)ve+=de[H]+" 0 R ";K(ve+"]"),K("/Count "+Kt),K(">>"),K("endobj"),jt.publish("postPutPages")},po=function(S){jt.publish("putFont",{font:S,out:K,newObject:Sn,putStream:qr}),S.isAlreadyPutted!==!0&&(S.objectNumber=Sn(),K("<<"),K("/Type /Font"),K("/BaseFont /"+Fd(S.postScriptName)),K("/Subtype /Type1"),typeof S.encoding=="string"&&K("/Encoding /"+S.encoding),K("/FirstChar 32"),K("/LastChar 255"),K(">>"),K("endobj"))},Or=function(){for(var S in mt)mt.hasOwnProperty(S)&&(u===!1||u===!0&&h.hasOwnProperty(S))&&po(mt[S])},_i=function(S){S.objectNumber=Sn();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[I(S.x),I(S.y),I(S.x+S.width),I(S.y+S.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var de=S.pages[1].join(`
`);qr({data:de,additionalKeyValues:H,objectId:S.objectNumber}),K("endobj")},go=function(){for(var S in zn)zn.hasOwnProperty(S)&&_i(zn[S])},Ci=function(S,H){var de,ve=[],Te=1/(H-1);for(de=0;de<1;de+=Te)ve.push(de);if(ve.push(1),S[0].offset!=0){var Re={offset:0,color:S[0].color};S.unshift(Re)}if(S[S.length-1].offset!=1){var We={offset:1,color:S[S.length-1].color};S.push(We)}for(var ot="",pt=0,w=0;w<ve.length;w++){for(de=ve[w];de>S[pt+1].offset;)pt++;var L=S[pt].offset,j=(de-L)/(S[pt+1].offset-L),X=S[pt].color,Ce=S[pt+1].color;ot+=ee(Math.round((1-j)*X[0]+j*Ce[0]).toString(16))+ee(Math.round((1-j)*X[1]+j*Ce[1]).toString(16))+ee(Math.round((1-j)*X[2]+j*Ce[2]).toString(16))}return ot.trim()},fl=function(S,H){H||(H=21);var de=Sn(),ve=Ci(S.colors,H),Te=[];Te.push({key:"FunctionType",value:"0"}),Te.push({key:"Domain",value:"[0.0 1.0]"}),Te.push({key:"Size",value:"["+H+"]"}),Te.push({key:"BitsPerSample",value:"8"}),Te.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Te.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),qr({data:ve,additionalKeyValues:Te,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),K("endobj"),S.objectNumber=Sn(),K("<< /ShadingType "+S.type),K("/ColorSpace /DeviceRGB");var Re="/Coords ["+I(parseFloat(S.coords[0]))+" "+I(parseFloat(S.coords[1]))+" ";S.type===2?Re+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3])):Re+=I(parseFloat(S.coords[2]))+" "+I(parseFloat(S.coords[3]))+" "+I(parseFloat(S.coords[4]))+" "+I(parseFloat(S.coords[5])),K(Re+="]"),S.matrix&&K("/Matrix ["+S.matrix.toString()+"]"),K("/Function "+de+" 0 R"),K("/Extend [true true]"),K(">>"),K("endobj")},Jo=function(S,H){var de=an(),ve=Sn();H.push({resourcesOid:de,objectOid:ve}),S.objectNumber=ve;var Te=[];Te.push({key:"Type",value:"/Pattern"}),Te.push({key:"PatternType",value:"1"}),Te.push({key:"PaintType",value:"1"}),Te.push({key:"TilingType",value:"1"}),Te.push({key:"BBox",value:"["+S.boundingBox.map(I).join(" ")+"]"}),Te.push({key:"XStep",value:I(S.xStep)}),Te.push({key:"YStep",value:I(S.yStep)}),Te.push({key:"Resources",value:de+" 0 R"}),S.matrix&&Te.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),qr({data:S.stream,additionalKeyValues:Te,objectId:S.objectNumber}),K("endobj")},Yr=function(S){var H;for(H in _t)_t.hasOwnProperty(H)&&(_t[H]instanceof Lu?fl(_t[H]):_t[H]instanceof Jd&&Jo(_t[H],S))},Bs=function(S){for(var H in S.objectNumber=Sn(),K("<<"),S)switch(H){case"opacity":K("/ca "+R(S[H]));break;case"stroke-opacity":K("/CA "+R(S[H]))}K(">>"),K("endobj")},mo=function(){var S;for(S in Vt)Vt.hasOwnProperty(S)&&Bs(Vt[S])},Mi=function(){for(var S in K("/XObject <<"),zn)zn.hasOwnProperty(S)&&zn[S].objectNumber>=0&&K("/"+S+" "+zn[S].objectNumber+" 0 R");jt.publish("putXobjectDict"),K(">>")},Es=function(){ur.oid=Sn(),K("<<"),K("/Filter /Standard"),K("/V "+ur.v),K("/R "+ur.r),K("/U <"+ur.toHexString(ur.U)+">"),K("/O <"+ur.toHexString(ur.O)+">"),K("/P "+ur.P),K(">>"),K("endobj")},wA=function(){for(var S in K("/Font <<"),mt)mt.hasOwnProperty(S)&&(u===!1||u===!0&&h.hasOwnProperty(S))&&K("/"+S+" "+mt[S].objectNumber+" 0 R");K(">>")},bA=function(){if(Object.keys(_t).length>0){for(var S in K("/Shading <<"),_t)_t.hasOwnProperty(S)&&_t[S]instanceof Lu&&_t[S].objectNumber>=0&&K("/"+S+" "+_t[S].objectNumber+" 0 R");jt.publish("putShadingPatternDict"),K(">>")}},Zo=function(S){if(Object.keys(_t).length>0){for(var H in K("/Pattern <<"),_t)_t.hasOwnProperty(H)&&_t[H]instanceof d.TilingPattern&&_t[H].objectNumber>=0&&_t[H].objectNumber<S&&K("/"+H+" "+_t[H].objectNumber+" 0 R");jt.publish("putTilingPatternDict"),K(">>")}},pl=function(){if(Object.keys(Vt).length>0){var S;for(S in K("/ExtGState <<"),Vt)Vt.hasOwnProperty(S)&&Vt[S].objectNumber>=0&&K("/"+S+" "+Vt[S].objectNumber+" 0 R");jt.publish("putGStateDict"),K(">>")}},Fn=function(S){Rr(S.resourcesOid,!0),K("<<"),K("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),wA(),bA(),Zo(S.objectOid),pl(),Mi(),K(">>"),K("endobj")},Da=function(){var S=[];Or(),mo(),go(),Yr(S),jt.publish("putResources"),S.forEach(Fn),Fn({resourcesOid:Oi,objectOid:Number.MAX_SAFE_INTEGER}),jt.publish("postPutResources")},gl=function(){jt.publish("putAdditionalObjects");for(var S=0;S<Me.length;S++){var H=Me[S];Rr(H.objId,!0),K(H.content),K("endobj")}jt.publish("postPutAdditionalObjects")},ml=function(S){ft[S.fontName]=ft[S.fontName]||{},ft[S.fontName][S.fontStyle]=S.id},vl=function(S,H,de,ve,Te){var Re={id:"F"+(Object.keys(mt).length+1).toString(10),postScriptName:S,fontName:H,fontStyle:de,encoding:ve,isStandardFont:Te||!1,metadata:{}};return jt.publish("addFont",{font:Re,instance:this}),mt[Re.id]=Re,ml(Re),Re.id},$t=function(S){for(var H=0,de=ce.length;H<de;H++){var ve=vl.call(this,S[H][0],S[H][1],S[H][2],ce[H][3],!0);u===!1&&(h[ve]=!0);var Te=S[H][0].split("-");ml({id:ve,fontName:Te[0],fontStyle:Te[1]||""})}jt.publish("addFonts",{fonts:mt,dictionary:ft})},Ft=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(ve){var H=ve.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var de="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ve.message;if(!St.console)throw new Error(de);St.console.error(de,ve),St.alert&&alert(de)}},S.foo.bar=S,S.foo},Wt=function(S,H){var de,ve,Te,Re,We,ot,pt,w,L;if(Te=(H=H||{}).sourceEncoding||"Unicode",We=H.outputEncoding,(H.autoencode||We)&&mt[Le].metadata&&mt[Le].metadata[Te]&&mt[Le].metadata[Te].encoding&&(Re=mt[Le].metadata[Te].encoding,!We&&mt[Le].encoding&&(We=mt[Le].encoding),!We&&Re.codePages&&(We=Re.codePages[0]),typeof We=="string"&&(We=Re[We]),We)){for(pt=!1,ot=[],de=0,ve=S.length;de<ve;de++)(w=We[S.charCodeAt(de)])?ot.push(String.fromCharCode(w)):ot.push(S[de]),ot[de].charCodeAt(0)>>8&&(pt=!0);S=ot.join("")}for(de=S.length;pt===void 0&&de!==0;)S.charCodeAt(de-1)>>8&&(pt=!0),de--;if(!pt)return S;for(ot=H.noBOM?[]:[254,255],de=0,ve=S.length;de<ve;de++){if((L=(w=S.charCodeAt(de))>>8)>>8)throw new Error("Character at position "+de+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ot.push(L),ot.push(w-(L<<8))}return String.fromCharCode.apply(void 0,ot)},Ot=d.__private__.pdfEscape=d.pdfEscape=function(S,H){return Wt(S,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Zt=d.__private__.beginPage=function(S){De[++Kt]=[],Ct[Kt]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},yl(Kt),he(De[z])},Mr=function(S,H){var de,ve,Te;switch(n=H||n,typeof S=="string"&&(de=g(S.toLowerCase()),Array.isArray(de)&&(ve=de[0],Te=de[1])),Array.isArray(S)&&(ve=S[0]*Ie,Te=S[1]*Ie),isNaN(ve)&&(ve=i[0],Te=i[1]),(ve>14400||Te>14400)&&(Dn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Te=Math.min(14400,Te)),i=[ve,Te],n.substr(0,1)){case"l":Te>ve&&(i=[Te,ve]);break;case"p":ve>Te&&(i=[Te,ve])}Zt(i),qh(Tn),K(Xs),Ua!==0&&K(Ua+" J"),uu!==0&&K(uu+" j"),jt.publish("addPage",{pageNumber:Kt})},us=function(S){S>0&&S<=Kt&&(De.splice(S,1),Ct.splice(S,1),Kt--,z>Kt&&(z=Kt),this.setPage(z))},yl=function(S){S>0&&S<=Kt&&(z=S)},Hh=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return De.length-1},vn=function(S,H,de){var ve,Te=void 0;return de=de||{},S=S!==void 0?S:mt[Le].fontName,H=H!==void 0?H:mt[Le].fontStyle,ve=S.toLowerCase(),ft[ve]!==void 0&&ft[ve][H]!==void 0?Te=ft[ve][H]:ft[S]!==void 0&&ft[S][H]!==void 0?Te=ft[S][H]:de.disableWarning===!1&&Dn.warn("Unable to look up font label for font '"+S+"', '"+H+"'. Refer to getFontList() for available fonts."),Te||de.noFallback||(Te=ft.times[H])==null&&(Te=ft.times.normal),Te},_A=d.__private__.putInfo=function(){var S=Sn(),H=function(ve){return ve};for(var de in c!==null&&(H=ur.encryptor(S,0)),K("<<"),K("/Producer ("+Ot(H("jsPDF "+Et.version))+")"),At)At.hasOwnProperty(de)&&At[de]&&K("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+Ot(H(At[de]))+")");K("/CreationDate ("+Ot(H(Y))+")"),K(">>"),K("endobj")},ea=d.__private__.putCatalog=function(S){var H=(S=S||{}).rootDictionaryObjId||li;switch(Sn(),K("<<"),K("/Type /Catalog"),K("/Pages "+H+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":K("/OpenAction [3 0 R /FitH null]");break;case"fullheight":K("/OpenAction [3 0 R /FitV null]");break;case"fullpage":K("/OpenAction [3 0 R /Fit]");break;case"original":K("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+Be;de.substr(de.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&K("/OpenAction [3 0 R /XYZ null null "+R(Be)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":K("/PageLayout /OneColumn");break;case"single":K("/PageLayout /SinglePage");break;case"two":case"twoleft":K("/PageLayout /TwoColumnLeft");break;case"tworight":K("/PageLayout /TwoColumnRight")}je&&K("/PageMode /"+je),jt.publish("putCatalog"),K(">>"),K("endobj")},wl=d.__private__.putTrailer=function(){K("trailer"),K("<<"),K("/Size "+(fe+1)),K("/Root "+fe+" 0 R"),K("/Info "+(fe-1)+" 0 R"),c!==null&&K("/Encrypt "+ur.oid+" 0 R"),K("/ID [ <"+oe+"> <"+oe+"> ]"),K(">>")},Ep=d.__private__.putHeader=function(){K("%PDF-"+p),K("%ºß¬à")},Vh=d.__private__.putXRef=function(){var S="0000000000";K("xref"),K("0 "+(fe+1)),K("0000000000 65535 f ");for(var H=1;H<=fe;H++)typeof me[H]=="function"?K((S+me[H]()).slice(-10)+" 00000 n "):me[H]!==void 0?K((S+me[H]).slice(-10)+" 00000 n "):K("0000000000 00000 n ")},ta=d.__private__.buildDocument=function(){Q(),he(ge),jt.publish("buildDocument"),Ep(),cs(),gl(),Da(),c!==null&&Es(),_A(),ea();var S=ye;return Vh(),wl(),K("startxref"),K(""+S),K("%%EOF"),he(De[z]),ge.join(`
`)},CA=d.__private__.getBlob=function(S){return new Blob([Z(S)],{type:"application/pdf"})},xA=d.output=d.__private__.output=Ft(function(S,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",S){case void 0:return ta();case"save":d.save(H.filename);break;case"arraybuffer":return Z(ta());case"blob":return CA(ta());case"bloburi":case"bloburl":if(St.URL!==void 0&&typeof St.URL.createObjectURL=="function")return St.URL&&St.URL.createObjectURL(CA(ta()))||void 0;Dn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",ve=ta();try{de=L5(ve)}catch{de=L5(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+H.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var Te="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Re=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Te=H.pdfObjectUrl,Re="");var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Te+'"'+Re+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ot=St.open();return ot!==null&&ot.document.write(We),ot}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(St)==="[object Window]"){var pt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',w=St.open();if(w!==null){w.document.write(pt);var L=this;w.document.documentElement.querySelector("#pdfViewer").onload=function(){w.document.title=H.filename,w.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(L.output("bloburl"))}}return w}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(St)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var j='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',X=St.open();if(X!==null&&(X.document.write(j),X.document.title=H.filename),X||typeof safari>"u")return X;break;case"datauri":case"dataurl":return St.document.location.href=this.output("datauristring",H);default:return null}}),$h=function(S){return Array.isArray(ls)===!0&&ls.indexOf(S)>-1};switch(r){case"pt":Ie=1;break;case"mm":Ie=72/25.4;break;case"cm":Ie=72/2.54;break;case"in":Ie=72;break;case"px":Ie=$h("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ie=12;break;case"ex":Ie=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ie=r}var ur=null;le(),ne();var vo=function(S){return c!==null?ur.encryptor(S,0):function(H){return H}},su=d.__private__.getPageInfo=d.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ct[S].objId,pageNumber:S,pageContext:Ct[S]}},Tt=d.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Ct)if(Ct[H].objId===S)break;return su(H)},zh=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Ct[z].objId,pageNumber:z,pageContext:Ct[z]}};d.addPage=function(){return Mr.apply(this,arguments),this},d.setPage=function(){return yl.apply(this,arguments),he.call(this,De[z]),this},d.insertPage=function(S){return this.addPage(),this.movePage(z,S),this},d.movePage=function(S,H){var de,ve;if(S>H){de=De[S],ve=Ct[S];for(var Te=S;Te>H;Te--)De[Te]=De[Te-1],Ct[Te]=Ct[Te-1];De[H]=de,Ct[H]=ve,this.setPage(H)}else if(S<H){de=De[S],ve=Ct[S];for(var Re=S;Re<H;Re++)De[Re]=De[Re+1],Ct[Re]=Ct[Re+1];De[H]=de,Ct[H]=ve,this.setPage(H)}return this},d.deletePage=function(){return us.apply(this,arguments),this},d.__private__.text=d.text=function(S,H,de,ve,Te){var Re,We,ot,pt,w,L,j,X,Ce,Ne=(ve=ve||{}).scope||this;if(typeof S=="number"&&typeof H=="number"&&(typeof de=="string"||Array.isArray(de))){var Ye=de;de=H,H=S,S=Ye}if(arguments[3]instanceof vt?(B("The transform parameter of text() with a Matrix value"),Ce=Te):(ot=arguments[4],pt=arguments[5],sn(j=arguments[3])==="object"&&j!==null||(typeof ot=="string"&&(pt=ot,ot=null),typeof j=="string"&&(pt=j,j=null),typeof j=="number"&&(ot=j,j=null),ve={flags:j,angle:ot,align:pt})),isNaN(H)||isNaN(de)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return Ne;var kt="",wn=!1,Pt=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:na,kn=Ne.internal.scaleFactor;function br(On){return On=On.split("	").join(Array(ve.TabLen||9).join(" ")),Ot(On,j)}function Co(On){for(var Mn,Cr=On.concat(),Xr=[],El=Cr.length;El--;)typeof(Mn=Cr.shift())=="string"?Xr.push(Mn):Array.isArray(On)&&(Mn.length===1||Mn[1]===void 0&&Mn[2]===void 0)?Xr.push(Mn[0]):Xr.push([Mn[0],Mn[1],Mn[2]]);return Xr}function xi(On,Mn){var Cr;if(typeof On=="string")Cr=Mn(On)[0];else if(Array.isArray(On)){for(var Xr,El,Dp=On.concat(),sd=[],f0=Dp.length;f0--;)typeof(Xr=Dp.shift())=="string"?sd.push(Mn(Xr)[0]):Array.isArray(Xr)&&typeof Xr[0]=="string"&&(El=Mn(Xr[0],Xr[1],Xr[2]),sd.push([El[0],El[1],El[2]]));Cr=sd}return Cr}var aa=!1,_l=!0;if(typeof S=="string")aa=!0;else if(Array.isArray(S)){var Tp=S.concat();We=[];for(var Xh,Bi=Tp.length;Bi--;)(typeof(Xh=Tp.shift())!="string"||Array.isArray(Xh)&&typeof Xh[0]!="string")&&(_l=!1);aa=_l}if(aa===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var Jh=_e/Ne.internal.scaleFactor,Zh=Jh*(Pt-1);switch(ve.baseline){case"bottom":de-=Zh;break;case"top":de+=Jh-Zh;break;case"hanging":de+=Jh-2*Zh;break;case"middle":de+=Jh/2-Zh}if((L=ve.maxWidth||0)>0&&(typeof S=="string"?S=Ne.splitTextToSize(S,L):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(On,Mn){return On.concat(Ne.splitTextToSize(Mn,L))},[]))),Re={text:S,x:H,y:de,options:ve,mutex:{pdfEscape:Ot,activeFontKey:Le,fonts:mt,activeFontSize:_e}},jt.publish("preProcessText",Re),S=Re.text,ot=(ve=Re.options).angle,!(Ce instanceof vt)&&ot&&typeof ot=="number"){ot*=Math.PI/180,ve.rotationDirection===0&&(ot=-ot),_===v.ADVANCED&&(ot=-ot);var ed=Math.cos(ot),Ip=Math.sin(ot);Ce=new vt(ed,Ip,-Ip,ed,0,0)}else ot&&ot instanceof vt&&(Ce=ot);_!==v.ADVANCED||Ce||(Ce=As),(w=ve.charSpace||sa)!==void 0&&(kt+=I(E(w))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(X=ve.horizontalScale)!==void 0&&(kt+=I(100*X)+` Tz
`),ve.lang;var Ts=-1,A_=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Np=Ne.internal.getCurrentPageInfo().pageContext;switch(A_){case 0:case!1:case"fill":Ts=0;break;case 1:case!0:case"stroke":Ts=1;break;case 2:case"fillThenStroke":Ts=2;break;case 3:case"invisible":Ts=3;break;case 4:case"fillAndAddForClipping":Ts=4;break;case 5:case"strokeAndAddPathForClipping":Ts=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ts=6;break;case 7:case"addToPathForClipping":Ts=7}var c0=Np.usedRenderingMode!==void 0?Np.usedRenderingMode:-1;Ts!==-1?kt+=Ts+` Tr
`:c0!==-1&&(kt+=`0 Tr
`),Ts!==-1&&(Np.usedRenderingMode=Ts),pt=ve.align||"left";var xo,td=_e*Pt,u0=Ne.internal.pageSize.getWidth(),h0=mt[Le];w=ve.charSpace||sa,L=ve.maxWidth||0,j=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var PA=[],fu=function(On){return Ne.getStringUnitWidth(On,{font:h0,charSpace:w,fontSize:_e,doKerning:!1})*_e/kn};if(Object.prototype.toString.call(S)==="[object Array]"){var Is;We=Co(S),pt!=="left"&&(xo=We.map(fu));var fs,DA=0;if(pt==="right"){H-=xo[0],S=[],Bi=We.length;for(var Cl=0;Cl<Bi;Cl++)Cl===0?(fs=ds(H),Is=wo(de)):(fs=E(DA-xo[Cl]),Is=-td),S.push([We[Cl],fs,Is]),DA=xo[Cl]}else if(pt==="center"){H-=xo[0]/2,S=[],Bi=We.length;for(var xl=0;xl<Bi;xl++)xl===0?(fs=ds(H),Is=wo(de)):(fs=E((DA-xo[xl])/2),Is=-td),S.push([We[xl],fs,Is]),DA=xo[xl]}else if(pt==="left"){S=[],Bi=We.length;for(var nd=0;nd<Bi;nd++)S.push(We[nd])}else if(pt==="justify"&&h0.encoding==="Identity-H"){S=[],Bi=We.length,L=L!==0?L:u0;for(var Bl=0,_r=0;_r<Bi;_r++)if(Is=_r===0?wo(de):-td,fs=_r===0?ds(H):Bl,_r<Bi-1){var Fp=E((L-xo[_r])/(We[_r].split(" ").length-1)),ps=We[_r].split(" ");S.push([ps[0]+" ",fs,Is]),Bl=0;for(var Bo=1;Bo<ps.length;Bo++){var rd=(fu(ps[Bo-1]+" "+ps[Bo])-fu(ps[Bo]))*kn+Fp;Bo==ps.length-1?S.push([ps[Bo],rd,0]):S.push([ps[Bo]+" ",rd,0]),Bl-=rd}}else S.push([We[_r],fs,Is]);S.push(["",Bl,0])}else{if(pt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Bi=We.length,L=L!==0?L:u0,_r=0;_r<Bi;_r++)Is=_r===0?wo(de):-td,fs=_r===0?ds(H):0,_r<Bi-1?PA.push(I(E((L-xo[_r])/(We[_r].split(" ").length-1)))):PA.push(0),S.push([We[_r],fs,Is])}}var d0=typeof ve.R2L=="boolean"?ve.R2L:Pe;d0===!0&&(S=xi(S,function(On,Mn,Cr){return[On.split("").reverse().join(""),Mn,Cr]})),Re={text:S,x:H,y:de,options:ve,mutex:{pdfEscape:Ot,activeFontKey:Le,fonts:mt,activeFontSize:_e}},jt.publish("postProcessText",Re),S=Re.text,wn=Re.mutex.isHex||!1;var kp=mt[Le].encoding;kp!=="WinAnsiEncoding"&&kp!=="StandardEncoding"||(S=xi(S,function(On,Mn,Cr){return[br(On),Mn,Cr]})),We=Co(S),S=[];for(var pu,gu,LA,mu=0,id=1,vu=Array.isArray(We[0])?id:mu,RA="",Pp=function(On,Mn,Cr){var Xr="";return Cr instanceof vt?(Cr=typeof ve.angle=="number"?mn(Cr,new vt(1,0,0,1,On,Mn)):mn(new vt(1,0,0,1,On,Mn),Cr),_===v.ADVANCED&&(Cr=mn(new vt(1,0,0,-1,0,0),Cr)),Xr=Cr.join(" ")+` Tm
`):Xr=I(On)+" "+I(Mn)+` Td
`,Xr},Eo=0;Eo<We.length;Eo++){switch(RA="",vu){case id:LA=(wn?"<":"(")+We[Eo][0]+(wn?">":")"),pu=parseFloat(We[Eo][1]),gu=parseFloat(We[Eo][2]);break;case mu:LA=(wn?"<":"(")+We[Eo]+(wn?">":")"),pu=ds(H),gu=wo(de)}PA!==void 0&&PA[Eo]!==void 0&&(RA=PA[Eo]+` Tw
`),Eo===0?S.push(RA+Pp(pu,gu,Ce)+LA):vu===mu?S.push(RA+LA):vu===id&&S.push(RA+Pp(pu,gu,Ce)+LA)}S=vu===mu?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var So=`BT
/`;return So+=Le+" "+_e+` Tf
`,So+=I(_e*Pt)+` TL
`,So+=Ra+`
`,So+=kt,So+=S,K(So+="ET"),h[Le]=!0,Ne};var La=d.__private__.clip=d.clip=function(S){return K(S==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return La("evenodd")},d.__private__.discardPath=d.discardPath=function(){return K("n"),this};var yo=d.__private__.isValidStyle=function(S){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(H=!0),H};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(S){return yo(S)&&(A=S),this};var Kh=d.__private__.getStyle=d.getStyle=function(S){var H=A;switch(S){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=S}return H},Wh=d.close=function(){return K("h"),this};d.stroke=function(){return K("S"),this},d.fill=function(S){return hs("f",S),this},d.fillEvenOdd=function(S){return hs("f*",S),this},d.fillStroke=function(S){return hs("B",S),this},d.fillStrokeEvenOdd=function(S){return hs("B*",S),this};var hs=function(S,H){sn(H)==="object"?BA(H,S):K(S)},ou=function(S){S===null||_===v.ADVANCED&&S===void 0||(S=Kh(S),K(S))};function Sp(S,H,de,ve,Te){var Re=new Jd(H||this.boundingBox,de||this.xStep,ve||this.yStep,this.gState,Te||this.matrix);Re.stream=this.stream;var We=S+"$$"+this.cloneIndex+++"$$";return tr(We,Re),Re}var BA=function(S,H){var de=Xt[S.key],ve=_t[de];if(ve instanceof Lu)K("q"),K(EA(H)),ve.gState&&d.setGState(ve.gState),K(S.matrix.toString()+" cm"),K("/"+de+" sh"),K("Q");else if(ve instanceof Jd){var Te=new vt(1,0,0,-1,0,oa());S.matrix&&(Te=Te.multiply(S.matrix||As),de=Sp.call(ve,S.key,S.boundingBox,S.xStep,S.yStep,Te).id),K("q"),K("/Pattern cs"),K("/"+de+" scn"),ve.gState&&d.setGState(ve.gState),K(H),K("Q")}},EA=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},SA=d.moveTo=function(S,H){return K(I(E(S))+" "+I(N(H))+" m"),this},qs=d.lineTo=function(S,H){return K(I(E(S))+" "+I(N(H))+" l"),this},Ss=d.curveTo=function(S,H,de,ve,Te,Re){return K([I(E(S)),I(N(H)),I(E(de)),I(N(ve)),I(E(Te)),I(N(Re)),"c"].join(" ")),this};d.__private__.line=d.line=function(S,H,de,ve,Te){if(isNaN(S)||isNaN(H)||isNaN(de)||isNaN(ve)||!yo(Te))throw new Error("Invalid arguments passed to jsPDF.line");return _===v.COMPAT?this.lines([[de-S,ve-H]],S,H,[1,1],Te||"S"):this.lines([[de-S,ve-H]],S,H,[1,1]).stroke()},d.__private__.lines=d.lines=function(S,H,de,ve,Te,Re){var We,ot,pt,w,L,j,X,Ce,Ne,Ye,kt,wn;if(typeof S=="number"&&(wn=de,de=H,H=S,S=wn),ve=ve||[1,1],Re=Re||!1,isNaN(H)||isNaN(de)||!Array.isArray(S)||!Array.isArray(ve)||!yo(Te)||typeof Re!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(SA(H,de),We=ve[0],ot=ve[1],w=S.length,Ye=H,kt=de,pt=0;pt<w;pt++)(L=S[pt]).length===2?(Ye=L[0]*We+Ye,kt=L[1]*ot+kt,qs(Ye,kt)):(j=L[0]*We+Ye,X=L[1]*ot+kt,Ce=L[2]*We+Ye,Ne=L[3]*ot+kt,Ye=L[4]*We+Ye,kt=L[5]*ot+kt,Ss(j,X,Ce,Ne,Ye,kt));return Re&&Wh(),ou(Te),this},d.path=function(S){for(var H=0;H<S.length;H++){var de=S[H],ve=de.c;switch(de.op){case"m":SA(ve[0],ve[1]);break;case"l":qs(ve[0],ve[1]);break;case"c":Ss.apply(this,ve);break;case"h":Wh()}}return this},d.__private__.rect=d.rect=function(S,H,de,ve,Te){if(isNaN(S)||isNaN(H)||isNaN(de)||isNaN(ve)||!yo(Te))throw new Error("Invalid arguments passed to jsPDF.rect");return _===v.COMPAT&&(ve=-ve),K([I(E(S)),I(N(H)),I(E(de)),I(E(ve)),"re"].join(" ")),ou(Te),this},d.__private__.triangle=d.triangle=function(S,H,de,ve,Te,Re,We){if(isNaN(S)||isNaN(H)||isNaN(de)||isNaN(ve)||isNaN(Te)||isNaN(Re)||!yo(We))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-S,ve-H],[Te-de,Re-ve],[S-Te,H-Re]],S,H,[1,1],We,!0),this},d.__private__.roundedRect=d.roundedRect=function(S,H,de,ve,Te,Re,We){if(isNaN(S)||isNaN(H)||isNaN(de)||isNaN(ve)||isNaN(Te)||isNaN(Re)||!yo(We))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ot=4/3*(Math.SQRT2-1);return Te=Math.min(Te,.5*de),Re=Math.min(Re,.5*ve),this.lines([[de-2*Te,0],[Te*ot,0,Te,Re-Re*ot,Te,Re],[0,ve-2*Re],[0,Re*ot,-Te*ot,Re,-Te,Re],[2*Te-de,0],[-Te*ot,0,-Te,-Re*ot,-Te,-Re],[0,2*Re-ve],[0,-Re*ot,Te*ot,-Re,Te,-Re]],S+Te,H,[1,1],We,!0),this},d.__private__.ellipse=d.ellipse=function(S,H,de,ve,Te){if(isNaN(S)||isNaN(H)||isNaN(de)||isNaN(ve)||!yo(Te))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Re=4/3*(Math.SQRT2-1)*de,We=4/3*(Math.SQRT2-1)*ve;return SA(S+de,H),Ss(S+de,H-We,S+Re,H-ve,S,H-ve),Ss(S-Re,H-ve,S-de,H-We,S-de,H),Ss(S-de,H+We,S-Re,H+ve,S,H+ve),Ss(S+Re,H+ve,S+de,H+We,S+de,H),ou(Te),this},d.__private__.circle=d.circle=function(S,H,de,ve){if(isNaN(S)||isNaN(H)||isNaN(de)||!yo(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,H,de,de,ve)},d.setFont=function(S,H,de){return de&&(H=O(H,de)),Le=vn(S,H,{disableWarning:!1}),this};var Gh=d.__private__.getFont=d.getFont=function(){return mt[vn.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var S,H,de={};for(S in ft)if(ft.hasOwnProperty(S))for(H in de[S]=[],ft[S])ft[S].hasOwnProperty(H)&&de[S].push(H);return de},d.addFont=function(S,H,de,ve,Te){var Re=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Re.indexOf(arguments[3])!==-1?Te=arguments[3]:arguments[3]&&Re.indexOf(arguments[3])==-1&&(de=O(de,ve)),Te=Te||"Identity-H",vl.call(this,S,H,de,Te)};var na,Tn=t.lineWidth||.200025,TA=d.__private__.getLineWidth=d.getLineWidth=function(){return Tn},qh=d.__private__.setLineWidth=d.setLineWidth=function(S){return Tn=S,K(I(E(S))+" w"),this};d.__private__.setLineDash=Et.API.setLineDash=Et.API.setLineDashPattern=function(S,H){if(S=S||[],H=H||0,isNaN(H)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(de){return I(E(de))}).join(" "),H=I(E(H)),K("["+S+"] "+H+" d"),this};var au=d.__private__.getLineHeight=d.getLineHeight=function(){return _e*na};d.__private__.getLineHeight=d.getLineHeight=function(){return _e*na};var lu=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(na=S),this},Au=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return na};lu(t.lineHeight);var ds=d.__private__.getHorizontalCoordinate=function(S){return E(S)},wo=d.__private__.getVerticalCoordinate=function(S){return _===v.ADVANCED?S:Ct[z].mediaBox.topRightY-Ct[z].mediaBox.bottomLeftY-E(S)},Ys=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(S){return I(ds(S))},ra=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(S){return I(wo(S))},Xs=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Ur(Xs)},d.__private__.setStrokeColor=d.setDrawColor=function(S,H,de,ve){return Xs=bi({ch1:S,ch2:H,ch3:de,ch4:ve,pdfColorType:"draw",precision:2}),K(Xs),this};var ia=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Ur(ia)},d.__private__.setFillColor=d.setFillColor=function(S,H,de,ve){return ia=bi({ch1:S,ch2:H,ch3:de,ch4:ve,pdfColorType:"fill",precision:2}),K(ia),this};var Ra=t.textColor||"0 g",cu=d.__private__.getTextColor=d.getTextColor=function(){return Ur(Ra)};d.__private__.setTextColor=d.setTextColor=function(S,H,de,ve){return Ra=bi({ch1:S,ch2:H,ch3:de,ch4:ve,pdfColorType:"text",precision:3}),this};var sa=t.charSpace,Yh=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(sa||0)};d.__private__.setCharSpace=d.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return sa=S,this};var Ua=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(S){var H=d.CapJoinStyles[S];if(H===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ua=H,K(H+" J"),this};var uu=0;d.__private__.setLineJoin=d.setLineJoin=function(S){var H=d.CapJoinStyles[S];if(H===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return uu=H,K(H+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return K(I(E(S))+" M"),this},d.GState=y2,d.setGState=function(S){(S=typeof S=="string"?Vt[Jt[S]]:hu(null,S)).equals(En)||(K("/"+S.id+" gs"),En=S)};var hu=function(S,H){if(!S||!Jt[S]){var de=!1;for(var ve in Vt)if(Vt.hasOwnProperty(ve)&&Vt[ve].equals(H)){de=!0;break}if(de)H=Vt[ve];else{var Te="GS"+(Object.keys(Vt).length+1).toString(10);Vt[Te]=H,H.id=Te}return S&&(Jt[S]=H.id),jt.publish("addGState",H),H}};d.addGState=function(S,H){return hu(S,H),this},d.saveGraphicsState=function(){return K("q"),Ht.push({key:Le,size:_e,color:Ra}),this},d.restoreGraphicsState=function(){K("Q");var S=Ht.pop();return Le=S.key,_e=S.size,Ra=S.color,En=null,this},d.setCurrentTransformationMatrix=function(S){return K(S.toString()+" cm"),this},d.comment=function(S){return K("#"+S),this};var bo=function(S,H){var de=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(Re){isNaN(Re)||(de=parseFloat(Re))}});var ve=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Re){isNaN(Re)||(ve=parseFloat(Re))}});var Te="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Te},set:function(Re){Te=Re.toString()}}),this},IA=function(S,H,de,ve){bo.call(this,S,H),this.type="rect";var Te=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Te},set:function(We){isNaN(We)||(Te=parseFloat(We))}});var Re=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Re},set:function(We){isNaN(We)||(Re=parseFloat(We))}}),this},NA=function(){this.page=Kt,this.currentPage=z,this.pages=De.slice(0),this.pagesContext=Ct.slice(0),this.x=rt,this.y=Ke,this.matrix=wt,this.width=_o(z),this.height=oa(z),this.outputDestination=Qe,this.id="",this.objectNumber=-1};NA.prototype.restore=function(){Kt=this.page,z=this.currentPage,Ct=this.pagesContext,De=this.pages,rt=this.x,Ke=this.y,wt=this.matrix,kA(z,this.width),Js(z,this.height),Qe=this.outputDestination};var FA=function(S,H,de,ve,Te){ai.push(new NA),Kt=z=0,De=[],rt=S,Ke=H,wt=Te,Zt([de,ve])},du=function(S){if(Ri[S])ai.pop().restore();else{var H=new NA,de="Xo"+(Object.keys(zn).length+1).toString(10);H.id=de,Ri[S]=de,zn[de]=H,jt.publish("addFormObject",H),ai.pop().restore()}};for(var bl in d.beginFormObject=function(S,H,de,ve,Te){return FA(S,H,de,ve,Te),this},d.endFormObject=function(S){return du(S),this},d.doFormObject=function(S,H){var de=zn[Ri[S]];return K("q"),K(H.toString()+" cm"),K("/"+de.id+" Do"),K("Q"),this},d.getFormObject=function(S){var H=zn[Ri[S]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},d.save=function(S,H){return S=S||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(ku(CA(ta()),S),typeof ku.unload=="function"&&St.setTimeout&&setTimeout(ku.unload,911),this):new Promise(function(de,ve){try{var Te=ku(CA(ta()),S);typeof ku.unload=="function"&&St.setTimeout&&setTimeout(ku.unload,911),de(Te)}catch(Re){ve(Re.message)}})},Et.API)Et.API.hasOwnProperty(bl)&&(bl==="events"&&Et.API.events.length?function(S,H){var de,ve,Te;for(Te=H.length-1;Te!==-1;Te--)de=H[Te][0],ve=H[Te][1],S.subscribe.apply(S,[de].concat(typeof ve=="function"?[ve]:ve))}(jt,Et.API.events):d[bl]=Et.API[bl]);var _o=d.getPageWidth=function(S){return(Ct[S=S||z].mediaBox.topRightX-Ct[S].mediaBox.bottomLeftX)/Ie},kA=d.setPageWidth=function(S,H){Ct[S].mediaBox.topRightX=H*Ie+Ct[S].mediaBox.bottomLeftX},oa=d.getPageHeight=function(S){return(Ct[S=S||z].mediaBox.topRightY-Ct[S].mediaBox.bottomLeftY)/Ie},Js=d.setPageHeight=function(S,H){Ct[S].mediaBox.topRightY=H*Ie+Ct[S].mediaBox.bottomLeftY};return d.internal={pdfEscape:Ot,getStyle:Kh,getFont:Gh,getFontSize:pe,getCharSpace:Yh,getTextColor:cu,getLineHeight:au,getLineHeightFactor:Au,getLineWidth:TA,write:ae,getHorizontalCoordinate:ds,getVerticalCoordinate:wo,getCoordinateString:Ys,getVerticalCoordinateString:ra,collections:{},newObject:Sn,newAdditionalObject:Ui,newObjectDeferred:an,newObjectDeferredBegin:Rr,getFilters:Gr,putStream:qr,events:jt,scaleFactor:Ie,pageSize:{getWidth:function(){return _o(z)},setWidth:function(S){kA(z,S)},getHeight:function(){return oa(z)},setHeight:function(S){Js(z,S)}},encryptionOptions:c,encryption:ur,getEncryptor:vo,output:xA,getNumberOfPages:Hh,pages:De,out:K,f2:R,f3:D,getPageInfo:su,getPageInfoByObjId:Tt,getCurrentPageInfo:zh,getPDFVersion:f,Point:bo,Rectangle:IA,Matrix:vt,hasHotfix:$h},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return _o(z)},set:function(S){kA(z,S)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return oa(z)},set:function(S){Js(z,S)},enumerable:!0,configurable:!0}),$t.call(d,ce),Le="F1",Mr(i,n),jt.publish("initialized"),d}Nd.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Nd.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Nd.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},Nd.prototype.processOwnerPassword=function(t,e){return U5(R5(e).substr(0,5),t)},Nd.prototype.encryptor=function(t,e){var n=R5(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return U5(n,r)}},y2.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||sn(t)!==sn(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Et.API={events:[]},Et.version="3.0.1";var fr=Et.API,V4=1,jh=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},_d=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Lt=function(t){return t.toFixed(2)},qA=function(t){return t.toFixed(5)};fr.__acroform__={};var Gs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},aU=function(t){return t*V4},ja=function(t){var e=new Az,n=dt.internal.getHeight(t)||0,r=dt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Lt(r)),Number(Lt(n))],e},YUe=fr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},XUe=fr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},JUe=fr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Tr=fr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return JUe(t,e-1)},Ir=fr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return YUe(t,e-1)},Nr=fr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return XUe(t,e-1)},ZUe=fr.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+a)||0,l.upperRight_X=n(i+o)||0,l.upperRight_Y=r(s)||0,[Number(Lt(l.lowerLeft_X)),Number(Lt(l.lowerLeft_Y)),Number(Lt(l.upperRight_X)),Number(Lt(l.upperRight_Y))]},eOe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=O5(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Lt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ja(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},O5=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=n,o=dt.internal.getHeight(t)||0;o=o<0?-o:o;var a=dt.internal.getWidth(t)||0;a=a<0?-a:a;var l=function(D,E,k){if(D+1<i.length){var N=E+" "+i[D+1][0];return jy(N,t,k).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var A,c,u=jy("3",t,s).height,h=t.multiline?o-s:(o-u)/2,d=h+=2,p=0,f=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+jy(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var g="",v=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var x=!1;if(i[_].length!==1&&b!==i[_].length-1){if((u+2)*(v+2)+2>o)continue e;g+=i[_][b],x=!0,f=_,_--}else{g=(g+=i[_][b]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var F=parseInt(_),O=l(F,g,s),I=_>=i.length-1;if(O&&!I){g+=" ",b=0;continue}if(O||I){if(I)f=F;else if(t.multiline&&(u+2)*(v+2)+2>o)continue e}else{if(!t.multiline||(u+2)*(v+2)+2>o)continue e;f=F}}for(var B="",T=p;T<=f;T++){var R=i[T];if(t.multiline){if(T===f){B+=R[b]+" ",b=(b+1)%R.length;continue}if(T===p){B+=R[R.length-1]+" ";continue}}B+=R[0]+" "}switch(B=B.substr(B.length-1)==" "?B.substr(0,B.length-1):B,c=jy(B,t,s).width,t.textAlign){case"right":A=a-c-2;break;case"center":A=(a-c)/2;break;case"left":default:A=2}e+=Lt(A)+" "+Lt(d)+` Td
`,e+="("+jh(B)+`) Tj
`,e+=-Lt(A)+` 0 Td
`,d=-(s+2),c=0,p=x?f:f+1,v++,g=""}break}return r.text=e,r.fontSize=s,r},jy=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},tOe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},nOe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},rOe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),sn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},iOe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ka.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(tOe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");V4=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cz,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&nOe(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],l=[],A=a.Rect;if(a.Rect&&(a.Rect=ZUe(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=dt.createDefaultAppearanceStream(a),sn(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(l=a.getKeyValueListForStream()),a.Rect=A,a.hasAppearanceStream&&!a.appearanceStreamContent){var c=eOe(a);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(a.appearanceStreamContent){var u="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var d=a.appearanceStreamContent[h];if(u+="/"+h+" ",u+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var o in d)if(d.hasOwnProperty(o)){var p=d[o];typeof p=="function"&&(p=p.call(i,a)),u+="/"+o+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=d)=="function"&&(p=p.call(i,a)),u+="/"+o+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);u+=">>"}l.push({key:"AP",value:`<<
`+u+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:a.objId}),i.internal.out("endobj")}s&&rOe(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},lz=fr.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),sn(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+jh(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Fx=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+jh(r(t))+")"},Ya=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ya.prototype.toString=function(){return this.objId+" 0 R"},Ya.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ya.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:lz(i,this.objId,this.scope)}):i instanceof Ya?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Az=function(){Ya.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Gs(Az,Ya);var cz=function(){Ya.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+jh(n(t))+")"}},set:function(n){t=n}})};Gs(cz,Ya);var ka=function t(){Ya.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');e=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Tr(e,3)},set:function(g){g?this.F=Ir(e,3):this.F=Nr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');n=g}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(g){r=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(g){r[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(g){r[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(g){r[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(g){r[3]=g}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof w2)return;s="FieldObject"+t.FieldNum++}var g=function(v){return v};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+jh(g(s))+")"},set:function(g){s=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(g){s=g}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(g){o=g}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(g){l=g}});var A=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return A===void 0?50/V4:A},set:function(g){A=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof w2||this instanceof eh))return Fx(u,this.objId,this.scope)},set:function(g){g=g.toString(),u=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof mi?h:Fx(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof mi?g:g.substr(0,1)==="("?_d(g.substr(1,g.length-2)):_d(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?_d(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof mi?"/"+g:g}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof mi?d:Fx(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof mi?g:g.substr(0,1)==="("?_d(g.substr(1,g.length-2)):_d(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mi?_d(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof mi?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,f=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return f},set:function(g){g=!!g,f=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(g){p=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,1)},set:function(g){g?this.Ff=Ir(this.Ff,1):this.Ff=Nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,2)},set:function(g){g?this.Ff=Ir(this.Ff,2):this.Ff=Nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,3)},set:function(g){g?this.Ff=Ir(this.Ff,3):this.Ff=Nr(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');b=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(b){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};Gs(ka,Ya);var mf=function(){ka.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return lz(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var l,A=[];l=o.exec(s);)A.push(l[a]);return A}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,18)},set:function(n){n?this.Ff=Ir(this.Ff,18):this.Ff=Nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Ir(this.Ff,19):this.Ff=Nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,20)},set:function(n){n?(this.Ff=Ir(this.Ff,20),e.sort()):this.Ff=Nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,22)},set:function(n){n?this.Ff=Ir(this.Ff,22):this.Ff=Nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,23)},set:function(n){n?this.Ff=Ir(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,27)},set:function(n){n?this.Ff=Ir(this.Ff,27):this.Ff=Nr(this.Ff,27)}}),this.hasAppearanceStream=!1};Gs(mf,ka);var vf=function(){mf.call(this),this.fontName="helvetica",this.combo=!1};Gs(vf,mf);var yf=function(){vf.call(this),this.combo=!0};Gs(yf,vf);var x1=function(){yf.call(this),this.edit=!0};Gs(x1,yf);var mi=function(){ka.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,15)},set:function(n){n?this.Ff=Ir(this.Ff,15):this.Ff=Nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,16)},set:function(n){n?this.Ff=Ir(this.Ff,16):this.Ff=Nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,17)},set:function(n){n?this.Ff=Ir(this.Ff,17):this.Ff=Nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,26)},set:function(n){n?this.Ff=Ir(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+jh(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){sn(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Gs(mi,ka);var B1=function(){mi.call(this),this.pushButton=!0};Gs(B1,mi);var wf=function(){mi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Gs(wf,mi);var w2=function(){var t,e;ka.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+jh(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){sn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=dt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Gs(w2,ka),wf.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},wf.prototype.createOption=function(t){var e=new w2;return e.Parent=this,e.optionName=t,this.Kids.push(e),sOe.call(this.scope,e),e};var E1=function(){mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=dt.CheckBox.createAppearanceStream()};Gs(E1,mi);var eh=function(){ka.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,13)},set:function(e){e?this.Ff=Ir(this.Ff,13):this.Ff=Nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,21)},set:function(e){e?this.Ff=Ir(this.Ff,21):this.Ff=Nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,23)},set:function(e){e?this.Ff=Ir(this.Ff,23):this.Ff=Nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,24)},set:function(e){e?this.Ff=Ir(this.Ff,24):this.Ff=Nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,25)},set:function(e){e?this.Ff=Ir(this.Ff,25):this.Ff=Nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,26)},set:function(e){e?this.Ff=Ir(this.Ff,26):this.Ff=Nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Gs(eh,ka);var S1=function(){eh.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Tr(this.Ff,14)},set:function(t){t?this.Ff=Ir(this.Ff,14):this.Ff=Nr(this.Ff,14)}}),this.password=!0};Gs(S1,eh);var dt={CheckBox:{createAppearanceStream:function(){return{N:{On:dt.CheckBox.YesNormal},D:{On:dt.CheckBox.YesPushDown,Off:dt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=O5(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Lt(dt.internal.getWidth(t))+" "+Lt(dt.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Lt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ja(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=dt.internal.getHeight(t),o=dt.internal.getWidth(t),a=O5(t,t.caption);return i.push("1 g"),i.push("0 0 "+Lt(o)+" "+Lt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Lt(o-1)+" "+Lt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Lt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(dt.internal.getWidth(t))+" "+Lt(dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Circle.YesNormal,e.D[t]=dt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ja(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=dt.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+qA(dt.internal.getWidth(t)/2)+" "+qA(dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*dt.internal.Bezier_C).toFixed(5)),o=Number((r*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qA(dt.internal.getWidth(t)/2)+" "+qA(dt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+qA(dt.internal.getWidth(t)/2)+" "+qA(dt.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=[],r=dt.internal.getWidth(t)<=dt.internal.getHeight(t)?dt.internal.getWidth(t)/4:dt.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*dt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+qA(dt.internal.getWidth(t)/2)+" "+qA(dt.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:dt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=dt.RadioButton.Cross.YesNormal,e.D[t]=dt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ja(t);e.scope=t.scope;var n=[],r=dt.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Lt(dt.internal.getWidth(t)-2)+" "+Lt(dt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Lt(r.x1.x)+" "+Lt(r.x1.y)+" m"),n.push(Lt(r.x2.x)+" "+Lt(r.x2.y)+" l"),n.push(Lt(r.x4.x)+" "+Lt(r.x4.y)+" m"),n.push(Lt(r.x3.x)+" "+Lt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=dt.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Lt(dt.internal.getWidth(t))+" "+Lt(dt.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Lt(dt.internal.getWidth(t)-2)+" "+Lt(dt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Lt(n.x1.x)+" "+Lt(n.x1.y)+" m"),r.push(Lt(n.x2.x)+" "+Lt(n.x2.y)+" l"),r.push(Lt(n.x4.x)+" "+Lt(n.x4.y)+" m"),r.push(Lt(n.x3.x)+" "+Lt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ja(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Lt(dt.internal.getWidth(t))+" "+Lt(dt.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};dt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=dt.internal.getWidth(t),n=dt.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},dt.internal.getWidth=function(t){var e=0;return sn(t)==="object"&&(e=aU(t.Rect[2])),e},dt.internal.getHeight=function(t){var e=0;return sn(t)==="object"&&(e=aU(t.Rect[3])),e};var sOe=fr.addField=function(t){if(iOe(this,t),!(t instanceof ka))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};fr.AcroFormChoiceField=mf,fr.AcroFormListBox=vf,fr.AcroFormComboBox=yf,fr.AcroFormEditBox=x1,fr.AcroFormButton=mi,fr.AcroFormPushButton=B1,fr.AcroFormRadioButton=wf,fr.AcroFormCheckBox=E1,fr.AcroFormTextField=eh,fr.AcroFormPasswordField=S1,fr.AcroFormAppearance=dt,fr.AcroForm={ChoiceField:mf,ListBox:vf,ComboBox:yf,EditBox:x1,Button:mi,PushButton:B1,RadioButton:wf,CheckBox:E1,TextField:eh,PasswordField:S1,Appearance:dt},Et.AcroForm={ChoiceField:mf,ListBox:vf,ComboBox:yf,EditBox:x1,Button:mi,PushButton:B1,RadioButton:wf,CheckBox:E1,TextField:eh,PasswordField:S1,Appearance:dt};function uz(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(D,E){var k,N,Y,oe,ie,ne=e;if((E=E||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(O(D))for(ie in n)for(Y=n[ie],k=0;k<Y.length;k+=1){for(oe=!0,N=0;N<Y[k].length;N+=1)if(Y[k][N]!==void 0&&Y[k][N]!==D[N]){oe=!1;break}if(oe===!0){ne=ie;break}}else for(ie in n)for(Y=n[ie],k=0;k<Y.length;k+=1){for(oe=!0,N=0;N<Y[k].length;N+=1)if(Y[k][N]!==void 0&&Y[k][N]!==D.charCodeAt(N)){oe=!1;break}if(oe===!0){ne=ie;break}}return ne===e&&E!==e&&(ne=E),ne},i=function D(E){for(var k=this.internal.write,N=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var oe=[];if(oe.push({key:"Type",value:"/XObject"}),oe.push({key:"Subtype",value:"/Image"}),oe.push({key:"Width",value:E.width}),oe.push({key:"Height",value:E.height}),E.colorSpace===b.INDEXED?oe.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(oe.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===b.DEVICE_CMYK&&oe.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),oe.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&oe.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)){for(var ie="",ne=0,se=E.transparency.length;ne<se;ne++)ie+=E.transparency[ne]+" "+E.transparency[ne]+" ";oe.push({key:"Mask",value:"["+ie+"]"})}E.sMask!==void 0&&oe.push({key:"SMask",value:E.objectId+1+" 0 R"});var ue=E.filter!==void 0?["/"+E.filter]:void 0;if(N({data:E.data,additionalKeyValues:oe,alreadyAppliedFilters:ue,objectId:E.objectId}),k("endobj"),"sMask"in E&&E.sMask!==void 0){var le="/Predictor "+E.predictor+" /Colors 1 /BitsPerComponent "+E.bitsPerComponent+" /Columns "+E.width,U={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:E.bitsPerComponent,decodeParameters:le,data:E.sMask};"filter"in E&&(U.filter=E.filter),D.call(this,U)}if(E.colorSpace===b.INDEXED){var z=this.internal.newObject();N({data:B(new Uint8Array(E.palette)),objectId:z}),k("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var E in D)i.call(this,D[E])},o=function(){var D,E=this.internal.collections.addImage_images,k=this.internal.write;for(var N in E)k("/I"+(D=E[N]).index,D.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},l=function(){var D=this.internal.collections.addImage_images;return a.call(this),D},A=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(D){return typeof t["process"+D.toUpperCase()]=="function"},u=function(D){return sn(D)==="object"&&D.nodeType===1},h=function(D,E){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var k=""+D.getAttribute("src");if(k.indexOf("data:image/")===0)return hm(unescape(k).split("base64,").pop());var N=t.loadFile(k,!0);if(N!==void 0)return N}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Y;switch(E){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;case"JPEG":case"JPG":default:Y="image/jpeg"}return hm(D.toDataURL(Y,1).split("base64,").pop())}},d=function(D){var E=this.internal.collections.addImage_images;if(E){for(var k in E)if(D===E[k].alias)return E[k]}},p=function(D,E,k){return D||E||(D=-96,E=-96),D<0&&(D=-1*k.width*72/D/this.internal.scaleFactor),E<0&&(E=-1*k.height*72/E/this.internal.scaleFactor),D===0&&(D=E*k.width/k.height),E===0&&(E=D*k.height/k.width),[D,E]},f=function(D,E,k,N,Y,oe){var ie=p.call(this,k,N,Y),ne=this.internal.getCoordinateString,se=this.internal.getVerticalCoordinateString,ue=l.call(this);if(k=ie[0],N=ie[1],ue[Y.index]=Y,oe){oe*=Math.PI/180;var le=Math.cos(oe),U=Math.sin(oe),z=function(ee){return ee.toFixed(4)},q=[z(le),z(U),z(-1*U),z(le),0,0,"cm"]}this.internal.write("q"),oe?(this.internal.write([1,"0","0",1,ne(D),se(E+N),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([ne(k),"0","0",ne(N),"0","0","cm"].join(" "))):this.internal.write([ne(k),"0","0",ne(N),ne(D),se(E+N),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=t.__addimage__.sHashCode=function(D){var E,k,N=0;if(typeof D=="string")for(k=D.length,E=0;E<k;E++)N=(N<<5)-N+D.charCodeAt(E),N|=0;else if(O(D))for(k=D.byteLength/2,E=0;E<k;E++)N=(N<<5)-N+D[E],N|=0;return N},_=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var E=!0;return D.length===0&&(E=!1),D.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(E=!1),E},x=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var E=D.indexOf(",");return E<0?null:D.substring(0,E).trim().endsWith("base64")?D.substring(E+1):null},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return F()&&D instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(D){return F()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},I=t.__addimage__.binaryStringToUint8Array=function(D){for(var E=D.length,k=new Uint8Array(E),N=0;N<E;N++)k[N]=D.charCodeAt(N);return k},B=t.__addimage__.arrayBufferToBinaryString=function(D){for(var E="",k=O(D)?D:new Uint8Array(D),N=0;N<k.length;N+=8192)E+=String.fromCharCode.apply(null,k.subarray(N,N+8192));return E};t.addImage=function(){var D,E,k,N,Y,oe,ie,ne,se;if(typeof arguments[1]=="number"?(E=e,k=arguments[1],N=arguments[2],Y=arguments[3],oe=arguments[4],ie=arguments[5],ne=arguments[6],se=arguments[7]):(E=arguments[1],k=arguments[2],N=arguments[3],Y=arguments[4],oe=arguments[5],ie=arguments[6],ne=arguments[7],se=arguments[8]),sn(D=arguments[0])==="object"&&!u(D)&&"imageData"in D){var ue=D;D=ue.imageData,E=ue.format||E||e,k=ue.x||k||0,N=ue.y||N||0,Y=ue.w||ue.width||Y,oe=ue.h||ue.height||oe,ie=ue.alias||ie,ne=ue.compression||ne,se=ue.rotation||ue.angle||se}var le=this.internal.getFilters();if(ne===void 0&&le.indexOf("FlateEncode")!==-1&&(ne="SLOW"),isNaN(k)||isNaN(N))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var U=T.call(this,D,E,ie,ne);return f.call(this,k,N,Y,oe,U,se),this};var T=function(D,E,k,N){var Y,oe,ie;if(typeof D=="string"&&r(D)===e){D=unescape(D);var ne=R(D,!1);(ne!==""||(ne=t.loadFile(D,!0))!==void 0)&&(D=ne)}if(u(D)&&(D=h(D,E)),E=r(D,E),!c(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((ie=k)==null||ie.length===0)&&(k=function(se){return typeof se=="string"||O(se)?v(se):O(se.data)?v(se.data):null}(D)),(Y=d.call(this,k))||(F()&&(D instanceof Uint8Array||E==="RGBA"||(oe=D,D=I(D))),Y=this["process"+E.toUpperCase()](D,A.call(this),k,function(se){return se&&typeof se=="string"&&(se=se.toUpperCase()),se in t.image_compression?se:g.NONE}(N),oe)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},R=t.__addimage__.convertBase64ToBinaryString=function(D,E){E=typeof E!="boolean"||E;var k,N="";if(typeof D=="string"){var Y;k=(Y=x(D))!==null&&Y!==void 0?Y:D;try{N=hm(k)}catch(oe){if(E)throw _(k)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+oe.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return N};t.getImageProperties=function(D){var E,k,N="";if(u(D)&&(D=h(D)),typeof D=="string"&&r(D)===e&&((N=R(D,!1))===""&&(N=t.loadFile(D)||""),D=N),k=r(D),!c(k))throw new Error("addImage does not support files of type '"+k+"', please ensure that a plugin for '"+k+"' support is added.");if(!F()||D instanceof Uint8Array||(D=I(D)),!(E=this["process"+k.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=k,E}})(Et.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Et.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),A=n.pageContext.annotations,c=!1,u=0;u<A.length&&!c;u++)switch((r=A[u]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<A.length;h++){r=A[h];var d=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(f.objId),v=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+d(g(r.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(g(v))+") >>",f.content=s;var _=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(f.objId,"0 R",b.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var x=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var O=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+O+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,A=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:l(n),y:A(r),w:l(n+i),h:A(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,l=this.getTextWidth(n),A=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var c=this.splitTextToSize(n,a).length;o=Math.ceil(A*c)}else a=l,o=A;return this.text(n,r,i,s),i+=.2*A,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-A,a,o,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Et.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(f){return e[f.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(f){return typeof f=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(f)},a=t.__arabicParser__.isArabicEndLetter=function(f){return o(f)&&s(f)&&e[f.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(f){return o(f)&&i.indexOf(f.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(f){return o(f)&&s(f)&&e[f.charCodeAt(0)].length>=1};var A=t.__arabicParser__.arabicLetterHasFinalForm=function(f){return o(f)&&s(f)&&e[f.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(f){return o(f)&&s(f)&&e[f.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(f){return o(f)&&s(f)&&e[f.charCodeAt(0)].length==4},u=t.__arabicParser__.resolveLigatures=function(f){var b=0,g=n,v="",_=0;for(b=0;b<f.length;b+=1)g[f.charCodeAt(b)]!==void 0?(_++,typeof(g=g[f.charCodeAt(b)])=="number"&&(v+=String.fromCharCode(g),g=n,_=0),b===f.length-1&&(g=n,v+=f.charAt(b-(_-1)),b-=_-1,_=0)):(g=n,v+=f.charAt(b-_),b-=_,_=0);return v};t.__arabicParser__.isArabicDiacritic=function(f){return f!==void 0&&r[f.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(f,b,g){return o(f)?s(f)===!1?-1:!A(f)||!o(b)&&!o(g)||!o(g)&&a(b)||a(f)&&!o(b)||a(f)&&l(b)||a(f)&&a(b)?0:c(f)&&o(b)&&!a(b)&&o(g)&&A(g)?3:a(f)||!o(g)?1:2:-1},d=function(f){var b=0,g=0,v=0,_="",x="",F="",O=(f=f||"").split("\\s+"),I=[];for(b=0;b<O.length;b+=1){for(I.push(""),g=0;g<O[b].length;g+=1)_=O[b][g],x=O[b][g-1],F=O[b][g+1],o(_)?(v=h(_,x,F),I[b]+=v!==-1?String.fromCharCode(e[_.charCodeAt(0)][v]):_):I[b]+=_;I[b]=u(I[b])}return I.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var f,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(b)){var v=0;for(g=[],v=0;v<b.length;v+=1)Array.isArray(b[v])?g.push([d(b[v][0]),b[v][1],b[v][2]]):g.push([d(b[v])]);f=g}else f=d(b);return typeof arguments[0]=="string"?f:(arguments[0].text=f,arguments[0])};t.events.push(["preProcessText",p])}(Et.API),Et.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Et.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(f){l=f}});var A=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return A},set:function(f){A=f}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(f){c=f}});var u=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return u},set:function(f){u=f}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(f){h=f}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(f){d=f}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(f){p=f}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,A){r.call(this);var c=(A=A||{}).fontSize||this.getFontSize(),u=A.font||this.getFont(),h=A.scaleFactor||this.internal.scaleFactor,d=0,p=0,f=0,b=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var g=A.maxWidth;g>0?typeof l=="string"?l=this.splitTextToSize(l,g):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,x){return _.concat(b.splitTextToSize(x,g))},[])):l=Array.isArray(l)?l:[l];for(var v=0;v<l.length;v++)d<(f=this.getStringUnitWidth(l[v],{font:u})*c)&&(d=f);return d!==0&&(p=l.length),{w:d/=h,h:Math.max((p*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var A=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,u=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return A.lineNumber!==void 0&&(A.lineNumber===l.lineNumber?(l.x=(A.x||0)+(A.width||0),l.y=A.y||0):A.y+A.height+l.height+u.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=u.top,d&&h&&(this.printHeaderRow(l.lineNumber,!0),l.y+=h[0].height)):l.y=A.y+A.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,A,c,u,h){if(r.call(this),!c)throw new Error("No data for PDF table.");var d,p,f,b,g=[],v=[],_=[],x={},F={},O=[],I=[],B=(h=h||{}).autoSize||!1,T=h.printHeaders!==!1,R=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,D=h.margins||Object.assign({width:this.getPageWidth()},e),E=typeof h.padding=="number"?h.padding:3,k=h.headerBackgroundColor||"#c8c8c8",N=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=R,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=N,this.setFontSize(R),u==null)v=g=Object.keys(c[0]),_=g.map(function(){return"left"});else if(Array.isArray(u)&&sn(u[0])==="object")for(g=u.map(function(ue){return ue.name}),v=u.map(function(ue){return ue.prompt||ue.name||""}),_=u.map(function(ue){return ue.align||"left"}),d=0;d<u.length;d+=1)F[u[d].name]=u[d].width*(19.049976/25.4);else Array.isArray(u)&&typeof u[0]=="string"&&(v=g=u,_=g.map(function(){return"left"}));if(B||Array.isArray(u)&&typeof u[0]=="string")for(d=0;d<g.length;d+=1){for(x[b=g[d]]=c.map(function(ue){return ue[b]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(v[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=x[b],this.setFont(void 0,"normal"),f=0;f<p.length;f+=1)O.push(this.getTextDimensions(p[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[b]=Math.max.apply(null,O)+E+E,O=[]}if(T){var Y={};for(d=0;d<g.length;d+=1)Y[g[d]]={},Y[g[d]].text=v[d],Y[g[d]].align=_[d];var oe=a.call(this,Y,F);I=g.map(function(ue){return new s(l,A,F[ue],oe,Y[ue].text,void 0,Y[ue].align)}),this.setTableHeaderRow(I),this.printHeaderRow(1,!1)}var ie=u.reduce(function(ue,le){return ue[le.name]=le.align,ue},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var ne=a.call(this,c[d],F);for(f=0;f<g.length;f+=1){var se=c[d][g[f]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:f,data:se},this),o.call(this,new s(l,A,F[g[f]],ne,se,d+2,ie[g[f]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=A,this};var a=function(l,A){var c=this.internal.__cell__.padding,u=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(l).map(function(d){var p=l[d];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,A[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*u/h+c+c},this).reduce(function(d,p){return Math.max(d,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,A){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var u=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(u[0],u[1],u[2],u[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),A&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,c),this.setTextColor(p)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Et.API);var hz={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},dz=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M5=uz(dz),fz=[100,200,300,400,500,600,700,800,900],oOe=uz(fz);function Q5(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return hz[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof M5[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function lU(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var aOe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},AU={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function cU(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function lOe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},aOe,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=Q5(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+cU(s)+"' and default family '"+r+"'.");if(o=function(l,A){if(A[l])return A[l];var c=M5[l],u=c<=M5.normal?-1:1,h=lU(A,dz,c,u);if(!h)throw new Error("Could not find a matching font-stretch value for "+l);return h}(s.stretch,o),o=function(l,A){if(A[l])return A[l];for(var c=hz[l],u=0;u<c.length;++u)if(A[c[u]])return A[c[u]];throw new Error("Could not find a matching font-style for "+l)}(s.style,o),!(o=function(l,A){if(A[l])return A[l];if(l===400&&A[500])return A[500];if(l===500&&A[400])return A[400];var c=oOe[l],u=lU(A,fz,c,l<400?-1:1);if(!u)throw new Error("Could not find a matching font-weight for value "+l);return u}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+cU(s)+"'.");return o}function uU(t){return t.trimLeft()}function AOe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function cOe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Hy,hU,dU,kx=["times"];(function(t){var e,n,r,i,s,o,a,l,A,c=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new l,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new u(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,l=this.internal.Matrix,A=new c}]);var u=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var z=U;Object.defineProperty(this,"pdf",{get:function(){return z}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(he){q=!!he}});var ee=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ee},set:function(he){ee=!!he}});var fe=0;Object.defineProperty(this,"posX",{get:function(){return fe},set:function(he){isNaN(he)||(fe=he)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(he){isNaN(he)||(me=he)}}),Object.defineProperty(this,"margin",{get:function(){return A.margin},set:function(he){var K;typeof he=="number"?K=[he,he,he,he]:((K=new Array(4))[0]=he[0],K[1]=he.length>=2?he[1]:K[0],K[2]=he.length>=3?he[2]:K[0],K[3]=he.length>=4?he[3]:K[1]),A.margin=K}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(he){ge=he}});var ye=0;Object.defineProperty(this,"lastBreak",{get:function(){return ye},set:function(he){ye=he}});var Me=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Me},set:function(he){Me=he}}),Object.defineProperty(this,"ctx",{get:function(){return A},set:function(he){he instanceof c&&(A=he)}}),Object.defineProperty(this,"path",{get:function(){return A.path},set:function(he){A.path=he}});var De=[];Object.defineProperty(this,"ctxStack",{get:function(){return De},set:function(he){De=he}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(he){var K;K=h(he),this.ctx.fillStyle=K.style,this.ctx.isFillTransparent=K.a===0,this.ctx.fillOpacity=K.a,this.pdf.setFillColor(K.r,K.g,K.b,{a:K.a}),this.pdf.setTextColor(K.r,K.g,K.b,{a:K.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(he){var K=h(he);this.ctx.strokeStyle=K.style,this.ctx.isStrokeTransparent=K.a===0,this.ctx.strokeOpacity=K.a,K.a===0?this.pdf.setDrawColor(255,255,255):(K.a,this.pdf.setDrawColor(K.r,K.g,K.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(he){["butt","round","square"].indexOf(he)!==-1&&(this.ctx.lineCap=he,this.pdf.setLineCap(he))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(he){isNaN(he)||(this.ctx.lineWidth=he,this.pdf.setLineWidth(he))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(he){["bevel","round","miter"].indexOf(he)!==-1&&(this.ctx.lineJoin=he,this.pdf.setLineJoin(he))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(he){isNaN(he)||(this.ctx.miterLimit=he,this.pdf.setMiterLimit(he))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(he){this.ctx.textBaseline=he}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(he){["right","end","center","left","start"].indexOf(he)!==-1&&(this.ctx.textAlign=he)}});var Se=null;function Qe(he,K){if(Se===null){var ae=function(Z){var ce=[];return Object.keys(Z).forEach(function(_e){Z[_e].forEach(function(Be){var pe=null;switch(Be){case"bold":pe={family:_e,weight:"bold"};break;case"italic":pe={family:_e,style:"italic"};break;case"bolditalic":pe={family:_e,weight:"bold",style:"italic"};break;case"":case"normal":pe={family:_e}}pe!==null&&(pe.ref={name:_e,style:Be},ce.push(pe))})}),ce}(he.getFontList());Se=function(Z){for(var ce={},_e=0;_e<Z.length;++_e){var Be=Q5(Z[_e]),pe=Be.family,Pe=Be.stretch,je=Be.style,Ue=Be.weight;ce[pe]=ce[pe]||{},ce[pe][Pe]=ce[pe][Pe]||{},ce[pe][Pe][je]=ce[pe][Pe][je]||{},ce[pe][Pe][je][Ue]=Be}return ce}(ae.concat(K))}return Se}var Q=null;Object.defineProperty(this,"fontFaces",{get:function(){return Q},set:function(he){Se=null,Q=he}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(he){var K;if(this.ctx.font=he,(K=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(he))!==null){var ae=K[1];K[2];var Z=K[3],ce=K[4];K[5];var _e=K[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ce)[2];ce=Math.floor(Be==="px"?parseFloat(ce)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(ce)*this.pdf.getFontSize():parseFloat(ce)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ce);var pe=function(At){var Le,Ie,rt=[],Ke=At.trim();if(Ke==="")return kx;if(Ke in AU)return[AU[Ke]];for(;Ke!=="";){switch(Ie=null,Le=(Ke=uU(Ke)).charAt(0)){case'"':case"'":Ie=AOe(Ke.substring(1),Le);break;default:Ie=cOe(Ke)}if(Ie===null||(rt.push(Ie[0]),(Ke=uU(Ie[1]))!==""&&Ke.charAt(0)!==","))return kx;Ke=Ke.replace(/^,/,"")}return rt}(_e);if(this.fontFaces){var Pe=lOe(Qe(this.pdf,this.fontFaces),pe.map(function(At){return{family:At,stretch:"normal",weight:Z,style:ae}}));this.pdf.setFont(Pe.ref.name,Pe.ref.style)}else{var je="";(Z==="bold"||parseInt(Z,10)>=700||ae==="bold")&&(je="bold"),ae==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var Ue="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},nt=0;nt<pe.length;nt++){if(this.pdf.internal.getFont(pe[nt],je,{noFallback:!0,disableWarning:!0})!==void 0){Ue=pe[nt];break}if(je==="bolditalic"&&this.pdf.internal.getFont(pe[nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ue=pe[nt],je="bold";else if(this.pdf.internal.getFont(pe[nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ue=pe[nt],je="normal";break}}if(Ue===""){for(var Ze=0;Ze<pe.length;Ze++)if(Ge[pe[Ze]]){Ue=Ge[pe[Ze]];break}}Ue=Ue===""?"Times":Ue,this.pdf.setFont(Ue,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(he){this.ctx.globalCompositeOperation=he}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(he){this.ctx.globalAlpha=he}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(he){this.ctx.lineDashOffset=he,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(he){this.ctx.lineDash=he,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(he){this.ctx.ignoreClearRect=!!he}})};u.prototype.setLineDash=function(U){this.lineDash=U},u.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},u.prototype.fill=function(){x.call(this,"fill",!1)},u.prototype.stroke=function(){x.call(this,"stroke",!1)},u.prototype.beginPath=function(){this.path=[{type:"begin"}]},u.prototype.moveTo=function(U,z){if(isNaN(U)||isNaN(z))throw Dn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new o(U,z));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(U,z)},u.prototype.closePath=function(){var U=new o(0,0),z=0;for(z=this.path.length-1;z!==-1;z--)if(this.path[z].type==="begin"&&sn(this.path[z+1])==="object"&&typeof this.path[z+1].x=="number"){U=new o(this.path[z+1].x,this.path[z+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},u.prototype.lineTo=function(U,z){if(isNaN(U)||isNaN(z))throw Dn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new o(U,z));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new o(q.x,q.y)},u.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},u.prototype.quadraticCurveTo=function(U,z,q,ee){if(isNaN(q)||isNaN(ee)||isNaN(U)||isNaN(z))throw Dn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var fe=this.ctx.transform.applyToPoint(new o(q,ee)),me=this.ctx.transform.applyToPoint(new o(U,z));this.path.push({type:"qct",x1:me.x,y1:me.y,x:fe.x,y:fe.y}),this.ctx.lastPoint=new o(fe.x,fe.y)},u.prototype.bezierCurveTo=function(U,z,q,ee,fe,me){if(isNaN(fe)||isNaN(me)||isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee))throw Dn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new o(fe,me)),ye=this.ctx.transform.applyToPoint(new o(U,z)),Me=this.ctx.transform.applyToPoint(new o(q,ee));this.path.push({type:"bct",x1:ye.x,y1:ye.y,x2:Me.x,y2:Me.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new o(ge.x,ge.y)},u.prototype.arc=function(U,z,q,ee,fe,me){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee)||isNaN(fe))throw Dn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new o(U,z));U=ge.x,z=ge.y;var ye=this.ctx.transform.applyToPoint(new o(0,q)),Me=this.ctx.transform.applyToPoint(new o(0,0));q=Math.sqrt(Math.pow(ye.x-Me.x,2)+Math.pow(ye.y-Me.y,2))}Math.abs(fe-ee)>=2*Math.PI&&(ee=0,fe=2*Math.PI),this.path.push({type:"arc",x:U,y:z,radius:q,startAngle:ee,endAngle:fe,counterclockwise:me})},u.prototype.arcTo=function(U,z,q,ee,fe){throw new Error("arcTo not implemented.")},u.prototype.rect=function(U,z,q,ee){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee))throw Dn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,z),this.lineTo(U+q,z),this.lineTo(U+q,z+ee),this.lineTo(U,z+ee),this.lineTo(U,z),this.lineTo(U+q,z),this.lineTo(U,z)},u.prototype.fillRect=function(U,z,q,ee){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee))throw Dn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var fe={};this.lineCap!=="butt"&&(fe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(fe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,z,q,ee),this.fill(),fe.hasOwnProperty("lineCap")&&(this.lineCap=fe.lineCap),fe.hasOwnProperty("lineJoin")&&(this.lineJoin=fe.lineJoin)}},u.prototype.strokeRect=function(U,z,q,ee){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee))throw Dn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(U,z,q,ee),this.stroke())},u.prototype.clearRect=function(U,z,q,ee){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee))throw Dn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,z,q,ee))},u.prototype.save=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage(z),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ee=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ee}},u.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var z=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage(z),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},u.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(U){var z,q,ee,fe;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))z=0,q=0,ee=0,fe=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(me!==null)z=parseInt(me[1]),q=parseInt(me[2]),ee=parseInt(me[3]),fe=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)z=parseInt(me[1]),q=parseInt(me[2]),ee=parseInt(me[3]),fe=parseFloat(me[4]);else{if(fe=1,typeof U=="string"&&U.charAt(0)!=="#"){var ge=new sz(U);U=ge.ok?ge.toHex():"#000000"}U.length===4?(z=U.substring(1,2),z+=z,q=U.substring(2,3),q+=q,ee=U.substring(3,4),ee+=ee):(z=U.substring(1,3),q=U.substring(3,5),ee=U.substring(5,7)),z=parseInt(z,16),q=parseInt(q,16),ee=parseInt(ee,16)}}return{r:z,g:q,b:ee,a:fe,style:U}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};u.prototype.fillText=function(U,z,q,ee){if(isNaN(z)||isNaN(q)||typeof U!="string")throw Dn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ee=isNaN(ee)?void 0:ee,!d.call(this)){var fe=ne(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;E.call(this,{text:U,x:z,y:q,scale:me,angle:fe,align:this.textAlign,maxWidth:ee})}},u.prototype.strokeText=function(U,z,q,ee){if(isNaN(z)||isNaN(q)||typeof U!="string")throw Dn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){ee=isNaN(ee)?void 0:ee;var fe=ne(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;E.call(this,{text:U,x:z,y:q,scale:me,renderingMode:"stroke",angle:fe,align:this.textAlign,maxWidth:ee})}},u.prototype.measureText=function(U){if(typeof U!="string")throw Dn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var z=this.pdf,q=this.pdf.internal.scaleFactor,ee=z.internal.getFontSize(),fe=z.getStringUnitWidth(U)*ee/z.internal.scaleFactor,me=function(ge){var ye=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ye}}),this};return new me({width:fe*=Math.round(96*q/72*1e4)/1e4})},u.prototype.scale=function(U,z){if(isNaN(U)||isNaN(z))throw Dn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new l(U,0,0,z,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},u.prototype.rotate=function(U){if(isNaN(U))throw Dn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var z=new l(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(z)},u.prototype.translate=function(U,z){if(isNaN(U)||isNaN(z))throw Dn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new l(1,0,0,1,U,z);this.ctx.transform=this.ctx.transform.multiply(q)},u.prototype.transform=function(U,z,q,ee,fe,me){if(isNaN(U)||isNaN(z)||isNaN(q)||isNaN(ee)||isNaN(fe)||isNaN(me))throw Dn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(U,z,q,ee,fe,me);this.ctx.transform=this.ctx.transform.multiply(ge)},u.prototype.setTransform=function(U,z,q,ee,fe,me){U=isNaN(U)?1:U,z=isNaN(z)?0:z,q=isNaN(q)?0:q,ee=isNaN(ee)?1:ee,fe=isNaN(fe)?0:fe,me=isNaN(me)?0:me,this.ctx.transform=new l(U,z,q,ee,fe,me)};var f=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};u.prototype.drawImage=function(U,z,q,ee,fe,me,ge,ye,Me){var De=this.pdf.getImageProperties(U),Se=1,Qe=1,Q=1,he=1;ee!==void 0&&ye!==void 0&&(Q=ye/ee,he=Me/fe,Se=De.width/ee*ye/ee,Qe=De.height/fe*Me/fe),me===void 0&&(me=z,ge=q,z=0,q=0),ee!==void 0&&ye===void 0&&(ye=ee,Me=fe),ee===void 0&&ye===void 0&&(ye=De.width,Me=De.height);for(var K,ae=this.ctx.transform.decompose(),Z=ne(ae.rotate.shx),ce=new l,_e=(ce=(ce=(ce=ce.multiply(ae.translate)).multiply(ae.skew)).multiply(ae.scale)).applyToRectangle(new a(me-z*Q,ge-q*he,ee*Se,fe*Qe)),Be=b.call(this,_e),pe=[],Pe=0;Pe<Be.length;Pe+=1)pe.indexOf(Be[Pe])===-1&&pe.push(Be[Pe]);if(_(pe),this.autoPaging)for(var je=pe[0],Ue=pe[pe.length-1],Ge=je;Ge<Ue+1;Ge++){this.pdf.setPage(Ge);var nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ze=Ge===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Le=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ie=Ge===1?0:At+(Ge-2)*Le;if(this.ctx.clip_path.length!==0){var rt=this.path;K=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(K,this.posX+this.margin[3],-Ie+Ze+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=rt}var Ke=JSON.parse(JSON.stringify(_e));Ke=v([Ke],this.posX+this.margin[3],-Ie+Ze+this.ctx.prevPageLastElemOffset)[0];var wt=(Ge>je||Ge<Ue)&&f.call(this);wt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,Le,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Ke.x,Ke.y,Ke.w,Ke.h,null,null,Z),wt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",_e.x,_e.y,_e.w,_e.h,null,null,Z)};var b=function(U,z,q){var ee=[];z=z||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var fe=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ee.push(Math.floor((U.y+fe)/q)+1);break;case"arc":ee.push(Math.floor((U.y+fe-U.radius)/q)+1),ee.push(Math.floor((U.y+fe+U.radius)/q)+1);break;case"qct":var me=se(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ee.push(Math.floor((me.y+fe)/q)+1),ee.push(Math.floor((me.y+me.h+fe)/q)+1);break;case"bct":var ge=ue(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ee.push(Math.floor((ge.y+fe)/q)+1),ee.push(Math.floor((ge.y+ge.h+fe)/q)+1);break;case"rect":ee.push(Math.floor((U.y+fe)/q)+1),ee.push(Math.floor((U.y+U.h+fe)/q)+1)}for(var ye=0;ye<ee.length;ye+=1)for(;this.pdf.internal.getNumberOfPages()<ee[ye];)g.call(this);return ee},g=function(){var U=this.fillStyle,z=this.strokeStyle,q=this.font,ee=this.lineCap,fe=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=z,this.font=q,this.lineCap=ee,this.lineWidth=fe,this.lineJoin=me},v=function(U,z,q){for(var ee=0;ee<U.length;ee++)switch(U[ee].type){case"bct":U[ee].x2+=z,U[ee].y2+=q;case"qct":U[ee].x1+=z,U[ee].y1+=q;case"mt":case"lt":case"arc":default:U[ee].x+=z,U[ee].y+=q}return U},_=function(U){return U.sort(function(z,q){return z-q})},x=function(U,z){for(var q,ee,fe=this.fillStyle,me=this.strokeStyle,ge=this.lineCap,ye=this.lineWidth,Me=Math.abs(ye*this.ctx.transform.scaleX),De=this.lineJoin,Se=JSON.parse(JSON.stringify(this.path)),Qe=JSON.parse(JSON.stringify(this.path)),Q=[],he=0;he<Qe.length;he++)if(Qe[he].x!==void 0)for(var K=b.call(this,Qe[he]),ae=0;ae<K.length;ae+=1)Q.indexOf(K[ae])===-1&&Q.push(K[ae]);for(var Z=0;Z<Q.length;Z++)for(;this.pdf.internal.getNumberOfPages()<Q[Z];)g.call(this);if(_(Q),this.autoPaging)for(var ce=Q[0],_e=Q[Q.length-1],Be=ce;Be<_e+1;Be++){this.pdf.setPage(Be),this.fillStyle=fe,this.strokeStyle=me,this.lineCap=ge,this.lineWidth=Me,this.lineJoin=De;var pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pe=Be===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ue=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=Be===1?0:je+(Be-2)*Ue;if(this.ctx.clip_path.length!==0){var nt=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(q,this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset),F.call(this,U,!0),this.path=nt}if(ee=JSON.parse(JSON.stringify(Se)),this.path=v(ee,this.posX+this.margin[3],-Ge+Pe+this.ctx.prevPageLastElemOffset),z===!1||Be===0){var Ze=(Be>ce||Be<_e)&&f.call(this);Ze&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pe,Ue,null).clip().discardPath()),F.call(this,U,z),Ze&&this.pdf.restoreGraphicsState()}this.lineWidth=ye}else this.lineWidth=Me,F.call(this,U,z),this.lineWidth=ye;this.path=Se},F=function(U,z){if((U!=="stroke"||z||!p.call(this))&&(U==="stroke"||z||!d.call(this))){for(var q,ee,fe=[],me=this.path,ge=0;ge<me.length;ge++){var ye=me[ge];switch(ye.type){case"begin":fe.push({begin:!0});break;case"close":fe.push({close:!0});break;case"mt":fe.push({start:ye,deltas:[],abs:[]});break;case"lt":var Me=fe.length;if(me[ge-1]&&!isNaN(me[ge-1].x)&&(q=[ye.x-me[ge-1].x,ye.y-me[ge-1].y],Me>0)){for(;Me>=0;Me--)if(fe[Me-1].close!==!0&&fe[Me-1].begin!==!0){fe[Me-1].deltas.push(q),fe[Me-1].abs.push(ye);break}}break;case"bct":q=[ye.x1-me[ge-1].x,ye.y1-me[ge-1].y,ye.x2-me[ge-1].x,ye.y2-me[ge-1].y,ye.x-me[ge-1].x,ye.y-me[ge-1].y],fe[fe.length-1].deltas.push(q);break;case"qct":var De=me[ge-1].x+2/3*(ye.x1-me[ge-1].x),Se=me[ge-1].y+2/3*(ye.y1-me[ge-1].y),Qe=ye.x+2/3*(ye.x1-ye.x),Q=ye.y+2/3*(ye.y1-ye.y),he=ye.x,K=ye.y;q=[De-me[ge-1].x,Se-me[ge-1].y,Qe-me[ge-1].x,Q-me[ge-1].y,he-me[ge-1].x,K-me[ge-1].y],fe[fe.length-1].deltas.push(q);break;case"arc":fe.push({deltas:[],abs:[],arc:!0}),Array.isArray(fe[fe.length-1].abs)&&fe[fe.length-1].abs.push(ye)}}ee=z?null:U==="stroke"?"stroke":"fill";for(var ae=!1,Z=0;Z<fe.length;Z++)if(fe[Z].arc)for(var ce=fe[Z].abs,_e=0;_e<ce.length;_e++){var Be=ce[_e];Be.type==="arc"?B.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,z,!ae):k.call(this,Be.x,Be.y),ae=!0}else if(fe[Z].close===!0)this.pdf.internal.out("h"),ae=!1;else if(fe[Z].begin!==!0){var pe=fe[Z].start.x,Pe=fe[Z].start.y;N.call(this,fe[Z].deltas,pe,Pe),ae=!0}ee&&T.call(this,ee),z&&R.call(this)}},O=function(U){var z=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=z*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-q;case"top":return U+z-q;case"hanging":return U+z-2*q;case"middle":return U+z/2-q;case"ideographic":return U;case"alphabetic":default:return U}},I=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};u.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(z,q){this.colorStops.push([z,q])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},u.prototype.createPattern=function(){return this.createLinearGradient()},u.prototype.createRadialGradient=function(){return this.createLinearGradient()};var B=function(U,z,q,ee,fe,me,ge,ye,Me){for(var De=oe.call(this,q,ee,fe,me),Se=0;Se<De.length;Se++){var Qe=De[Se];Se===0&&(Me?D.call(this,Qe.x1+U,Qe.y1+z):k.call(this,Qe.x1+U,Qe.y1+z)),Y.call(this,U,z,Qe.x2,Qe.y2,Qe.x3,Qe.y3,Qe.x4,Qe.y4)}ye?R.call(this):T.call(this,ge)},T=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},R=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(U,z){this.pdf.internal.out(n(U)+" "+r(z)+" m")},E=function(U){var z;switch(U.align){case"right":case"end":z="right";break;case"center":z="center";break;case"left":case"start":default:z="left"}var q=this.pdf.getTextDimensions(U.text),ee=O.call(this,U.y),fe=I.call(this,ee)-q.h,me=this.ctx.transform.applyToPoint(new o(U.x,ee)),ge=this.ctx.transform.decompose(),ye=new l;ye=(ye=(ye=ye.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var Me,De,Se,Qe=this.ctx.transform.applyToRectangle(new a(U.x,ee,q.w,q.h)),Q=ye.applyToRectangle(new a(U.x,fe,q.w,q.h)),he=b.call(this,Q),K=[],ae=0;ae<he.length;ae+=1)K.indexOf(he[ae])===-1&&K.push(he[ae]);if(_(K),this.autoPaging)for(var Z=K[0],ce=K[K.length-1],_e=Z;_e<ce+1;_e++){this.pdf.setPage(_e);var Be=_e===1?this.posY+this.margin[0]:this.margin[0],pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pe=this.pdf.internal.pageSize.height-this.margin[2],je=Pe-this.margin[0],Ue=this.pdf.internal.pageSize.width-this.margin[1],Ge=Ue-this.margin[3],nt=_e===1?0:pe+(_e-2)*je;if(this.ctx.clip_path.length!==0){var Ze=this.path;Me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Me,this.posX+this.margin[3],-1*nt+Be),F.call(this,"fill",!0),this.path=Ze}var At=v([JSON.parse(JSON.stringify(Q))],this.posX+this.margin[3],-nt+Be+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),Se=this.lineWidth,this.lineWidth=Se*U.scale);var Le=this.autoPaging!=="text";if(Le||At.y+At.h<=Pe){if(Le||At.y>=Be&&At.x<=Ue){var Ie=Le?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||Ue-At.x)[0],rt=v([JSON.parse(JSON.stringify(Qe))],this.posX+this.margin[3],-nt+Be+this.ctx.prevPageLastElemOffset)[0],Ke=Le&&(_e>Z||_e<ce)&&f.call(this);Ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,je,null).clip().discardPath()),this.pdf.text(Ie,rt.x,rt.y,{angle:U.angle,align:z,renderingMode:U.renderingMode}),Ke&&this.pdf.restoreGraphicsState()}}else At.y<Pe&&(this.ctx.prevPageLastElemOffset+=Pe-At.y);U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Se)}else U.scale>=.01&&(De=this.pdf.internal.getFontSize(),this.pdf.setFontSize(De*U.scale),Se=this.lineWidth,this.lineWidth=Se*U.scale),this.pdf.text(U.text,me.x+this.posX,me.y+this.posY,{angle:U.angle,align:z,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(De),this.lineWidth=Se)},k=function(U,z,q,ee){q=q||0,ee=ee||0,this.pdf.internal.out(n(U+q)+" "+r(z+ee)+" l")},N=function(U,z,q){return this.pdf.lines(U,z,q,null,null)},Y=function(U,z,q,ee,fe,me,ge,ye){this.pdf.internal.out([e(i(q+U)),e(s(ee+z)),e(i(fe+U)),e(s(me+z)),e(i(ge+U)),e(s(ye+z)),"c"].join(" "))},oe=function(U,z,q,ee){for(var fe=2*Math.PI,me=Math.PI/2;z>q;)z-=fe;var ge=Math.abs(q-z);ge<fe&&ee&&(ge=fe-ge);for(var ye=[],Me=ee?-1:1,De=z;ge>1e-5;){var Se=De+Me*Math.min(ge,me);ye.push(ie.call(this,U,De,Se)),ge-=Math.abs(Se-De),De=Se}return ye},ie=function(U,z,q){var ee=(q-z)/2,fe=U*Math.cos(ee),me=U*Math.sin(ee),ge=fe,ye=-me,Me=ge*ge+ye*ye,De=Me+ge*fe+ye*me,Se=4/3*(Math.sqrt(2*Me*De)-De)/(ge*me-ye*fe),Qe=ge-Se*ye,Q=ye+Se*ge,he=Qe,K=-Q,ae=ee+z,Z=Math.cos(ae),ce=Math.sin(ae);return{x1:U*Math.cos(z),y1:U*Math.sin(z),x2:Qe*Z-Q*ce,y2:Qe*ce+Q*Z,x3:he*Z-K*ce,y3:he*ce+K*Z,x4:U*Math.cos(q),y4:U*Math.sin(q)}},ne=function(U){return 180*U/Math.PI},se=function(U,z,q,ee,fe,me){var ge=U+.5*(q-U),ye=z+.5*(ee-z),Me=fe+.5*(q-fe),De=me+.5*(ee-me),Se=Math.min(U,fe,ge,Me),Qe=Math.max(U,fe,ge,Me),Q=Math.min(z,me,ye,De),he=Math.max(z,me,ye,De);return new a(Se,Q,Qe-Se,he-Q)},ue=function(U,z,q,ee,fe,me,ge,ye){var Me,De,Se,Qe,Q,he,K,ae,Z,ce,_e,Be,pe,Pe,je=q-U,Ue=ee-z,Ge=fe-q,nt=me-ee,Ze=ge-fe,At=ye-me;for(De=0;De<41;De++)Z=(K=(Se=U+(Me=De/40)*je)+Me*((Q=q+Me*Ge)-Se))+Me*(Q+Me*(fe+Me*Ze-Q)-K),ce=(ae=(Qe=z+Me*Ue)+Me*((he=ee+Me*nt)-Qe))+Me*(he+Me*(me+Me*At-he)-ae),De==0?(_e=Z,Be=ce,pe=Z,Pe=ce):(_e=Math.min(_e,Z),Be=Math.min(Be,ce),pe=Math.max(pe,Z),Pe=Math.max(Pe,ce));return new a(Math.round(_e),Math.round(Be),Math.round(pe-_e),Math.round(Pe-Be))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,z,q=(U=this.ctx.lineDash,z=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:z}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(Et.API),function(t){var e=function(s){var o,a,l,A,c,u,h,d,p,f;for(a=[],l=0,A=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;A>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(u=(c=((c=((c=((c=(c-(f=c%85))/85)-(p=c%85))/85)-(d=c%85))/85)-(h=c%85))/85)%85,a.push(u+33,h+33,d+33,p+33,f+33)):a.push(122);return function(b,g){for(var v=g;v>0;v--)b.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,l,A,c,u=String,h="length",d=255,p="charCodeAt",f="slice",b="replace";for(s[f](-2),s=s[f](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),l=[],A=0,c=(s+=o="uuuuu"[f](s[h]%5||5))[h];c>A;A+=5)a=52200625*(s[p](A)-33)+614125*(s[p](A+1)-33)+7225*(s[p](A+2)-33)+85*(s[p](A+3)-33)+(s[p](A+4)-33),l.push(d&a>>24,d&a>>16,d&a>>8,d&a);return function(g,v){for(var _=v;_>0;_--)g.pop()}(l,o[h]),u.fromCharCode.apply(u,l)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",l=0;l<s.length;l+=2)a+=String.fromCharCode("0x"+(s[l]+s[l+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=D5(o)).reduce(function(l,A){return l+String.fromCharCode(A)},"")};t.processDataByFilters=function(s,o){var a=0,l=s||"",A=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),A.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),A.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),A.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",A.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),A.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:l,reverseChain:A.reverse().join(" ")}}}(Et.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(l,A,c){var u=new XMLHttpRequest,h=0,d=function(p){var f=p.length,b=[],g=String.fromCharCode;for(h=0;h<f;h+=1)b.push(g(255&p.charCodeAt(h)));return b.join("")};if(u.open("GET",l,!A),u.overrideMimeType("text/plain; charset=x-user-defined"),A===!1&&(u.onload=function(){u.status===200?c(d(this.responseText)):c(void 0)}),u.send(null),A&&u.status===200)return d(u.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Et.API),function(t){function e(){return(St.html2canvas?Promise.resolve(St.html2canvas):I5(()=>Promise.resolve().then(()=>SUe),void 0)).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(St.DOMPurify?Promise.resolve(St.DOMPurify):I5(()=>import("./purify.es-31816194.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=sn(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var l=document.createElement(o);for(var A in a.className&&(l.className=a.className),a.innerHTML&&a.dompurify&&(l.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)l.style[A]=a.style[A];return l},s=function o(a){var l=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),A=o.convert(Promise.resolve(),l);return A=(A=A.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:o,dompurify:l})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function l(A,c){for(var u=A.nodeType===3?document.createTextNode(A.nodeValue):A.cloneNode(!1),h=A.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||u.appendChild(l(h,c));return A.nodeType===1&&(A.nodeName==="CANVAS"?(u.width=A.width,u.height=A.height,u.getContext("2d").drawImage(A,0,0)):A.nodeName!=="TEXTAREA"&&A.nodeName!=="SELECT"||(u.value=A.value),u.addEventListener("load",function(){u.scrollTop=A.scrollTop,u.scrollLeft=A.scrollLeft},!0)),u}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,a(this.prop.container,l)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var l=this.opt.jsPDF,A=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,u=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete u.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=A,A)for(var h=0;h<A.length;++h){var d=A[h],p=d.src.find(function(f){return f.format==="truetype"});p&&l.addFont(p.url,d.ref.name,d.ref.style)}return u.windowHeight=u.windowHeight||0,u.windowHeight=u.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):u.windowHeight,l.context2d.save(!0),a(this.prop.container,u)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=o[l]};switch(l){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[l]=o[l]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var l=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(l):l})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(l,A){return Math.floor(l*A/72*96)}return this.then(function(){(o=o||Et.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,l,A){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),l!=null&&(this.progress.n=l),A!=null&&(this.progress.stack=A),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,l,A){return this.setProgress(o?this.progress.val+o:null,a||null,l?this.progress.n+l:null,A?this.progress.stack.concat(A):null)},s.prototype.then=function(o,a){var l=this;return this.thenCore(o,a,function(A,c){return l.updateProgress(null,null,1,[A]),Promise.prototype.then.call(this,function(u){return l.updateProgress(null,A),u}).then(A,c).then(function(u){return l.updateProgress(1),u})})},s.prototype.thenCore=function(o,a,l){l=l||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var A=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(A,o,a);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(l){a=a.thenCore(l)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Et.getPageSize=function(o,a,l){if(sn(o)==="object"){var A=o;o=A.orientation,a=A.unit||a,l=A.format||l}a=a||"mm",l=l||"a4",o=(""+(o||"P")).toLowerCase();var c,u=(""+l).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+a}var d,p=0,f=0;if(h.hasOwnProperty(u))p=h[u][1]/c,f=h[u][0]/c;else try{p=l[1],f=l[0]}catch{throw new Error("Invalid format: "+l)}if(o==="p"||o==="portrait")o="p",f>p&&(d=f,f=p,p=d);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",p>f&&(d=f,f=p,p=d)}return{width:f,height:p,unit:a,k:c,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(Q5):null;var l=new s(a);return a.worker?l:l.from(o).doCallback()}}(Et.API),Et.API.addJS=function(t){return dU=t,this.internal.events.subscribe("postPutResources",function(){Hy=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Hy+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hU=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+dU+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Hy!==void 0&&hU!==void 0&&this.internal.out("/Names <</JavaScript "+Hy+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var l=a[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var A=this.internal.pages.length,c=[];for(s=0;s<A;s++){var u=n.internal.newObject();c.push(u);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<c.length;s++)n.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+d+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var l=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var A=0;A<r.children.length;A++)this.renderItems(r.children[A])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Et.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var l,A=this.decode.DCT_DECODE,c=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(u){for(var h,d=256*u.charCodeAt(4)+u.charCodeAt(5),p=u.length,f={width:0,height:0,numcomponents:1},b=4;b<p;b+=2){if(b+=d,e.indexOf(u.charCodeAt(b+1))!==-1){h=256*u.charCodeAt(b+5)+u.charCodeAt(b+6),f={width:256*u.charCodeAt(b+7)+u.charCodeAt(b+8),height:h,numcomponents:u.charCodeAt(b+9)};break}d=256*u.charCodeAt(b+2)+u.charCodeAt(b+3)}return f}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}c={data:n,width:l.width,height:l.height,colorSpace:a,bitsPerComponent:8,filter:A,index:r,alias:i}}return c}}(Et.API);var Cd,Vy,fU,pU,gU,uOe=function(){var t,e,n;function r(s){var o,a,l,A,c,u,h,d,p,f,b,g,v,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},u=null;;){switch(o=this.readUInt32(),p=(function(){var x,F;for(F=[],x=0;x<4;++x)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":u&&this.animation.frames.push(u),this.pos+=4,u={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),A=this.readUInt16()||100,u.delay=1e3*c/A,u.disposeOp=this.data[this.pos++],u.blendOp=this.data[this.pos++],u.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,o-=4),s=(u!=null?u.data:void 0)||this.imgData,g=0;0<=o?g<o:g>o;0<=o?++g:--g)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((f=l-this.transparency.indexed.length)>0)for(v=0;0<=f?v<f:v>f;0<=f?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(b=this.read(o)).indexOf(0),d=String.fromCharCode.apply(String,b.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,b.slice(h+1));break;case"IEND":return u&&this.animation.frames.push(u),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),l=0,A=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(u,h,d,p){var f,b,g,v,_,x,F,O,I,B,T,R,D,E,k,N,Y,oe,ie,ne,se,ue=Math.ceil((A.width-u)/d),le=Math.ceil((A.height-h)/p),U=A.width==ue&&A.height==le;for(E=o*ue,R=U?a:new Uint8Array(E*le),x=s.length,D=0,b=0;D<le&&l<x;){switch(s[l++]){case 0:for(v=Y=0;Y<E;v=Y+=1)R[b++]=s[l++];break;case 1:for(v=oe=0;oe<E;v=oe+=1)f=s[l++],_=v<o?0:R[b-o],R[b++]=(f+_)%256;break;case 2:for(v=ie=0;ie<E;v=ie+=1)f=s[l++],g=(v-v%o)/o,k=D&&R[(D-1)*E+g*o+v%o],R[b++]=(k+f)%256;break;case 3:for(v=ne=0;ne<E;v=ne+=1)f=s[l++],g=(v-v%o)/o,_=v<o?0:R[b-o],k=D&&R[(D-1)*E+g*o+v%o],R[b++]=(f+Math.floor((_+k)/2))%256;break;case 4:for(v=se=0;se<E;v=se+=1)f=s[l++],g=(v-v%o)/o,_=v<o?0:R[b-o],D===0?k=N=0:(k=R[(D-1)*E+g*o+v%o],N=g&&R[(D-1)*E+(g-1)*o+v%o]),F=_+k-N,O=Math.abs(F-_),B=Math.abs(F-k),T=Math.abs(F-N),I=O<=B&&O<=T?_:B<=T?k:N,R[b++]=(f+I)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!U){var z=((h+D*p)*A.width+u)*o,q=D*E;for(v=0;v<ue;v+=1){for(var ee=0;ee<o;ee+=1)a[z++]=R[q++];z+=(d-1)*o}}D++}}return s=VUe(s),A.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,l,A,c,u,h,d;for(a=this.palette,c=this.transparency.indexed||[],A=new Uint8Array((c.length||0)+a.length),l=0,s=0,o=u=0,h=a.length;u<h;o=u+=3)A[l++]=a[o],A[l++]=a[o+1],A[l++]=a[o+2],A[l++]=(d=c[s++])!=null?d:255;return A},r.prototype.copyToImageData=function(s,o){var a,l,A,c,u,h,d,p,f,b,g;if(l=this.colors,f=null,a=this.hasAlphaChannel,this.palette.length&&(f=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),l=4,a=!0),p=(A=s.data||s).length,u=f||o,c=h=0,l===1)for(;c<p;)d=f?4*o[c/4]:h,b=u[d++],A[c++]=b,A[c++]=b,A[c++]=b,A[c++]=a?u[d++]:255,h=d;else for(;c<p;)d=f?4*o[c/4]:h,A[c++]=u[d++],A[c++]=u[d++],A[c++]=u[d++],A[c++]=a?u[d++]:255,h=d},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(St)==="[object Window]"){try{e=St.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,l,A,c,u,h,d;if(this.animation){for(d=[],a=c=0,u=(h=this.animation.frames).length;c<u;a=++c)o=h[a],l=s.createImageData(o.width,o.height),A=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(l,A),o.imageData=l,d.push(o.image=t(l));return d}},r.prototype.renderFrame=function(s,o){var a,l,A;return a=(l=this.animation.frames)[o],A=l[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(A!=null?A.disposeOp:void 0)===1?s.clearRect(A.xOffset,A.yOffset,A.width,A.height):(A!=null?A.disposeOp:void 0)===2&&s.putImageData(A.imageData,A.xOffset,A.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,l,A,c,u,h=this;return a=0,u=this.animation,A=u.numFrames,l=u.frames,c=u.numPlays,(o=function(){var d,p;if(d=a++%A,p=l[d],h.renderFrame(s,d),A>1&&a/A<c)return h.animation._timeout=setTimeout(o,p.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function hOe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,l=null;s&&(a=e,l=o,e+=3*o);var A=!0,c=[],u=0,h=null,d=0,p=null;for(this.width=n,this.height=r;A&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var f=t[e++];u=t[e++]|t[e++]<<8,h=t[e++],!(1&f)&&(h=null),d=f>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,g=t[e++]|t[e++]<<8,v=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++],F=x>>6&1,O=1<<(7&x)+1,I=a,B=l,T=!1;x>>7&&(T=!0,I=e,B=O,e+=3*O);var R=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}c.push({x:b,y:g,width:v,height:_,has_local_palette:T,palette_offset:I,palette_size:B,data_offset:R,data_length:e-R,transparent_index:h,interlaced:!!F,delay:u,disposal:d});break;case 59:A=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return p},this.frameInfo=function(E){if(E<0||E>=c.length)throw new Error("Frame index out of range.");return c[E]},this.decodeAndBlitFrameBGRA=function(E,k){var N=this.frameInfo(E),Y=N.width*N.height,oe=new Uint8Array(Y);mU(t,N.data_offset,oe,Y);var ie=N.palette_offset,ne=N.transparent_index;ne===null&&(ne=256);var se=N.width,ue=n-se,le=se,U=4*(N.y*n+N.x),z=4*((N.y+N.height)*n+N.x),q=U,ee=4*ue;N.interlaced===!0&&(ee+=4*n*7);for(var fe=8,me=0,ge=oe.length;me<ge;++me){var ye=oe[me];if(le===0&&(le=se,(q+=ee)>=z&&(ee=4*ue+4*n*(fe-1),q=U+(se+ue)*(fe<<1),fe>>=1)),ye===ne)q+=4;else{var Me=t[ie+3*ye],De=t[ie+3*ye+1],Se=t[ie+3*ye+2];k[q++]=Se,k[q++]=De,k[q++]=Me,k[q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(E,k){var N=this.frameInfo(E),Y=N.width*N.height,oe=new Uint8Array(Y);mU(t,N.data_offset,oe,Y);var ie=N.palette_offset,ne=N.transparent_index;ne===null&&(ne=256);var se=N.width,ue=n-se,le=se,U=4*(N.y*n+N.x),z=4*((N.y+N.height)*n+N.x),q=U,ee=4*ue;N.interlaced===!0&&(ee+=4*n*7);for(var fe=8,me=0,ge=oe.length;me<ge;++me){var ye=oe[me];if(le===0&&(le=se,(q+=ee)>=z&&(ee=4*ue+4*n*(fe-1),q=U+(se+ue)*(fe<<1),fe>>=1)),ye===ne)q+=4;else{var Me=t[ie+3*ye],De=t[ie+3*ye+1],Se=t[ie+3*ye+2];k[q++]=Me,k[q++]=De,k[q++]=Se,k[q++]=255}--le}}}function mU(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,l=i+1,A=(1<<l)-1,c=0,u=0,h=0,d=t[e++],p=new Int32Array(4096),f=null;;){for(;c<16&&d!==0;)u|=t[e++]<<c,c+=8,d===1?d=t[e++]:--d;if(c<l)break;var b=u&A;if(u>>=l,c-=l,b!==s){if(b===o)break;for(var g=b<a?b:f,v=0,_=g;_>s;)_=p[_]>>8,++v;var x=_;if(h+v+(g!==b?1:0)>r)return void Dn.log("Warning, gif stream longer than expected.");n[h++]=x;var F=h+=v;for(g!==b&&(n[h++]=x),_=g;v--;)_=p[_],n[--F]=255&_,_>>=8;f!==null&&a<4096&&(p[a++]=f<<8|x,a>=A+1&&l<12&&(++l,A=A<<1|1)),f=b}else a=o+1,A=(1<<(l=i+1))-1,f=null}return h!==r&&Dn.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Px(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),l=new Array(64),A=new Array(64),c=new Array(64),u=new Array(65535),h=new Array(65535),d=new Array(64),p=new Array(64),f=[],b=0,g=7,v=new Array(64),_=new Array(64),x=new Array(64),F=new Array(256),O=new Array(2048),I=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],B=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],R=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],k=[0,1,2,3,4,5,6,7,8,9,10,11],N=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function oe(U,z){for(var q=0,ee=0,fe=new Array,me=1;me<=16;me++){for(var ge=1;ge<=U[me];ge++)fe[z[ee]]=[],fe[z[ee]][0]=q,fe[z[ee]][1]=me,ee++,q++;q*=2}return fe}function ie(U){for(var z=U[0],q=U[1]-1;q>=0;)z&1<<q&&(b|=1<<g),q--,--g<0&&(b==255?(ne(255),ne(0)):ne(b),g=7,b=0)}function ne(U){f.push(U)}function se(U){ne(U>>8&255),ne(255&U)}function ue(U,z,q,ee,fe){for(var me,ge=fe[0],ye=fe[240],Me=function(ce,_e){var Be,pe,Pe,je,Ue,Ge,nt,Ze,At,Le,Ie=0;for(At=0;At<8;++At){Be=ce[Ie],pe=ce[Ie+1],Pe=ce[Ie+2],je=ce[Ie+3],Ue=ce[Ie+4],Ge=ce[Ie+5],nt=ce[Ie+6];var rt=Be+(Ze=ce[Ie+7]),Ke=Be-Ze,wt=pe+nt,mt=pe-nt,ft=Pe+Ge,Ht=Pe-Ge,_t=je+Ue,Xt=je-Ue,Vt=rt+_t,Jt=rt-_t,En=wt+ft,Kt=wt-ft;ce[Ie]=Vt+En,ce[Ie+4]=Vt-En;var Ct=.707106781*(Kt+Jt);ce[Ie+2]=Jt+Ct,ce[Ie+6]=Jt-Ct;var jt=.382683433*((Vt=Xt+Ht)-(Kt=mt+Ke)),ls=.5411961*Vt+jt,zn=1.306562965*Kt+jt,Ri=.707106781*(En=Ht+mt),ai=Ke+Ri,vt=Ke-Ri;ce[Ie+5]=vt+ls,ce[Ie+3]=vt-ls,ce[Ie+1]=ai+zn,ce[Ie+7]=ai-zn,Ie+=8}for(Ie=0,At=0;At<8;++At){Be=ce[Ie],pe=ce[Ie+8],Pe=ce[Ie+16],je=ce[Ie+24],Ue=ce[Ie+32],Ge=ce[Ie+40],nt=ce[Ie+48];var mn=Be+(Ze=ce[Ie+56]),As=Be-Ze,tr=pe+nt,Sn=pe-nt,an=Pe+Ge,Rr=Pe-Ge,Ui=je+Ue,li=je-Ue,Oi=mn+Ui,Ur=mn-Ui,bi=tr+an,Gr=tr-an;ce[Ie]=Oi+bi,ce[Ie+32]=Oi-bi;var qr=.707106781*(Gr+Ur);ce[Ie+16]=Ur+qr,ce[Ie+48]=Ur-qr;var cr=.382683433*((Oi=li+Rr)-(Gr=Sn+As)),cs=.5411961*Oi+cr,po=1.306562965*Gr+cr,Or=.707106781*(bi=Rr+Sn),_i=As+Or,go=As-Or;ce[Ie+40]=go+cs,ce[Ie+24]=go-cs,ce[Ie+8]=_i+po,ce[Ie+56]=_i-po,Ie++}for(At=0;At<64;++At)Le=ce[At]*_e[At],d[At]=Le>0?Le+.5|0:Le-.5|0;return d}(U,z),De=0;De<64;++De)p[I[De]]=Me[De];var Se=p[0]-q;q=p[0],Se==0?ie(ee[0]):(ie(ee[h[me=32767+Se]]),ie(u[me]));for(var Qe=63;Qe>0&&p[Qe]==0;)Qe--;if(Qe==0)return ie(ge),q;for(var Q,he=1;he<=Qe;){for(var K=he;p[he]==0&&he<=Qe;)++he;var ae=he-K;if(ae>=16){Q=ae>>4;for(var Z=1;Z<=Q;++Z)ie(ye);ae&=15}me=32767+p[he],ie(fe[(ae<<4)+h[me]]),ie(u[me]),he++}return Qe!=63&&ie(ge),q}function le(U){U=Math.min(Math.max(U,1),100),s!=U&&(function(z){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ee=0;ee<64;ee++){var fe=o((q[ee]*z+50)/100);fe=Math.min(Math.max(fe,1),255),a[I[ee]]=fe}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var ye=o((me[ge]*z+50)/100);ye=Math.min(Math.max(ye,1),255),l[I[ge]]=ye}for(var Me=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],De=0,Se=0;Se<8;Se++)for(var Qe=0;Qe<8;Qe++)A[De]=1/(a[I[De]]*Me[Se]*Me[Qe]*8),c[De]=1/(l[I[De]]*Me[Se]*Me[Qe]*8),De++}(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,z){z&&le(z),f=new Array,b=0,g=7,se(65496),se(65504),se(16),ne(74),ne(70),ne(73),ne(70),ne(0),ne(1),ne(1),ne(0),se(1),se(1),ne(0),ne(0),function(){se(65499),se(132),ne(0);for(var pe=0;pe<64;pe++)ne(a[pe]);ne(1);for(var Pe=0;Pe<64;Pe++)ne(l[Pe])}(),function(pe,Pe){se(65472),se(17),ne(8),se(Pe),se(pe),ne(3),ne(1),ne(17),ne(0),ne(2),ne(17),ne(1),ne(3),ne(17),ne(1)}(U.width,U.height),function(){se(65476),se(418),ne(0);for(var pe=0;pe<16;pe++)ne(B[pe+1]);for(var Pe=0;Pe<=11;Pe++)ne(T[Pe]);ne(16);for(var je=0;je<16;je++)ne(R[je+1]);for(var Ue=0;Ue<=161;Ue++)ne(D[Ue]);ne(1);for(var Ge=0;Ge<16;Ge++)ne(E[Ge+1]);for(var nt=0;nt<=11;nt++)ne(k[nt]);ne(17);for(var Ze=0;Ze<16;Ze++)ne(N[Ze+1]);for(var At=0;At<=161;At++)ne(Y[At])}(),se(65498),se(12),ne(3),ne(1),ne(0),ne(2),ne(17),ne(3),ne(17),ne(0),ne(63),ne(0);var q=0,ee=0,fe=0;b=0,g=7,this.encode.displayName="_encode_";for(var me,ge,ye,Me,De,Se,Qe,Q,he,K=U.data,ae=U.width,Z=U.height,ce=4*ae,_e=0;_e<Z;){for(me=0;me<ce;){for(De=ce*_e+me,Qe=-1,Q=0,he=0;he<64;he++)Se=De+(Q=he>>3)*ce+(Qe=4*(7&he)),_e+Q>=Z&&(Se-=ce*(_e+1+Q-Z)),me+Qe>=ce&&(Se-=me+Qe-ce+4),ge=K[Se++],ye=K[Se++],Me=K[Se++],v[he]=(O[ge]+O[ye+256>>0]+O[Me+512>>0]>>16)-128,_[he]=(O[ge+768>>0]+O[ye+1024>>0]+O[Me+1280>>0]>>16)-128,x[he]=(O[ge+1280>>0]+O[ye+1536>>0]+O[Me+1792>>0]>>16)-128;q=ue(v,A,q,e,r),ee=ue(_,c,ee,n,i),fe=ue(x,c,fe,n,i),me+=32}_e+=8}if(g>=0){var Be=[];Be[1]=g+1,Be[0]=(1<<g+1)-1,ie(Be)}return se(65497),new Uint8Array(f)},t=t||50,function(){for(var U=String.fromCharCode,z=0;z<256;z++)F[z]=U(z)}(),e=oe(B,T),n=oe(E,k),r=oe(R,D),i=oe(N,Y),function(){for(var U=1,z=2,q=1;q<=15;q++){for(var ee=U;ee<z;ee++)h[32767+ee]=q,u[32767+ee]=[],u[32767+ee][1]=q,u[32767+ee][0]=ee;for(var fe=-(z-1);fe<=-U;fe++)h[32767+fe]=q,u[32767+fe]=[],u[32767+fe][1]=q,u[32767+fe][0]=z-1+fe;U<<=1,z<<=1}}(),function(){for(var U=0;U<256;U++)O[U]=19595*U,O[U+256>>0]=38470*U,O[U+512>>0]=7471*U+32768,O[U+768>>0]=-11059*U,O[U+1024>>0]=-21709*U,O[U+1280>>0]=32768*U+8421375,O[U+1536>>0]=-27439*U,O[U+1792>>0]=-5329*U}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ha(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function vU(t){function e(B){if(!B)throw Error("assert :P")}function n(B,T,R){for(var D=0;4>D;D++)if(B[T+D]!=R.charCodeAt(D))return!0;return!1}function r(B,T,R,D,E){for(var k=0;k<E;k++)B[T+k]=R[D+k]}function i(B,T,R,D){for(var E=0;E<D;E++)B[T+E]=R}function s(B){return new Int32Array(B)}function o(B,T){for(var R=[],D=0;D<B;D++)R.push(new T);return R}function a(B,T){var R=[];return function D(E,k,N){for(var Y=N[k],oe=0;oe<Y&&(E.push(N.length>k+1?[]:new T),!(N.length<k+1));oe++)D(E[oe],k+1,N)}(R,0,B),R}var l=function(){var B=this;function T(m,C){for(var P=1<<C-1>>>0;m&P;)P>>>=1;return P?(m&P-1)+P:m}function R(m,C,P,M,V){e(!(M%P));do m[C+(M-=P)]=V;while(0<M)}function D(m,C,P,M,V){if(e(2328>=V),512>=V)var W=s(512);else if((W=s(V))==null)return 0;return function(G,J,te,Ae,we,Fe){var ke,Ee,$e=J,Oe=1<<te,be=s(16),xe=s(16);for(e(we!=0),e(Ae!=null),e(G!=null),e(0<te),Ee=0;Ee<we;++Ee){if(15<Ae[Ee])return 0;++be[Ae[Ee]]}if(be[0]==we)return 0;for(xe[1]=0,ke=1;15>ke;++ke){if(be[ke]>1<<ke)return 0;xe[ke+1]=xe[ke]+be[ke]}for(Ee=0;Ee<we;++Ee)ke=Ae[Ee],0<Ae[Ee]&&(Fe[xe[ke]++]=Ee);if(xe[15]==1)return(Ae=new E).g=0,Ae.value=Fe[0],R(G,$e,1,Oe,Ae),Oe;var He,ze=-1,Ve=Oe-1,lt=0,it=1,bt=1,st=1<<te;for(Ee=0,ke=1,we=2;ke<=te;++ke,we<<=1){if(it+=bt<<=1,0>(bt-=be[ke]))return 0;for(;0<be[ke];--be[ke])(Ae=new E).g=ke,Ae.value=Fe[Ee++],R(G,$e+lt,we,st,Ae),lt=T(lt,ke)}for(ke=te+1,we=2;15>=ke;++ke,we<<=1){if(it+=bt<<=1,0>(bt-=be[ke]))return 0;for(;0<be[ke];--be[ke]){if(Ae=new E,(lt&Ve)!=ze){for($e+=st,He=1<<(ze=ke)-te;15>ze&&!(0>=(He-=be[ze]));)++ze,He<<=1;Oe+=st=1<<(He=ze-te),G[J+(ze=lt&Ve)].g=He+te,G[J+ze].value=$e-J-ze}Ae.g=ke-te,Ae.value=Fe[Ee++],R(G,$e+(lt>>te),we,st,Ae),lt=T(lt,ke)}}return it!=2*xe[15]-1?0:Oe}(m,C,P,M,V,W)}function E(){this.value=this.g=0}function k(){this.value=this.g=0}function N(){this.G=o(5,E),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Bi,k)}function Y(m,C,P,M){e(m!=null),e(C!=null),e(2147483648>M),m.Ca=254,m.I=0,m.b=-8,m.Ka=0,m.oa=C,m.pa=P,m.Jd=C,m.Yc=P+M,m.Zc=4<=M?P+M-4+1:P,me(m)}function oe(m,C){for(var P=0;0<C--;)P|=ye(m,128)<<C;return P}function ie(m,C){var P=oe(m,C);return ge(m)?-P:P}function ne(m,C,P,M){var V,W=0;for(e(m!=null),e(C!=null),e(4294967288>M),m.Sb=M,m.Ra=0,m.u=0,m.h=0,4<M&&(M=4),V=0;V<M;++V)W+=C[P+V]<<8*V;m.Ra=W,m.bb=M,m.oa=C,m.pa=P}function se(m){for(;8<=m.u&&m.bb<m.Sb;)m.Ra>>>=8,m.Ra+=m.oa[m.pa+m.bb]<<ed-8>>>0,++m.bb,m.u-=8;q(m)&&(m.h=1,m.u=0)}function ue(m,C){if(e(0<=C),!m.h&&C<=Zh){var P=z(m)&Jh[C];return m.u+=C,se(m),P}return m.h=1,m.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function U(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function z(m){return m.Ra>>>(m.u&ed-1)>>>0}function q(m){return e(m.bb<=m.Sb),m.h||m.bb==m.Sb&&m.u>ed}function ee(m,C){m.u=C,m.h=q(m)}function fe(m){m.u>=Ip&&(e(m.u>=Ip),se(m))}function me(m){e(m!=null&&m.oa!=null),m.pa<m.Zc?(m.I=(m.oa[m.pa++]|m.I<<8)>>>0,m.b+=8):(e(m!=null&&m.oa!=null),m.pa<m.Yc?(m.b+=8,m.I=m.oa[m.pa++]|m.I<<8):m.Ka?m.b=0:(m.I<<=8,m.b+=8,m.Ka=1))}function ge(m){return oe(m,1)}function ye(m,C){var P=m.Ca;0>m.b&&me(m);var M=m.b,V=P*C>>>8,W=(m.I>>>M>V)+0;for(W?(P-=V,m.I-=V+1<<M>>>0):P=V+1,M=P,V=0;256<=M;)V+=8,M>>=8;return M=7^V+Ts[M],m.b-=M,m.Ca=(P<<M)-1,W}function Me(m,C,P){m[C+0]=P>>24&255,m[C+1]=P>>16&255,m[C+2]=P>>8&255,m[C+3]=P>>0&255}function De(m,C){return m[C+0]<<0|m[C+1]<<8}function Se(m,C){return De(m,C)|m[C+2]<<16}function Qe(m,C){return De(m,C)|De(m,C+2)<<16}function Q(m,C){var P=1<<C;return e(m!=null),e(0<C),m.X=s(P),m.X==null?0:(m.Mb=32-C,m.Xa=C,1)}function he(m,C){e(m!=null),e(C!=null),e(m.Xa==C.Xa),r(C.X,0,m.X,0,1<<C.Xa)}function K(){this.X=[],this.Xa=this.Mb=0}function ae(m,C,P,M){e(P!=null),e(M!=null);var V=P[0],W=M[0];return V==0&&(V=(m*W+C/2)/C),W==0&&(W=(C*V+m/2)/m),0>=V||0>=W?0:(P[0]=V,M[0]=W,1)}function Z(m,C){return m+(1<<C)-1>>>C}function ce(m,C){return((4278255360&m)+(4278255360&C)>>>0&4278255360)+((16711935&m)+(16711935&C)>>>0&16711935)>>>0}function _e(m,C){B[C]=function(P,M,V,W,G,J,te){var Ae;for(Ae=0;Ae<G;++Ae){var we=B[m](J[te+Ae-1],V,W+Ae);J[te+Ae]=ce(P[M+Ae],we)}}}function Be(){this.ud=this.hd=this.jd=0}function pe(m,C){return((4278124286&(m^C))>>>1)+(m&C)>>>0}function Pe(m){return 0<=m&&256>m?m:0>m?0:255<m?255:void 0}function je(m,C){return Pe(m+(m-C+.5>>1))}function Ue(m,C,P){return Math.abs(C-P)-Math.abs(m-P)}function Ge(m,C,P,M,V,W,G){for(M=W[G-1],P=0;P<V;++P)W[G+P]=M=ce(m[C+P],M)}function nt(m,C,P,M,V){var W;for(W=0;W<P;++W){var G=m[C+W],J=G>>8&255,te=16711935&(te=(te=16711935&G)+((J<<16)+J));M[V+W]=(4278255360&G)+te>>>0}}function Ze(m,C){C.jd=m>>0&255,C.hd=m>>8&255,C.ud=m>>16&255}function At(m,C,P,M,V,W){var G;for(G=0;G<M;++G){var J=C[P+G],te=J>>>8,Ae=J,we=255&(we=(we=J>>>16)+((m.jd<<24>>24)*(te<<24>>24)>>>5));Ae=255&(Ae=(Ae=Ae+((m.hd<<24>>24)*(te<<24>>24)>>>5))+((m.ud<<24>>24)*(we<<24>>24)>>>5)),V[W+G]=(4278255360&J)+(we<<16)+Ae}}function Le(m,C,P,M,V){B[C]=function(W,G,J,te,Ae,we,Fe,ke,Ee){for(te=Fe;te<ke;++te)for(Fe=0;Fe<Ee;++Fe)Ae[we++]=V(J[M(W[G++])])},B[m]=function(W,G,J,te,Ae,we,Fe){var ke=8>>W.b,Ee=W.Ea,$e=W.K[0],Oe=W.w;if(8>ke)for(W=(1<<W.b)-1,Oe=(1<<ke)-1;G<J;++G){var be,xe=0;for(be=0;be<Ee;++be)be&W||(xe=M(te[Ae++])),we[Fe++]=V($e[xe&Oe]),xe>>=ke}else B["VP8LMapColor"+P](te,Ae,$e,Oe,we,Fe,G,J,Ee)}}function Ie(m,C,P,M,V){for(P=C+P;C<P;){var W=m[C++];M[V++]=W>>16&255,M[V++]=W>>8&255,M[V++]=W>>0&255}}function rt(m,C,P,M,V){for(P=C+P;C<P;){var W=m[C++];M[V++]=W>>16&255,M[V++]=W>>8&255,M[V++]=W>>0&255,M[V++]=W>>24&255}}function Ke(m,C,P,M,V){for(P=C+P;C<P;){var W=(G=m[C++])>>16&240|G>>12&15,G=G>>0&240|G>>28&15;M[V++]=W,M[V++]=G}}function wt(m,C,P,M,V){for(P=C+P;C<P;){var W=(G=m[C++])>>16&248|G>>13&7,G=G>>5&224|G>>3&31;M[V++]=W,M[V++]=G}}function mt(m,C,P,M,V){for(P=C+P;C<P;){var W=m[C++];M[V++]=W>>0&255,M[V++]=W>>8&255,M[V++]=W>>16&255}}function ft(m,C,P,M,V,W){if(W==0)for(P=C+P;C<P;)Me(M,((W=m[C++])[0]>>24|W[1]>>8&65280|W[2]<<8&16711680|W[3]<<24)>>>0),V+=32;else r(M,V,m,C,P)}function Ht(m,C){B[C][0]=B[m+"0"],B[C][1]=B[m+"1"],B[C][2]=B[m+"2"],B[C][3]=B[m+"3"],B[C][4]=B[m+"4"],B[C][5]=B[m+"5"],B[C][6]=B[m+"6"],B[C][7]=B[m+"7"],B[C][8]=B[m+"8"],B[C][9]=B[m+"9"],B[C][10]=B[m+"10"],B[C][11]=B[m+"11"],B[C][12]=B[m+"12"],B[C][13]=B[m+"13"],B[C][14]=B[m+"0"],B[C][15]=B[m+"0"]}function _t(m){return m==h_||m==d_||m==w0||m==f_}function Xt(){this.eb=[],this.size=this.A=this.fb=0}function Vt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Jt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Xt,this.f.kb=new Vt,this.sd=null}function En(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ct(m){return alert("todo:WebPSamplerProcessPlane"),m.T}function jt(m,C){var P=m.T,M=C.ba.f.RGBA,V=M.eb,W=M.fb+m.ka*M.A,G=Io[C.ba.S],J=m.y,te=m.O,Ae=m.f,we=m.N,Fe=m.ea,ke=m.W,Ee=C.cc,$e=C.dc,Oe=C.Mc,be=C.Nc,xe=m.ka,He=m.ka+m.T,ze=m.U,Ve=ze+1>>1;for(xe==0?G(J,te,null,null,Ae,we,Fe,ke,Ae,we,Fe,ke,V,W,null,null,ze):(G(C.ec,C.fc,J,te,Ee,$e,Oe,be,Ae,we,Fe,ke,V,W-M.A,V,W,ze),++P);xe+2<He;xe+=2)Ee=Ae,$e=we,Oe=Fe,be=ke,we+=m.Rc,ke+=m.Rc,W+=2*M.A,G(J,(te+=2*m.fa)-m.fa,J,te,Ee,$e,Oe,be,Ae,we,Fe,ke,V,W-M.A,V,W,ze);return te+=m.fa,m.j+He<m.o?(r(C.ec,C.fc,J,te,ze),r(C.cc,C.dc,Ae,we,Ve),r(C.Mc,C.Nc,Fe,ke,Ve),P--):1&He||G(J,te,null,null,Ae,we,Fe,ke,Ae,we,Fe,ke,V,W+M.A,null,null,ze),P}function ls(m,C,P){var M=m.F,V=[m.J];if(M!=null){var W=m.U,G=C.ba.S,J=G==y0||G==w0;C=C.ba.f.RGBA;var te=[0],Ae=m.ka;te[0]=m.T,m.Kb&&(Ae==0?--te[0]:(--Ae,V[0]-=m.width),m.j+m.ka+m.T==m.o&&(te[0]=m.o-m.j-Ae));var we=C.eb;Ae=C.fb+Ae*C.A,m=Mn(M,V[0],m.width,W,te,we,Ae+(J?0:3),C.A),e(P==te),m&&_t(G)&&So(we,Ae,J,W,te,C.A)}return 0}function zn(m){var C=m.ma,P=C.ba.S,M=11>P,V=P==m0||P==v0||P==y0||P==u_||P==12||_t(P);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!_l(C.Oa,m,V?11:12))return 0;if(V&&_t(P)&&We(),m.da)alert("todo:use_scaling");else{if(M){if(C.Ib=Ct,m.Kb){if(P=m.U+1>>1,C.memory=s(m.U+2*P),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+m.U,C.Mc=C.cc,C.Nc=C.dc+P,C.Ib=jt,We()}}else alert("todo:EmitYUV");V&&(C.Jb=ls,M&&Te())}if(M&&!eN){for(m=0;256>m;++m)Rz[m]=89858*(m-128)+_0>>b0,Mz[m]=-22014*(m-128)+_0,Oz[m]=-45773*(m-128),Uz[m]=113618*(m-128)+_0>>b0;for(m=Rp;m<m_;++m)C=76283*(m-16)+_0>>b0,Qz[m-Rp]=Pt(C,255),jz[m-Rp]=Pt(C+8>>4,15);eN=1}return 1}function Ri(m){var C=m.ma,P=m.U,M=m.T;return e(!(1&m.ka)),0>=P||0>=M?0:(P=C.Ib(m,C),C.Jb!=null&&C.Jb(m,C,P),C.Dc+=P,1)}function ai(m){m.ma.memory=null}function vt(m,C,P,M){return ue(m,8)!=47?0:(C[0]=ue(m,14)+1,P[0]=ue(m,14)+1,M[0]=ue(m,1),ue(m,3)!=0?0:!m.h)}function mn(m,C){if(4>m)return m+1;var P=m-2>>1;return(2+(1&m)<<P)+ue(C,P)+1}function As(m,C){return 120<C?C-120:1<=(P=((P=_z[C-1])>>4)*m+(8-(15&P)))?P:1;var P}function tr(m,C,P){var M=z(P),V=m[C+=255&M].g-8;return 0<V&&(ee(P,P.u+8),M=z(P),C+=m[C].value,C+=M&(1<<V)-1),ee(P,P.u+m[C].g),m[C].value}function Sn(m,C,P){return P.g+=m.g,P.value+=m.value<<C>>>0,e(8>=P.g),m.g}function an(m,C,P){var M=m.xc;return e((C=M==0?0:m.vc[m.md*(P>>M)+(C>>M)])<m.Wb),m.Ya[C]}function Rr(m,C,P,M){var V=m.ab,W=m.c*C,G=m.C;C=G+C;var J=P,te=M;for(M=m.Ta,P=m.Ua;0<V--;){var Ae=m.gc[V],we=G,Fe=C,ke=J,Ee=te,$e=(te=M,J=P,Ae.Ea);switch(e(we<Fe),e(Fe<=Ae.nc),Ae.hc){case 2:c0(ke,Ee,(Fe-we)*$e,te,J);break;case 0:var Oe=we,be=Fe,xe=te,He=J,ze=(st=Ae).Ea;Oe==0&&(A_(ke,Ee,null,null,1,xe,He),Ge(ke,Ee+1,0,0,ze-1,xe,He+1),Ee+=ze,He+=ze,++Oe);for(var Ve=1<<st.b,lt=Ve-1,it=Z(ze,st.b),bt=st.K,st=st.w+(Oe>>st.b)*it;Oe<be;){var dn=bt,bn=st,An=1;for(Np(ke,Ee,xe,He-ze,1,xe,He);An<ze;){var en=(An&~lt)+Ve;en>ze&&(en=ze),(0,PA[dn[bn++]>>8&15])(ke,Ee+ +An,xe,He+An-ze,en-An,xe,He+An),An=en}Ee+=ze,He+=ze,++Oe&lt||(st+=it)}Fe!=Ae.nc&&r(te,J-$e,te,J+(Fe-we-1)*$e,$e);break;case 1:for($e=ke,be=Ee,ze=(ke=Ae.Ea)-(He=ke&~(xe=(Ee=1<<Ae.b)-1)),Oe=Z(ke,Ae.b),Ve=Ae.K,Ae=Ae.w+(we>>Ae.b)*Oe;we<Fe;){for(lt=Ve,it=Ae,bt=new Be,st=be+He,dn=be+ke;be<st;)Ze(lt[it++],bt),fu(bt,$e,be,Ee,te,J),be+=Ee,J+=Ee;be<dn&&(Ze(lt[it++],bt),fu(bt,$e,be,ze,te,J),be+=ze,J+=ze),++we&xe||(Ae+=Oe)}break;case 3:if(ke==te&&Ee==J&&0<Ae.b){for(be=te,ke=$e=J+(Fe-we)*$e-(He=(Fe-we)*Z(Ae.Ea,Ae.b)),Ee=te,xe=J,Oe=[],He=(ze=He)-1;0<=He;--He)Oe[He]=Ee[xe+He];for(He=ze-1;0<=He;--He)be[ke+He]=Oe[He];xo(Ae,we,Fe,te,$e,te,J)}else xo(Ae,we,Fe,ke,Ee,te,J)}J=M,te=P}te!=P&&r(M,P,J,te,W)}function Ui(m,C){var P=m.V,M=m.Ba+m.c*m.C,V=C-m.C;if(e(C<=m.l.o),e(16>=V),0<V){var W=m.l,G=m.Ta,J=m.Ua,te=W.width;if(Rr(m,V,P,M),V=J=[J],e((P=m.C)<(M=C)),e(W.v<W.va),M>W.o&&(M=W.o),P<W.j){var Ae=W.j-P;P=W.j,V[0]+=Ae*te}if(P>=M?P=0:(V[0]+=4*W.v,W.ka=P-W.j,W.U=W.va-W.v,W.T=M-P,P=1),P){if(J=J[0],11>(P=m.ca).S){var we=P.f.RGBA,Fe=(M=P.S,V=W.U,W=W.T,Ae=we.eb,we.A),ke=W;for(we=we.fb+m.Ma*we.A;0<ke--;){var Ee=G,$e=J,Oe=V,be=Ae,xe=we;switch(M){case g0:Is(Ee,$e,Oe,be,xe);break;case m0:fs(Ee,$e,Oe,be,xe);break;case h_:fs(Ee,$e,Oe,be,xe),So(be,xe,0,Oe,1,0);break;case $4:xl(Ee,$e,Oe,be,xe);break;case v0:ft(Ee,$e,Oe,be,xe,1);break;case d_:ft(Ee,$e,Oe,be,xe,1),So(be,xe,0,Oe,1,0);break;case y0:ft(Ee,$e,Oe,be,xe,0);break;case w0:ft(Ee,$e,Oe,be,xe,0),So(be,xe,1,Oe,1,0);break;case u_:DA(Ee,$e,Oe,be,xe);break;case f_:DA(Ee,$e,Oe,be,xe),On(be,xe,Oe,1,0);break;case z4:Cl(Ee,$e,Oe,be,xe);break;default:e(0)}J+=te,we+=Fe}m.Ma+=W}else alert("todo:EmitRescaledRowsYUVA");e(m.Ma<=P.height)}}m.C=C,e(m.C<=m.i)}function li(m){var C;if(0<m.ua)return 0;for(C=0;C<m.Wb;++C){var P=m.Ya[C].G,M=m.Ya[C].H;if(0<P[1][M[1]+0].g||0<P[2][M[2]+0].g||0<P[3][M[3]+0].g)return 0}return 1}function Oi(m,C,P,M,V,W){if(m.Z!=0){var G=m.qd,J=m.rd;for(e(OA[m.Z]!=null);C<P;++C)OA[m.Z](G,J,M,V,M,V,W),G=M,J=V,V+=W;m.qd=G,m.rd=J}}function Ur(m,C){var P=m.l.ma,M=P.Z==0||P.Z==1?m.l.j:m.C;if(M=m.C<M?M:m.C,e(C<=m.l.o),C>M){var V=m.l.width,W=P.ca,G=P.tb+V*M,J=m.V,te=m.Ba+m.c*M,Ae=m.gc;e(m.ab==1),e(Ae[0].hc==3),u0(Ae[0],M,C,J,te,W,G),Oi(P,M,C,W,G,V)}m.C=m.Ma=C}function bi(m,C,P,M,V,W,G){var J=m.$/M,te=m.$%M,Ae=m.m,we=m.s,Fe=P+m.$,ke=Fe;V=P+M*V;var Ee=P+M*W,$e=280+we.ua,Oe=m.Pb?J:16777216,be=0<we.ua?we.Wa:null,xe=we.wc,He=Fe<Ee?an(we,te,J):null;e(m.C<W),e(Ee<=V);var ze=!1;e:for(;;){for(;ze||Fe<Ee;){var Ve=0;if(J>=Oe){var lt=Fe-P;e((Oe=m).Pb),Oe.wd=Oe.m,Oe.xd=lt,0<Oe.s.ua&&he(Oe.s.Wa,Oe.s.vb),Oe=J+xz}if(te&xe||(He=an(we,te,J)),e(He!=null),He.Qb&&(C[Fe]=He.qb,ze=!0),!ze)if(fe(Ae),He.jc){Ve=Ae,lt=C;var it=Fe,bt=He.pd[z(Ve)&Bi-1];e(He.jc),256>bt.g?(ee(Ve,Ve.u+bt.g),lt[it]=bt.value,Ve=0):(ee(Ve,Ve.u+bt.g-256),e(256<=bt.value),Ve=bt.value),Ve==0&&(ze=!0)}else Ve=tr(He.G[0],He.H[0],Ae);if(Ae.h)break;if(ze||256>Ve){if(!ze)if(He.nd)C[Fe]=(He.qb|Ve<<8)>>>0;else{if(fe(Ae),ze=tr(He.G[1],He.H[1],Ae),fe(Ae),lt=tr(He.G[2],He.H[2],Ae),it=tr(He.G[3],He.H[3],Ae),Ae.h)break;C[Fe]=(it<<24|ze<<16|Ve<<8|lt)>>>0}if(ze=!1,++Fe,++te>=M&&(te=0,++J,G!=null&&J<=W&&!(J%16)&&G(m,J),be!=null))for(;ke<Fe;)Ve=C[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else if(280>Ve){if(Ve=mn(Ve-256,Ae),lt=tr(He.G[4],He.H[4],Ae),fe(Ae),lt=As(M,lt=mn(lt,Ae)),Ae.h)break;if(Fe-P<lt||V-Fe<Ve)break e;for(it=0;it<Ve;++it)C[Fe+it]=C[Fe+it-lt];for(Fe+=Ve,te+=Ve;te>=M;)te-=M,++J,G!=null&&J<=W&&!(J%16)&&G(m,J);if(e(Fe<=V),te&xe&&(He=an(we,te,J)),be!=null)for(;ke<Fe;)Ve=C[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve}else{if(!(Ve<$e))break e;for(ze=Ve-280,e(be!=null);ke<Fe;)Ve=C[ke++],be.X[(506832829*Ve&4294967295)>>>be.Mb]=Ve;Ve=Fe,e(!(ze>>>(lt=be).Xa)),C[Ve]=lt.X[ze],ze=!0}ze||e(Ae.h==q(Ae))}if(m.Pb&&Ae.h&&Fe<V)e(m.m.h),m.a=5,m.m=m.wd,m.$=m.xd,0<m.s.ua&&he(m.s.vb,m.s.Wa);else{if(Ae.h)break e;G!=null&&G(m,J>W?W:J),m.a=0,m.$=Fe-P}return 1}return m.a=3,0}function Gr(m){e(m!=null),m.vc=null,m.yc=null,m.Ya=null;var C=m.Wa;C!=null&&(C.X=null),m.vb=null,e(m!=null)}function qr(){var m=new du;return m==null?null:(m.a=0,m.xb=G4,Ht("Predictor","VP8LPredictors"),Ht("Predictor","VP8LPredictors_C"),Ht("PredictorAdd","VP8LPredictorsAdd"),Ht("PredictorAdd","VP8LPredictorsAdd_C"),c0=nt,fu=At,Is=Ie,fs=rt,DA=Ke,Cl=wt,xl=mt,B.VP8LMapColor32b=td,B.VP8LMapColor8b=h0,m)}function cr(m,C,P,M,V){var W=1,G=[m],J=[C],te=M.m,Ae=M.s,we=null,Fe=0;e:for(;;){if(P)for(;W&&ue(te,1);){var ke=G,Ee=J,$e=M,Oe=1,be=$e.m,xe=$e.gc[$e.ab],He=ue(be,2);if($e.Oc&1<<He)W=0;else{switch($e.Oc|=1<<He,xe.hc=He,xe.Ea=ke[0],xe.nc=Ee[0],xe.K=[null],++$e.ab,e(4>=$e.ab),He){case 0:case 1:xe.b=ue(be,3)+2,Oe=cr(Z(xe.Ea,xe.b),Z(xe.nc,xe.b),0,$e,xe.K),xe.K=xe.K[0];break;case 3:var ze,Ve=ue(be,8)+1,lt=16<Ve?0:4<Ve?1:2<Ve?2:3;if(ke[0]=Z(xe.Ea,lt),xe.b=lt,ze=Oe=cr(Ve,1,0,$e,xe.K)){var it,bt=Ve,st=xe,dn=1<<(8>>st.b),bn=s(dn);if(bn==null)ze=0;else{var An=st.K[0],en=st.w;for(bn[0]=st.K[0][0],it=1;it<1*bt;++it)bn[it]=ce(An[en+it],bn[it-1]);for(;it<4*dn;++it)bn[it]=0;st.K[0]=null,st.K[0]=bn,ze=1}}Oe=ze;break;case 2:break;default:e(0)}W=Oe}}if(G=G[0],J=J[0],W&&ue(te,1)&&!(W=1<=(Fe=ue(te,4))&&11>=Fe)){M.a=3;break e}var Pn;if(Pn=W)t:{var In,Qt,Qr,Ns=M,jr=G,Fs=J,_n=Fe,eo=P,to=Ns.m,Ai=Ns.s,Ei=[null],gs=1,No=0,Oa=Cz[_n];n:for(;;){if(eo&&ue(to,1)){var ci=ue(to,3)+2,Tl=Z(jr,ci),yu=Z(Fs,ci),od=Tl*yu;if(!cr(Tl,yu,0,Ns,Ei))break n;for(Ei=Ei[0],Ai.xc=ci,In=0;In<od;++In){var MA=Ei[In]>>8&65535;Ei[In]=MA,MA>=gs&&(gs=MA+1)}}if(to.h)break n;for(Qt=0;5>Qt;++Qt){var hr=K4[Qt];!Qt&&0<_n&&(hr+=1<<_n),No<hr&&(No=hr)}var v_=o(gs*Oa,E),rN=gs,iN=o(rN,N);if(iN==null)var x0=null;else e(65536>=rN),x0=iN;var Up=s(No);if(x0==null||Up==null||v_==null){Ns.a=1;break n}var B0=v_;for(In=Qr=0;In<gs;++In){var Aa=x0[In],ad=Aa.G,ld=Aa.H,sN=0,E0=1,oN=0;for(Qt=0;5>Qt;++Qt){hr=K4[Qt],ad[Qt]=B0,ld[Qt]=Qr,!Qt&&0<_n&&(hr+=1<<_n);i:{var S0,y_=hr,T0=Ns,Op=Up,$z=B0,zz=Qr,w_=0,QA=T0.m,Kz=ue(QA,1);if(i(Op,0,0,y_),Kz){var Wz=ue(QA,1)+1,Gz=ue(QA,1),aN=ue(QA,Gz==0?1:8);Op[aN]=1,Wz==2&&(Op[aN=ue(QA,8)]=1);var I0=1}else{var lN=s(19),AN=ue(QA,4)+4;if(19<AN){T0.a=3;var N0=0;break i}for(S0=0;S0<AN;++S0)lN[bz[S0]]=ue(QA,3);var b_=void 0,Mp=void 0,cN=T0,qz=lN,F0=y_,uN=Op,__=0,jA=cN.m,hN=8,dN=o(128,E);r:for(;D(dN,0,7,qz,19);){if(ue(jA,1)){var Yz=2+2*ue(jA,3);if((b_=2+ue(jA,Yz))>F0)break r}else b_=F0;for(Mp=0;Mp<F0&&b_--;){fe(jA);var fN=dN[0+(127&z(jA))];ee(jA,jA.u+fN.g);var Ad=fN.value;if(16>Ad)uN[Mp++]=Ad,Ad!=0&&(hN=Ad);else{var Xz=Ad==16,pN=Ad-16,Jz=yz[pN],gN=ue(jA,vz[pN])+Jz;if(Mp+gN>F0)break r;for(var Zz=Xz?hN:0;0<gN--;)uN[Mp++]=Zz}}__=1;break r}__||(cN.a=3),I0=__}(I0=I0&&!QA.h)&&(w_=D($z,zz,8,Op,y_)),I0&&w_!=0?N0=w_:(T0.a=3,N0=0)}if(N0==0)break n;if(E0&&wz[Qt]==1&&(E0=B0[Qr].g==0),sN+=B0[Qr].g,Qr+=N0,3>=Qt){var Qp,C_=Up[0];for(Qp=1;Qp<hr;++Qp)Up[Qp]>C_&&(C_=Up[Qp]);oN+=C_}}if(Aa.nd=E0,Aa.Qb=0,E0&&(Aa.qb=(ad[3][ld[3]+0].value<<24|ad[1][ld[1]+0].value<<16|ad[2][ld[2]+0].value)>>>0,sN==0&&256>ad[0][ld[0]+0].value&&(Aa.Qb=1,Aa.qb+=ad[0][ld[0]+0].value<<8)),Aa.jc=!Aa.Qb&&6>oN,Aa.jc){var k0,Il=Aa;for(k0=0;k0<Bi;++k0){var HA=k0,VA=Il.pd[HA],P0=Il.G[0][Il.H[0]+HA];256<=P0.value?(VA.g=P0.g+256,VA.value=P0.value):(VA.g=0,VA.value=0,HA>>=Sn(P0,8,VA),HA>>=Sn(Il.G[1][Il.H[1]+HA],16,VA),HA>>=Sn(Il.G[2][Il.H[2]+HA],0,VA),Sn(Il.G[3][Il.H[3]+HA],24,VA))}}}Ai.vc=Ei,Ai.Wb=gs,Ai.Ya=x0,Ai.yc=v_,Pn=1;break t}Pn=0}if(!(W=Pn)){M.a=3;break e}if(0<Fe){if(Ae.ua=1<<Fe,!Q(Ae.Wa,Fe)){M.a=1,W=0;break e}}else Ae.ua=0;var x_=M,mN=G,eK=J,B_=x_.s,E_=B_.xc;if(x_.c=mN,x_.i=eK,B_.md=Z(mN,E_),B_.wc=E_==0?-1:(1<<E_)-1,P){M.xb=Fz;break e}if((we=s(G*J))==null){M.a=1,W=0;break e}W=(W=bi(M,we,0,G,J,J,null))&&!te.h;break e}return W?(V!=null?V[0]=we:(e(we==null),e(P)),M.$=0,P||Gr(Ae)):Gr(Ae),W}function cs(m,C){var P=m.c*m.i,M=P+C+16*C;return e(m.c<=C),m.V=s(M),m.V==null?(m.Ta=null,m.Ua=0,m.a=1,0):(m.Ta=m.V,m.Ua=m.Ba+P+C,1)}function po(m,C){var P=m.C,M=C-P,V=m.V,W=m.Ba+m.c*P;for(e(C<=m.l.o);0<M;){var G=16<M?16:M,J=m.l.ma,te=m.l.width,Ae=te*G,we=J.ca,Fe=J.tb+te*P,ke=m.Ta,Ee=m.Ua;Rr(m,G,V,W),Cr(ke,Ee,we,Fe,Ae),Oi(J,P,P+G,we,Fe,te),M-=G,V+=G*m.c,P+=G}e(P==C),m.C=m.Ma=C}function Or(){this.ub=this.yd=this.td=this.Rb=0}function _i(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function go(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ci(){this.Yb=function(){var m=[];return function C(P,M,V){for(var W=V[M],G=0;G<W&&(P.push(V.length>M+1?[]:0),!(V.length<M+1));G++)C(P[G],M+1,V)}(m,0,[3,11]),m}()}function fl(){this.jb=s(3),this.Wc=a([4,8],Ci),this.Xc=a([4,17],Ci)}function Jo(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Yr(){this.ld=this.La=this.dd=this.tc=0}function Bs(){this.Na=this.la=0}function mo(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Mi(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Es(){this.uc=this.M=this.Nb=0,this.wa=Array(new Yr),this.Y=0,this.ya=Array(new Mi),this.aa=0,this.l=new Zo}function wA(){this.y=s(16),this.f=s(8),this.ea=s(8)}function bA(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Or,this.Kc=new _i,this.ed=new Jo,this.Qa=new go,this.Ic=this.$c=this.Aa=0,this.D=new Es,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,le),this.ia=0,this.pb=o(4,mo),this.Pa=new fl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new wA),this.Hd=0,this.rb=Array(new Bs),this.sb=0,this.wa=Array(new Yr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Mi),this.L=this.aa=0,this.gd=a([4,2],Yr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function pl(){var m=new bA;return m!=null&&(m.a=0,m.sc="OK",m.cb=0,m.Xb=0,Lp||(Lp=ml)),m}function Fn(m,C,P){return m.a==0&&(m.a=C,m.sc=P,m.cb=0),0}function Da(m,C,P){return 3<=P&&m[C+0]==157&&m[C+1]==1&&m[C+2]==42}function gl(m,C){if(m==null)return 0;if(m.a=0,m.sc="OK",C==null)return Fn(m,2,"null VP8Io passed to VP8GetHeaders()");var P=C.data,M=C.w,V=C.ha;if(4>V)return Fn(m,7,"Truncated header.");var W=P[M+0]|P[M+1]<<8|P[M+2]<<16,G=m.Od;if(G.Rb=!(1&W),G.td=W>>1&7,G.yd=W>>4&1,G.ub=W>>5,3<G.td)return Fn(m,3,"Incorrect keyframe parameters.");if(!G.yd)return Fn(m,4,"Frame not displayable.");M+=3,V-=3;var J=m.Kc;if(G.Rb){if(7>V)return Fn(m,7,"cannot parse picture header");if(!Da(P,M,V))return Fn(m,3,"Bad code word");J.c=16383&(P[M+4]<<8|P[M+3]),J.Td=P[M+4]>>6,J.i=16383&(P[M+6]<<8|P[M+5]),J.Ud=P[M+6]>>6,M+=7,V-=7,m.za=J.c+15>>4,m.Ub=J.i+15>>4,C.width=J.c,C.height=J.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((W=m.Pa).jb,0,255,W.jb.length),e((W=m.Qa)!=null),W.Cb=0,W.Bb=0,W.Fb=1,i(W.Zb,0,0,W.Zb.length),i(W.Lb,0,0,W.Lb)}if(G.ub>V)return Fn(m,7,"bad partition length");Y(W=m.m,P,M,G.ub),M+=G.ub,V-=G.ub,G.Rb&&(J.Ld=ge(W),J.Kd=ge(W)),J=m.Qa;var te,Ae=m.Pa;if(e(W!=null),e(J!=null),J.Cb=ge(W),J.Cb){if(J.Bb=ge(W),ge(W)){for(J.Fb=ge(W),te=0;4>te;++te)J.Zb[te]=ge(W)?ie(W,7):0;for(te=0;4>te;++te)J.Lb[te]=ge(W)?ie(W,6):0}if(J.Bb)for(te=0;3>te;++te)Ae.jb[te]=ge(W)?oe(W,8):255}else J.Bb=0;if(W.Ka)return Fn(m,3,"cannot parse segment header");if((J=m.ed).zd=ge(W),J.Tb=oe(W,6),J.wb=oe(W,3),J.Pc=ge(W),J.Pc&&ge(W)){for(Ae=0;4>Ae;++Ae)ge(W)&&(J.vd[Ae]=ie(W,6));for(Ae=0;4>Ae;++Ae)ge(W)&&(J.od[Ae]=ie(W,6))}if(m.L=J.Tb==0?0:J.zd?1:2,W.Ka)return Fn(m,3,"cannot parse filter header");var we=V;if(V=te=M,M=te+we,J=we,m.Xb=(1<<oe(m.m,2))-1,we<3*(Ae=m.Xb))P=7;else{for(te+=3*Ae,J-=3*Ae,we=0;we<Ae;++we){var Fe=P[V+0]|P[V+1]<<8|P[V+2]<<16;Fe>J&&(Fe=J),Y(m.Jc[+we],P,te,Fe),te+=Fe,J-=Fe,V+=3}Y(m.Jc[+Ae],P,te,J),P=te<M?0:5}if(P!=0)return Fn(m,P,"cannot parse partitions");for(P=oe(te=m.m,7),V=ge(te)?ie(te,4):0,M=ge(te)?ie(te,4):0,J=ge(te)?ie(te,4):0,Ae=ge(te)?ie(te,4):0,te=ge(te)?ie(te,4):0,we=m.Qa,Fe=0;4>Fe;++Fe){if(we.Cb){var ke=we.Zb[Fe];we.Fb||(ke+=P)}else{if(0<Fe){m.pb[Fe]=m.pb[0];continue}ke=P}var Ee=m.pb[Fe];Ee.Sc[0]=p_[Pt(ke+V,127)],Ee.Sc[1]=g_[Pt(ke+0,127)],Ee.Eb[0]=2*p_[Pt(ke+M,127)],Ee.Eb[1]=101581*g_[Pt(ke+J,127)]>>16,8>Ee.Eb[1]&&(Ee.Eb[1]=8),Ee.Qc[0]=p_[Pt(ke+Ae,117)],Ee.Qc[1]=g_[Pt(ke+te,127)],Ee.lc=ke+te}if(!G.Rb)return Fn(m,4,"Not a key frame.");for(ge(W),G=m.Pa,P=0;4>P;++P){for(V=0;8>V;++V)for(M=0;3>M;++M)for(J=0;11>J;++J)Ae=ye(W,Iz[P][V][M][J])?oe(W,8):Sz[P][V][M][J],G.Wc[P][V].Yb[M][J]=Ae;for(V=0;17>V;++V)G.Xc[P][V]=G.Wc[P][Nz[V]]}return m.kc=ge(W),m.kc&&(m.Bd=oe(W,8)),m.cb=1}function ml(m,C,P,M,V,W,G){var J=C[V].Yb[P];for(P=0;16>V;++V){if(!ye(m,J[P+0]))return V;for(;!ye(m,J[P+1]);)if(J=C[++V].Yb[0],P=0,V==16)return 16;var te=C[V+1].Yb;if(ye(m,J[P+2])){var Ae=m,we=0;if(ye(Ae,(ke=J)[(Fe=P)+3]))if(ye(Ae,ke[Fe+6])){for(J=0,Fe=2*(we=ye(Ae,ke[Fe+8]))+(ke=ye(Ae,ke[Fe+9+we])),we=0,ke=Bz[Fe];ke[J];++J)we+=we+ye(Ae,ke[J]);we+=3+(8<<Fe)}else ye(Ae,ke[Fe+7])?(we=7+2*ye(Ae,165),we+=ye(Ae,145)):we=5+ye(Ae,159);else we=ye(Ae,ke[Fe+4])?3+ye(Ae,ke[Fe+5]):2;J=te[2]}else we=1,J=te[1];te=G+Ez[V],0>(Ae=m).b&&me(Ae);var Fe,ke=Ae.b,Ee=(Fe=Ae.Ca>>1)-(Ae.I>>ke)>>31;--Ae.b,Ae.Ca+=Ee,Ae.Ca|=1,Ae.I-=(Fe+1&Ee)<<ke,W[te]=((we^Ee)-Ee)*M[(0<V)+0]}return 16}function vl(m){var C=m.rb[m.sb-1];C.la=0,C.Na=0,i(m.zc,0,0,m.zc.length),m.ja=0}function $t(m,C){if(m==null)return 0;if(C==null)return Fn(m,2,"NULL VP8Io parameter in VP8Decode().");if(!m.cb&&!gl(m,C))return 0;if(e(m.cb),C.ac==null||C.ac(C)){C.ob&&(m.L=0);var P=C0[m.L];if(m.L==2?(m.yb=0,m.zb=0):(m.yb=C.v-P>>4,m.zb=C.j-P>>4,0>m.yb&&(m.yb=0),0>m.zb&&(m.zb=0)),m.Va=C.o+15+P>>4,m.Hb=C.va+15+P>>4,m.Hb>m.za&&(m.Hb=m.za),m.Va>m.Ub&&(m.Va=m.Ub),0<m.L){var M=m.ed;for(P=0;4>P;++P){var V;if(m.Qa.Cb){var W=m.Qa.Lb[P];m.Qa.Fb||(W+=M.Tb)}else W=M.Tb;for(V=0;1>=V;++V){var G=m.gd[P][V],J=W;if(M.Pc&&(J+=M.vd[0],V&&(J+=M.od[0])),0<(J=0>J?0:63<J?63:J)){var te=J;0<M.wb&&(te=4<M.wb?te>>2:te>>1)>9-M.wb&&(te=9-M.wb),1>te&&(te=1),G.dd=te,G.tc=2*J+te,G.ld=40<=J?2:15<=J?1:0}else G.tc=0;G.La=V}}}P=0}else Fn(m,6,"Frame setup failed"),P=m.a;if(P=P==0){if(P){m.$c=0,0<m.Aa||(m.Ic=Vz);e:{P=m.Ic,M=4*(te=m.za);var Ae=32*te,we=te+1,Fe=0<m.L?te*(0<m.Aa?2:1):0,ke=(m.Aa==2?2:1)*te;if((G=M+832+(V=3*(16*P+C0[m.L])/2*Ae)+(W=m.Fa!=null&&0<m.Fa.length?m.Kc.c*m.Kc.i:0))!=G)P=0;else{if(G>m.Vb){if(m.Vb=0,m.Ec=s(G),m.Fc=0,m.Ec==null){P=Fn(m,1,"no memory during frame initialization.");break e}m.Vb=G}G=m.Ec,J=m.Fc,m.Ac=G,m.Bc=J,J+=M,m.Gd=o(Ae,wA),m.Hd=0,m.rb=o(we+1,Bs),m.sb=1,m.wa=Fe?o(Fe,Yr):null,m.Y=0,m.D.Nb=0,m.D.wa=m.wa,m.D.Y=m.Y,0<m.Aa&&(m.D.Y+=te),e(!0),m.oc=G,m.pc=J,J+=832,m.ya=o(ke,Mi),m.aa=0,m.D.ya=m.ya,m.D.aa=m.aa,m.Aa==2&&(m.D.aa+=te),m.R=16*te,m.B=8*te,te=(Ae=C0[m.L])*m.R,Ae=Ae/2*m.B,m.sa=G,m.ta=J+te,m.qa=m.sa,m.ra=m.ta+16*P*m.R+Ae,m.Ha=m.qa,m.Ia=m.ra+8*P*m.B+Ae,m.$c=0,J+=V,m.mb=W?G:null,m.nb=W?J:null,e(J+W<=m.Fc+m.Vb),vl(m),i(m.Ac,m.Bc,0,M),P=1}}if(P){if(C.ka=0,C.y=m.sa,C.O=m.ta,C.f=m.qa,C.N=m.ra,C.ea=m.Ha,C.Vd=m.Ia,C.fa=m.R,C.Rc=m.B,C.F=null,C.J=0,!f0){for(P=-255;255>=P;++P)Xr[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)El[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Dp[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)sd[255+P]=0>P?0:255<P?255:P;f0=1}nd=_A,Bl=us,Fp=yl,ps=Hh,Bo=vn,_r=Mr,rd=ia,d0=Ra,kp=Yh,pu=Ua,gu=cu,LA=sa,mu=uu,id=hu,vu=Au,RA=ds,Pp=wo,Eo=Ys,la[0]=yo,la[1]=wl,la[2]=zh,la[3]=La,la[4]=Kh,la[5]=hs,la[6]=Wh,la[7]=ou,la[8]=BA,la[9]=Sp,UA[0]=$h,UA[1]=Vh,UA[2]=ta,UA[3]=CA,UA[4]=ur,UA[5]=vo,UA[6]=su,Sl[0]=Ss,Sl[1]=Ep,Sl[2]=EA,Sl[3]=SA,Sl[4]=na,Sl[5]=Gh,Sl[6]=Tn,P=1}else P=0}P&&(P=function(Ee,$e){for(Ee.M=0;Ee.M<Ee.Va;++Ee.M){var Oe,be=Ee.Jc[Ee.M&Ee.Xb],xe=Ee.m,He=Ee;for(Oe=0;Oe<He.za;++Oe){var ze=xe,Ve=He,lt=Ve.Ac,it=Ve.Bc+4*Oe,bt=Ve.zc,st=Ve.ya[Ve.aa+Oe];if(Ve.Qa.Bb?st.$b=ye(ze,Ve.Pa.jb[0])?2+ye(ze,Ve.Pa.jb[2]):ye(ze,Ve.Pa.jb[1]):st.$b=0,Ve.kc&&(st.Ad=ye(ze,Ve.Bd)),st.Za=!ye(ze,145)+0,st.Za){var dn=st.Ob,bn=0;for(Ve=0;4>Ve;++Ve){var An,en=bt[0+Ve];for(An=0;4>An;++An){en=Tz[lt[it+An]][en];for(var Pn=W4[ye(ze,en[0])];0<Pn;)Pn=W4[2*Pn+ye(ze,en[Pn])];en=-Pn,lt[it+An]=en}r(dn,bn,lt,it,4),bn+=4,bt[0+Ve]=en}}else en=ye(ze,156)?ye(ze,128)?1:3:ye(ze,163)?2:0,st.Ob[0]=en,i(lt,it,en,4),i(bt,0,en,4);st.Dd=ye(ze,142)?ye(ze,114)?ye(ze,183)?1:3:2:0}if(He.m.Ka)return Fn(Ee,7,"Premature end-of-partition0 encountered.");for(;Ee.ja<Ee.za;++Ee.ja){if(He=be,ze=(xe=Ee).rb[xe.sb-1],lt=xe.rb[xe.sb+xe.ja],Oe=xe.ya[xe.aa+xe.ja],it=xe.kc?Oe.Ad:0)ze.la=lt.la=0,Oe.Za||(ze.Na=lt.Na=0),Oe.Hc=0,Oe.Gc=0,Oe.ia=0;else{var In,Qt;if(ze=lt,lt=He,it=xe.Pa.Xc,bt=xe.ya[xe.aa+xe.ja],st=xe.pb[bt.$b],Ve=bt.ad,dn=0,bn=xe.rb[xe.sb-1],en=An=0,i(Ve,dn,0,384),bt.Za)var Qr=0,Ns=it[3];else{Pn=s(16);var jr=ze.Na+bn.Na;if(jr=Lp(lt,it[1],jr,st.Eb,0,Pn,0),ze.Na=bn.Na=(0<jr)+0,1<jr)nd(Pn,0,Ve,dn);else{var Fs=Pn[0]+3>>3;for(Pn=0;256>Pn;Pn+=16)Ve[dn+Pn]=Fs}Qr=1,Ns=it[0]}var _n=15&ze.la,eo=15&bn.la;for(Pn=0;4>Pn;++Pn){var to=1&eo;for(Fs=Qt=0;4>Fs;++Fs)_n=_n>>1|(to=(jr=Lp(lt,Ns,jr=to+(1&_n),st.Sc,Qr,Ve,dn))>Qr)<<7,Qt=Qt<<2|(3<jr?3:1<jr?2:Ve[dn+0]!=0),dn+=16;_n>>=4,eo=eo>>1|to<<7,An=(An<<8|Qt)>>>0}for(Ns=_n,Qr=eo>>4,In=0;4>In;In+=2){for(Qt=0,_n=ze.la>>4+In,eo=bn.la>>4+In,Pn=0;2>Pn;++Pn){for(to=1&eo,Fs=0;2>Fs;++Fs)jr=to+(1&_n),_n=_n>>1|(to=0<(jr=Lp(lt,it[2],jr,st.Qc,0,Ve,dn)))<<3,Qt=Qt<<2|(3<jr?3:1<jr?2:Ve[dn+0]!=0),dn+=16;_n>>=2,eo=eo>>1|to<<5}en|=Qt<<4*In,Ns|=_n<<4<<In,Qr|=(240&eo)<<In}ze.la=Ns,bn.la=Qr,bt.Hc=An,bt.Gc=en,bt.ia=43690&en?0:st.ia,it=!(An|en)}if(0<xe.L&&(xe.wa[xe.Y+xe.ja]=xe.gd[Oe.$b][Oe.Za],xe.wa[xe.Y+xe.ja].La|=!it),He.Ka)return Fn(Ee,7,"Premature end-of-file encountered.")}if(vl(Ee),xe=$e,He=1,Oe=(be=Ee).D,ze=0<be.L&&be.M>=be.zb&&be.M<=be.Va,be.Aa==0)e:{if(Oe.M=be.M,Oe.uc=ze,xi(be,Oe),He=1,Oe=(Qt=be.D).Nb,ze=(en=C0[be.L])*be.R,lt=en/2*be.B,Pn=16*Oe*be.R,Fs=8*Oe*be.B,it=be.sa,bt=be.ta-ze+Pn,st=be.qa,Ve=be.ra-lt+Fs,dn=be.Ha,bn=be.Ia-lt+Fs,eo=(_n=Qt.M)==0,An=_n>=be.Va-1,be.Aa==2&&xi(be,Qt),Qt.uc)for(to=(jr=be).D.M,e(jr.D.uc),Qt=jr.yb;Qt<jr.Hb;++Qt){Qr=Qt,Ns=to;var Ai=(Ei=(hr=jr).D).Nb;In=hr.R;var Ei=Ei.wa[Ei.Y+Qr],gs=hr.sa,No=hr.ta+16*Ai*In+16*Qr,Oa=Ei.dd,ci=Ei.tc;if(ci!=0)if(e(3<=ci),hr.L==1)0<Qr&&RA(gs,No,In,ci+4),Ei.La&&Eo(gs,No,In,ci),0<Ns&&vu(gs,No,In,ci+4),Ei.La&&Pp(gs,No,In,ci);else{var Tl=hr.B,yu=hr.qa,od=hr.ra+8*Ai*Tl+8*Qr,MA=hr.Ha,hr=hr.Ia+8*Ai*Tl+8*Qr;Ai=Ei.ld,0<Qr&&(d0(gs,No,In,ci+4,Oa,Ai),pu(yu,od,MA,hr,Tl,ci+4,Oa,Ai)),Ei.La&&(LA(gs,No,In,ci,Oa,Ai),id(yu,od,MA,hr,Tl,ci,Oa,Ai)),0<Ns&&(rd(gs,No,In,ci+4,Oa,Ai),kp(yu,od,MA,hr,Tl,ci+4,Oa,Ai)),Ei.La&&(gu(gs,No,In,ci,Oa,Ai),mu(yu,od,MA,hr,Tl,ci,Oa,Ai))}}if(be.ia&&alert("todo:DitherRow"),xe.put!=null){if(Qt=16*_n,_n=16*(_n+1),eo?(xe.y=be.sa,xe.O=be.ta+Pn,xe.f=be.qa,xe.N=be.ra+Fs,xe.ea=be.Ha,xe.W=be.Ia+Fs):(Qt-=en,xe.y=it,xe.O=bt,xe.f=st,xe.N=Ve,xe.ea=dn,xe.W=bn),An||(_n-=en),_n>xe.o&&(_n=xe.o),xe.F=null,xe.J=null,be.Fa!=null&&0<be.Fa.length&&Qt<_n&&(xe.J=Js(be,xe,Qt,_n-Qt),xe.F=be.mb,xe.F==null&&xe.F.length==0)){He=Fn(be,3,"Could not decode alpha data.");break e}Qt<xe.j&&(en=xe.j-Qt,Qt=xe.j,e(!(1&en)),xe.O+=be.R*en,xe.N+=be.B*(en>>1),xe.W+=be.B*(en>>1),xe.F!=null&&(xe.J+=xe.width*en)),Qt<_n&&(xe.O+=xe.v,xe.N+=xe.v>>1,xe.W+=xe.v>>1,xe.F!=null&&(xe.J+=xe.v),xe.ka=Qt-xe.j,xe.U=xe.va-xe.v,xe.T=_n-Qt,He=xe.put(xe))}Oe+1!=be.Ic||An||(r(be.sa,be.ta-ze,it,bt+16*be.R,ze),r(be.qa,be.ra-lt,st,Ve+8*be.B,lt),r(be.Ha,be.Ia-lt,dn,bn+8*be.B,lt))}if(!He)return Fn(Ee,6,"Output aborted.")}return 1}(m,C)),C.bc!=null&&C.bc(C),P&=1}return P?(m.cb=0,P):0}function Ft(m,C,P,M,V){V=m[C+P+32*M]+(V>>3),m[C+P+32*M]=-256&V?0>V?0:255:V}function Wt(m,C,P,M,V,W){Ft(m,C,0,P,M+V),Ft(m,C,1,P,M+W),Ft(m,C,2,P,M-W),Ft(m,C,3,P,M-V)}function Ot(m){return(20091*m>>16)+m}function Zt(m,C,P,M){var V,W=0,G=s(16);for(V=0;4>V;++V){var J=m[C+0]+m[C+8],te=m[C+0]-m[C+8],Ae=(35468*m[C+4]>>16)-Ot(m[C+12]),we=Ot(m[C+4])+(35468*m[C+12]>>16);G[W+0]=J+we,G[W+1]=te+Ae,G[W+2]=te-Ae,G[W+3]=J-we,W+=4,C++}for(V=W=0;4>V;++V)J=(m=G[W+0]+4)+G[W+8],te=m-G[W+8],Ae=(35468*G[W+4]>>16)-Ot(G[W+12]),Ft(P,M,0,0,J+(we=Ot(G[W+4])+(35468*G[W+12]>>16))),Ft(P,M,1,0,te+Ae),Ft(P,M,2,0,te-Ae),Ft(P,M,3,0,J-we),W++,M+=32}function Mr(m,C,P,M){var V=m[C+0]+4,W=35468*m[C+4]>>16,G=Ot(m[C+4]),J=35468*m[C+1]>>16;Wt(P,M,0,V+G,m=Ot(m[C+1]),J),Wt(P,M,1,V+W,m,J),Wt(P,M,2,V-W,m,J),Wt(P,M,3,V-G,m,J)}function us(m,C,P,M,V){Zt(m,C,P,M),V&&Zt(m,C+16,P,M+4)}function yl(m,C,P,M){Bl(m,C+0,P,M,1),Bl(m,C+32,P,M+128,1)}function Hh(m,C,P,M){var V;for(m=m[C+0]+4,V=0;4>V;++V)for(C=0;4>C;++C)Ft(P,M,C,V,m)}function vn(m,C,P,M){m[C+0]&&ps(m,C+0,P,M),m[C+16]&&ps(m,C+16,P,M+4),m[C+32]&&ps(m,C+32,P,M+128),m[C+48]&&ps(m,C+48,P,M+128+4)}function _A(m,C,P,M){var V,W=s(16);for(V=0;4>V;++V){var G=m[C+0+V]+m[C+12+V],J=m[C+4+V]+m[C+8+V],te=m[C+4+V]-m[C+8+V],Ae=m[C+0+V]-m[C+12+V];W[0+V]=G+J,W[8+V]=G-J,W[4+V]=Ae+te,W[12+V]=Ae-te}for(V=0;4>V;++V)G=(m=W[0+4*V]+3)+W[3+4*V],J=W[1+4*V]+W[2+4*V],te=W[1+4*V]-W[2+4*V],Ae=m-W[3+4*V],P[M+0]=G+J>>3,P[M+16]=Ae+te>>3,P[M+32]=G-J>>3,P[M+48]=Ae-te>>3,M+=64}function ea(m,C,P){var M,V=C-32,W=Zs,G=255-m[V-1];for(M=0;M<P;++M){var J,te=W,Ae=G+m[C-1];for(J=0;J<P;++J)m[C+J]=te[Ae+m[V+J]];C+=32}}function wl(m,C){ea(m,C,4)}function Ep(m,C){ea(m,C,8)}function Vh(m,C){ea(m,C,16)}function ta(m,C){var P;for(P=0;16>P;++P)r(m,C+32*P,m,C-32,16)}function CA(m,C){var P;for(P=16;0<P;--P)i(m,C,m[C-1],16),C+=32}function xA(m,C,P){var M;for(M=0;16>M;++M)i(C,P+32*M,m,16)}function $h(m,C){var P,M=16;for(P=0;16>P;++P)M+=m[C-1+32*P]+m[C+P-32];xA(M>>5,m,C)}function ur(m,C){var P,M=8;for(P=0;16>P;++P)M+=m[C-1+32*P];xA(M>>4,m,C)}function vo(m,C){var P,M=8;for(P=0;16>P;++P)M+=m[C+P-32];xA(M>>4,m,C)}function su(m,C){xA(128,m,C)}function Tt(m,C,P){return m+2*C+P+2>>2}function zh(m,C){var P,M=C-32;for(M=new Uint8Array([Tt(m[M-1],m[M+0],m[M+1]),Tt(m[M+0],m[M+1],m[M+2]),Tt(m[M+1],m[M+2],m[M+3]),Tt(m[M+2],m[M+3],m[M+4])]),P=0;4>P;++P)r(m,C+32*P,M,0,M.length)}function La(m,C){var P=m[C-1],M=m[C-1+32],V=m[C-1+64],W=m[C-1+96];Me(m,C+0,16843009*Tt(m[C-1-32],P,M)),Me(m,C+32,16843009*Tt(P,M,V)),Me(m,C+64,16843009*Tt(M,V,W)),Me(m,C+96,16843009*Tt(V,W,W))}function yo(m,C){var P,M=4;for(P=0;4>P;++P)M+=m[C+P-32]+m[C-1+32*P];for(M>>=3,P=0;4>P;++P)i(m,C+32*P,M,4)}function Kh(m,C){var P=m[C-1+0],M=m[C-1+32],V=m[C-1+64],W=m[C-1-32],G=m[C+0-32],J=m[C+1-32],te=m[C+2-32],Ae=m[C+3-32];m[C+0+96]=Tt(M,V,m[C-1+96]),m[C+1+96]=m[C+0+64]=Tt(P,M,V),m[C+2+96]=m[C+1+64]=m[C+0+32]=Tt(W,P,M),m[C+3+96]=m[C+2+64]=m[C+1+32]=m[C+0+0]=Tt(G,W,P),m[C+3+64]=m[C+2+32]=m[C+1+0]=Tt(J,G,W),m[C+3+32]=m[C+2+0]=Tt(te,J,G),m[C+3+0]=Tt(Ae,te,J)}function Wh(m,C){var P=m[C+1-32],M=m[C+2-32],V=m[C+3-32],W=m[C+4-32],G=m[C+5-32],J=m[C+6-32],te=m[C+7-32];m[C+0+0]=Tt(m[C+0-32],P,M),m[C+1+0]=m[C+0+32]=Tt(P,M,V),m[C+2+0]=m[C+1+32]=m[C+0+64]=Tt(M,V,W),m[C+3+0]=m[C+2+32]=m[C+1+64]=m[C+0+96]=Tt(V,W,G),m[C+3+32]=m[C+2+64]=m[C+1+96]=Tt(W,G,J),m[C+3+64]=m[C+2+96]=Tt(G,J,te),m[C+3+96]=Tt(J,te,te)}function hs(m,C){var P=m[C-1+0],M=m[C-1+32],V=m[C-1+64],W=m[C-1-32],G=m[C+0-32],J=m[C+1-32],te=m[C+2-32],Ae=m[C+3-32];m[C+0+0]=m[C+1+64]=W+G+1>>1,m[C+1+0]=m[C+2+64]=G+J+1>>1,m[C+2+0]=m[C+3+64]=J+te+1>>1,m[C+3+0]=te+Ae+1>>1,m[C+0+96]=Tt(V,M,P),m[C+0+64]=Tt(M,P,W),m[C+0+32]=m[C+1+96]=Tt(P,W,G),m[C+1+32]=m[C+2+96]=Tt(W,G,J),m[C+2+32]=m[C+3+96]=Tt(G,J,te),m[C+3+32]=Tt(J,te,Ae)}function ou(m,C){var P=m[C+0-32],M=m[C+1-32],V=m[C+2-32],W=m[C+3-32],G=m[C+4-32],J=m[C+5-32],te=m[C+6-32],Ae=m[C+7-32];m[C+0+0]=P+M+1>>1,m[C+1+0]=m[C+0+64]=M+V+1>>1,m[C+2+0]=m[C+1+64]=V+W+1>>1,m[C+3+0]=m[C+2+64]=W+G+1>>1,m[C+0+32]=Tt(P,M,V),m[C+1+32]=m[C+0+96]=Tt(M,V,W),m[C+2+32]=m[C+1+96]=Tt(V,W,G),m[C+3+32]=m[C+2+96]=Tt(W,G,J),m[C+3+64]=Tt(G,J,te),m[C+3+96]=Tt(J,te,Ae)}function Sp(m,C){var P=m[C-1+0],M=m[C-1+32],V=m[C-1+64],W=m[C-1+96];m[C+0+0]=P+M+1>>1,m[C+2+0]=m[C+0+32]=M+V+1>>1,m[C+2+32]=m[C+0+64]=V+W+1>>1,m[C+1+0]=Tt(P,M,V),m[C+3+0]=m[C+1+32]=Tt(M,V,W),m[C+3+32]=m[C+1+64]=Tt(V,W,W),m[C+3+64]=m[C+2+64]=m[C+0+96]=m[C+1+96]=m[C+2+96]=m[C+3+96]=W}function BA(m,C){var P=m[C-1+0],M=m[C-1+32],V=m[C-1+64],W=m[C-1+96],G=m[C-1-32],J=m[C+0-32],te=m[C+1-32],Ae=m[C+2-32];m[C+0+0]=m[C+2+32]=P+G+1>>1,m[C+0+32]=m[C+2+64]=M+P+1>>1,m[C+0+64]=m[C+2+96]=V+M+1>>1,m[C+0+96]=W+V+1>>1,m[C+3+0]=Tt(J,te,Ae),m[C+2+0]=Tt(G,J,te),m[C+1+0]=m[C+3+32]=Tt(P,G,J),m[C+1+32]=m[C+3+64]=Tt(M,P,G),m[C+1+64]=m[C+3+96]=Tt(V,M,P),m[C+1+96]=Tt(W,V,M)}function EA(m,C){var P;for(P=0;8>P;++P)r(m,C+32*P,m,C-32,8)}function SA(m,C){var P;for(P=0;8>P;++P)i(m,C,m[C-1],8),C+=32}function qs(m,C,P){var M;for(M=0;8>M;++M)i(C,P+32*M,m,8)}function Ss(m,C){var P,M=8;for(P=0;8>P;++P)M+=m[C+P-32]+m[C-1+32*P];qs(M>>4,m,C)}function Gh(m,C){var P,M=4;for(P=0;8>P;++P)M+=m[C+P-32];qs(M>>3,m,C)}function na(m,C){var P,M=4;for(P=0;8>P;++P)M+=m[C-1+32*P];qs(M>>3,m,C)}function Tn(m,C){qs(128,m,C)}function TA(m,C,P){var M=m[C-P],V=m[C+0],W=3*(V-M)+c_[1020+m[C-2*P]-m[C+P]],G=p0[112+(W+4>>3)];m[C-P]=Zs[255+M+p0[112+(W+3>>3)]],m[C+0]=Zs[255+V-G]}function qh(m,C,P,M){var V=m[C+0],W=m[C+P];return To[255+m[C-2*P]-m[C-P]]>M||To[255+W-V]>M}function au(m,C,P,M){return 4*To[255+m[C-P]-m[C+0]]+To[255+m[C-2*P]-m[C+P]]<=M}function lu(m,C,P,M,V){var W=m[C-3*P],G=m[C-2*P],J=m[C-P],te=m[C+0],Ae=m[C+P],we=m[C+2*P],Fe=m[C+3*P];return 4*To[255+J-te]+To[255+G-Ae]>M?0:To[255+m[C-4*P]-W]<=V&&To[255+W-G]<=V&&To[255+G-J]<=V&&To[255+Fe-we]<=V&&To[255+we-Ae]<=V&&To[255+Ae-te]<=V}function Au(m,C,P,M){var V=2*M+1;for(M=0;16>M;++M)au(m,C+M,P,V)&&TA(m,C+M,P)}function ds(m,C,P,M){var V=2*M+1;for(M=0;16>M;++M)au(m,C+M*P,1,V)&&TA(m,C+M*P,1)}function wo(m,C,P,M){var V;for(V=3;0<V;--V)Au(m,C+=4*P,P,M)}function Ys(m,C,P,M){var V;for(V=3;0<V;--V)ds(m,C+=4,P,M)}function ra(m,C,P,M,V,W,G,J){for(W=2*W+1;0<V--;){if(lu(m,C,P,W,G))if(qh(m,C,P,J))TA(m,C,P);else{var te=m,Ae=C,we=P,Fe=te[Ae-2*we],ke=te[Ae-we],Ee=te[Ae+0],$e=te[Ae+we],Oe=te[Ae+2*we],be=27*(He=c_[1020+3*(Ee-ke)+c_[1020+Fe-$e]])+63>>7,xe=18*He+63>>7,He=9*He+63>>7;te[Ae-3*we]=Zs[255+te[Ae-3*we]+He],te[Ae-2*we]=Zs[255+Fe+xe],te[Ae-we]=Zs[255+ke+be],te[Ae+0]=Zs[255+Ee-be],te[Ae+we]=Zs[255+$e-xe],te[Ae+2*we]=Zs[255+Oe-He]}C+=M}}function Xs(m,C,P,M,V,W,G,J){for(W=2*W+1;0<V--;){if(lu(m,C,P,W,G))if(qh(m,C,P,J))TA(m,C,P);else{var te=m,Ae=C,we=P,Fe=te[Ae-we],ke=te[Ae+0],Ee=te[Ae+we],$e=p0[112+((Oe=3*(ke-Fe))+4>>3)],Oe=p0[112+(Oe+3>>3)],be=$e+1>>1;te[Ae-2*we]=Zs[255+te[Ae-2*we]+be],te[Ae-we]=Zs[255+Fe+Oe],te[Ae+0]=Zs[255+ke-$e],te[Ae+we]=Zs[255+Ee-be]}C+=M}}function ia(m,C,P,M,V,W){ra(m,C,P,1,16,M,V,W)}function Ra(m,C,P,M,V,W){ra(m,C,1,P,16,M,V,W)}function cu(m,C,P,M,V,W){var G;for(G=3;0<G;--G)Xs(m,C+=4*P,P,1,16,M,V,W)}function sa(m,C,P,M,V,W){var G;for(G=3;0<G;--G)Xs(m,C+=4,1,P,16,M,V,W)}function Yh(m,C,P,M,V,W,G,J){ra(m,C,V,1,8,W,G,J),ra(P,M,V,1,8,W,G,J)}function Ua(m,C,P,M,V,W,G,J){ra(m,C,1,V,8,W,G,J),ra(P,M,1,V,8,W,G,J)}function uu(m,C,P,M,V,W,G,J){Xs(m,C+4*V,V,1,8,W,G,J),Xs(P,M+4*V,V,1,8,W,G,J)}function hu(m,C,P,M,V,W,G,J){Xs(m,C+4,1,V,8,W,G,J),Xs(P,M+4,1,V,8,W,G,J)}function bo(){this.ba=new Jt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function IA(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function NA(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function FA(){this.ua=0,this.Wa=new K,this.vb=new K,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new N,this.yc=new E}function du(){this.xb=this.a=0,this.l=new Zo,this.ca=new Jt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new U,this.Pb=0,this.wd=new U,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new FA,this.ab=0,this.gc=o(4,NA),this.Oc=0}function bl(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Zo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function _o(m,C,P,M,V,W,G){for(m=m==null?0:m[C+0],C=0;C<G;++C)V[W+C]=m+P[M+C]&255,m=V[W+C]}function kA(m,C,P,M,V,W,G){var J;if(m==null)_o(null,null,P,M,V,W,G);else for(J=0;J<G;++J)V[W+J]=m[C+J]+P[M+J]&255}function oa(m,C,P,M,V,W,G){if(m==null)_o(null,null,P,M,V,W,G);else{var J,te=m[C+0],Ae=te,we=te;for(J=0;J<G;++J)Ae=we+(te=m[C+J])-Ae,we=P[M+J]+(-256&Ae?0>Ae?0:255:Ae)&255,Ae=te,V[W+J]=we}}function Js(m,C,P,M){var V=C.width,W=C.o;if(e(m!=null&&C!=null),0>P||0>=M||P+M>W)return null;if(!m.Cc){if(m.ga==null){var G;if(m.ga=new bl,(G=m.ga==null)||(G=C.width*C.o,e(m.Gb.length==0),m.Gb=s(G),m.Uc=0,m.Gb==null?G=0:(m.mb=m.Gb,m.nb=m.Uc,m.rc=null,G=1),G=!G),!G){G=m.ga;var J=m.Fa,te=m.P,Ae=m.qc,we=m.mb,Fe=m.nb,ke=te+1,Ee=Ae-1,$e=G.l;if(e(J!=null&&we!=null&&C!=null),OA[0]=null,OA[1]=_o,OA[2]=kA,OA[3]=oa,G.ca=we,G.tb=Fe,G.c=C.width,G.i=C.height,e(0<G.c&&0<G.i),1>=Ae)C=0;else if(G.$a=J[te+0]>>0&3,G.Z=J[te+0]>>2&3,G.Lc=J[te+0]>>4&3,te=J[te+0]>>6&3,0>G.$a||1<G.$a||4<=G.Z||1<G.Lc||te)C=0;else if($e.put=Ri,$e.ac=zn,$e.bc=ai,$e.ma=G,$e.width=C.width,$e.height=C.height,$e.Da=C.Da,$e.v=C.v,$e.va=C.va,$e.j=C.j,$e.o=C.o,G.$a)e:{e(G.$a==1),C=qr();t:for(;;){if(C==null){C=0;break e}if(e(G!=null),G.mc=C,C.c=G.c,C.i=G.i,C.l=G.l,C.l.ma=G,C.l.width=G.c,C.l.height=G.i,C.a=0,ne(C.m,J,ke,Ee),!cr(G.c,G.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&li(C.s)?(G.ic=1,J=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(J),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(G.ic=0,C=cs(C,G.c)),!C))break t;C=1;break e}G.mc=null,C=0}else C=Ee>=G.c*G.i;G=!C}if(G)return null;m.ga.Lc!=1?m.Ga=0:M=W-P}e(m.ga!=null),e(P+M<=W);e:{if(C=(J=m.ga).c,W=J.l.o,J.$a==0){if(ke=m.rc,Ee=m.Vc,$e=m.Fa,te=m.P+1+P*C,Ae=m.mb,we=m.nb+P*C,e(te<=m.P+m.qc),J.Z!=0)for(e(OA[J.Z]!=null),G=0;G<M;++G)OA[J.Z](ke,Ee,$e,te,Ae,we,C),ke=Ae,Ee=we,we+=C,te+=C;else for(G=0;G<M;++G)r(Ae,we,$e,te,C),ke=Ae,Ee=we,we+=C,te+=C;m.rc=ke,m.Vc=Ee}else{if(e(J.mc!=null),C=P+M,e((G=J.mc)!=null),e(C<=G.i),G.C>=C)C=1;else if(J.ic||Te(),J.ic){J=G.V,ke=G.Ba,Ee=G.c;var Oe=G.i,be=($e=1,te=G.$/Ee,Ae=G.$%Ee,we=G.m,Fe=G.s,G.$),xe=Ee*Oe,He=Ee*C,ze=Fe.wc,Ve=be<He?an(Fe,Ae,te):null;e(be<=xe),e(C<=Oe),e(li(Fe));t:for(;;){for(;!we.h&&be<He;){if(Ae&ze||(Ve=an(Fe,Ae,te)),e(Ve!=null),fe(we),256>(Oe=tr(Ve.G[0],Ve.H[0],we)))J[ke+be]=Oe,++be,++Ae>=Ee&&(Ae=0,++te<=C&&!(te%16)&&Ur(G,te));else{if(!(280>Oe)){$e=0;break t}Oe=mn(Oe-256,we);var lt,it=tr(Ve.G[4],Ve.H[4],we);if(fe(we),!(be>=(it=As(Ee,it=mn(it,we)))&&xe-be>=Oe)){$e=0;break t}for(lt=0;lt<Oe;++lt)J[ke+be+lt]=J[ke+be+lt-it];for(be+=Oe,Ae+=Oe;Ae>=Ee;)Ae-=Ee,++te<=C&&!(te%16)&&Ur(G,te);be<He&&Ae&ze&&(Ve=an(Fe,Ae,te))}e(we.h==q(we))}Ur(G,te>C?C:te);break t}!$e||we.h&&be<xe?($e=0,G.a=we.h?5:3):G.$=be,C=$e}else C=bi(G,G.V,G.Ba,G.c,G.i,C,po);if(!C){M=0;break e}}P+M>=W&&(m.Cc=1),M=1}if(!M)return null;if(m.Cc&&((M=m.ga)!=null&&(M.mc=null),m.ga=null,0<m.Ga))return alert("todo:WebPDequantizeLevels"),null}return m.nb+P*V}function S(m,C,P,M,V,W){for(;0<V--;){var G,J=m,te=C+(P?1:0),Ae=m,we=C+(P?0:3);for(G=0;G<M;++G){var Fe=Ae[we+4*G];Fe!=255&&(Fe*=32897,J[te+4*G+0]=J[te+4*G+0]*Fe>>23,J[te+4*G+1]=J[te+4*G+1]*Fe>>23,J[te+4*G+2]=J[te+4*G+2]*Fe>>23)}C+=W}}function H(m,C,P,M,V){for(;0<M--;){var W;for(W=0;W<P;++W){var G=m[C+2*W+0],J=15&(Ae=m[C+2*W+1]),te=4369*J,Ae=(240&Ae|Ae>>4)*te>>16;m[C+2*W+0]=(240&G|G>>4)*te>>16&240|(15&G|G<<4)*te>>16>>4&15,m[C+2*W+1]=240&Ae|J}C+=V}}function de(m,C,P,M,V,W,G,J){var te,Ae,we=255;for(Ae=0;Ae<V;++Ae){for(te=0;te<M;++te){var Fe=m[C+te];W[G+4*te]=Fe,we&=Fe}C+=P,G+=J}return we!=255}function ve(m,C,P,M,V){var W;for(W=0;W<V;++W)P[M+W]=m[C+W]>>8}function Te(){So=S,On=H,Mn=de,Cr=ve}function Re(m,C,P){B[m]=function(M,V,W,G,J,te,Ae,we,Fe,ke,Ee,$e,Oe,be,xe,He,ze){var Ve,lt=ze-1>>1,it=J[te+0]|Ae[we+0]<<16,bt=Fe[ke+0]|Ee[$e+0]<<16;e(M!=null);var st=3*it+bt+131074>>2;for(C(M[V+0],255&st,st>>16,Oe,be),W!=null&&(st=3*bt+it+131074>>2,C(W[G+0],255&st,st>>16,xe,He)),Ve=1;Ve<=lt;++Ve){var dn=J[te+Ve]|Ae[we+Ve]<<16,bn=Fe[ke+Ve]|Ee[$e+Ve]<<16,An=it+dn+bt+bn+524296,en=An+2*(dn+bt)>>3;st=en+it>>1,it=(An=An+2*(it+bn)>>3)+dn>>1,C(M[V+2*Ve-1],255&st,st>>16,Oe,be+(2*Ve-1)*P),C(M[V+2*Ve-0],255&it,it>>16,Oe,be+(2*Ve-0)*P),W!=null&&(st=An+bt>>1,it=en+bn>>1,C(W[G+2*Ve-1],255&st,st>>16,xe,He+(2*Ve-1)*P),C(W[G+2*Ve+0],255&it,it>>16,xe,He+(2*Ve+0)*P)),it=dn,bt=bn}1&ze||(st=3*it+bt+131074>>2,C(M[V+ze-1],255&st,st>>16,Oe,be+(ze-1)*P),W!=null&&(st=3*bt+it+131074>>2,C(W[G+ze-1],255&st,st>>16,xe,He+(ze-1)*P)))}}function We(){Io[g0]=kz,Io[m0]=q4,Io[$4]=Pz,Io[v0]=Y4,Io[y0]=X4,Io[u_]=J4,Io[z4]=Dz,Io[h_]=q4,Io[d_]=Y4,Io[w0]=X4,Io[f_]=J4}function ot(m){return m&~Lz?0>m?0:255:m>>Z4}function pt(m,C){return ot((19077*m>>8)+(26149*C>>8)-14234)}function w(m,C,P){return ot((19077*m>>8)-(6419*C>>8)-(13320*P>>8)+8708)}function L(m,C){return ot((19077*m>>8)+(33050*C>>8)-17685)}function j(m,C,P,M,V){M[V+0]=pt(m,P),M[V+1]=w(m,C,P),M[V+2]=L(m,C)}function X(m,C,P,M,V){M[V+0]=L(m,C),M[V+1]=w(m,C,P),M[V+2]=pt(m,P)}function Ce(m,C,P,M,V){var W=w(m,C,P);C=W<<3&224|L(m,C)>>3,M[V+0]=248&pt(m,P)|W>>5,M[V+1]=C}function Ne(m,C,P,M,V){var W=240&L(m,C)|15;M[V+0]=240&pt(m,P)|w(m,C,P)>>4,M[V+1]=W}function Ye(m,C,P,M,V){M[V+0]=255,j(m,C,P,M,V+1)}function kt(m,C,P,M,V){X(m,C,P,M,V),M[V+3]=255}function wn(m,C,P,M,V){j(m,C,P,M,V),M[V+3]=255}function Pt(m,C){return 0>m?0:m>C?C:m}function kn(m,C,P){B[m]=function(M,V,W,G,J,te,Ae,we,Fe){for(var ke=we+(-2&Fe)*P;we!=ke;)C(M[V+0],W[G+0],J[te+0],Ae,we),C(M[V+1],W[G+0],J[te+0],Ae,we+P),V+=2,++G,++te,we+=2*P;1&Fe&&C(M[V+0],W[G+0],J[te+0],Ae,we)}}function br(m,C,P){return P==0?m==0?C==0?6:5:C==0?4:0:P}function Co(m,C,P,M,V){switch(m>>>30){case 3:Bl(C,P,M,V,0);break;case 2:_r(C,P,M,V);break;case 1:ps(C,P,M,V)}}function xi(m,C){var P,M,V=C.M,W=C.Nb,G=m.oc,J=m.pc+40,te=m.oc,Ae=m.pc+584,we=m.oc,Fe=m.pc+600;for(P=0;16>P;++P)G[J+32*P-1]=129;for(P=0;8>P;++P)te[Ae+32*P-1]=129,we[Fe+32*P-1]=129;for(0<V?G[J-1-32]=te[Ae-1-32]=we[Fe-1-32]=129:(i(G,J-32-1,127,21),i(te,Ae-32-1,127,9),i(we,Fe-32-1,127,9)),M=0;M<m.za;++M){var ke=C.ya[C.aa+M];if(0<M){for(P=-1;16>P;++P)r(G,J+32*P-4,G,J+32*P+12,4);for(P=-1;8>P;++P)r(te,Ae+32*P-4,te,Ae+32*P+4,4),r(we,Fe+32*P-4,we,Fe+32*P+4,4)}var Ee=m.Gd,$e=m.Hd+M,Oe=ke.ad,be=ke.Hc;if(0<V&&(r(G,J-32,Ee[$e].y,0,16),r(te,Ae-32,Ee[$e].f,0,8),r(we,Fe-32,Ee[$e].ea,0,8)),ke.Za){var xe=G,He=J-32+16;for(0<V&&(M>=m.za-1?i(xe,He,Ee[$e].y[15],4):r(xe,He,Ee[$e+1].y,0,4)),P=0;4>P;P++)xe[He+128+P]=xe[He+256+P]=xe[He+384+P]=xe[He+0+P];for(P=0;16>P;++P,be<<=2)xe=G,He=J+tN[P],la[ke.Ob[P]](xe,He),Co(be,Oe,16*+P,xe,He)}else if(xe=br(M,V,ke.Ob[0]),UA[xe](G,J),be!=0)for(P=0;16>P;++P,be<<=2)Co(be,Oe,16*+P,G,J+tN[P]);for(P=ke.Gc,xe=br(M,V,ke.Dd),Sl[xe](te,Ae),Sl[xe](we,Fe),be=Oe,xe=te,He=Ae,255&(ke=P>>0)&&(170&ke?Fp(be,256,xe,He):Bo(be,256,xe,He)),ke=we,be=Fe,255&(P>>=8)&&(170&P?Fp(Oe,320,ke,be):Bo(Oe,320,ke,be)),V<m.Ub-1&&(r(Ee[$e].y,0,G,J+480,16),r(Ee[$e].f,0,te,Ae+224,8),r(Ee[$e].ea,0,we,Fe+224,8)),P=8*W*m.B,Ee=m.sa,$e=m.ta+16*M+16*W*m.R,Oe=m.qa,ke=m.ra+8*M+P,be=m.Ha,xe=m.Ia+8*M+P,P=0;16>P;++P)r(Ee,$e+P*m.R,G,J+32*P,16);for(P=0;8>P;++P)r(Oe,ke+P*m.B,te,Ae+32*P,8),r(be,xe+P*m.B,we,Fe+32*P,8)}}function aa(m,C,P,M,V,W,G,J,te){var Ae=[0],we=[0],Fe=0,ke=te!=null?te.kd:0,Ee=te??new IA;if(m==null||12>P)return 7;Ee.data=m,Ee.w=C,Ee.ha=P,C=[C],P=[P],Ee.gb=[Ee.gb];e:{var $e=C,Oe=P,be=Ee.gb;if(e(m!=null),e(Oe!=null),e(be!=null),be[0]=0,12<=Oe[0]&&!n(m,$e[0],"RIFF")){if(n(m,$e[0]+8,"WEBP")){be=3;break e}var xe=Qe(m,$e[0]+4);if(12>xe||4294967286<xe){be=3;break e}if(ke&&xe>Oe[0]-8){be=7;break e}be[0]=xe,$e[0]+=12,Oe[0]-=12}be=0}if(be!=0)return be;for(xe=0<Ee.gb[0],P=P[0];;){e:{var He=m;Oe=C,be=P;var ze=Ae,Ve=we,lt=$e=[0];if((st=Fe=[Fe])[0]=0,8>be[0])be=7;else{if(!n(He,Oe[0],"VP8X")){if(Qe(He,Oe[0]+4)!=10){be=3;break e}if(18>be[0]){be=7;break e}var it=Qe(He,Oe[0]+8),bt=1+Se(He,Oe[0]+12);if(2147483648<=bt*(He=1+Se(He,Oe[0]+15))){be=3;break e}lt!=null&&(lt[0]=it),ze!=null&&(ze[0]=bt),Ve!=null&&(Ve[0]=He),Oe[0]+=18,be[0]-=18,st[0]=1}be=0}}if(Fe=Fe[0],$e=$e[0],be!=0)return be;if(Oe=!!(2&$e),!xe&&Fe)return 3;if(W!=null&&(W[0]=!!(16&$e)),G!=null&&(G[0]=Oe),J!=null&&(J[0]=0),G=Ae[0],$e=we[0],Fe&&Oe&&te==null){be=0;break}if(4>P){be=7;break}if(xe&&Fe||!xe&&!Fe&&!n(m,C[0],"ALPH")){P=[P],Ee.na=[Ee.na],Ee.P=[Ee.P],Ee.Sa=[Ee.Sa];e:{it=m,be=C,xe=P;var st=Ee.gb;ze=Ee.na,Ve=Ee.P,lt=Ee.Sa,bt=22,e(it!=null),e(xe!=null),He=be[0];var dn=xe[0];for(e(ze!=null),e(lt!=null),ze[0]=null,Ve[0]=null,lt[0]=0;;){if(be[0]=He,xe[0]=dn,8>dn){be=7;break e}var bn=Qe(it,He+4);if(4294967286<bn){be=3;break e}var An=8+bn+1&-2;if(bt+=An,0<st&&bt>st){be=3;break e}if(!n(it,He,"VP8 ")||!n(it,He,"VP8L")){be=0;break e}if(dn[0]<An){be=7;break e}n(it,He,"ALPH")||(ze[0]=it,Ve[0]=He+8,lt[0]=bn),He+=An,dn-=An}}if(P=P[0],Ee.na=Ee.na[0],Ee.P=Ee.P[0],Ee.Sa=Ee.Sa[0],be!=0)break}P=[P],Ee.Ja=[Ee.Ja],Ee.xa=[Ee.xa];e:if(st=m,be=C,xe=P,ze=Ee.gb[0],Ve=Ee.Ja,lt=Ee.xa,it=be[0],He=!n(st,it,"VP8 "),bt=!n(st,it,"VP8L"),e(st!=null),e(xe!=null),e(Ve!=null),e(lt!=null),8>xe[0])be=7;else{if(He||bt){if(st=Qe(st,it+4),12<=ze&&st>ze-12){be=3;break e}if(ke&&st>xe[0]-8){be=7;break e}Ve[0]=st,be[0]+=8,xe[0]-=8,lt[0]=bt}else lt[0]=5<=xe[0]&&st[it+0]==47&&!(st[it+4]>>5),Ve[0]=xe[0];be=0}if(P=P[0],Ee.Ja=Ee.Ja[0],Ee.xa=Ee.xa[0],C=C[0],be!=0)break;if(4294967286<Ee.Ja)return 3;if(J==null||Oe||(J[0]=Ee.xa?2:1),G=[G],$e=[$e],Ee.xa){if(5>P){be=7;break}J=G,ke=$e,Oe=W,m==null||5>P?m=0:5<=P&&m[C+0]==47&&!(m[C+4]>>5)?(xe=[0],st=[0],ze=[0],ne(Ve=new U,m,C,P),vt(Ve,xe,st,ze)?(J!=null&&(J[0]=xe[0]),ke!=null&&(ke[0]=st[0]),Oe!=null&&(Oe[0]=ze[0]),m=1):m=0):m=0}else{if(10>P){be=7;break}J=$e,m==null||10>P||!Da(m,C+3,P-3)?m=0:(ke=m[C+0]|m[C+1]<<8|m[C+2]<<16,Oe=16383&(m[C+7]<<8|m[C+6]),m=16383&(m[C+9]<<8|m[C+8]),1&ke||3<(ke>>1&7)||!(ke>>4&1)||ke>>5>=Ee.Ja||!Oe||!m?m=0:(G&&(G[0]=Oe),J&&(J[0]=m),m=1))}if(!m||(G=G[0],$e=$e[0],Fe&&(Ae[0]!=G||we[0]!=$e)))return 3;te!=null&&(te[0]=Ee,te.offset=C-te.w,e(4294967286>C-te.w),e(te.offset==te.ha-P));break}return be==0||be==7&&Fe&&te==null?(W!=null&&(W[0]|=Ee.na!=null&&0<Ee.na.length),M!=null&&(M[0]=G),V!=null&&(V[0]=$e),0):be}function _l(m,C,P){var M=C.width,V=C.height,W=0,G=0,J=M,te=V;if(C.Da=m!=null&&0<m.Da,C.Da&&(J=m.cd,te=m.bd,W=m.v,G=m.j,11>P||(W&=-2,G&=-2),0>W||0>G||0>=J||0>=te||W+J>M||G+te>V))return 0;if(C.v=W,C.j=G,C.va=W+J,C.o=G+te,C.U=J,C.T=te,C.da=m!=null&&0<m.da,C.da){if(!ae(J,te,P=[m.ib],W=[m.hb]))return 0;C.ib=P[0],C.hb=W[0]}return C.ob=m!=null&&m.ob,C.Kb=m==null||!m.Sd,C.da&&(C.ob=C.ib<3*M/4&&C.hb<3*V/4,C.Kb=0),1}function Tp(m){if(m==null)return 2;if(11>m.S){var C=m.f.RGBA;C.fb+=(m.height-1)*C.A,C.A=-C.A}else C=m.f.kb,m=m.height,C.O+=(m-1)*C.fa,C.fa=-C.fa,C.N+=(m-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(m-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(m-1)*C.lb,C.lb=-C.lb);return 0}function Xh(m,C,P,M){if(M==null||0>=m||0>=C)return 2;if(P!=null){if(P.Da){var V=P.cd,W=P.bd,G=-2&P.v,J=-2&P.j;if(0>G||0>J||0>=V||0>=W||G+V>m||J+W>C)return 2;m=V,C=W}if(P.da){if(!ae(m,C,V=[P.ib],W=[P.hb]))return 2;m=V[0],C=W[0]}}M.width=m,M.height=C;e:{var te=M.width,Ae=M.height;if(m=M.S,0>=te||0>=Ae||!(m>=g0&&13>m))m=2;else{if(0>=M.Rd&&M.sd==null){G=W=V=C=0;var we=(J=te*nN[m])*Ae;if(11>m||(W=(Ae+1)/2*(C=(te+1)/2),m==12&&(G=(V=te)*Ae)),(Ae=s(we+2*W+G))==null){m=1;break e}M.sd=Ae,11>m?((te=M.f.RGBA).eb=Ae,te.fb=0,te.A=J,te.size=we):((te=M.f.kb).y=Ae,te.O=0,te.fa=J,te.Fd=we,te.f=Ae,te.N=0+we,te.Ab=C,te.Cd=W,te.ea=Ae,te.W=0+we+W,te.Db=C,te.Ed=W,m==12&&(te.F=Ae,te.J=0+we+2*W),te.Tc=G,te.lb=V)}if(C=1,V=M.S,W=M.width,G=M.height,V>=g0&&13>V)if(11>V)m=M.f.RGBA,C&=(J=Math.abs(m.A))*(G-1)+W<=m.size,C&=J>=W*nN[V],C&=m.eb!=null;else{m=M.f.kb,J=(W+1)/2,we=(G+1)/2,te=Math.abs(m.fa),Ae=Math.abs(m.Ab);var Fe=Math.abs(m.Db),ke=Math.abs(m.lb),Ee=ke*(G-1)+W;C&=te*(G-1)+W<=m.Fd,C&=Ae*(we-1)+J<=m.Cd,C=(C&=Fe*(we-1)+J<=m.Ed)&te>=W&Ae>=J&Fe>=J,C&=m.y!=null,C&=m.f!=null,C&=m.ea!=null,V==12&&(C&=ke>=W,C&=Ee<=m.Tc,C&=m.F!=null)}else C=0;m=C?0:2}}return m!=0||P!=null&&P.fd&&(m=Tp(M)),m}var Bi=64,Jh=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Zh=24,ed=32,Ip=8,Ts=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];_e("Predictor0","PredictorAdd0"),B.Predictor0=function(){return 4278190080},B.Predictor1=function(m){return m},B.Predictor2=function(m,C,P){return C[P+0]},B.Predictor3=function(m,C,P){return C[P+1]},B.Predictor4=function(m,C,P){return C[P-1]},B.Predictor5=function(m,C,P){return pe(pe(m,C[P+1]),C[P+0])},B.Predictor6=function(m,C,P){return pe(m,C[P-1])},B.Predictor7=function(m,C,P){return pe(m,C[P+0])},B.Predictor8=function(m,C,P){return pe(C[P-1],C[P+0])},B.Predictor9=function(m,C,P){return pe(C[P+0],C[P+1])},B.Predictor10=function(m,C,P){return pe(pe(m,C[P-1]),pe(C[P+0],C[P+1]))},B.Predictor11=function(m,C,P){var M=C[P+0];return 0>=Ue(M>>24&255,m>>24&255,(C=C[P-1])>>24&255)+Ue(M>>16&255,m>>16&255,C>>16&255)+Ue(M>>8&255,m>>8&255,C>>8&255)+Ue(255&M,255&m,255&C)?M:m},B.Predictor12=function(m,C,P){var M=C[P+0];return(Pe((m>>24&255)+(M>>24&255)-((C=C[P-1])>>24&255))<<24|Pe((m>>16&255)+(M>>16&255)-(C>>16&255))<<16|Pe((m>>8&255)+(M>>8&255)-(C>>8&255))<<8|Pe((255&m)+(255&M)-(255&C)))>>>0},B.Predictor13=function(m,C,P){var M=C[P-1];return(je((m=pe(m,C[P+0]))>>24&255,M>>24&255)<<24|je(m>>16&255,M>>16&255)<<16|je(m>>8&255,M>>8&255)<<8|je(m>>0&255,M>>0&255))>>>0};var A_=B.PredictorAdd0;B.PredictorAdd1=Ge,_e("Predictor2","PredictorAdd2"),_e("Predictor3","PredictorAdd3"),_e("Predictor4","PredictorAdd4"),_e("Predictor5","PredictorAdd5"),_e("Predictor6","PredictorAdd6"),_e("Predictor7","PredictorAdd7"),_e("Predictor8","PredictorAdd8"),_e("Predictor9","PredictorAdd9"),_e("Predictor10","PredictorAdd10"),_e("Predictor11","PredictorAdd11"),_e("Predictor12","PredictorAdd12"),_e("Predictor13","PredictorAdd13");var Np=B.PredictorAdd2;Le("ColorIndexInverseTransform","MapARGB","32b",function(m){return m>>8&255},function(m){return m}),Le("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(m){return m},function(m){return m>>8&255});var c0,xo=B.ColorIndexInverseTransform,td=B.MapARGB,u0=B.VP8LColorIndexInverseTransformAlpha,h0=B.MapAlpha,PA=B.VP8LPredictorsAdd=[];PA.length=16,(B.VP8LPredictors=[]).length=16,(B.VP8LPredictorsAdd_C=[]).length=16,(B.VP8LPredictors_C=[]).length=16;var fu,Is,fs,DA,Cl,xl,nd,Bl,_r,Fp,ps,Bo,rd,d0,kp,pu,gu,LA,mu,id,vu,RA,Pp,Eo,So,On,Mn,Cr,Xr=s(511),El=s(2041),Dp=s(225),sd=s(767),f0=0,c_=El,p0=Dp,Zs=sd,To=Xr,g0=0,m0=1,$4=2,v0=3,y0=4,u_=5,z4=6,h_=7,d_=8,w0=9,f_=10,vz=[2,3,7],yz=[3,3,11],K4=[280,256,256,256,40],wz=[0,1,1,1,0],bz=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],_z=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Cz=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],xz=8,p_=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],g_=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Lp=null,Bz=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ez=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],W4=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Sz=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Tz=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Iz=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nz=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],UA=[],la=[],Sl=[],Fz=1,G4=2,OA=[],Io=[];Re("UpsampleRgbLinePair",j,3),Re("UpsampleBgrLinePair",X,3),Re("UpsampleRgbaLinePair",wn,4),Re("UpsampleBgraLinePair",kt,4),Re("UpsampleArgbLinePair",Ye,4),Re("UpsampleRgba4444LinePair",Ne,2),Re("UpsampleRgb565LinePair",Ce,2);var kz=B.UpsampleRgbLinePair,Pz=B.UpsampleBgrLinePair,q4=B.UpsampleRgbaLinePair,Y4=B.UpsampleBgraLinePair,X4=B.UpsampleArgbLinePair,J4=B.UpsampleRgba4444LinePair,Dz=B.UpsampleRgb565LinePair,b0=16,_0=1<<b0-1,Rp=-227,m_=482,Z4=6,Lz=(256<<Z4)-1,eN=0,Rz=s(256),Uz=s(256),Oz=s(256),Mz=s(256),Qz=s(m_-Rp),jz=s(m_-Rp);kn("YuvToRgbRow",j,3),kn("YuvToBgrRow",X,3),kn("YuvToRgbaRow",wn,4),kn("YuvToBgraRow",kt,4),kn("YuvToArgbRow",Ye,4),kn("YuvToRgba4444Row",Ne,2),kn("YuvToRgb565Row",Ce,2);var tN=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],C0=[0,2,8],Hz=[8,7,6,4,4,2,2,2,1,1,1,1],Vz=1;this.WebPDecodeRGBA=function(m,C,P,M,V){var W=m0,G=new bo,J=new Jt;G.ba=J,J.S=W,J.width=[J.width],J.height=[J.height];var te=J.width,Ae=J.height,we=new En;if(we==null||m==null)var Fe=2;else e(we!=null),Fe=aa(m,C,P,we.width,we.height,we.Pd,we.Qd,we.format,null);if(Fe!=0?te=0:(te!=null&&(te[0]=we.width[0]),Ae!=null&&(Ae[0]=we.height[0]),te=1),te){J.width=J.width[0],J.height=J.height[0],M!=null&&(M[0]=J.width),V!=null&&(V[0]=J.height);e:{if(M=new Zo,(V=new IA).data=m,V.w=C,V.ha=P,V.kd=1,C=[0],e(V!=null),((m=aa(V.data,V.w,V.ha,null,null,null,C,null,V))==0||m==7)&&C[0]&&(m=4),(C=m)==0){if(e(G!=null),M.data=V.data,M.w=V.w+V.offset,M.ha=V.ha-V.offset,M.put=Ri,M.ac=zn,M.bc=ai,M.ma=G,V.xa){if((m=qr())==null){G=1;break e}if(function(ke,Ee){var $e=[0],Oe=[0],be=[0];t:for(;;){if(ke==null)return 0;if(Ee==null)return ke.a=2,0;if(ke.l=Ee,ke.a=0,ne(ke.m,Ee.data,Ee.w,Ee.ha),!vt(ke.m,$e,Oe,be)){ke.a=3;break t}if(ke.xb=G4,Ee.width=$e[0],Ee.height=Oe[0],!cr($e[0],Oe[0],1,ke,null))break t;return 1}return e(ke.a!=0),0}(m,M)){if(M=(C=Xh(M.width,M.height,G.Oa,G.ba))==0){t:{M=m;n:for(;;){if(M==null){M=0;break t}if(e(M.s.yc!=null),e(M.s.Ya!=null),e(0<M.s.Wb),e((P=M.l)!=null),e((V=P.ma)!=null),M.xb!=0){if(M.ca=V.ba,M.tb=V.tb,e(M.ca!=null),!_l(V.Oa,P,v0)){M.a=2;break n}if(!cs(M,P.width)||P.da)break n;if((P.da||_t(M.ca.S))&&Te(),11>M.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),M.ca.f.kb.F!=null&&Te()),M.Pb&&0<M.s.ua&&M.s.vb.X==null&&!Q(M.s.vb,M.s.Wa.Xa)){M.a=1;break n}M.xb=0}if(!bi(M,M.V,M.Ba,M.c,M.i,P.o,Ui))break n;V.Dc=M.Ma,M=1;break t}e(M.a!=0),M=0}M=!M}M&&(C=m.a)}else C=m.a}else{if((m=new pl)==null){G=1;break e}if(m.Fa=V.na,m.P=V.P,m.qc=V.Sa,gl(m,M)){if((C=Xh(M.width,M.height,G.Oa,G.ba))==0){if(m.Aa=0,P=G.Oa,e((V=m)!=null),P!=null){if(0<(te=0>(te=P.Md)?0:100<te?255:255*te/100)){for(Ae=we=0;4>Ae;++Ae)12>(Fe=V.pb[Ae]).lc&&(Fe.ia=te*Hz[0>Fe.lc?0:Fe.lc]>>3),we|=Fe.ia;we&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=P.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}$t(m,M)||(C=m.a)}}else C=m.a}C==0&&G.Oa!=null&&G.Oa.fd&&(C=Tp(G.ba))}G=C}W=G!=0?null:11>W?J.f.RGBA.eb:J.f.kb.y}else W=null;return W};var nN=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function A(B,T){for(var R="",D=0;D<4;D++)R+=String.fromCharCode(B[T++]);return R}function c(B,T){return(B[T+0]<<0|B[T+1]<<8|B[T+2]<<16)>>>0}function u(B,T){return(B[T+0]<<0|B[T+1]<<8|B[T+2]<<16|B[T+3]<<24)>>>0}new l;var h=[0],d=[0],p=[],f=new l,b=t,g=function(B,T){var R={},D=0,E=!1,k=0,N=0;if(R.frames=[],!function(z,q,ee,fe){for(var me=0;me<fe;me++)if(z[q+me]!=ee.charCodeAt(me))return!0;return!1}(B,T,"RIFF",4)){for(u(B,T+=4),T+=8;T<B.length;){var Y=A(B,T),oe=u(B,T+=4);T+=4;var ie=oe+(1&oe);switch(Y){case"VP8 ":case"VP8L":R.frames[D]===void 0&&(R.frames[D]={}),(ue=R.frames[D]).src_off=E?N:T-8,ue.src_size=k+oe+8,D++,E&&(E=!1,k=0,N=0);break;case"VP8X":(ue=R.header={}).feature_flags=B[T];var ne=T+4;ue.canvas_width=1+c(B,ne),ne+=3,ue.canvas_height=1+c(B,ne),ne+=3;break;case"ALPH":E=!0,k=ie+8,N=T-8;break;case"ANIM":(ue=R.header).bgcolor=u(B,T),ne=T+4,ue.loop_count=(le=B)[(U=ne)+0]<<0|le[U+1]<<8,ne+=2;break;case"ANMF":var se,ue;(ue=R.frames[D]={}).offset_x=2*c(B,T),T+=3,ue.offset_y=2*c(B,T),T+=3,ue.width=1+c(B,T),T+=3,ue.height=1+c(B,T),T+=3,ue.duration=c(B,T),T+=3,se=B[T++],ue.dispose=1&se,ue.blend=se>>1&1}Y!="ANMF"&&(T+=ie)}var le,U;return R}}(b,0);g.response=b,g.rgbaoutput=!0,g.dataurl=!1;var v=g.header?g.header:null,_=g.frames?g.frames:null;if(v){v.loop_counter=v.loop_count,h=[v.canvas_height],d=[v.canvas_width];for(var x=0;x<_.length&&_[x].blend!=0;x++);}var F=_[0],O=f.WebPDecodeRGBA(b,F.src_off,F.src_size,d,h);F.rgba=O,F.imgwidth=d[0],F.imgheight=h[0];for(var I=0;I<d[0]*h[0]*4;I++)p[I]=O[I];return this.width=d,this.height=h,this.data=p,this}(function(t){var e=function(){return typeof D5=="function"},n=function(h,d,p,f){var b=4,g=o;switch(f){case t.image_compression.FAST:b=1,g=s;break;case t.image_compression.MEDIUM:b=6,g=a;break;case t.image_compression.SLOW:b=9,g=l}h=r(h,d,p,g);var v=D5(h,{level:b});return t.__addimage__.arrayBufferToBinaryString(v)},r=function(h,d,p,f){for(var b,g,v,_=h.length/d,x=new Uint8Array(h.length+_),F=c(),O=0;O<_;O+=1){if(v=O*d,b=h.subarray(v,v+d),f)x.set(f(b,p,g),v+O);else{for(var I,B=F.length,T=[];I<B;I+=1)T[I]=F[I](b,p,g);var R=u(T.concat());x.set(T[R],v+O)}g=b}return x},i=function(h){var d=Array.apply([],h);return d.unshift(0),d},s=function(h,d){var p,f=[],b=h.length;f[0]=1;for(var g=0;g<b;g+=1)p=h[g-d]||0,f[g+1]=h[g]-p+256&255;return f},o=function(h,d,p){var f,b=[],g=h.length;b[0]=2;for(var v=0;v<g;v+=1)f=p&&p[v]||0,b[v+1]=h[v]-f+256&255;return b},a=function(h,d,p){var f,b,g=[],v=h.length;g[0]=3;for(var _=0;_<v;_+=1)f=h[_-d]||0,b=p&&p[_]||0,g[_+1]=h[_]+256-(f+b>>>1)&255;return g},l=function(h,d,p){var f,b,g,v,_=[],x=h.length;_[0]=4;for(var F=0;F<x;F+=1)f=h[F-d]||0,b=p&&p[F]||0,g=p&&p[F-d]||0,v=A(f,b,g),_[F+1]=h[F]-v+256&255;return _},A=function(h,d,p){if(h===d&&d===p)return h;var f=Math.abs(d-p),b=Math.abs(h-p),g=Math.abs(h+d-p-p);return f<=b&&f<=g?h:b<=g?d:p},c=function(){return[i,s,o,a,l]},u=function(h){var d=h.map(function(p){return p.reduce(function(f,b){return f+Math.abs(b)},0)});return d.indexOf(Math.min.apply(null,d))};t.processPNG=function(h,d,p,f){var b,g,v,_,x,F,O,I,B,T,R,D,E,k,N,Y=this.decode.FLATE_DECODE,oe="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(v=new uOe(h)).imgData,g=v.bits,b=v.colorSpace,x=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){B=(I=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,R=new Uint8Array(B*v.colors),T=new Uint8Array(B);var ie,ne=v.pixelBitlength-v.bits;for(k=0,N=0;k<B;k++){for(E=I[k],ie=0;ie<ne;)R[N++]=E>>>ie&255,ie+=v.bits;T[k]=E>>>ie&255}}if(v.bits===16){B=(I=new Uint32Array(v.decodePixels().buffer)).length,R=new Uint8Array(B*(32/v.pixelBitlength)*v.colors),T=new Uint8Array(B*(32/v.pixelBitlength)),D=v.colors>1,k=0,N=0;for(var se=0;k<B;)E=I[k++],R[N++]=E>>>0&255,D&&(R[N++]=E>>>16&255,E=I[k++],R[N++]=E>>>0&255),T[se++]=E>>>16&255;g=8}f!==t.image_compression.NONE&&e()?(h=n(R,v.width*v.colors,v.colors,f),O=n(T,v.width,1,f)):(h=R,O=T,Y=void 0)}if(v.colorType===3&&(b=this.color_spaces.INDEXED,F=v.palette,v.transparency.indexed)){var ue=v.transparency.indexed,le=0;for(k=0,B=ue.length;k<B;++k)le+=ue[k];if((le/=255)===B-1&&ue.indexOf(0)!==-1)_=[ue.indexOf(0)];else if(le!==B){for(I=v.decodePixels(),T=new Uint8Array(I.length),k=0,B=I.length;k<B;k++)T[k]=ue[I[k]];O=n(T,v.width,1)}}var U=function(z){var q;switch(z){case t.image_compression.FAST:q=11;break;case t.image_compression.MEDIUM:q=13;break;case t.image_compression.SLOW:q=14;break;default:q=12}return q}(f);return Y===this.decode.FLATE_DECODE&&(oe="/Predictor "+U+" "),oe+="/Colors "+x+" /BitsPerComponent "+g+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(O&&this.__addimage__.isArrayBuffer(O)||this.__addimage__.isArrayBufferView(O))&&(O=this.__addimage__.arrayBufferToBinaryString(O)),{alias:p,data:h,index:d,filter:Y,decodeParameters:oe,transparency:_,palette:F,sMask:O,predictor:U,width:v.width,height:v.height,bitsPerComponent:g,colorSpace:b}}}})(Et.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new hOe(e),o=s.width,a=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var A={data:l,width:o,height:a},c=new Px(100).encode(A,100);return t.processJPEG.call(this,c,n,r,i)},t.processGIF87A=t.processGIF89A}(Et.API),ha.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ha.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Dn.log("bit decode error:"+n)}},ha.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var l=this.palette[s>>7-a&1];this.data[o+4*a]=l.blue,this.data[o+4*a+1]=l.green,this.data[o+4*a+2]=l.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},ha.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,l=15&s,A=this.palette[a];if(this.data[o]=A.blue,this.data[o+1]=A.green,this.data[o+2]=A.red,this.data[o+3]=255,2*i+1>=this.width)break;A=this.palette[l],this.data[o+4]=A.blue,this.data[o+4+1]=A.green,this.data[o+4+2]=A.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},ha.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ha.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,A=s>>15?255:0,c=r*this.width*4+4*i;this.data[c]=l,this.data[c+1]=a,this.data[c+2]=o,this.data[c+3]=A}this.pos+=t}},ha.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,l=(o>>5&n)/n*255|0,A=(o>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=A,this.data[c+1]=l,this.data[c+2]=a,this.data[c+3]=255}this.pos+=t}},ha.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},ha.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},ha.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ha(e,!1),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},A=new Px(100).encode(l,100);return t.processJPEG.call(this,A,n,r,i)}}(Et.API),vU.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new vU(e),o=s.width,a=s.height,l={data:s.getData(),width:o,height:a},A=new Px(100).encode(l,100);return t.processJPEG.call(this,A,n,r,i)}}(Et.API),Et.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,l=0,A=0;A<i;A+=4){var c=r[A],u=r[A+1],h=r[A+2],d=r[A+3];s[a++]=c,s[a++]=u,s[a++]=h,o[l++]=d}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Et.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Cd=Et.API,Vy=Cd.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,l=a.fof?a.fof:1,A=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=A.fof?A.fof:1,u=e.doKerning!==!1,h=0,d=t.length,p=0,f=a[0]||l,b=[];for(n=0;n<d;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?b.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=u&&sn(A[r])==="object"&&!isNaN(parseInt(A[r][p],10))?A[r][p]/c:0,b.push((a[r]||f)/l+h)),p=r;return b},fU=Cd.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Cd.processArabic&&(t=Cd.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Vy.apply(this,arguments).reduce(function(s,o){return s+o},0)},pU=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var l=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(l,s)),a=0,l=s),a+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},gU=function(t,e,n){n||(n={});var r,i,s,o,a,l,A,c=[],u=[c],h=n.textIndent||0,d=0,p=0,f=t.split(" "),b=Vy.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?f[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),v=[];f.map(function(x){(x=x.split(/\s*\n/)).length>1?v=v.concat(x.map(function(F,O){return(O&&F.length?`
`:"")+F})):v.push(x[0])}),f=v,l=fU.apply(this,[g,n])}for(s=0,o=f.length;s<o;s++){var _=0;if(r=f[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),h+d+(p=(i=Vy.apply(this,[r,n])).reduce(function(x,F){return x+F},0))>e||_){if(p>e){for(a=pU.apply(this,[r,i,e-(h+d),e]),c.push(a.shift()),c=[a.pop()];a.length;)u.push([a.shift()]);p=i.slice(r.length-(c[0]?c[0].length:0)).reduce(function(x,F){return x+F},0)}else c=[r];u.push(c),h=p+l,d=b}else c.push(r),h+=d+p,d=b}return A=l?function(x,F){return(F?g:"")+x.join(" ")}:function(x){return x.join(" ")},u.map(A)},Cd.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var u=this.internal.getFont(c.fontName,c.fontStyle);return u.metadata.Unicode?{widths:u.metadata.Unicode.widths||{0:1},kerning:u.metadata.Unicode.kerning||{}}:{font:u.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,l,A=[];for(a=0,l=r.length;a<l;a++)A=A.concat(gU.apply(this,[r[a],o,s]));return A},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(u){return"0x"+parseInt(u,10).toString(16)},o=t.__fontmetrics__.compress=function(u){var h,d,p,f,b=["{"];for(var g in u){if(h=u[g],isNaN(parseInt(g,10))?d="'"+g+"'":(g=parseInt(g,10),d=(d=s(g).slice(2)).slice(0,-1)+r[d.slice(-1)]),typeof h=="number")h<0?(p=s(h).slice(3),f="-"):(p=s(h).slice(2),f=""),p=f+p.slice(0,-1)+r[p.slice(-1)];else{if(sn(h)!=="object")throw new Error("Don't know what to do with value type "+sn(h)+".");p=o(h)}b.push(d+p)}return b.push("}"),b.join("")},a=t.__fontmetrics__.uncompress=function(u){if(typeof u!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,p,f,b={},g=1,v=b,_=[],x="",F="",O=u.length-1,I=1;I<O;I+=1)(f=u[I])=="'"?h?(p=h.join(""),h=void 0):h=[]:h?h.push(f):f=="{"?(_.push([v,p]),v={},p=void 0):f=="}"?((d=_.pop())[0][d[1]]=v,p=void 0,v=d[0]):f=="-"?g=-1:p===void 0?n.hasOwnProperty(f)?(x+=n[f],p=parseInt(x,16)*g,g=1,x=""):x+=f:n.hasOwnProperty(f)?(F+=n[f],v[p]=parseInt(F,16)*g,g=1,p=void 0,F=""):F+=f;return b},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},A={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(u){var h=u.font,d=c.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var p=A.Unicode[h.postScriptName];p&&(h.metadata.Unicode.encoding=p,h.encoding=p.codePages[0])}])}(Et.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(hm(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Et),function(t){function e(){return(St.canvg?Promise.resolve(St.canvg):I5(()=>import("./index.es-a242e0bf.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Et.API.addSvgAsImage=function(n,r,i,s,o,a,l,A){if(isNaN(r)||isNaN(i))throw Dn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw Dn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=o;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(p){return p.fromString(u,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),r,i,s,o,l,A)})}}(),Et.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Et.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),l=[],A=0,c=0,u=0;function h(p,f){var b,g=!1;for(b=0;b<p.length;b+=1)p[b]===f&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=a.length;for(u=0;u<d;u+=1)n[a[u]].value=n[a[u]].defaultValue,n[a[u]].explicitSet=!1}if(sn(t)==="object"){for(i in t)if(s=t[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(A=0;A<s.length;A+=1)if(r=!0,s[A].length===1&&typeof s[A][0]=="number")l.push(String(s[A]-1));else if(s[A].length>1){for(c=0;c<s[A].length;c+=1)typeof s[A][c]!="number"&&(r=!1);r===!0&&l.push([s[A][0]-1,s[A][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,f=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?f.push("/"+p+" /"+n[p].value):f.push("/"+p+" "+n[p].value));f.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+f.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),A=s.length+o.length+a.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+A+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Et.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,l=o.metadata.Unicode.widths,A=["","0","00","000","0000"],c=[""],u=0,h=s.length;u<h;++u){if(a=o.metadata.characterToGlyph(s.charCodeAt(u)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(u),l.indexOf(a)==-1&&(l.push(a),l.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return c.join("");a=a.toString(16),c.push(A[4-a.length],a)}return c.join("")},r=function(s){var o,a,l,A,c,u,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],u=0,h=(a=Object.keys(s).sort(function(d,p){return d-p})).length;u<h;u++)o=a[u],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(A=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),l.push("<"+o+"><"+A+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,A=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var u=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),d="",p=0;p<h.length;p++)d+=String.fromCharCode(h[p]);var f=A();c({data:d,addLength1:!0,objectId:f}),l("endobj");var b=A();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:b}),l("endobj");var g=A();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+Fd(a.fontName)),l("/FontFile2 "+f+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/Flags "+a.metadata.flags),l("/StemV "+a.metadata.stemV),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l(">>"),l("endobj");var v=A();l("<<"),l("/Type /Font"),l("/BaseFont /"+Fd(a.fontName)),l("/FontDescriptor "+g+" 0 R"),l("/W "+t.API.PDFObject.convert(u)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+a.encoding+")"),l(">>"),l(">>"),l("endobj"),a.objectNumber=A(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+b+" 0 R"),l("/BaseFont /"+Fd(a.fontName)),l("/Encoding /"+a.encoding),l("/DescendantFonts ["+v+" 0 R]"),l(">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,l=o.out,A=o.newObject,c=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var u=a.metadata.rawData,h="",d=0;d<u.length;d++)h+=String.fromCharCode(u[d]);var p=A();c({data:h,addLength1:!0,objectId:p}),l("endobj");var f=A();c({data:r(a.metadata.toUnicode),addLength1:!0,objectId:f}),l("endobj");var b=A();l("<<"),l("/Descent "+a.metadata.decender),l("/CapHeight "+a.metadata.capHeight),l("/StemV "+a.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),l("/FontName /"+Fd(a.fontName)),l("/ItalicAngle "+a.metadata.italicAngle),l("/Ascent "+a.metadata.ascender),l(">>"),l("endobj"),a.objectNumber=A();for(var g=0;g<a.metadata.hmtx.widths.length;g++)a.metadata.hmtx.widths[g]=parseInt(a.metadata.hmtx.widths[g]*(1e3/a.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+f+" 0 R/BaseFont/"+Fd(a.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),l("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",l=s.x,A=s.y,c=s.options||{},u=s.mutex||{},h=u.pdfEscape,d=u.activeFontKey,p=u.fonts,f=d,b="",g=0,v="",_=p[f].encoding;if(p[f].encoding!=="Identity-H")return{text:a,x:l,y:A,options:c,mutex:u};for(v=a,f=d,Array.isArray(a)&&(v=a[0]),g=0;g<v.length;g+=1)p[f].metadata.hasOwnProperty("cmap")&&(o=p[f].metadata.cmap.unicode.codeMap[v[g].charCodeAt(0)]),o||v[g].charCodeAt(0)<256&&p[f].metadata.hasOwnProperty("Unicode")?b+=v[g]:b+="";var x="";return parseInt(f.slice(1))<14||_==="WinAnsiEncoding"?x=h(b,f).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(x=n(b,p[f])),u.isHex=!0,{text:x,x:l,y:A,options:c,mutex:u}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],l={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var A=0;for(A=0;A<o.length;A+=1)Array.isArray(o[A])&&o[A].length===3?a.push([i(Object.assign({},l,{text:o[A][0]})).text,o[A][1],o[A][2]]):a.push(i(Object.assign({},l,{text:o[A]})).text);s.text=a}else s.text=i(Object.assign({},l,{text:o})).text}])}(Et),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Et.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,l,A,c,u=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},f={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,_=0;this.__bidiEngine__={};var x=function(D){var E=D.charCodeAt(),k=E>>8,N=f[k];return N!==void 0?u[256*N+(255&E)]:k===252||k===253?"AL":g.test(k)?"L":k===8?"R":"N"},F=function(D){for(var E,k=0;k<D.length;k++){if((E=x(D.charAt(k)))==="L")return!1;if(E==="R")return!0}return!1},O=function(D,E,k,N){var Y,oe,ie,ne,se=E[N];switch(se){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(se="AN");break;case"AL":v=!0,se="R";break;case"WS":se="N";break;case"CS":N<1||N+1>=E.length||(Y=k[N-1])!=="EN"&&Y!=="AN"||(oe=E[N+1])!=="EN"&&oe!=="AN"?se="N":v&&(oe="AN"),se=oe===Y?oe:"N";break;case"ES":se=(Y=N>0?k[N-1]:"B")==="EN"&&N+1<E.length&&E[N+1]==="EN"?"EN":"N";break;case"ET":if(N>0&&k[N-1]==="EN"){se="EN";break}if(v){se="N";break}for(ie=N+1,ne=E.length;ie<ne&&E[ie]==="ET";)ie++;se=ie<ne&&E[ie]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(ne=E.length,ie=N+1;ie<ne&&E[ie]==="NSM";)ie++;if(ie<ne){var ue=D[N],le=ue>=1425&&ue<=2303||ue===64286;if(Y=E[ie],le&&(Y==="R"||Y==="AL")){se="R";break}}}se=N<1||(Y=E[N-1])==="B"?"N":k[N-1];break;case"B":v=!1,i=!0,se=_;break;case"S":s=!0,se="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":se="N"}return se},I=function(D,E,k){var N=D.split("");return k&&B(N,k,{hiLevel:_}),N.reverse(),E&&E.reverse(),N.join("")},B=function(D,E,k){var N,Y,oe,ie,ne,se=-1,ue=D.length,le=0,U=[],z=_?d:h,q=[];for(v=!1,i=!1,s=!1,Y=0;Y<ue;Y++)q[Y]=x(D[Y]);for(oe=0;oe<ue;oe++){if(ne=le,U[oe]=O(D,q,U,oe),N=240&(le=z[ne][p[U[oe]]]),le&=15,E[oe]=ie=z[le][5],N>0)if(N===16){for(Y=se;Y<oe;Y++)E[Y]=1;se=-1}else se=-1;if(z[le][6])se===-1&&(se=oe);else if(se>-1){for(Y=se;Y<oe;Y++)E[Y]=ie;se=-1}q[oe]==="B"&&(E[oe]=0),k.hiLevel|=ie}s&&function(ee,fe,me){for(var ge=0;ge<me;ge++)if(ee[ge]==="S"){fe[ge]=_;for(var ye=ge-1;ye>=0&&ee[ye]==="WS";ye--)fe[ye]=_}}(q,E,ue)},T=function(D,E,k,N,Y){if(!(Y.hiLevel<D)){if(D===1&&_===1&&!i)return E.reverse(),void(k&&k.reverse());for(var oe,ie,ne,se,ue=E.length,le=0;le<ue;){if(N[le]>=D){for(ne=le+1;ne<ue&&N[ne]>=D;)ne++;for(se=le,ie=ne-1;se<ie;se++,ie--)oe=E[se],E[se]=E[ie],E[ie]=oe,k&&(oe=k[se],k[se]=k[ie],k[ie]=oe);le=ne}le++}}},R=function(D,E,k){var N=D.split(""),Y={hiLevel:_};return k||(k=[]),B(N,k,Y),function(oe,ie,ne){if(ne.hiLevel!==0&&c)for(var se,ue=0;ue<oe.length;ue++)ie[ue]===1&&(se=b.indexOf(oe[ue]))>=0&&(oe[ue]=b[se+1])}(N,k,Y),T(2,N,E,k,Y),T(1,N,E,k,Y),N.join("")};return this.__bidiEngine__.doBidiReorder=function(D,E,k){if(function(Y,oe){if(oe)for(var ie=0;ie<Y.length;ie++)oe[ie]=ie;a===void 0&&(a=F(Y)),A===void 0&&(A=F(Y))}(D,E),o||!l||A)if(o&&l&&a^A)_=a?1:0,D=I(D,E,k);else if(!o&&l&&A)_=a?1:0,D=R(D,E,k),D=I(D,E);else if(!o||a||l||A){if(o&&!l&&a^A)D=I(D,E),a?(_=0,D=R(D,E,k)):(_=1,D=R(D,E,k),D=I(D,E));else if(o&&a&&!l&&A)_=1,D=R(D,E,k),D=I(D,E);else if(!o&&!l&&a^A){var N=c;a?(_=1,D=R(D,E,k),_=0,c=!1,D=R(D,E,k),c=N):(_=0,D=R(D,E,k),D=I(D,E),_=1,c=!1,D=R(D,E,k),c=N,D=I(D,E))}}else _=0,D=R(D,E,k);else _=a?1:0,D=R(D,E,k);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,l=D.isOutputVisual,a=D.isInputRtl,A=D.isOutputRtl,c=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Et),Et.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new qc(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new SOe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new dOe(this.contents),this.head=new pOe(this),this.name=new wOe(this),this.cmap=new pz(this),this.toUnicode={},this.hhea=new gOe(this),this.maxp=new bOe(this),this.hmtx=new _Oe(this),this.post=new vOe(this),this.os2=new mOe(this),this.loca=new EOe(this),this.glyf=new COe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,l,A;for(A=[],o=0,a=(l=this.bbox).length;o<a;o++)e=l[o],A.push(Math.round(e*this.scaleFactor));return A}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Pa,qc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),dOe=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,l,A,c,u,h,d,p,f;for(f in d=Object.keys(n).length,l=Math.log(2),u=16*Math.floor(Math.log(d)/l),o=Math.floor(u/l),c=16*d-u,(i=new qc).writeInt(this.scalarType),i.writeShort(d),i.writeShort(u),i.writeShort(o),i.writeShort(c),s=16*d,A=i.pos+s,a=null,p=[],n)for(h=n[f],i.writeString(f),i.writeInt(t(h)),i.writeInt(A),i.writeInt(h.length),p=p.concat(h),f==="head"&&(a=A),A+=h.length;A%4;)p.push(0),A++;return i.write(p),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=gz.call(n);n.length%4;)n.push(0);for(s=new qc(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),fOe={}.hasOwnProperty,dl=function(t,e){for(var n in e)fOe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Pa=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new qc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),yU=function(){function t(e,n){var r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),u=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),h=d/2,e.pos+=6,s=function(){var x,F;for(F=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)F.push(e.readUInt16());return F}(),e.pos+=2,f=function(){var x,F;for(F=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)F.push(e.readUInt16());return F}(),A=function(){var x,F;for(F=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)F.push(e.readUInt16());return F}(),c=function(){var x,F;for(F=[],l=x=0;0<=h?x<h:x>h;l=0<=h?++x:--x)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,a=function(){var x,F;for(F=[],l=x=0;0<=i?x<i:x>i;l=0<=i?++x:--x)F.push(e.readUInt16());return F}(),l=g=0,_=s.length;g<_;l=++g)for(b=s[l],r=v=p=f[l];p<=b?v<=b:v>=b;r=p<=b?++v:--v)c[l]===0?o=r+A[l]:(o=a[c[l]/2+(r-p)-(h-l)]||0)!==0&&(o+=A[l]),this.codeMap[r]=65535&o}e.pos=u}return t.encode=function(e,n){var r,i,s,o,a,l,A,c,u,h,d,p,f,b,g,v,_,x,F,O,I,B,T,R,D,E,k,N,Y,oe,ie,ne,se,ue,le,U,z,q,ee,fe,me,ge,ye,Me,De,Se;switch(N=new qc,o=Object.keys(e).sort(function(Qe,Q){return Qe-Q}),n){case"macroman":for(f=0,b=function(){var Qe=[];for(p=0;p<256;++p)Qe.push(0);return Qe}(),v={0:0},s={},Y=0,se=o.length;Y<se;Y++)v[ye=e[i=o[Y]]]==null&&(v[ye]=++f),s[i]={old:e[i],new:v[e[i]]},b[i]=v[e[i]];return N.writeUInt16(1),N.writeUInt16(0),N.writeUInt32(12),N.writeUInt16(0),N.writeUInt16(262),N.writeUInt16(0),N.write(b),{charMap:s,subtable:N.data,maxGlyphID:f+1};case"unicode":for(E=[],u=[],_=0,v={},r={},g=A=null,oe=0,ue=o.length;oe<ue;oe++)v[F=e[i=o[oe]]]==null&&(v[F]=++_),r[i]={old:F,new:v[F]},a=v[F]-i,g!=null&&a===A||(g&&u.push(g),E.push(i),A=a),g=i;for(g&&u.push(g),u.push(65535),E.push(65535),R=2*(T=E.length),B=2*Math.pow(Math.log(T)/Math.LN2,2),h=Math.log(B/2)/Math.LN2,I=2*T-B,l=[],O=[],d=[],p=ie=0,le=E.length;ie<le;p=++ie){if(D=E[p],c=u[p],D===65535){l.push(0),O.push(0);break}if(D-(k=r[D].new)>=32768)for(l.push(0),O.push(2*(d.length+T-p)),i=ne=D;D<=c?ne<=c:ne>=c;i=D<=c?++ne:--ne)d.push(r[i].new);else l.push(k-D),O.push(0)}for(N.writeUInt16(3),N.writeUInt16(1),N.writeUInt32(12),N.writeUInt16(4),N.writeUInt16(16+8*T+2*d.length),N.writeUInt16(0),N.writeUInt16(R),N.writeUInt16(B),N.writeUInt16(h),N.writeUInt16(I),me=0,U=u.length;me<U;me++)i=u[me],N.writeUInt16(i);for(N.writeUInt16(0),ge=0,z=E.length;ge<z;ge++)i=E[ge],N.writeUInt16(i);for(Me=0,q=l.length;Me<q;Me++)a=l[Me],N.writeUInt16(a);for(De=0,ee=O.length;De<ee;De++)x=O[De],N.writeUInt16(x);for(Se=0,fe=d.length;Se<fe;Se++)f=d[Se],N.writeUInt16(f);return{charMap:r,subtable:N.data,maxGlyphID:_+1}}},t}(),pz=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new yU(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=yU.encode(n,r),(s=new qc).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),gOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),mOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),vOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,l,A;for(A=[],o=a=0,l=this.file.maxp.numGlyphs;0<=l?a<l:a>l;o=0<=l?++a:--a)A.push(n.readUInt32());return A}).call(this)}},e}(),yOe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},wOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,l,A,c,u,h,d;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(A={},o=u=0,h=i.length;u<h;o=++u)s=i[o],n.pos=s.offset,c=n.readString(s.length),a=new yOe(c,s),A[d=s.nameID]==null&&(A[d]=[]),A[s.nameID].push(a);this.strings=A,this.copyright=A[0],this.fontFamily=A[1],this.fontSubfamily=A[2],this.uniqueSubfamily=A[3],this.fontName=A[4],this.version=A[5];try{this.postscriptName=A[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=A[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=A[7],this.manufacturer=A[8],this.designer=A[9],this.description=A[10],this.vendorUrl=A[11],this.designerUrl=A[12],this.license=A[13],this.licenseUrl=A[14],this.preferredFamily=A[15],this.preferredSubfamily=A[17],this.compatibleFull=A[18],this.sampleText=A[19]},e}(),bOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),_Oe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,l,A;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,u;for(u=[],r=c=0;0<=s?c<s:c>s;r=0<=s?++c:--c)u.push(n.readInt16());return u}(),this.widths=(function(){var c,u,h,d;for(d=[],c=0,u=(h=this.metrics).length;c<u;c++)o=h[c],d.push(o.advance);return d}).call(this),i=this.widths[this.widths.length-1],A=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)A.push(this.widths.push(i));return A},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),gz=[].slice,COe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,l,A,c,u,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(l=new qc(r.read(s))).readShort(),c=l.readShort(),h=l.readShort(),A=l.readShort(),u=l.readShort(),this.cache[n]=a===-1?new BOe(l,c,h,A,u):new xOe(l,a,c,h,A,u),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,l,A;for(a=[],o=[],l=0,A=r.length;l<A;l++)s=n[r[l]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),xOe=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),BOe=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new qc(gz.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),EOe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return dl(e,Pa),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var l=this.offsets[a],A=this.offsets[a+1]-l;A>0&&(s+=A)}for(var c=new Array(4*i.length),u=0;u<i.length;++u)c[4*u+3]=255&i[u],c[4*u+2]=(65280&i[u])>>8,c[4*u+1]=(16711680&i[u])>>16,c[4*u]=(4278190080&i[u])>>24;return c},e}(),SOe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,l;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,l,A,c,u,h,d,p,f,b,g;for(i in r=pz.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),d={0:0},g=r.charMap)d[(l=g[i]).old]=l.new;for(p in h=r.maxGlyphID,o)p in d||(d[p]=h++);return c=function(v){var _,x;for(_ in x={},v)x[v[_]]=_;return x}(d),u=Object.keys(c).sort(function(v,_){return v-_}),f=function(){var v,_,x;for(x=[],v=0,_=u.length;v<_;v++)a=u[v],x.push(c[a]);return x}(),s=this.font.glyf.encode(o,f,d),A=this.font.loca.encode(s.offsets,f),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:A,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();Et.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,l,A;for(A=[],a=0,l=n.length;a<l;a++)r=n[a],A.push(e.convert(r));return A}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();function TOe(){const[t,e]=$.useState("ceremony"),[n,r]=$.useState([]),[i,s]=$.useState([]),[o,a]=$.useState([]),[l,A]=$.useState([]),[c,u]=$.useState([]),h=t==="ceremony"?n:i,d=t==="ceremony"?r:s,p=t==="ceremony"?o:c,f=t==="ceremony"?a:u,b=$.useRef({ceremony:[],banquet:[]}),g=$.useRef({ceremony:-1,banquet:-1}),v=Le=>{const Ie=t,rt=b.current[Ie],Ke=g.current[Ie]+1;b.current[Ie]=[...rt.slice(0,Ke),JSON.parse(JSON.stringify(Le))].slice(-50),g.current[Ie]=Math.min(49,rt.slice(0,Ke).length)};$.useEffect(()=>{const Le=Ie=>{(Ie.ctrlKey||Ie.metaKey)&&Ie.key.toLowerCase()==="z"&&(Ie.preventDefault(),Ie.shiftKey?x():_())};return window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)},[]);const _=()=>{const Le=t,Ie=g.current[Le];if(Ie>0){g.current[Le]=Ie-1;const rt=b.current[Le][Ie-1];Le==="ceremony"?a(rt):u(rt)}},x=()=>{const Le=t,Ie=b.current[Le],rt=g.current[Le];if(rt<Ie.length-1){g.current[Le]=rt+1;const Ke=Ie[rt+1];Le==="ceremony"?a(Ke):u(Ke)}},[F,O]=$.useState([]),[I,B]=$.useState(1);$.useEffect(()=>{(async()=>{try{const rt=await(await fetch("/api/guests")).json();O(rt)}catch(Ie){console.error("Error fetching guests",Ie)}})()},[]),$.useEffect(()=>{let Le=null,Ie=null;const rt={current:Date.now()},Ke=mt=>{O(ft=>ft.map(Ht=>Ht.id===mt.id?{...Ht,tableId:mt.tableId}:Ht))},wt=()=>{Ie=setInterval(async()=>{try{const ft=await(await fetch(`/api/guests/changes?since=${rt.current}`)).json();Array.isArray(ft)&&ft.forEach(Ht=>{Ke(Ht),rt.current=Ht.ts})}catch(mt){console.warn("poll error",mt)}},1e4)};if("WebSocket"in window){const ft=`${window.location.protocol==="https:"?"wss":"ws"}://${window.location.host}/ws/guests`;Le=new WebSocket(ft),Le.onmessage=Ht=>{var _t;try{const Xt=JSON.parse(Ht.data);Xt.type==="guestUpdated"?Ke(Xt.payload):Xt.type==="presence"&&B(((_t=Xt.payload)==null?void 0:_t.count)||1)}catch(Xt){console.warn("ws parse",Xt)}},Le.onerror=()=>{Le&&(Le.close(),Le=null),wt()},Le.onclose=()=>{Ie||wt()}}else wt();return()=>{Le&&Le.close(),Ie&&clearInterval(Ie)}},[]);const[T,R]=$.useState(""),[D,E]=$.useState(!1),k=$.useRef(null),N=$.useRef(null);$.useEffect(()=>{var Le;D?setTimeout(()=>{var Ie;return(Ie=N.current)==null?void 0:Ie.focus()},50):(Le=k.current)==null||Le.focus()},[D]),$.useEffect(()=>{const Le=Ie=>{Ie.key==="Escape"&&D&&E(!1)};return window.addEventListener("keydown",Le),()=>window.removeEventListener("keydown",Le)},[D]);const[Y,oe]=$.useState(null),[ie,ne]=$.useState(null),[se,ue]=$.useState(!1),[le,U]=$.useState(!1),[z,q]=$.useState(null),[ee,fe]=$.useState(!1);$.useEffect(()=>{t==="banquet"&&u(Le=>Le.map(Ie=>{const rt=Ie.assignedGuests||[],Ke=F.filter(wt=>wt.tableId===Ie.id);return Ke.length===rt.length&&Ke.every((wt,mt)=>{var ft;return wt.id===((ft=rt[mt])==null?void 0:ft.id)})?Ie:{...Ie,assignedGuests:Ke.slice(0,Ie.seats)}}))},[F,t]),$.useEffect(()=>{try{const Le=JSON.parse(localStorage.getItem("seating-autosave"));Le&&(r(Le.areasCeremony||[]),s(Le.areasBanquet||[]),a(Le.tablesCeremony||[]),u(Le.tablesBanquet||[]),A(Le.seatsCeremony||[]))}catch{console.warn("No autosave")}},[]);const me=(Le=10,Ie=12,rt=40,Ke=100,wt=80,mt=6)=>{const ft=[];let Ht=1;for(let _t=0;_t<Le;_t++)for(let Xt=0;Xt<Ie;Xt++){const Vt=Xt>=mt?rt:0,Jt=Ke+Xt*rt+Vt;ft.push({id:Ht++,x:Jt,y:wt+_t*rt,row:_t+1,col:Xt+1+(Xt>=mt?1:0),enabled:!0})}A(ft)},ge=({rows:Le=3,cols:Ie=4,seats:rt=8,gapX:Ke=140,gapY:wt=160,startX:mt=120,startY:ft=160}={})=>{v(c);const Ht=[];let _t=1;Ht.push({id:_t++,x:mt+(Ie-1)*Ke/2,y:ft-wt,name:"Mesa Honor",shape:"rect",seats:10,enabled:!0,isHonor:!0});for(let Jt=0;Jt<Le;Jt++)for(let En=0;En<Ie;En++)Ht.push({id:_t++,x:mt+En*Ke,y:ft+Jt*wt,name:`Mesa ${_t-1}`,shape:"circle",seats:rt,enabled:!0});const Xt={};F.forEach(Jt=>{Jt.tableId&&(Xt[Jt.tableId]||(Xt[Jt.tableId]=[]),Xt[Jt.tableId].push(Jt))});const Vt=Ht.map(Jt=>({...Jt,assignedGuests:Xt[Jt.id]?Xt[Jt.id].slice(0,Jt.seats):[]}));u(Vt)};$.useEffect(()=>{const Le=setInterval(()=>{const Ie={areasCeremony:n,areasBanquet:i,tablesCeremony:o,tablesBanquet:c,seatsCeremony:l,ts:Date.now()};localStorage.setItem("seating-autosave",JSON.stringify(Ie)),q(new Date)},8e3);return()=>clearInterval(Le)},[n,i,o,c,l]);const[ye,Me]=$.useState(1),[De,Se]=$.useState({x:0,y:0}),Qe=$.useRef(null),Q=$.useRef(null),he=Le=>{Le.preventDefault();const Ie=Le.deltaY<0?1.1:.9;Me(rt=>Math.min(4,Math.max(.5,rt*Ie)))},K=Le=>{Le.button===0&&(Qe.current={x:Le.clientX-De.x,y:Le.clientY-De.y},window.addEventListener("pointermove",ae),window.addEventListener("pointerup",Z))},ae=Le=>{Se({x:Le.clientX-Qe.current.x,y:Le.clientY-Qe.current.y})},Z=()=>{window.removeEventListener("pointermove",ae),window.removeEventListener("pointerup",Z)},ce=Le=>d(Ie=>[...Ie,Le]),_e=()=>{v(p);const Le=p.length+1;f(Ie=>[...Ie,{id:Le,x:200,y:150,shape:"circle"}])},Be=(Le,Ie)=>{const rt=F.find(Ke=>Ke.id===Ie);if(Ie===null){v(p),f(Ke=>Ke.map(wt=>wt.id===Le?{...wt,guestId:void 0,guestName:void 0}:wt));return}rt&&(v(p),f(Ke=>Ke.map(wt=>wt.id===Le?{...wt,guestId:Ie,guestName:rt.name}:wt)))},pe=Le=>{v(p),f(Ie=>Ie.map(rt=>rt.id===Le?{...rt,enabled:rt.enabled===!1}:rt))},Pe=async()=>{if(!Q.current)return;const Le=await T5(Q.current),Ie=document.createElement("a");Ie.href=Le.toDataURL("image/png"),Ie.download=`seating-${t}.png`,Ie.click()},je=async()=>{if(!Q.current)return;const Le=await T5(Q.current),Ie=Le.toDataURL("image/png"),rt=new Et({orientation:"landscape",unit:"pt",format:[Le.width,Le.height]});rt.addImage(Ie,"PNG",0,0,Le.width,Le.height),rt.save(`seating-${t}.pdf`)},Ue=()=>{const Le=p.filter(Ke=>!Ke.guestId&&Ke.enabled!==!1),Ie=F.filter(Ke=>!p.some(wt=>wt.guestId===Ke.id)),rt={};Le.forEach((Ke,wt)=>{wt<Ie.length&&(rt[Ke.id]=Ie[wt])}),Object.keys(rt).length!==0&&oe(rt)},Ge=async()=>{fe(!0);try{const Le={tables:p.filter(wt=>wt.enabled!==!1).map(({id:wt,guestId:mt})=>({id:wt,guestId:mt})),guests:F},Ie=await fetch("/api/ai-assign",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Le)});if(!Ie.ok)throw new Error("Error IA");const rt=await Ie.json(),Ke={};Object.entries(rt.assignments).forEach(([wt,mt])=>{const ft=F.find(Ht=>Ht.id===mt);ft&&(Ke[wt]=ft)}),Object.keys(Ke).length&&oe(Ke)}catch(Le){alert("IA error: "+Le.message)}finally{fe(!1)}},nt=Le=>{v(p),f(Le.map((Ie,rt)=>({...Ie,id:rt+1}))),ue(!1)},Ze=Le=>{v(p),f(Ie=>Ie.map(rt=>rt.id===Le.id?Le:rt))},At=(Le,Ie)=>{v(p),f(rt=>rt.map(Ke=>Ke.id===Le?{...Ke,...Ie}:Ke))};return y.jsxs("div",{className:"p-4 select-none",children:[y.jsxs("div",{className:"flex space-x-2 mb-4",children:[y.jsx("button",{"aria-label":!0,onClick:()=>e("ceremony"),className:`px-4 py-2 rounded ${t==="ceremony"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Ceremonia"}),y.jsx("button",{"aria-label":!0,onClick:()=>e("banquet"),className:`px-4 py-2 rounded ${t==="banquet"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Banquete"})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4",ref:Q,role:"region","aria-label":"Lienzo y lista invitados",children:[y.jsx(Hke,{tab:t,areas:h,tables:p,scale:ye,offset:De,addArea:ce,moveTable:At,onAssignGuest:Be,onToggleEnabled:pe,setConfigTable:ne,online:I,handleWheel:he,handlePointerDown:K,ref:Q}),t==="banquet"&&(()=>{const Le=[...new Set(p.map(rt=>rt.x))],Ie=[...new Set(p.map(rt=>rt.y))];return y.jsxs(y.Fragment,{children:[Le.map((rt,Ke)=>y.jsx("div",{style:{position:"absolute",left:rt*ye+De.x,top:0,height:"100%",width:1,background:"#cbd5e1",pointerEvents:"none"}},`v${Ke}`)),Ie.map((rt,Ke)=>y.jsx("div",{style:{position:"absolute",top:rt*ye+De.y,left:0,width:"100%",height:1,background:"#cbd5e1",pointerEvents:"none"}},`h${Ke}`))]})})(),y.jsxs("div",{className:"absolute top-2 left-2 bg-white bg-opacity-80 px-2 py-1 text-sm rounded shadow",children:["Áreas: ",h.length," | Mesas: ",p.length," | Zoom: ",ye.toFixed(2)," | Online: ",I]})]}),y.jsx(Jke,{guests:F,tables:p,search:T,setSearch:R,guestOpen:D,setGuestOpen:E,guestBtnRef:k,searchRef:N}),z&&y.jsxs("div",{className:"fixed bottom-4 right-4 bg-green-600 text-white text-xs px-3 py-1 rounded shadow",children:["Guardado ",z.toLocaleTimeString()]}),y.jsx(TUe,{tab:t,addTable:_e,setScale:Me,undo:_,redo:x,exportPNG:Pe,exportPDF:je,generateSeatGrid:me,setTemplateOpen:ue,setBanquetConfigOpen:U,handleLocalAssign:Ue,handleServerAssign:Ge,loadingAI:ee,setOffset:Se}),y.jsxs(a0,{open:!!Y,title:"Propuesta de asignación IA",onClose:()=>oe(null),children:[Y&&y.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:Object.entries(Y).map(([Le,Ie])=>y.jsxs("div",{className:"flex justify-between border-b pb-1",children:[y.jsxs("span",{children:["Mesa ",Le]}),y.jsx("span",{children:Ie.name})]},Le))}),y.jsxs("div",{className:"mt-4 flex justify-end space-x-2",children:[y.jsx("button",{"aria-label":!0,onClick:()=>oe(null),className:"px-3 py-1 text-sm bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{"aria-label":!0,onClick:()=>{Y&&(f(Le=>Le.map(Ie=>Y[Ie.id]?{...Ie,guestId:Y[Ie.id].id,guestName:Y[Ie.id].name}:Ie)),oe(null))},className:"px-3 py-1 text-sm bg-blue-600 text-white rounded",children:"Aplicar"})]})]}),y.jsx(nPe,{open:le,onClose:()=>U(!1),onApply:Le=>{ge(Le),U(!1)}}),y.jsx(Zke,{open:!!ie,table:ie||{},onSave:Ze,onClose:()=>ne(null)}),y.jsx(tPe,{open:se,onApply:nt,onClose:()=>ue(!1)})]})}function wU(){const[t,e]=$.useState(()=>localStorage.getItem("invitationAiPrompt")||""),[n,r]=$.useState(!1),[i,s]=$.useState(""),[o,a]=$.useState(null),[l,A]=$.useState(()=>JSON.parse(localStorage.getItem("invitationShowPreview"))||!1),c=async()=>{var I,B,T;if(t){r(!0),a(null);try{const E=((T=(B=(I=(await(await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${{}.VITE_OPENAI_KEY}`},body:JSON.stringify({model:"gpt-3.5-turbo",messages:[{role:"system",content:"You are a helpful assistant specialized in generating invitation texts."},{role:"user",content:t}]})})).json()).choices)==null?void 0:I[0])==null?void 0:B.message)==null?void 0:T.content)||"";s(E),a({message:"Invitación generada",type:"success"})}catch(R){console.error(R),a({message:"Error generando invitación",type:"error"})}finally{r(!1)}}},[u,h]=$.useState(()=>localStorage.getItem("invitationPanel")||"invitation"),[d,p]=$.useState(()=>localStorage.getItem("invitationFilterCategory")||""),[f,b]=$.useState(()=>localStorage.getItem("invitationFilterColor")||""),[g,v]=$.useState(()=>localStorage.getItem("invitationFilterFont")||""),[_,x]=$.useState(()=>parseInt(localStorage.getItem("invitationStep"))||1),O=[{id:1,name:"Clásico",category:"clásico",color:"pastel",font:"Serif"},{id:2,name:"Moderno",category:"moderno",color:"vibrante",font:"Sans"},{id:3,name:"Rústico",category:"rústico",color:"tierra",font:"Handwriting"},{id:4,name:"Minimalista",category:"minimalista",color:"monocromo",font:"Sans"}].filter(I=>(d?I.category===d:!0)&&(f?I.color===f:!0)&&(g?I.font===g:!0));return $.useEffect(()=>{localStorage.setItem("invitationAiPrompt",t),localStorage.setItem("invitationPanel",u),localStorage.setItem("invitationFilterCategory",d),localStorage.setItem("invitationFilterColor",f),localStorage.setItem("invitationFilterFont",g),localStorage.setItem("invitationStep",_.toString()),localStorage.setItem("invitationGeneratedText",i),localStorage.setItem("invitationShowPreview",JSON.stringify(l))},[t,u,d,f,g,_,i,l]),y.jsxs(pn,{className:"p-6 space-y-6",children:[o&&y.jsx(S4,{message:o.message,type:o.type,onClose:()=>a(null)}),y.jsx("h1",{className:"text-2xl font-semibold",children:"Diseño de Invitaciones"}),y.jsxs("div",{className:"flex justify-between mb-4",children:[_>1&&y.jsx("button",{onClick:()=>x(_-1),className:"bg-gray-200 px-3 py-1 rounded",children:"Anterior"}),_<4&&y.jsx("button",{onClick:()=>x(_+1),className:"bg-blue-600 text-white px-3 py-1 rounded",children:"Siguiente"}),_===4&&y.jsx("button",{onClick:()=>alert("Wizard completado"),className:"bg-green-600 text-white px-3 py-1 rounded",children:"Finalizar"})]}),_===1&&y.jsxs("section",{className:"border rounded p-4 space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Asistente de IA"}),y.jsx("textarea",{rows:3,placeholder:"Describe cómo quieres tu invitación...",value:t,onChange:I=>e(I.target.value),className:"w-full border rounded p-2"}),y.jsxs("button",{onClick:c,disabled:n,className:"bg-indigo-600 text-white px-4 py-2 rounded flex items-center",children:[n?y.jsx(UI,{size:16,className:"mr-2"}):y.jsx(Dhe,{size:16,className:"mr-2"})," ",n?"Generando...":"Generar invitación"]})]}),_===2&&y.jsxs("section",{className:"border rounded p-4 space-y-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Selección de Plantilla"}),y.jsxs("div",{className:"flex gap-4 flex-wrap",children:[y.jsxs("select",{value:d,onChange:I=>p(I.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todos los estilos"}),y.jsx("option",{value:"clásico",children:"Clásico"}),y.jsx("option",{value:"moderno",children:"Moderno"}),y.jsx("option",{value:"rústico",children:"Rústico"}),y.jsx("option",{value:"minimalista",children:"Minimalista"})]}),y.jsxs("select",{value:f,onChange:I=>b(I.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todas las paletas"}),y.jsx("option",{value:"pastel",children:"Pastel"}),y.jsx("option",{value:"vibrante",children:"Vibrante"}),y.jsx("option",{value:"tierra",children:"Tierra"}),y.jsx("option",{value:"monocromo",children:"Monocromo"})]}),y.jsxs("select",{value:g,onChange:I=>v(I.target.value),className:"border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Todas las tipografías"}),y.jsx("option",{value:"Serif",children:"Serif"}),y.jsx("option",{value:"Sans",children:"Sans"}),y.jsx("option",{value:"Handwriting",children:"Handwriting"})]})]}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4",children:O.map(I=>y.jsx("div",{className:"border rounded overflow-hidden cursor-pointer hover:shadow-lg",children:y.jsx("div",{className:"h-32 bg-gray-100 flex items-center justify-center",children:y.jsx("span",{className:"text-sm font-medium",children:I.name})})},I.id))})]}),_===3&&y.jsxs("section",{className:"border rounded p-4 space-y-4",children:[y.jsxs("div",{className:"flex gap-4",children:[y.jsx("button",{onClick:()=>h("invitation"),className:`px-4 py-2 rounded ${u==="invitation"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Invitación"}),y.jsx("button",{onClick:()=>h("envelope"),className:`px-4 py-2 rounded ${u==="envelope"?"bg-blue-600 text-white":"bg-gray-200"}`,children:"Sobre"})]}),y.jsx("div",{className:"border bg-white h-[400px] flex items-center justify-center text-gray-400",children:u==="invitation"?"Canvas de invitación: arrastra componentes aquí":"Canvas de sobre: frontal / trasero"})]}),_===4&&y.jsxs("section",{className:"flex flex-wrap gap-2",children:[y.jsxs("button",{onClick:()=>A(I=>!I),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[y.jsx(wb,{size:16,className:"mr-2"}),l?"Ocultar preview":"Previsualizar"]}),y.jsxs("button",{className:"bg-green-600 text-white px-4 py-2 rounded flex items-center",children:[y.jsx($w,{size:16,className:"mr-2"}),"Exportar PDF"]}),y.jsxs("button",{className:"bg-gray-200 text-gray-800 px-4 py-2 rounded flex items-center",children:[y.jsx($w,{size:16,className:"mr-2"}),"Exportar PNG"]}),y.jsx("button",{className:"bg-purple-600 text-white px-4 py-2 rounded",children:"Compartir"})]}),l&&i&&y.jsxs("section",{className:"border rounded p-4 bg-gray-50 mt-4",children:[y.jsx("h3",{className:"text-lg font-semibold",children:"Preview de Invitación"}),y.jsx("p",{className:"whitespace-pre-wrap",children:i})]}),_===4&&y.jsxs("section",{className:"border rounded p-4",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Opciones Avanzadas"}),y.jsxs("div",{className:"flex gap-2 mt-2",children:[y.jsxs("button",{className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[y.jsx(Nhe,{size:16,className:"mr-2"}),"Guardar Borrador"]}),y.jsxs("button",{className:"bg-gray-200 px-3 py-1 rounded flex items-center",children:[y.jsx(_he,{size:16,className:"mr-2"}),"Duplicar Diseño"]})]})]})]})}function IOe(){const t=[{id:1,provider:"Eventos Catering",type:"Catering",signedDate:"2025-04-01",serviceDate:"2025-06-10",status:"Vigente",docUrl:"#"},{id:2,provider:"Flores y Diseño",type:"Flores",signedDate:"2025-03-15",serviceDate:"2025-06-12",status:"Vigente",docUrl:"#"}],[e,n]=$.useState(t),[r,i]=$.useState([]),[s,o]=$.useState(!1),[a,l]=$.useState(null),A={provider:"",type:"",signedDate:"",serviceDate:"",status:"",docUrl:""},[c,u]=$.useState(A),h=b=>{b.preventDefault();const g=e.length?Math.max(...e.map(v=>v.id))+1:1;n(v=>[...v,{id:g,...c,docUrl:c.docUrl||"#"}]),u(A),o(!1),l({message:"Contrato agregado",type:"success"})},d=b=>{const g=new Date,_=(new Date(b)-g)/(1e3*60*60*24);return _>=0&&_<=7},p=b=>{i(g=>g.includes(b)?g.filter(v=>v!==b):[...g,b])},f=()=>{console.log("Export contracts:",r)};return y.jsxs(y.Fragment,{children:[y.jsxs(pn,{className:"p-6 space-y-6",children:[a&&y.jsx(S4,{message:a.message,type:a.type,onClose:()=>l(null)}),y.jsxs("div",{className:"flex items-center justify-between",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Contratos"}),y.jsxs("div",{className:"flex gap-2",children:[y.jsxs("button",{onClick:()=>o(!0),className:"bg-blue-600 text-white px-4 py-2 rounded flex items-center",children:[y.jsx(bb,{size:16,className:"mr-2"})," Añadir Contrato"]}),y.jsxs("button",{onClick:f,className:"bg-gray-200 px-4 py-2 rounded flex items-center",children:[y.jsx($w,{size:16,className:"mr-2"})," Exportar Seleccionados"]})]})]}),y.jsx("div",{className:"hidden md:block overflow-auto",children:y.jsxs("table",{className:"w-full table-auto",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-gray-50",children:[y.jsx("th",{className:"p-2",children:y.jsx("input",{type:"checkbox",onChange:b=>i(b.target.checked?e.map(g=>g.id):[])})}),y.jsx("th",{className:"p-2",children:"Proveedor"}),y.jsx("th",{className:"p-2",children:"Tipo de contrato"}),y.jsx("th",{className:"p-2",children:"Fecha de firma"}),y.jsx("th",{className:"p-2",children:"Fecha de servicio"}),y.jsx("th",{className:"p-2",children:"Estado"}),y.jsx("th",{className:"p-2",children:"Documento"})]})}),y.jsx("tbody",{children:e.map(b=>y.jsxs("tr",{className:`${d(b.serviceDate)?"bg-yellow-100":""} border-b`,children:[y.jsx("td",{className:"p-2",children:y.jsx("input",{type:"checkbox",checked:r.includes(b.id),onChange:()=>p(b.id)})}),y.jsx("td",{className:"p-2",children:b.provider}),y.jsx("td",{className:"p-2",children:b.type}),y.jsx("td",{className:"p-2",children:b.signedDate}),y.jsx("td",{className:"p-2",children:b.serviceDate}),y.jsx("td",{className:"p-2",children:b.status}),y.jsx("td",{className:"p-2",children:y.jsxs("a",{href:b.docUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600",children:[y.jsx(wb,{size:16,className:"mr-1"})," Ver"]})})]},b.id))})]})}),y.jsx("div",{className:"block md:hidden space-y-4",children:e.map(b=>y.jsx(NOe,{contract:b,isSelected:r.includes(b.id),onToggle:()=>p(b.id)},b.id))})]}),s&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white p-6 rounded shadow w-96",children:[y.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Añadir Contrato"}),y.jsxs("form",{onSubmit:h,className:"space-y-3",children:[y.jsx("input",{type:"text",placeholder:"Proveedor",value:c.provider,onChange:b=>u({...c,provider:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsx("input",{type:"text",placeholder:"Tipo de contrato",value:c.type,onChange:b=>u({...c,type:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsx("input",{type:"date",value:c.signedDate,onChange:b=>u({...c,signedDate:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsx("input",{type:"date",value:c.serviceDate,onChange:b=>u({...c,serviceDate:b.target.value}),className:"w-full border rounded px-2 py-1",required:!0}),y.jsxs("select",{value:c.status,onChange:b=>u({...c,status:b.target.value}),className:"w-full border rounded px-2 py-1",children:[y.jsx("option",{value:"",children:"Seleccionar estado"}),y.jsx("option",{value:"Vigente",children:"Vigente"}),y.jsx("option",{value:"Expirado",children:"Expirado"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block mb-1",children:"Documento"}),y.jsx("input",{type:"file",accept:".pdf,.doc,.docx",onChange:b=>{const g=b.target.files[0];u({...c,docUrl:URL.createObjectURL(g)})},className:"w-full"})]}),y.jsxs("div",{className:"flex justify-end gap-2",children:[y.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Cancelar"}),y.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Guardar"})]})]})]})})]})}function NOe({contract:t,isSelected:e,onToggle:n}){const[r,i]=$.useState(!1);return y.jsxs("div",{className:"border rounded p-4",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("p",{className:"font-semibold",children:t.provider}),y.jsxs("p",{className:"text-sm text-gray-600",children:[t.type," - ",t.status]})]}),y.jsx("button",{onClick:()=>i(s=>!s),children:r?y.jsx(whe,{}):y.jsx(vhe,{})})]}),r&&y.jsxs("div",{className:"mt-2 space-y-2",children:[y.jsxs("p",{children:["Fecha de firma: ",t.signedDate]}),y.jsxs("p",{children:["Fecha de servicio: ",t.serviceDate]}),y.jsxs("a",{href:t.docUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600",children:[y.jsx(wb,{size:16,className:"mr-1"})," Ver documento"]}),y.jsxs("div",{children:[y.jsx("input",{type:"checkbox",checked:e,onChange:n})," Seleccionar"]})]})]})}const FOe=[{path:"momentos-especiales",label:"Momentos Especiales"}],kOe=re.memo(()=>{const t=pA(),e=Ih();$.useEffect(()=>{(t.pathname==="/protocolo"||t.pathname==="/protocolo/")&&e("/protocolo/momentos-especiales",{replace:!0})},[t.pathname,e]);const n=$.useMemo(()=>FOe.map(r=>({...r,href:`/protocolo/${r.path}`})),[]);return t.pathname==="/protocolo"||t.pathname==="/protocolo/"?y.jsx("div",{className:"p-6",role:"status","aria-live":"polite",children:"Cargando..."}):y.jsxs("section",{className:"p-6 flex flex-col gap-6","aria-labelledby":"protocolo-heading",children:[y.jsx("h1",{id:"protocolo-heading",className:"text-2xl font-bold text-gray-800",children:"Protocolo de la Boda"}),y.jsx("nav",{role:"tablist","aria-label":"Secciones de Protocolo",className:"flex overflow-x-auto space-x-2 pb-2",children:n.map(r=>y.jsx(zM,{to:r.href,role:"tab","aria-current":t.pathname===r.href?"page":void 0,className:({isActive:i})=>`px-4 py-2 rounded-t-lg font-medium whitespace-nowrap focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ${i?"bg-white border-t-2 border-l-2 border-r-2 border-blue-500 text-blue-600 font-semibold":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:r.label},r.path))}),y.jsx(pn,{className:"overflow-hidden focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",role:"region","aria-label":"Contenido de Protocolo",children:y.jsx("div",{className:"p-6",children:y.jsx(xv,{})})}),y.jsxs("p",{className:"sr-only","data-testid":"current-path",children:["Ruta actual: ",t.pathname]})]})}),POe=()=>{var i;const[t,e]=$.useState([{id:"ceremonia",name:"Ceremonia",moments:[{id:1,order:1,title:"Entrada Novio",song:"Canon in D – Pachelbel",notes:"Entrada por pasillo lateral"},{id:2,order:2,title:"Entrada Novia",song:"Bridal Chorus – Wagner",notes:""},{id:3,order:3,title:"Lectura 1",song:"A Thousand Years",notes:""},{id:4,order:4,title:"Lectura 2",song:"",notes:""},{id:5,order:5,title:"Ceremonia de Anillos",song:"",notes:""},{id:6,order:6,title:"Salida",song:"",notes:""}]},{id:"coctel",name:"Cóctel",moments:[{id:7,order:1,title:"Canción de Entrada",song:"",notes:""}],playlistSugeridas:["Chill","Lounge","Jazz","Upbeat"]},{id:"banquete",name:"Banquete",moments:[{id:8,order:1,title:"Entrada de Novios",song:"",notes:""},{id:9,order:2,title:"Corte de Pastel",song:"",notes:""},{id:10,order:3,title:"Discursos",song:"",notes:""}]},{id:"disco",name:"Disco",moments:[{id:11,order:1,title:"Baile Principal",song:"",notes:""},{id:12,order:2,title:"Animación de Pista",song:"",notes:""},{id:13,order:3,title:"Último Tema",song:"",notes:""}],wishlists:[{id:"wl1",name:"Lista de deseos 1",songs:[]}]}]),[n,r]=$.useState(((i=t[0])==null?void 0:i.id)||null);return y.jsxs("div",{className:"space-y-8",children:[y.jsxs("header",{className:"space-y-1",children:[y.jsx("h1",{className:"text-2xl font-semibold text-gray-800",children:"Momentos Especiales"}),y.jsx("p",{className:"text-gray-600",children:"Planifica cada instante clave de tu gran día."})]}),y.jsx("div",{className:"space-x-2 border-b mb-4 overflow-x-auto",children:t.map(s=>y.jsx("button",{onClick:()=>r(s.id),className:`px-4 py-2 text-sm whitespace-nowrap border-b-2 transition-colors ${n===s.id?"border-blue-600 text-blue-600":"border-transparent text-gray-600 hover:text-blue-600"}`,children:s.name},s.id))}),y.jsxs("div",{className:"lg:grid lg:grid-cols-12 gap-6",children:[t.filter(s=>s.id===n).map(s=>y.jsxs(pn,{className:"p-4 space-y-4 lg:col-span-8",children:[y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full min-w-[600px] text-sm border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"text-left text-gray-600",children:[y.jsx("th",{scope:"col",className:"py-2 font-semibold",children:"Orden"}),y.jsx("th",{scope:"col",className:"py-2 font-semibold",children:"Momento"}),y.jsx("th",{scope:"col",className:"py-2 font-semibold",children:"Canción"}),y.jsx("th",{scope:"col",className:"py-2 font-semibold",children:"Acciones"})]})}),y.jsx("tbody",{children:s.moments.map(o=>y.jsxs("tr",{className:"border-t",children:[y.jsx("th",{scope:"row",className:"py-2 pr-2 w-12 font-medium text-gray-700",children:o.order}),y.jsx("td",{className:"py-2 pr-2 whitespace-nowrap",children:o.title}),y.jsx("td",{className:"py-2 pr-2 text-gray-700 truncate max-w-[10rem]",children:o.song||y.jsx("span",{className:"italic text-gray-400",children:"Sin asignar"})}),y.jsxs("td",{className:"py-2 flex items-center space-x-3",children:[y.jsx("button",{className:"text-gray-600 hover:text-blue-600","aria-label":"Cambiar orden",children:y.jsx(Ehe,{className:"w-4 h-4"})}),y.jsx("button",{className:"text-gray-600 hover:text-blue-600","aria-label":"Cambiar canción",children:y.jsx(HD,{className:"w-4 h-4"})}),y.jsx("button",{className:"text-gray-600 hover:text-blue-600","aria-label":"Reproducir",children:y.jsx(Ihe,{className:"w-4 h-4"})}),y.jsx("button",{className:"text-gray-600 hover:text-blue-600","aria-label":"Añadir nota",children:y.jsx(b7,{className:"w-4 h-4"})}),y.jsx("button",{className:"text-gray-600 hover:text-red-600","aria-label":"Eliminar",children:y.jsx(Gv,{className:"w-4 h-4"})})]})]},o.id))})]})}),s.playlistSugeridas&&y.jsxs("div",{className:"space-y-1",children:[y.jsx("h4",{className:"font-medium text-gray-800",children:"Playlists sugeridas"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:s.playlistSugeridas.map(o=>y.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs",children:o},o))})]}),s.wishlists&&y.jsxs("div",{className:"space-y-2",children:[y.jsx("h4",{className:"font-medium text-gray-800",children:"Wishlists"}),s.wishlists.map(o=>y.jsxs("div",{className:"p-2 border rounded flex justify-between items-center",children:[y.jsx("span",{children:o.name}),y.jsx(ir,{size:"sm",children:"Ver"})]},o.id)),y.jsx(ir,{size:"sm",className:"mt-1",children:"Crear nueva lista"})]})]},s.id)),y.jsx("aside",{className:"lg:col-span-4 space-y-4",children:y.jsxs(pn,{className:"p-4 space-y-3 sticky top-20",children:[y.jsxs("h3",{className:"font-medium flex items-center gap-1",children:[y.jsx(_b,{className:"w-4 h-4"})," Buscador de Canciones (IA)"]}),y.jsx("input",{type:"text",disabled:!0,placeholder:"Describe tu momento o busca canción",className:"w-full p-2 border rounded text-sm"}),y.jsx("p",{className:"text-xs text-gray-600",children:"Próximamente: sugerencias IA y filtros avanzados."})]})})]}),y.jsxs(pn,{className:"p-4 flex flex-wrap gap-3 items-center justify-between",children:[y.jsx("h3",{className:"font-medium",children:"Exportar / Compartir"}),y.jsxs("div",{className:"flex flex-wrap gap-3",children:[y.jsx(ir,{leftIcon:y.jsx(HD,{className:"w-4 h-4"}),children:"Exportar a Spotify"}),y.jsx(ir,{leftIcon:y.jsx(Bhe,{className:"w-4 h-4"}),children:"Descargar PDF"}),y.jsx(ir,{leftIcon:y.jsx(xhe,{className:"w-4 h-4"}),children:"Enlace público"})]})]}),y.jsxs("section",{className:"space-y-3",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Galería de Inspiración"}),y.jsx("div",{className:"grid sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Array.from({length:8}).map((s,o)=>y.jsx("div",{className:"aspect-square bg-gray-100 rounded-lg animate-pulse"},o))})]})]})},DOe=()=>{const[t,e]=$.useState([{id:"ceremonia",name:"Ceremonia",startTime:"16:00",endTime:"16:45",status:"on-time",moments:[{id:1,name:"Llegada de invitados",time:"15:30",duration:"30 min",status:"on-time"},{id:2,name:"Entrada de la novia",time:"16:00",duration:"5 min",status:"on-time"},{id:3,name:"Lecturas",time:"16:20",duration:"10 min",status:"on-time"}]},{id:"coctel",name:"Cóctel",startTime:"17:00",endTime:"19:00",status:"on-time",moments:[{id:4,name:"Brindis de bienvenida",time:"17:15",duration:"15 min",status:"on-time"},{id:5,name:"Fotos de grupo",time:"17:45",duration:"30 min",status:"on-time"}]}]),n=s=>{switch(s){case"on-time":return"bg-green-100 text-green-800";case"slightly-delayed":return"bg-blue-100 text-blue-800";case"delayed":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},r=s=>{switch(s){case"on-time":return"A tiempo";case"slightly-delayed":return"Ligero retraso";case"delayed":return"Retrasado";default:return"Sin estado"}},i=(s,o,a)=>{e(t.map(l=>l.id===s?{...l,moments:l.moments.map(A=>A.id===o?{...A,time:a}:A)}:l))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"flex justify-between items-center",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Timing de la Boda"}),y.jsx("p",{className:"text-gray-600",children:"Organiza la línea de tiempo de tu boda"})]}),y.jsxs(ir,{children:[y.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Añadir Bloque"]})]}),y.jsx("div",{className:"space-y-8",children:t.map(s=>y.jsxs(pn,{className:"overflow-hidden",children:[y.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-medium",children:s.name}),y.jsxs("div",{className:"flex items-center space-x-4",children:[y.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${n(s.status)}`,children:r(s.status)}),y.jsxs("span",{className:"text-sm text-gray-600",children:[s.startTime," - ",s.endTime]})]})]}),y.jsx("div",{className:"divide-y",children:s.moments.map(o=>y.jsx("div",{className:"p-4 hover:bg-gray-50 transition-colors",children:y.jsxs("div",{className:"flex items-start justify-between",children:[y.jsxs("div",{className:"flex-1",children:[y.jsxs("div",{className:"flex items-center space-x-3",children:[y.jsx("div",{className:`w-3 h-3 rounded-full ${n(o.status).split(" ")[0]}`}),y.jsx("h4",{className:"font-medium",children:o.name})]}),y.jsxs("div",{className:"ml-6 mt-1 text-sm text-gray-600",children:[y.jsxs("span",{className:"inline-block mr-4",children:[y.jsx("span",{className:"font-medium",children:"Hora:"})," ",o.time]}),y.jsxs("span",{className:"inline-block",children:[y.jsx("span",{className:"font-medium",children:"Duración:"})," ",o.duration]})]})]}),y.jsx("div",{className:"flex space-x-2",children:y.jsx("button",{className:"p-1 text-gray-400 hover:text-gray-600",onClick:()=>{const a=prompt("Nueva hora (HH:MM):",o.time);a&&i(s.id,o.id,a)},children:y.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})})]})},o.id))}),y.jsx("div",{className:"px-6 py-3 bg-gray-50 text-right",children:y.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"+ Añadir momento"})})]},s.id))}),y.jsxs("div",{className:"mt-8 p-4 bg-blue-50 rounded-lg",children:[y.jsxs("h3",{className:"font-medium text-blue-800 flex items-center",children:[y.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Consejo de planificación"]}),y.jsx("p",{className:"mt-1 text-sm text-blue-700",children:"Asegúrate de incluir tiempos de transición entre eventos. Como regla general, añade un 10-15% de tiempo extra a cada bloque para imprevistos."})]})]})},LOe=()=>{const[t,e]=$.useState("dia-previo"),[n,r]=$.useState(""),[i,s]=$.useState({"dia-previo":[{id:1,task:"Recoger trajes y vestidos",responsible:"Novio",dueDate:"2025-06-20",status:"pending"},{id:2,task:"Ensayo general de la ceremonia",responsible:"Ambos",dueDate:"2025-06-20",status:"pending"},{id:3,task:"Confirmar horarios con proveedores",responsible:"Novia",dueDate:"2025-06-20",status:"completed"}],"antes-inicio":[{id:4,task:"Revisar decoración del lugar",responsible:"Madrina",dueDate:"2025-06-21",status:"pending"},{id:5,task:"Preparar discurso",responsible:"Padre del novio",dueDate:"2025-06-21",status:"pending"}]}),o=u=>{if(u.preventDefault(),!n.trim())return;const h={id:Date.now(),task:n.trim(),responsible:"",dueDate:"",status:"pending"};s(d=>({...d,[t]:[...d[t],h]})),r("")},a=(u,h)=>{s(d=>({...d,[u]:d[u].map(p=>p.id===h?{...p,status:p.status==="completed"?"pending":"completed"}:p)}))},l=(u,h)=>{window.confirm("¿Estás seguro de eliminar esta tarea?")&&s(d=>({...d,[u]:d[u].filter(p=>p.id!==h)}))},A=(u,h,d,p)=>{s(f=>({...f,[u]:f[u].map(b=>b.id===h?{...b,[d]:p}:b)}))},c=[{id:"dia-previo",name:"Día Previo a la Boda"},{id:"antes-inicio",name:"Antes de Empezar"}];return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Checklist de Protocolo"}),y.jsx("p",{className:"text-gray-600",children:"Organiza las tareas previas al gran día"})]}),y.jsx("div",{className:"border-b border-gray-200",children:y.jsx("nav",{className:"-mb-px flex space-x-8",children:c.map(u=>y.jsxs("button",{onClick:()=>e(u.id),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${t===u.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.name,y.jsx("span",{className:"ml-2 bg-gray-100 text-gray-600 text-xs font-medium px-2 py-0.5 rounded-full",children:i[u.id].length})]},u.id))})}),y.jsxs("form",{onSubmit:o,className:"flex space-x-2",children:[y.jsx("div",{className:"flex-1",children:y.jsx("input",{type:"text",value:n,onChange:u=>r(u.target.value),placeholder:"Nueva tarea...",className:"w-full px-4 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500"})}),y.jsx(ir,{type:"submit",disabled:!n.trim(),children:"Añadir"})]}),y.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:y.jsx("ul",{className:"divide-y divide-gray-200",children:i[t].length===0?y.jsx("li",{className:"p-6 text-center text-gray-500",children:"No hay tareas en esta sección. ¡Añade tu primera tarea!"}):i[t].map(u=>y.jsx("li",{className:"px-4 py-4 sm:px-6",children:y.jsxs("div",{className:"flex items-center",children:[y.jsx("input",{type:"checkbox",checked:u.status==="completed",onChange:()=>a(t,u.id),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),y.jsxs("div",{className:"ml-3 flex-1",children:[y.jsx("div",{className:`flex items-center ${u.status==="completed"?"line-through text-gray-400":"text-gray-900"}`,children:y.jsx("span",{className:"font-medium",children:u.task})}),y.jsxs("div",{className:"mt-1 flex flex-col sm:flex-row sm:items-center text-sm text-gray-500",children:[y.jsxs("div",{className:"mt-1 sm:mt-0 sm:ml-4",children:[y.jsx("span",{className:"mr-2",children:"Responsable:"}),y.jsxs("select",{value:u.responsible,onChange:h=>A(t,u.id,"responsible",h.target.value),className:"border-b border-dashed border-gray-300 bg-transparent focus:outline-none focus:border-blue-500",children:[y.jsx("option",{value:"",children:"Seleccionar"}),y.jsx("option",{value:"Novio",children:"Novio"}),y.jsx("option",{value:"Novia",children:"Novia"}),y.jsx("option",{value:"Ambos",children:"Ambos"}),y.jsx("option",{value:"Madrina",children:"Madrina"}),y.jsx("option",{value:"Padrino",children:"Padrino"}),y.jsx("option",{value:"Padres",children:"Padres"}),y.jsx("option",{value:"Wedding Planner",children:"Wedding Planner"})]})]}),y.jsxs("div",{className:"mt-1 sm:mt-0 sm:ml-4",children:[y.jsx("span",{className:"mr-2",children:"Fecha:"}),y.jsx("input",{type:"date",value:u.dueDate,onChange:h=>A(t,u.id,"dueDate",h.target.value),className:"border-b border-dashed border-gray-300 bg-transparent focus:outline-none focus:border-blue-500"})]})]})]}),y.jsx("button",{onClick:()=>l(t,u.id),className:"ml-2 text-gray-400 hover:text-red-500",children:y.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})},u.id))})}),y.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-5 sm:grid-cols-3",children:[y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Tareas"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-gray-900",children:i[t].length})]})}),y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Completadas"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-green-600",children:i[t].filter(u=>u.status==="completed").length})]})}),y.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:y.jsxs("div",{className:"px-4 py-5 sm:p-6",children:[y.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Pendientes"}),y.jsx("dd",{className:"mt-1 text-3xl font-semibold text-yellow-600",children:i[t].filter(u=>u.status==="pending").length})]})})]})]})},ROe=()=>{const{user:t}=Uh(),[e,n]=$.useState("lecturas"),[r,i]=$.useState([{id:1,title:"Lectura 1",content:"Texto de la primera lectura...",duration:"3 min",status:"draft"},{id:2,title:"Evangelio",content:"Texto del evangelio...",duration:"5 min",status:"final"}]),[s,o]=$.useState([{id:1,type:"ramo",recipient:"Madre de la novia",table:"Mesa 1",description:"Ramo de rosas blancas",notes:"Entregar después del primer baile",status:"pending"}]),[a,l]=$.useState(null),[A,c]=$.useState(!1),[u,h]=$.useState(""),d=(t==null?void 0:t.role)==="wedding-planner"||(t==null?void 0:t.role)==="ayudante",p=_=>{_.preventDefault();const x=_.target,F=new FormData(x),O=F.get("title"),I=F.get("content");if(a)i(r.map(B=>B.id===a.id?{...B,title:O,content:I,status:"draft"}:B));else{const B={id:Date.now(),title:O,content:I,duration:"5 min",status:"draft"};i([...r,B])}l(null),x.reset()},f=_=>{h(_),c(!0)},b=_=>{const x=_.trim().split(/\s+/).length;return`${Math.ceil(x/150)} min`},g=_=>{const x=_.target.value,F=b(x);a&&l({...a,content:x,duration:F})},v=_=>{_.preventDefault();const x=_.target,F=new FormData(x),O={id:Date.now(),type:F.get("type"),recipient:F.get("recipient"),table:F.get("table"),description:F.get("description"),notes:F.get("notes"),status:"pending"};o([...s,O]),x.reset()};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Ayuda para la Ceremonia"}),y.jsx("p",{className:"text-gray-600",children:"Gestiona las lecturas y momentos especiales de tu ceremonia"})]}),y.jsx("div",{className:"border-b border-gray-200",children:y.jsxs("nav",{className:"-mb-px flex space-x-8",children:[y.jsx("button",{onClick:()=>n("lecturas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="lecturas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Lecturas"}),y.jsx("button",{onClick:()=>n("ramos-sorpresas"),className:`whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm ${e==="ramos-sorpresas"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Ramos y Sorpresas"})]})}),e==="lecturas"?y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-1",children:y.jsxs(pn,{className:"h-full",children:[y.jsx("div",{className:"px-4 py-5 border-b",children:y.jsx("h3",{className:"text-lg font-medium",children:"Lecturas de la Ceremonia"})}),y.jsx("div",{className:"overflow-y-auto max-h-96",children:r.length===0?y.jsx("p",{className:"p-4 text-sm text-gray-500",children:"No hay lecturas guardadas"}):y.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(_=>y.jsx("li",{className:"p-4 hover:bg-gray-50 cursor-pointer",children:y.jsxs("div",{className:"flex justify-between items-start",onClick:()=>l(_),children:[y.jsxs("div",{children:[y.jsx("h4",{className:"font-medium",children:_.title}),y.jsxs("p",{className:"text-sm text-gray-600 mt-1 line-clamp-2",children:[_.content.substring(0,100),_.content.length>100?"...":""]}),y.jsxs("div",{className:"mt-2 flex items-center text-xs text-gray-500",children:[y.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full bg-blue-100 text-blue-800",children:_.duration}),y.jsx("span",{className:"ml-2",children:_.status==="draft"?"Borrador":"Finalizado"})]})]}),y.jsx("button",{className:"text-gray-400 hover:text-gray-600",onClick:x=>{x.stopPropagation(),f(_.content)},children:y.jsxs("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})})]})},_.id))})}),y.jsx("div",{className:"px-4 py-3 bg-gray-50 text-right",children:y.jsx(ir,{onClick:()=>l({id:null,title:"",content:"",status:"draft"}),className:"text-sm",children:"+ Nueva Lectura"})})]})}),y.jsx("div",{className:"lg:col-span-2",children:y.jsx(pn,{className:"h-full",children:a?y.jsxs("form",{onSubmit:p,children:[y.jsxs("div",{className:"px-4 py-5 border-b flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-medium",children:a.id?"Editar Lectura":"Nueva Lectura"}),y.jsxs("div",{className:"flex space-x-2",children:[y.jsx(ir,{type:"button",variant:"outline",onClick:()=>f(a.content),disabled:!a.content,children:"Vista Previa"}),y.jsx(ir,{type:"submit",disabled:!d,children:"Guardar"})]})]}),y.jsxs("div",{className:"p-4 space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Título de la lectura"}),y.jsx("input",{type:"text",id:"title",name:"title",defaultValue:a.title,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Primera Lectura - Carta de San Pablo",required:!0,disabled:!d})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"content",className:"block text-sm font-medium text-gray-700 mb-1",children:"Contenido"}),y.jsx("textarea",{id:"content",name:"content",rows:12,defaultValue:a.content,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 font-serif",placeholder:"Escribe aquí el texto completo de la lectura...",required:!0,disabled:!d}),y.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Duración estimada: ",a.duration]})]}),!d&&y.jsx("div",{className:"p-3 bg-yellow-50 text-yellow-700 text-sm rounded-md",children:"Solo los ayudantes y wedding planners pueden editar las lecturas."})]})]}):y.jsxs("div",{className:"p-8 text-center text-gray-500",children:[y.jsx("svg",{className:"mx-auto h-12 w-12 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),y.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:r.length===0?"No hay lecturas disponibles":"Selecciona una lectura para editar"}),y.jsx("p",{className:"mt-1 text-sm text-gray-500",children:r.length===0?"Comienza creando tu primera lectura para la ceremonia.":"O crea una nueva lectura para la ceremonia."}),y.jsx("div",{className:"mt-6",children:y.jsxs(ir,{onClick:()=>l({id:null,title:"",content:"",status:"draft"}),className:"inline-flex items-center",children:[y.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:y.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nueva Lectura"]})})]})})})]}):y.jsxs("div",{className:"space-y-6",children:[y.jsxs(pn,{children:[y.jsx("div",{className:"px-4 py-5 border-b",children:y.jsx("h3",{className:"text-lg font-medium",children:"Añadir Ramo o Sorpresa"})}),y.jsxs("form",{onSubmit:v,className:"p-4",children:[y.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[y.jsxs("div",{children:[y.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo"}),y.jsxs("select",{id:"type",name:"type",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",required:!0,children:[y.jsx("option",{value:"",children:"Seleccionar tipo"}),y.jsx("option",{value:"ramo",children:"Ramo"}),y.jsx("option",{value:"sorpresa",children:"Sorpresa"}),y.jsx("option",{value:"detalle",children:"Detalle Especial"})]})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"recipient",className:"block text-sm font-medium text-gray-700 mb-1",children:"Destinatario"}),y.jsx("input",{type:"text",id:"recipient",name:"recipient",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Madre de la novia",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"table",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mesa"}),y.jsx("input",{type:"text",id:"table",name:"table",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Mesa 1",required:!0})]}),y.jsxs("div",{children:[y.jsx("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripción"}),y.jsx("input",{type:"text",id:"description",name:"description",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Ej: Ramo de rosas blancas",required:!0})]}),y.jsxs("div",{className:"sm:col-span-2",children:[y.jsx("label",{htmlFor:"notes",className:"block text-sm font-medium text-gray-700 mb-1",children:"Notas adicionales"}),y.jsx("textarea",{id:"notes",name:"notes",rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500",placeholder:"Instrucciones especiales o detalles importantes..."})]})]}),y.jsx("div",{className:"mt-4 flex justify-end",children:y.jsx(ir,{type:"submit",children:"Añadir a la lista"})})]})]}),y.jsxs(pn,{children:[y.jsx("div",{className:"px-4 py-5 border-b",children:y.jsx("h3",{className:"text-lg font-medium",children:"Lista de Ramos y Sorpresas"})}),s.length===0?y.jsx("div",{className:"p-6 text-center text-gray-500",children:y.jsx("p",{children:"No hay ramos o sorpresas programados aún."})}):y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[y.jsx("thead",{className:"bg-gray-50",children:y.jsxs("tr",{children:[y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipo"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Destinatario"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Mesa"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Descripción"}),y.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Estado"}),y.jsx("th",{scope:"col",className:"relative px-6 py-3",children:y.jsx("span",{className:"sr-only",children:"Acciones"})})]})}),y.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(_=>y.jsxs("tr",{className:"hover:bg-gray-50",children:[y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:_.type==="ramo"?"Ramo":_.type==="sorpresa"?"Sorpresa":"Detalle"}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.recipient}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:_.table}),y.jsx("td",{className:"px-6 py-4 text-sm text-gray-500",children:_.description}),y.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:y.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${_.status==="pending"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:_.status==="pending"?"Pendiente":"Entregado"})}),y.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:[y.jsx("button",{onClick:()=>{const x=s.map(F=>F.id===_.id?{...F,status:F.status==="pending"?"delivered":"pending"}:F);o(x)},className:"text-blue-600 hover:text-blue-900 mr-3",children:_.status==="pending"?"Marcar como entregado":"Marcar como pendiente"}),y.jsx("button",{onClick:()=>{window.confirm("¿Estás seguro de eliminar este elemento?")&&o(s.filter(x=>x.id!==_.id))},className:"text-red-600 hover:text-red-900",children:"Eliminar"})]})]},_.id))})]})})]})]}),A&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:y.jsxs(pn,{className:"max-w-2xl w-full max-h-[90vh] flex flex-col",children:[y.jsxs("div",{className:"px-6 py-4 border-b flex justify-between items-center",children:[y.jsx("h3",{className:"text-lg font-medium",children:"Vista Previa de la Lectura"}),y.jsxs("button",{onClick:()=>c(!1),className:"text-gray-400 hover:text-gray-500",children:[y.jsx("span",{className:"sr-only",children:"Cerrar"}),y.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),y.jsx("div",{className:"p-6 overflow-y-auto flex-1",children:y.jsx("div",{className:"prose max-w-none",children:y.jsx("p",{className:"whitespace-pre-line",children:u})})}),y.jsx("div",{className:"px-6 py-3 bg-gray-50 text-right",children:y.jsx(ir,{onClick:()=>c(!1),children:"Cerrar"})})]})})]})};function $y(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mz={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function o(A,c){if(!i[A]){if(!r[A]){var u=typeof $y=="function"&&$y;if(!c&&u)return u(A,!0);if(a)return a(A,!0);var h=new Error("Cannot find module '"+A+"'");throw h.code="MODULE_NOT_FOUND",h}var d=i[A]={exports:{}};r[A][0].call(d.exports,function(p){var f=r[A][1][p];return o(f||p)},d,d.exports,n,r,i,s)}return i[A].exports}for(var a=typeof $y=="function"&&$y,l=0;l<s.length;l++)o(s[l]);return o}({1:[function(n,r,i){var s=n("./utils"),o=n("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(l){for(var A,c,u,h,d,p,f,b=[],g=0,v=l.length,_=v,x=s.getTypeOf(l)!=="string";g<l.length;)_=v-g,u=x?(A=l[g++],c=g<v?l[g++]:0,g<v?l[g++]:0):(A=l.charCodeAt(g++),c=g<v?l.charCodeAt(g++):0,g<v?l.charCodeAt(g++):0),h=A>>2,d=(3&A)<<4|c>>4,p=1<_?(15&c)<<2|u>>6:64,f=2<_?63&u:64,b.push(a.charAt(h)+a.charAt(d)+a.charAt(p)+a.charAt(f));return b.join("")},i.decode=function(l){var A,c,u,h,d,p,f=0,b=0,g="data:";if(l.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,_=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&_--,l.charAt(l.length-2)===a.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=o.uint8array?new Uint8Array(0|_):new Array(0|_);f<l.length;)A=a.indexOf(l.charAt(f++))<<2|(h=a.indexOf(l.charAt(f++)))>>4,c=(15&h)<<4|(d=a.indexOf(l.charAt(f++)))>>2,u=(3&d)<<6|(p=a.indexOf(l.charAt(f++))),v[b++]=A,d!==64&&(v[b++]=c),p!==64&&(v[b++]=u);return v}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),o=n("./stream/DataWorker"),a=n("./stream/Crc32Probe"),l=n("./stream/DataLengthProbe");function A(c,u,h,d,p){this.compressedSize=c,this.uncompressedSize=u,this.crc32=h,this.compression=d,this.compressedContent=p}A.prototype={getContentWorker:function(){var c=new o(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),u=this;return c.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),c},getCompressedWorker:function(){return new o(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},A.createWorkerFrom=function(c,u,h){return c.pipe(new a).pipe(new l("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new l("compressedSize")).withStreamInfo("compression",u)},r.exports=A},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),o=function(){for(var a,l=[],A=0;A<256;A++){a=A;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;l[A]=a}return l}();r.exports=function(a,l){return a!==void 0&&a.length?s.getTypeOf(a)!=="string"?function(A,c,u,h){var d=o,p=h+u;A^=-1;for(var f=h;f<p;f++)A=A>>>8^d[255&(A^c[f])];return-1^A}(0|l,a,a.length,0):function(A,c,u,h){var d=o,p=h+u;A^=-1;for(var f=h;f<p;f++)A=A>>>8^d[255&(A^c.charCodeAt(f))];return-1^A}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=n("pako"),a=n("./utils"),l=n("./stream/GenericWorker"),A=s?"uint8array":"array";function c(u,h){l.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}i.magic="\b\0",a.inherits(c,l),c.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(A,u.data),!1)},c.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},i.compressWorker=function(u){return new c("Deflate",u)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(d,p){var f,b="";for(f=0;f<p;f++)b+=String.fromCharCode(255&d),d>>>=8;return b}function o(d,p,f,b,g,v){var _,x,F=d.file,O=d.compression,I=v!==A.utf8encode,B=a.transformTo("string",v(F.name)),T=a.transformTo("string",A.utf8encode(F.name)),R=F.comment,D=a.transformTo("string",v(R)),E=a.transformTo("string",A.utf8encode(R)),k=T.length!==F.name.length,N=E.length!==R.length,Y="",oe="",ie="",ne=F.dir,se=F.date,ue={crc32:0,compressedSize:0,uncompressedSize:0};p&&!f||(ue.crc32=d.crc32,ue.compressedSize=d.compressedSize,ue.uncompressedSize=d.uncompressedSize);var le=0;p&&(le|=8),I||!k&&!N||(le|=2048);var U=0,z=0;ne&&(U|=16),g==="UNIX"?(z=798,U|=function(ee,fe){var me=ee;return ee||(me=fe?16893:33204),(65535&me)<<16}(F.unixPermissions,ne)):(z=20,U|=function(ee){return 63&(ee||0)}(F.dosPermissions)),_=se.getUTCHours(),_<<=6,_|=se.getUTCMinutes(),_<<=5,_|=se.getUTCSeconds()/2,x=se.getUTCFullYear()-1980,x<<=4,x|=se.getUTCMonth()+1,x<<=5,x|=se.getUTCDate(),k&&(oe=s(1,1)+s(c(B),4)+T,Y+="up"+s(oe.length,2)+oe),N&&(ie=s(1,1)+s(c(D),4)+E,Y+="uc"+s(ie.length,2)+ie);var q="";return q+=`
\0`,q+=s(le,2),q+=O.magic,q+=s(_,2),q+=s(x,2),q+=s(ue.crc32,4),q+=s(ue.compressedSize,4),q+=s(ue.uncompressedSize,4),q+=s(B.length,2),q+=s(Y.length,2),{fileRecord:u.LOCAL_FILE_HEADER+q+B+Y,dirRecord:u.CENTRAL_FILE_HEADER+s(z,2)+q+s(D.length,2)+"\0\0\0\0"+s(U,4)+s(b,4)+B+Y+D}}var a=n("../utils"),l=n("../stream/GenericWorker"),A=n("../utf8"),c=n("../crc32"),u=n("../signature");function h(d,p,f,b){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=f,this.encodeFileName=b,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(h,l),h.prototype.push=function(d){var p=d.meta.percent||0,f=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,l.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:f?(p+100*(f-b-1))/f:100}}))},h.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var p=this.streamFiles&&!d.file.dir;if(p){var f=o(d,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(d){this.accumulate=!1;var p=this.streamFiles&&!d.file.dir,f=o(d,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),p)this.push({data:function(b){return u.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var d=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var f=this.bytesWritten-d,b=function(g,v,_,x,F){var O=a.transformTo("string",F(x));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(v,4)+s(_,4)+s(O.length,2)+O}(this.dirRecords.length,f,d,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(d){this._sources.push(d);var p=this;return d.on("data",function(f){p.processChunk(f)}),d.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),d.on("error",function(f){p.error(f)}),this},h.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(d){var p=this._sources;if(!l.prototype.error.call(this,d))return!1;for(var f=0;f<p.length;f++)try{p[f].error(d)}catch{}return!0},h.prototype.lock=function(){l.prototype.lock.call(this);for(var d=this._sources,p=0;p<d.length;p++)d[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),o=n("./ZipFileWorker");i.generateWorker=function(a,l,A){var c=new o(l.streamFiles,A,l.platform,l.encodeFileName),u=0;try{a.forEach(function(h,d){u++;var p=function(v,_){var x=v||_,F=s[x];if(!F)throw new Error(x+" is not a valid compression method !");return F}(d.options.compression,l.compression),f=d.options.compressionOptions||l.compressionOptions||{},b=d.dir,g=d.date;d._compressWorker(p,f).withStreamInfo("file",{name:h,dir:b,date:g,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(c)}),c.entriesCount=u}catch(h){c.error(h)}return c}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new s;for(var a in this)typeof this[a]!="function"&&(o[a]=this[a]);return o}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(o,a){return new s().loadAsync(o,a)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),o=n("./external"),a=n("./utf8"),l=n("./zipEntries"),A=n("./stream/Crc32Probe"),c=n("./nodejsUtils");function u(h){return new o.Promise(function(d,p){var f=h.decompressed.getContentWorker().pipe(new A);f.on("error",function(b){p(b)}).on("end",function(){f.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}r.exports=function(h,d){var p=this;return d=s.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),c.isNode&&c.isStream(h)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,d.optimizedBinaryString,d.base64).then(function(f){var b=new l(d);return b.load(f),b}).then(function(f){var b=[o.Promise.resolve(f)],g=f.files;if(d.checkCRC32)for(var v=0;v<g.length;v++)b.push(u(g[v]));return o.Promise.all(b)}).then(function(f){for(var b=f.shift(),g=b.files,v=0;v<g.length;v++){var _=g[v],x=_.fileNameStr,F=s.resolve(_.fileNameStr);p.file(F,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:d.createFolders}),_.dir||(p.file(F).unsafeOriginalName=x)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),o=n("../stream/GenericWorker");function a(l,A){o.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(A)}s.inherits(a,o),a.prototype._bindStream=function(l){var A=this;(this._stream=l).pause(),l.on("data",function(c){A.push({data:c,meta:{percent:0}})}).on("error",function(c){A.isPaused?this.generatedError=c:A.error(c)}).on("end",function(){A.isPaused?A._upstreamEnded=!0:A.end()})},a.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function o(a,l,A){s.call(this,l),this._helper=a;var c=this;a.on("data",function(u,h){c.push(u)||c._helper.pause(),A&&A(h)}).on("error",function(u){c.emit("error",u)}).on("end",function(){c.push(null)})}n("../utils").inherits(o,s),o.prototype._read=function(){this._helper.resume()},r.exports=o},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,o);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,o)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var o=new Buffer(s);return o.fill(0),o},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(F,O,I){var B,T=a.getTypeOf(O),R=a.extend(I||{},c);R.date=R.date||new Date,R.compression!==null&&(R.compression=R.compression.toUpperCase()),typeof R.unixPermissions=="string"&&(R.unixPermissions=parseInt(R.unixPermissions,8)),R.unixPermissions&&16384&R.unixPermissions&&(R.dir=!0),R.dosPermissions&&16&R.dosPermissions&&(R.dir=!0),R.dir&&(F=g(F)),R.createFolders&&(B=b(F))&&v.call(this,B,!0);var D=T==="string"&&R.binary===!1&&R.base64===!1;I&&I.binary!==void 0||(R.binary=!D),(O instanceof u&&O.uncompressedSize===0||R.dir||!O||O.length===0)&&(R.base64=!1,R.binary=!0,O="",R.compression="STORE",T="string");var E=null;E=O instanceof u||O instanceof l?O:p.isNode&&p.isStream(O)?new f(F,O):a.prepareContent(F,O,R.binary,R.optimizedBinaryString,R.base64);var k=new h(F,E,R);this.files[F]=k}var o=n("./utf8"),a=n("./utils"),l=n("./stream/GenericWorker"),A=n("./stream/StreamHelper"),c=n("./defaults"),u=n("./compressedObject"),h=n("./zipObject"),d=n("./generate"),p=n("./nodejsUtils"),f=n("./nodejs/NodejsStreamInputAdapter"),b=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var O=F.lastIndexOf("/");return 0<O?F.substring(0,O):""},g=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},v=function(F,O){return O=O!==void 0?O:c.createFolders,F=g(F),this.files[F]||s.call(this,F,null,{dir:!0,createFolders:O}),this.files[F]};function _(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var O,I,B;for(O in this.files)B=this.files[O],(I=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&F(I,B)},filter:function(F){var O=[];return this.forEach(function(I,B){F(I,B)&&O.push(B)}),O},file:function(F,O,I){if(arguments.length!==1)return F=this.root+F,s.call(this,F,O,I),this;if(_(F)){var B=F;return this.filter(function(R,D){return!D.dir&&B.test(R)})}var T=this.files[this.root+F];return T&&!T.dir?T:null},folder:function(F){if(!F)return this;if(_(F))return this.filter(function(T,R){return R.dir&&F.test(T)});var O=this.root+F,I=v.call(this,O),B=this.clone();return B.root=I.name,B},remove:function(F){F=this.root+F;var O=this.files[F];if(O||(F.slice(-1)!=="/"&&(F+="/"),O=this.files[F]),O&&!O.dir)delete this.files[F];else for(var I=this.filter(function(T,R){return R.name.slice(0,F.length)===F}),B=0;B<I.length;B++)delete this.files[I[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var O,I={};try{if((I=a.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");a.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var B=I.comment||this.comment||"";O=d.generateWorker(this,I,B)}catch(T){(O=new l("error")).error(T)}return new A(O,I.type||"string",I.mimeType)},generateAsync:function(F,O){return this.generateInternalStream(F).accumulate(O)},generateNodeStream:function(F,O){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(O)}};r.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data[this.zero+a]},o.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),A=a.charCodeAt(1),c=a.charCodeAt(2),u=a.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===l&&this.data[h+1]===A&&this.data[h+2]===c&&this.data[h+3]===u)return h-this.zero;return-1},o.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),A=a.charCodeAt(1),c=a.charCodeAt(2),u=a.charCodeAt(3),h=this.readData(4);return l===h[0]&&A===h[1]&&c===h[2]&&u===h[3]},o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function o(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,A=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)A=(A<<8)+this.byteAt(l);return this.index+=a,A},readString:function(a){return s.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},r.exports=o},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},o.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},o.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},o.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function o(a){s.call(this,a)}n("../utils").inherits(o,s),o.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},r.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),o=n("../support"),a=n("./ArrayReader"),l=n("./StringReader"),A=n("./NodeBufferReader"),c=n("./Uint8ArrayReader");r.exports=function(u){var h=s.getTypeOf(u);return s.checkSupport(h),h!=="string"||o.uint8array?h==="nodebuffer"?new A(u):o.uint8array?new c(s.transformTo("uint8array",u)):new a(s.transformTo("array",u)):new l(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),o=n("../utils");function a(l){s.call(this,"ConvertWorker to "+l),this.destType=l}o.inherits(a,s),a.prototype.processChunk=function(l){this.push({data:o.transformTo(this.destType,l.data),meta:l.meta})},r.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),o=n("../crc32");function a(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(a,s),a.prototype.processChunk=function(l){this.streamInfo.crc32=o(l.data,this.streamInfo.crc32||0),this.push(l)},r.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(a,o),a.prototype.processChunk=function(l){if(l){var A=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=A+l.data.length}o.prototype.processChunk.call(this,l)},r.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),o=n("./GenericWorker");function a(l){o.call(this,"DataWorker");var A=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(c){A.dataIsReady=!0,A.data=c,A.max=c&&c.length||0,A.type=s.getTypeOf(c),A.isPaused||A._tickAndRepeat()},function(c){A.error(c)})}s.inherits(a,o),a.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,A=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,A);break;case"uint8array":l=this.data.subarray(this.index,A);break;case"array":case"nodebuffer":l=this.data.slice(this.index,A)}return this.index=A,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,a){return this._listeners[o].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,a){if(this._listeners[o])for(var l=0;l<this._listeners[o].length;l++)this._listeners[o][l].call(this,a)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var a=this;return o.on("data",function(l){a.processChunk(l)}),o.on("end",function(){a.end()}),o.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,a){return this.extraStreamInfo[o]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),o=n("./ConvertWorker"),a=n("./GenericWorker"),l=n("../base64"),A=n("../support"),c=n("../external"),u=null;if(A.nodestream)try{u=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,f){return new c.Promise(function(b,g){var v=[],_=p._internalType,x=p._outputType,F=p._mimeType;p.on("data",function(O,I){v.push(O),f&&f(I)}).on("error",function(O){v=[],g(O)}).on("end",function(){try{var O=function(I,B,T){switch(I){case"blob":return s.newBlob(s.transformTo("arraybuffer",B),T);case"base64":return l.encode(B);default:return s.transformTo(I,B)}}(x,function(I,B){var T,R=0,D=null,E=0;for(T=0;T<B.length;T++)E+=B[T].length;switch(I){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(D=new Uint8Array(E),T=0;T<B.length;T++)D.set(B[T],R),R+=B[T].length;return D;case"nodebuffer":return Buffer.concat(B);default:throw new Error("concat : unsupported type '"+I+"'")}}(_,v),F);b(O)}catch(I){g(I)}v=[]}).resume()})}function d(p,f,b){var g=f;switch(f){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=f,this._mimeType=b,s.checkSupport(g),this._worker=p.pipe(new o(g)),p.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}d.prototype={accumulate:function(p){return h(this,p)},on:function(p,f){var b=this;return p==="data"?this._worker.on(p,function(g){f.call(b,g.data,g.meta)}):this._worker.on(p,function(){s.delay(f,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(s),i.blob=o.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),o=n("./support"),a=n("./nodejsUtils"),l=n("./stream/GenericWorker"),A=new Array(256),c=0;c<256;c++)A[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;A[254]=A[254]=1;function u(){l.call(this,"utf-8 decode"),this.leftOver=null}function h(){l.call(this,"utf-8 encode")}i.utf8encode=function(d){return o.nodebuffer?a.newBufferFrom(d,"utf-8"):function(p){var f,b,g,v,_,x=p.length,F=0;for(v=0;v<x;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),F+=b<128?1:b<2048?2:b<65536?3:4;for(f=o.uint8array?new Uint8Array(F):new Array(F),v=_=0;_<F;v++)(64512&(b=p.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=p.charCodeAt(v+1)))==56320&&(b=65536+(b-55296<<10)+(g-56320),v++),b<128?f[_++]=b:(b<2048?f[_++]=192|b>>>6:(b<65536?f[_++]=224|b>>>12:(f[_++]=240|b>>>18,f[_++]=128|b>>>12&63),f[_++]=128|b>>>6&63),f[_++]=128|63&b);return f}(d)},i.utf8decode=function(d){return o.nodebuffer?s.transformTo("nodebuffer",d).toString("utf-8"):function(p){var f,b,g,v,_=p.length,x=new Array(2*_);for(f=b=0;f<_;)if((g=p[f++])<128)x[b++]=g;else if(4<(v=A[g]))x[b++]=65533,f+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&f<_;)g=g<<6|63&p[f++],v--;1<v?x[b++]=65533:g<65536?x[b++]=g:(g-=65536,x[b++]=55296|g>>10&1023,x[b++]=56320|1023&g)}return x.length!==b&&(x.subarray?x=x.subarray(0,b):x.length=b),s.applyFromCharCode(x)}(d=s.transformTo(o.uint8array?"uint8array":"array",d))},s.inherits(u,l),u.prototype.processChunk=function(d){var p=s.transformTo(o.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var f=p;(p=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),p.set(f,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(v,_){var x;for((_=_||v.length)>v.length&&(_=v.length),x=_-1;0<=x&&(192&v[x])==128;)x--;return x<0||x===0?_:x+A[v[x]]>_?x:_}(p),g=p;b!==p.length&&(o.uint8array?(g=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(g=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:i.utf8decode(g),meta:d.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=u,s.inherits(h,l),h.prototype.processChunk=function(d){this.push({data:i.utf8encode(d.data),meta:d.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),o=n("./base64"),a=n("./nodejsUtils"),l=n("./external");function A(f){return f}function c(f,b){for(var g=0;g<f.length;++g)b[g]=255&f.charCodeAt(g);return b}n("setimmediate"),i.newBlob=function(f,b){i.checkSupport("blob");try{return new Blob([f],{type:b})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(f),g.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(f,b,g){var v=[],_=0,x=f.length;if(x<=g)return String.fromCharCode.apply(null,f);for(;_<x;)b==="array"||b==="nodebuffer"?v.push(String.fromCharCode.apply(null,f.slice(_,Math.min(_+g,x)))):v.push(String.fromCharCode.apply(null,f.subarray(_,Math.min(_+g,x)))),_+=g;return v.join("")},stringifyByChar:function(f){for(var b="",g=0;g<f.length;g++)b+=String.fromCharCode(f[g]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function h(f){var b=65536,g=i.getTypeOf(f),v=!0;if(g==="uint8array"?v=u.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=u.applyCanBeUsed.nodebuffer),v)for(;1<b;)try{return u.stringifyByChunk(f,g,b)}catch{b=Math.floor(b/2)}return u.stringifyByChar(f)}function d(f,b){for(var g=0;g<f.length;g++)b[g]=f[g];return b}i.applyFromCharCode=h;var p={};p.string={string:A,array:function(f){return c(f,new Array(f.length))},arraybuffer:function(f){return p.string.uint8array(f).buffer},uint8array:function(f){return c(f,new Uint8Array(f.length))},nodebuffer:function(f){return c(f,a.allocBuffer(f.length))}},p.array={string:h,array:A,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},p.arraybuffer={string:function(f){return h(new Uint8Array(f))},array:function(f){return d(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:A,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},p.uint8array={string:h,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:A,nodebuffer:function(f){return a.newBufferFrom(f)}},p.nodebuffer={string:h,array:function(f){return d(f,new Array(f.length))},arraybuffer:function(f){return p.nodebuffer.uint8array(f).buffer},uint8array:function(f){return d(f,new Uint8Array(f.length))},nodebuffer:A},i.transformTo=function(f,b){if(b=b||"",!f)return b;i.checkSupport(f);var g=i.getTypeOf(b);return p[g][f](b)},i.resolve=function(f){for(var b=f.split("/"),g=[],v=0;v<b.length;v++){var _=b[v];_==="."||_===""&&v!==0&&v!==b.length-1||(_===".."?g.pop():g.push(_))}return g.join("/")},i.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":s.nodebuffer&&a.isBuffer(f)?"nodebuffer":s.uint8array&&f instanceof Uint8Array?"uint8array":s.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(f){if(!s[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(f){var b,g,v="";for(g=0;g<(f||"").length;g++)v+="\\x"+((b=f.charCodeAt(g))<16?"0":"")+b.toString(16).toUpperCase();return v},i.delay=function(f,b,g){setImmediate(function(){f.apply(g||null,b||[])})},i.inherits=function(f,b){function g(){}g.prototype=b.prototype,f.prototype=new g},i.extend=function(){var f,b,g={};for(f=0;f<arguments.length;f++)for(b in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],b)&&g[b]===void 0&&(g[b]=arguments[f][b]);return g},i.prepareContent=function(f,b,g,v,_){return l.Promise.resolve(b).then(function(x){return s.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new l.Promise(function(F,O){var I=new FileReader;I.onload=function(B){F(B.target.result)},I.onerror=function(B){O(B.target.error)},I.readAsArrayBuffer(x)}):x}).then(function(x){var F=i.getTypeOf(x);return F?(F==="arraybuffer"?x=i.transformTo("uint8array",x):F==="string"&&(_?x=o.decode(x):g&&v!==!0&&(x=function(O){return c(O,s.uint8array?new Uint8Array(O.length):new Array(O.length))}(x))),x):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./signature"),l=n("./zipEntry"),A=n("./support");function c(u){this.files=[],this.loadOptions=u}c.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(h)+", expected "+o.pretty(u)+")")}},isSignature:function(u,h){var d=this.reader.index;this.reader.setIndex(u);var p=this.reader.readString(4)===h;return this.reader.setIndex(d),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=A.uint8array?"uint8array":"array",d=o.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,d,p=this.zip64EndOfCentralSize-44;0<p;)u=this.reader.readInt(2),h=this.reader.readInt(4),d=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(u=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var p=h-d;if(0<p)this.isSignature(h,a.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),o=n("./utils"),a=n("./compressedObject"),l=n("./crc32"),A=n("./utf8"),c=n("./compressions"),u=n("./support");function h(d,p){this.options=d,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var p,f;if(d.skip(22),this.fileNameLength=d.readInt(2),f=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var g in c)if(Object.prototype.hasOwnProperty.call(c,g)&&c[g].magic===b)return c[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,p,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var p=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(p),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=s(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var p,f,b,g=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<g;)p=d.readInt(2),f=d.readInt(2),b=d.readData(f),this.extraFields[p]={id:p,length:f,value:b};d.setIndex(g)},handleUTF8:function(){var d=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=A.utf8decode(this.fileName),this.fileCommentStr=A.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var f=o.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var g=o.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileName)!==p.readInt(4)?null:A.utf8decode(p.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var p=s(d.value);return p.readInt(1)!==1||l(this.fileComment)!==p.readInt(4)?null:A.utf8decode(p.readData(d.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(p,f,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=f,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var o=n("./stream/StreamHelper"),a=n("./stream/DataWorker"),l=n("./utf8"),A=n("./compressedObject"),c=n("./stream/GenericWorker");s.prototype={internalStream:function(p){var f=null,b="string";try{if(!p)throw new Error("No output type specified.");var g=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),f=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(f=f.pipe(new l.Utf8EncodeWorker)),!v&&g&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(_){(f=new c("error")).error(_)}return new o(f,b,"")},async:function(p,f){return this.internalStream(p).accumulate(f)},nodeStream:function(p,f){return this.internalStream(p||"nodebuffer").toNodejsStream(f)},_compressWorker:function(p,f){if(this._data instanceof A&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new l.Utf8EncodeWorker)),A.createWorkerFrom(b,p,f)},_decompressWorker:function(){return this._data instanceof A?this._data.getContentWorker():this._data instanceof c?this._data:new a(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<u.length;d++)s.prototype[u[d]]=h;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var o,a,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var A=0,c=new l(p),u=s.document.createTextNode("");c.observe(u,{characterData:!0}),o=function(){u.data=A=++A%2}}else if(s.setImmediate||s.MessageChannel===void 0)o="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var f=s.document.createElement("script");f.onreadystatechange=function(){p(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},s.document.documentElement.appendChild(f)}:function(){setTimeout(p,0)};else{var h=new s.MessageChannel;h.port1.onmessage=p,o=function(){h.port2.postMessage(0)}}var d=[];function p(){var f,b;a=!0;for(var g=d.length;g;){for(b=d,d=[],f=-1;++f<g;)b[f]();g=d.length}a=!1}r.exports=function(f){d.push(f)!==1||a||o()}}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function o(){}var a={},l=["REJECTED"],A=["FULFILLED"],c=["PENDING"];function u(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,g!==o&&f(this,g)}function h(g,v,_){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function d(g,v,_){s(function(){var x;try{x=v(_)}catch(F){return a.reject(g,F)}x===g?a.reject(g,new TypeError("Cannot resolve promise with itself")):a.resolve(g,x)})}function p(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function f(g,v){var _=!1;function x(I){_||(_=!0,a.reject(g,I))}function F(I){_||(_=!0,a.resolve(g,I))}var O=b(function(){v(F,x)});O.status==="error"&&x(O.value)}function b(g,v){var _={};try{_.value=g(v),_.status="success"}catch(x){_.status="error",_.value=x}return _}(r.exports=u).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(_){return v.resolve(g()).then(function(){return _})},function(_){return v.resolve(g()).then(function(){throw _})})},u.prototype.catch=function(g){return this.then(null,g)},u.prototype.then=function(g,v){if(typeof g!="function"&&this.state===A||typeof v!="function"&&this.state===l)return this;var _=new this.constructor(o);return this.state!==c?d(_,this.state===A?g:v,this.outcome):this.queue.push(new h(_,g,v)),_},h.prototype.callFulfilled=function(g){a.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){d(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){a.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){d(this.promise,this.onRejected,g)},a.resolve=function(g,v){var _=b(p,v);if(_.status==="error")return a.reject(g,_.value);var x=_.value;if(x)f(g,x);else{g.state=A,g.outcome=v;for(var F=-1,O=g.queue.length;++F<O;)g.queue[F].callFulfilled(v)}return g},a.reject=function(g,v){g.state=l,g.outcome=v;for(var _=-1,x=g.queue.length;++_<x;)g.queue[_].callRejected(v);return g},u.resolve=function(g){return g instanceof this?g:a.resolve(new this(o),g)},u.reject=function(g){var v=new this(o);return a.reject(v,g)},u.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,x=!1;if(!_)return this.resolve([]);for(var F=new Array(_),O=0,I=-1,B=new this(o);++I<_;)T(g[I],I);return B;function T(R,D){v.resolve(R).then(function(E){F[D]=E,++O!==_||x||(x=!0,a.resolve(B,F))},function(E){x||(x=!0,a.reject(B,E))})}},u.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=g.length,x=!1;if(!_)return this.resolve([]);for(var F=-1,O=new this(o);++F<_;)I=g[F],v.resolve(I).then(function(B){x||(x=!0,a.resolve(O,B))},function(B){x||(x=!0,a.reject(O,B))});var I;return O}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/messages"),A=n("./zlib/zstream"),c=Object.prototype.toString,u=0,h=-1,d=0,p=8;function f(g){if(!(this instanceof f))return new f(g);this.options=o.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new A,this.strm.avail_out=0;var _=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(_!==u)throw new Error(l[_]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var x;if(x=typeof v.dictionary=="string"?a.string2buf(v.dictionary):c.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(_=s.deflateSetDictionary(this.strm,x))!==u)throw new Error(l[_]);this._dict_set=!0}}function b(g,v){var _=new f(v);if(_.push(g,!0),_.err)throw _.msg||l[_.err];return _.result}f.prototype.push=function(g,v){var _,x,F=this.strm,O=this.options.chunkSize;if(this.ended)return!1;x=v===~~v?v:v===!0?4:0,typeof g=="string"?F.input=a.string2buf(g):c.call(g)==="[object ArrayBuffer]"?F.input=new Uint8Array(g):F.input=g,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new o.Buf8(O),F.next_out=0,F.avail_out=O),(_=s.deflate(F,x))!==1&&_!==u)return this.onEnd(_),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(o.shrinkBuf(F.output,F.next_out))):this.onData(o.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&_!==1);return x===4?(_=s.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===u):x!==2||(this.onEnd(u),!(F.avail_out=0))},f.prototype.onData=function(g){this.chunks.push(g)},f.prototype.onEnd=function(g){g===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},i.Deflate=f,i.deflate=b,i.deflateRaw=function(g,v){return(v=v||{}).raw=!0,b(g,v)},i.gzip=function(g,v){return(v=v||{}).gzip=!0,b(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),o=n("./utils/common"),a=n("./utils/strings"),l=n("./zlib/constants"),A=n("./zlib/messages"),c=n("./zlib/zstream"),u=n("./zlib/gzheader"),h=Object.prototype.toString;function d(f){if(!(this instanceof d))return new d(f);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},f||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||f&&f.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&!(15&b.windowBits)&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,b.windowBits);if(g!==l.Z_OK)throw new Error(A[g]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function p(f,b){var g=new d(b);if(g.push(f,!0),g.err)throw g.msg||A[g.err];return g.result}d.prototype.push=function(f,b){var g,v,_,x,F,O,I=this.strm,B=this.options.chunkSize,T=this.options.dictionary,R=!1;if(this.ended)return!1;v=b===~~b?b:b===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?I.input=a.binstring2buf(f):h.call(f)==="[object ArrayBuffer]"?I.input=new Uint8Array(f):I.input=f,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new o.Buf8(B),I.next_out=0,I.avail_out=B),(g=s.inflate(I,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&T&&(O=typeof T=="string"?a.string2buf(T):h.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,g=s.inflateSetDictionary(this.strm,O)),g===l.Z_BUF_ERROR&&R===!0&&(g=l.Z_OK,R=!1),g!==l.Z_STREAM_END&&g!==l.Z_OK)return this.onEnd(g),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&g!==l.Z_STREAM_END&&(I.avail_in!==0||v!==l.Z_FINISH&&v!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=a.utf8border(I.output,I.next_out),x=I.next_out-_,F=a.buf2string(I.output,_),I.next_out=x,I.avail_out=B-x,x&&o.arraySet(I.output,I.output,_,x,0),this.onData(F)):this.onData(o.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(R=!0)}while((0<I.avail_in||I.avail_out===0)&&g!==l.Z_STREAM_END);return g===l.Z_STREAM_END&&(v=l.Z_FINISH),v===l.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===l.Z_OK):v!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(I.avail_out=0))},d.prototype.onData=function(f){this.chunks.push(f)},d.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},i.Inflate=d,i.inflate=p,i.inflateRaw=function(f,b){return(b=b||{}).raw=!0,p(f,b)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(l){for(var A=Array.prototype.slice.call(arguments,1);A.length;){var c=A.shift();if(c){if(typeof c!="object")throw new TypeError(c+"must be non-object");for(var u in c)c.hasOwnProperty(u)&&(l[u]=c[u])}}return l},i.shrinkBuf=function(l,A){return l.length===A?l:l.subarray?l.subarray(0,A):(l.length=A,l)};var o={arraySet:function(l,A,c,u,h){if(A.subarray&&l.subarray)l.set(A.subarray(c,c+u),h);else for(var d=0;d<u;d++)l[h+d]=A[c+d]},flattenChunks:function(l){var A,c,u,h,d,p;for(A=u=0,c=l.length;A<c;A++)u+=l[A].length;for(p=new Uint8Array(u),A=h=0,c=l.length;A<c;A++)d=l[A],p.set(d,h),h+=d.length;return p}},a={arraySet:function(l,A,c,u,h){for(var d=0;d<u;d++)l[h+d]=A[c+d]},flattenChunks:function(l){return[].concat.apply([],l)}};i.setTyped=function(l){l?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,o)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,a))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new s.Buf8(256),A=0;A<256;A++)l[A]=252<=A?6:248<=A?5:240<=A?4:224<=A?3:192<=A?2:1;function c(u,h){if(h<65537&&(u.subarray&&a||!u.subarray&&o))return String.fromCharCode.apply(null,s.shrinkBuf(u,h));for(var d="",p=0;p<h;p++)d+=String.fromCharCode(u[p]);return d}l[254]=l[254]=1,i.string2buf=function(u){var h,d,p,f,b,g=u.length,v=0;for(f=0;f<g;f++)(64512&(d=u.charCodeAt(f)))==55296&&f+1<g&&(64512&(p=u.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),f++),v+=d<128?1:d<2048?2:d<65536?3:4;for(h=new s.Buf8(v),f=b=0;b<v;f++)(64512&(d=u.charCodeAt(f)))==55296&&f+1<g&&(64512&(p=u.charCodeAt(f+1)))==56320&&(d=65536+(d-55296<<10)+(p-56320),f++),d<128?h[b++]=d:(d<2048?h[b++]=192|d>>>6:(d<65536?h[b++]=224|d>>>12:(h[b++]=240|d>>>18,h[b++]=128|d>>>12&63),h[b++]=128|d>>>6&63),h[b++]=128|63&d);return h},i.buf2binstring=function(u){return c(u,u.length)},i.binstring2buf=function(u){for(var h=new s.Buf8(u.length),d=0,p=h.length;d<p;d++)h[d]=u.charCodeAt(d);return h},i.buf2string=function(u,h){var d,p,f,b,g=h||u.length,v=new Array(2*g);for(d=p=0;d<g;)if((f=u[d++])<128)v[p++]=f;else if(4<(b=l[f]))v[p++]=65533,d+=b-1;else{for(f&=b===2?31:b===3?15:7;1<b&&d<g;)f=f<<6|63&u[d++],b--;1<b?v[p++]=65533:f<65536?v[p++]=f:(f-=65536,v[p++]=55296|f>>10&1023,v[p++]=56320|1023&f)}return c(v,p)},i.utf8border=function(u,h){var d;for((h=h||u.length)>u.length&&(h=u.length),d=h-1;0<=d&&(192&u[d])==128;)d--;return d<0||d===0?h:d+l[u[d]]>h?d:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,o,a,l){for(var A=65535&s|0,c=s>>>16&65535|0,u=0;a!==0;){for(a-=u=2e3<a?2e3:a;c=c+(A=A+o[l++]|0)|0,--u;);A%=65521,c%=65521}return A|c<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var o,a=[],l=0;l<256;l++){o=l;for(var A=0;A<8;A++)o=1&o?3988292384^o>>>1:o>>>1;a[l]=o}return a}();r.exports=function(o,a,l,A){var c=s,u=A+l;o^=-1;for(var h=A;h<u;h++)o=o>>>8^c[255&(o^a[h])];return-1^o}},{}],46:[function(n,r,i){var s,o=n("../utils/common"),a=n("./trees"),l=n("./adler32"),A=n("./crc32"),c=n("./messages"),u=0,h=4,d=0,p=-2,f=-1,b=4,g=2,v=8,_=9,x=286,F=30,O=19,I=2*x+1,B=15,T=3,R=258,D=R+T+1,E=42,k=113,N=1,Y=2,oe=3,ie=4;function ne(Q,he){return Q.msg=c[he],he}function se(Q){return(Q<<1)-(4<Q?9:0)}function ue(Q){for(var he=Q.length;0<=--he;)Q[he]=0}function le(Q){var he=Q.state,K=he.pending;K>Q.avail_out&&(K=Q.avail_out),K!==0&&(o.arraySet(Q.output,he.pending_buf,he.pending_out,K,Q.next_out),Q.next_out+=K,he.pending_out+=K,Q.total_out+=K,Q.avail_out-=K,he.pending-=K,he.pending===0&&(he.pending_out=0))}function U(Q,he){a._tr_flush_block(Q,0<=Q.block_start?Q.block_start:-1,Q.strstart-Q.block_start,he),Q.block_start=Q.strstart,le(Q.strm)}function z(Q,he){Q.pending_buf[Q.pending++]=he}function q(Q,he){Q.pending_buf[Q.pending++]=he>>>8&255,Q.pending_buf[Q.pending++]=255&he}function ee(Q,he){var K,ae,Z=Q.max_chain_length,ce=Q.strstart,_e=Q.prev_length,Be=Q.nice_match,pe=Q.strstart>Q.w_size-D?Q.strstart-(Q.w_size-D):0,Pe=Q.window,je=Q.w_mask,Ue=Q.prev,Ge=Q.strstart+R,nt=Pe[ce+_e-1],Ze=Pe[ce+_e];Q.prev_length>=Q.good_match&&(Z>>=2),Be>Q.lookahead&&(Be=Q.lookahead);do if(Pe[(K=he)+_e]===Ze&&Pe[K+_e-1]===nt&&Pe[K]===Pe[ce]&&Pe[++K]===Pe[ce+1]){ce+=2,K++;do;while(Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&Pe[++ce]===Pe[++K]&&ce<Ge);if(ae=R-(Ge-ce),ce=Ge-R,_e<ae){if(Q.match_start=he,Be<=(_e=ae))break;nt=Pe[ce+_e-1],Ze=Pe[ce+_e]}}while((he=Ue[he&je])>pe&&--Z!=0);return _e<=Q.lookahead?_e:Q.lookahead}function fe(Q){var he,K,ae,Z,ce,_e,Be,pe,Pe,je,Ue=Q.w_size;do{if(Z=Q.window_size-Q.lookahead-Q.strstart,Q.strstart>=Ue+(Ue-D)){for(o.arraySet(Q.window,Q.window,Ue,Ue,0),Q.match_start-=Ue,Q.strstart-=Ue,Q.block_start-=Ue,he=K=Q.hash_size;ae=Q.head[--he],Q.head[he]=Ue<=ae?ae-Ue:0,--K;);for(he=K=Ue;ae=Q.prev[--he],Q.prev[he]=Ue<=ae?ae-Ue:0,--K;);Z+=Ue}if(Q.strm.avail_in===0)break;if(_e=Q.strm,Be=Q.window,pe=Q.strstart+Q.lookahead,Pe=Z,je=void 0,je=_e.avail_in,Pe<je&&(je=Pe),K=je===0?0:(_e.avail_in-=je,o.arraySet(Be,_e.input,_e.next_in,je,pe),_e.state.wrap===1?_e.adler=l(_e.adler,Be,je,pe):_e.state.wrap===2&&(_e.adler=A(_e.adler,Be,je,pe)),_e.next_in+=je,_e.total_in+=je,je),Q.lookahead+=K,Q.lookahead+Q.insert>=T)for(ce=Q.strstart-Q.insert,Q.ins_h=Q.window[ce],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[ce+1])&Q.hash_mask;Q.insert&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[ce+T-1])&Q.hash_mask,Q.prev[ce&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=ce,ce++,Q.insert--,!(Q.lookahead+Q.insert<T)););}while(Q.lookahead<D&&Q.strm.avail_in!==0)}function me(Q,he){for(var K,ae;;){if(Q.lookahead<D){if(fe(Q),Q.lookahead<D&&he===u)return N;if(Q.lookahead===0)break}if(K=0,Q.lookahead>=T&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+T-1])&Q.hash_mask,K=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),K!==0&&Q.strstart-K<=Q.w_size-D&&(Q.match_length=ee(Q,K)),Q.match_length>=T)if(ae=a._tr_tally(Q,Q.strstart-Q.match_start,Q.match_length-T),Q.lookahead-=Q.match_length,Q.match_length<=Q.max_lazy_match&&Q.lookahead>=T){for(Q.match_length--;Q.strstart++,Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+T-1])&Q.hash_mask,K=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart,--Q.match_length!=0;);Q.strstart++}else Q.strstart+=Q.match_length,Q.match_length=0,Q.ins_h=Q.window[Q.strstart],Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+1])&Q.hash_mask;else ae=a._tr_tally(Q,0,Q.window[Q.strstart]),Q.lookahead--,Q.strstart++;if(ae&&(U(Q,!1),Q.strm.avail_out===0))return N}return Q.insert=Q.strstart<T-1?Q.strstart:T-1,he===h?(U(Q,!0),Q.strm.avail_out===0?oe:ie):Q.last_lit&&(U(Q,!1),Q.strm.avail_out===0)?N:Y}function ge(Q,he){for(var K,ae,Z;;){if(Q.lookahead<D){if(fe(Q),Q.lookahead<D&&he===u)return N;if(Q.lookahead===0)break}if(K=0,Q.lookahead>=T&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+T-1])&Q.hash_mask,K=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),Q.prev_length=Q.match_length,Q.prev_match=Q.match_start,Q.match_length=T-1,K!==0&&Q.prev_length<Q.max_lazy_match&&Q.strstart-K<=Q.w_size-D&&(Q.match_length=ee(Q,K),Q.match_length<=5&&(Q.strategy===1||Q.match_length===T&&4096<Q.strstart-Q.match_start)&&(Q.match_length=T-1)),Q.prev_length>=T&&Q.match_length<=Q.prev_length){for(Z=Q.strstart+Q.lookahead-T,ae=a._tr_tally(Q,Q.strstart-1-Q.prev_match,Q.prev_length-T),Q.lookahead-=Q.prev_length-1,Q.prev_length-=2;++Q.strstart<=Z&&(Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[Q.strstart+T-1])&Q.hash_mask,K=Q.prev[Q.strstart&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=Q.strstart),--Q.prev_length!=0;);if(Q.match_available=0,Q.match_length=T-1,Q.strstart++,ae&&(U(Q,!1),Q.strm.avail_out===0))return N}else if(Q.match_available){if((ae=a._tr_tally(Q,0,Q.window[Q.strstart-1]))&&U(Q,!1),Q.strstart++,Q.lookahead--,Q.strm.avail_out===0)return N}else Q.match_available=1,Q.strstart++,Q.lookahead--}return Q.match_available&&(ae=a._tr_tally(Q,0,Q.window[Q.strstart-1]),Q.match_available=0),Q.insert=Q.strstart<T-1?Q.strstart:T-1,he===h?(U(Q,!0),Q.strm.avail_out===0?oe:ie):Q.last_lit&&(U(Q,!1),Q.strm.avail_out===0)?N:Y}function ye(Q,he,K,ae,Z){this.good_length=Q,this.max_lazy=he,this.nice_length=K,this.max_chain=ae,this.func=Z}function Me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*I),this.dyn_dtree=new o.Buf16(2*(2*F+1)),this.bl_tree=new o.Buf16(2*(2*O+1)),ue(this.dyn_ltree),ue(this.dyn_dtree),ue(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(B+1),this.heap=new o.Buf16(2*x+1),ue(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*x+1),ue(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function De(Q){var he;return Q&&Q.state?(Q.total_in=Q.total_out=0,Q.data_type=g,(he=Q.state).pending=0,he.pending_out=0,he.wrap<0&&(he.wrap=-he.wrap),he.status=he.wrap?E:k,Q.adler=he.wrap===2?0:1,he.last_flush=u,a._tr_init(he),d):ne(Q,p)}function Se(Q){var he=De(Q);return he===d&&function(K){K.window_size=2*K.w_size,ue(K.head),K.max_lazy_match=s[K.level].max_lazy,K.good_match=s[K.level].good_length,K.nice_match=s[K.level].nice_length,K.max_chain_length=s[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=T-1,K.match_available=0,K.ins_h=0}(Q.state),he}function Qe(Q,he,K,ae,Z,ce){if(!Q)return p;var _e=1;if(he===f&&(he=6),ae<0?(_e=0,ae=-ae):15<ae&&(_e=2,ae-=16),Z<1||_<Z||K!==v||ae<8||15<ae||he<0||9<he||ce<0||b<ce)return ne(Q,p);ae===8&&(ae=9);var Be=new Me;return(Q.state=Be).strm=Q,Be.wrap=_e,Be.gzhead=null,Be.w_bits=ae,Be.w_size=1<<Be.w_bits,Be.w_mask=Be.w_size-1,Be.hash_bits=Z+7,Be.hash_size=1<<Be.hash_bits,Be.hash_mask=Be.hash_size-1,Be.hash_shift=~~((Be.hash_bits+T-1)/T),Be.window=new o.Buf8(2*Be.w_size),Be.head=new o.Buf16(Be.hash_size),Be.prev=new o.Buf16(Be.w_size),Be.lit_bufsize=1<<Z+6,Be.pending_buf_size=4*Be.lit_bufsize,Be.pending_buf=new o.Buf8(Be.pending_buf_size),Be.d_buf=1*Be.lit_bufsize,Be.l_buf=3*Be.lit_bufsize,Be.level=he,Be.strategy=ce,Be.method=K,Se(Q)}s=[new ye(0,0,0,0,function(Q,he){var K=65535;for(K>Q.pending_buf_size-5&&(K=Q.pending_buf_size-5);;){if(Q.lookahead<=1){if(fe(Q),Q.lookahead===0&&he===u)return N;if(Q.lookahead===0)break}Q.strstart+=Q.lookahead,Q.lookahead=0;var ae=Q.block_start+K;if((Q.strstart===0||Q.strstart>=ae)&&(Q.lookahead=Q.strstart-ae,Q.strstart=ae,U(Q,!1),Q.strm.avail_out===0)||Q.strstart-Q.block_start>=Q.w_size-D&&(U(Q,!1),Q.strm.avail_out===0))return N}return Q.insert=0,he===h?(U(Q,!0),Q.strm.avail_out===0?oe:ie):(Q.strstart>Q.block_start&&(U(Q,!1),Q.strm.avail_out),N)}),new ye(4,4,8,4,me),new ye(4,5,16,8,me),new ye(4,6,32,32,me),new ye(4,4,16,16,ge),new ye(8,16,32,32,ge),new ye(8,16,128,128,ge),new ye(8,32,128,256,ge),new ye(32,128,258,1024,ge),new ye(32,258,258,4096,ge)],i.deflateInit=function(Q,he){return Qe(Q,he,v,15,8,0)},i.deflateInit2=Qe,i.deflateReset=Se,i.deflateResetKeep=De,i.deflateSetHeader=function(Q,he){return Q&&Q.state?Q.state.wrap!==2?p:(Q.state.gzhead=he,d):p},i.deflate=function(Q,he){var K,ae,Z,ce;if(!Q||!Q.state||5<he||he<0)return Q?ne(Q,p):p;if(ae=Q.state,!Q.output||!Q.input&&Q.avail_in!==0||ae.status===666&&he!==h)return ne(Q,Q.avail_out===0?-5:p);if(ae.strm=Q,K=ae.last_flush,ae.last_flush=he,ae.status===E)if(ae.wrap===2)Q.adler=0,z(ae,31),z(ae,139),z(ae,8),ae.gzhead?(z(ae,(ae.gzhead.text?1:0)+(ae.gzhead.hcrc?2:0)+(ae.gzhead.extra?4:0)+(ae.gzhead.name?8:0)+(ae.gzhead.comment?16:0)),z(ae,255&ae.gzhead.time),z(ae,ae.gzhead.time>>8&255),z(ae,ae.gzhead.time>>16&255),z(ae,ae.gzhead.time>>24&255),z(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),z(ae,255&ae.gzhead.os),ae.gzhead.extra&&ae.gzhead.extra.length&&(z(ae,255&ae.gzhead.extra.length),z(ae,ae.gzhead.extra.length>>8&255)),ae.gzhead.hcrc&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending,0)),ae.gzindex=0,ae.status=69):(z(ae,0),z(ae,0),z(ae,0),z(ae,0),z(ae,0),z(ae,ae.level===9?2:2<=ae.strategy||ae.level<2?4:0),z(ae,3),ae.status=k);else{var _e=v+(ae.w_bits-8<<4)<<8;_e|=(2<=ae.strategy||ae.level<2?0:ae.level<6?1:ae.level===6?2:3)<<6,ae.strstart!==0&&(_e|=32),_e+=31-_e%31,ae.status=k,q(ae,_e),ae.strstart!==0&&(q(ae,Q.adler>>>16),q(ae,65535&Q.adler)),Q.adler=1}if(ae.status===69)if(ae.gzhead.extra){for(Z=ae.pending;ae.gzindex<(65535&ae.gzhead.extra.length)&&(ae.pending!==ae.pending_buf_size||(ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),le(Q),Z=ae.pending,ae.pending!==ae.pending_buf_size));)z(ae,255&ae.gzhead.extra[ae.gzindex]),ae.gzindex++;ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),ae.gzindex===ae.gzhead.extra.length&&(ae.gzindex=0,ae.status=73)}else ae.status=73;if(ae.status===73)if(ae.gzhead.name){Z=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),le(Q),Z=ae.pending,ae.pending===ae.pending_buf_size)){ce=1;break}ce=ae.gzindex<ae.gzhead.name.length?255&ae.gzhead.name.charCodeAt(ae.gzindex++):0,z(ae,ce)}while(ce!==0);ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),ce===0&&(ae.gzindex=0,ae.status=91)}else ae.status=91;if(ae.status===91)if(ae.gzhead.comment){Z=ae.pending;do{if(ae.pending===ae.pending_buf_size&&(ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),le(Q),Z=ae.pending,ae.pending===ae.pending_buf_size)){ce=1;break}ce=ae.gzindex<ae.gzhead.comment.length?255&ae.gzhead.comment.charCodeAt(ae.gzindex++):0,z(ae,ce)}while(ce!==0);ae.gzhead.hcrc&&ae.pending>Z&&(Q.adler=A(Q.adler,ae.pending_buf,ae.pending-Z,Z)),ce===0&&(ae.status=103)}else ae.status=103;if(ae.status===103&&(ae.gzhead.hcrc?(ae.pending+2>ae.pending_buf_size&&le(Q),ae.pending+2<=ae.pending_buf_size&&(z(ae,255&Q.adler),z(ae,Q.adler>>8&255),Q.adler=0,ae.status=k)):ae.status=k),ae.pending!==0){if(le(Q),Q.avail_out===0)return ae.last_flush=-1,d}else if(Q.avail_in===0&&se(he)<=se(K)&&he!==h)return ne(Q,-5);if(ae.status===666&&Q.avail_in!==0)return ne(Q,-5);if(Q.avail_in!==0||ae.lookahead!==0||he!==u&&ae.status!==666){var Be=ae.strategy===2?function(pe,Pe){for(var je;;){if(pe.lookahead===0&&(fe(pe),pe.lookahead===0)){if(Pe===u)return N;break}if(pe.match_length=0,je=a._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++,je&&(U(pe,!1),pe.strm.avail_out===0))return N}return pe.insert=0,Pe===h?(U(pe,!0),pe.strm.avail_out===0?oe:ie):pe.last_lit&&(U(pe,!1),pe.strm.avail_out===0)?N:Y}(ae,he):ae.strategy===3?function(pe,Pe){for(var je,Ue,Ge,nt,Ze=pe.window;;){if(pe.lookahead<=R){if(fe(pe),pe.lookahead<=R&&Pe===u)return N;if(pe.lookahead===0)break}if(pe.match_length=0,pe.lookahead>=T&&0<pe.strstart&&(Ue=Ze[Ge=pe.strstart-1])===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]){nt=pe.strstart+R;do;while(Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ue===Ze[++Ge]&&Ge<nt);pe.match_length=R-(nt-Ge),pe.match_length>pe.lookahead&&(pe.match_length=pe.lookahead)}if(pe.match_length>=T?(je=a._tr_tally(pe,1,pe.match_length-T),pe.lookahead-=pe.match_length,pe.strstart+=pe.match_length,pe.match_length=0):(je=a._tr_tally(pe,0,pe.window[pe.strstart]),pe.lookahead--,pe.strstart++),je&&(U(pe,!1),pe.strm.avail_out===0))return N}return pe.insert=0,Pe===h?(U(pe,!0),pe.strm.avail_out===0?oe:ie):pe.last_lit&&(U(pe,!1),pe.strm.avail_out===0)?N:Y}(ae,he):s[ae.level].func(ae,he);if(Be!==oe&&Be!==ie||(ae.status=666),Be===N||Be===oe)return Q.avail_out===0&&(ae.last_flush=-1),d;if(Be===Y&&(he===1?a._tr_align(ae):he!==5&&(a._tr_stored_block(ae,0,0,!1),he===3&&(ue(ae.head),ae.lookahead===0&&(ae.strstart=0,ae.block_start=0,ae.insert=0))),le(Q),Q.avail_out===0))return ae.last_flush=-1,d}return he!==h?d:ae.wrap<=0?1:(ae.wrap===2?(z(ae,255&Q.adler),z(ae,Q.adler>>8&255),z(ae,Q.adler>>16&255),z(ae,Q.adler>>24&255),z(ae,255&Q.total_in),z(ae,Q.total_in>>8&255),z(ae,Q.total_in>>16&255),z(ae,Q.total_in>>24&255)):(q(ae,Q.adler>>>16),q(ae,65535&Q.adler)),le(Q),0<ae.wrap&&(ae.wrap=-ae.wrap),ae.pending!==0?d:1)},i.deflateEnd=function(Q){var he;return Q&&Q.state?(he=Q.state.status)!==E&&he!==69&&he!==73&&he!==91&&he!==103&&he!==k&&he!==666?ne(Q,p):(Q.state=null,he===k?ne(Q,-3):d):p},i.deflateSetDictionary=function(Q,he){var K,ae,Z,ce,_e,Be,pe,Pe,je=he.length;if(!Q||!Q.state||(ce=(K=Q.state).wrap)===2||ce===1&&K.status!==E||K.lookahead)return p;for(ce===1&&(Q.adler=l(Q.adler,he,je,0)),K.wrap=0,je>=K.w_size&&(ce===0&&(ue(K.head),K.strstart=0,K.block_start=0,K.insert=0),Pe=new o.Buf8(K.w_size),o.arraySet(Pe,he,je-K.w_size,K.w_size,0),he=Pe,je=K.w_size),_e=Q.avail_in,Be=Q.next_in,pe=Q.input,Q.avail_in=je,Q.next_in=0,Q.input=he,fe(K);K.lookahead>=T;){for(ae=K.strstart,Z=K.lookahead-(T-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[ae+T-1])&K.hash_mask,K.prev[ae&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=ae,ae++,--Z;);K.strstart=ae,K.lookahead=T-1,fe(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=T-1,K.match_available=0,Q.next_in=Be,Q.input=pe,Q.avail_in=_e,K.wrap=ce,d},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,o){var a,l,A,c,u,h,d,p,f,b,g,v,_,x,F,O,I,B,T,R,D,E,k,N,Y;a=s.state,l=s.next_in,N=s.input,A=l+(s.avail_in-5),c=s.next_out,Y=s.output,u=c-(o-s.avail_out),h=c+(s.avail_out-257),d=a.dmax,p=a.wsize,f=a.whave,b=a.wnext,g=a.window,v=a.hold,_=a.bits,x=a.lencode,F=a.distcode,O=(1<<a.lenbits)-1,I=(1<<a.distbits)-1;e:do{_<15&&(v+=N[l++]<<_,_+=8,v+=N[l++]<<_,_+=8),B=x[v&O];t:for(;;){if(v>>>=T=B>>>24,_-=T,(T=B>>>16&255)===0)Y[c++]=65535&B;else{if(!(16&T)){if(!(64&T)){B=x[(65535&B)+(v&(1<<T)-1)];continue t}if(32&T){a.mode=12;break e}s.msg="invalid literal/length code",a.mode=30;break e}R=65535&B,(T&=15)&&(_<T&&(v+=N[l++]<<_,_+=8),R+=v&(1<<T)-1,v>>>=T,_-=T),_<15&&(v+=N[l++]<<_,_+=8,v+=N[l++]<<_,_+=8),B=F[v&I];n:for(;;){if(v>>>=T=B>>>24,_-=T,!(16&(T=B>>>16&255))){if(!(64&T)){B=F[(65535&B)+(v&(1<<T)-1)];continue n}s.msg="invalid distance code",a.mode=30;break e}if(D=65535&B,_<(T&=15)&&(v+=N[l++]<<_,(_+=8)<T&&(v+=N[l++]<<_,_+=8)),d<(D+=v&(1<<T)-1)){s.msg="invalid distance too far back",a.mode=30;break e}if(v>>>=T,_-=T,(T=c-u)<D){if(f<(T=D-T)&&a.sane){s.msg="invalid distance too far back",a.mode=30;break e}if(k=g,(E=0)===b){if(E+=p-T,T<R){for(R-=T;Y[c++]=g[E++],--T;);E=c-D,k=Y}}else if(b<T){if(E+=p+b-T,(T-=b)<R){for(R-=T;Y[c++]=g[E++],--T;);if(E=0,b<R){for(R-=T=b;Y[c++]=g[E++],--T;);E=c-D,k=Y}}}else if(E+=b-T,T<R){for(R-=T;Y[c++]=g[E++],--T;);E=c-D,k=Y}for(;2<R;)Y[c++]=k[E++],Y[c++]=k[E++],Y[c++]=k[E++],R-=3;R&&(Y[c++]=k[E++],1<R&&(Y[c++]=k[E++]))}else{for(E=c-D;Y[c++]=Y[E++],Y[c++]=Y[E++],Y[c++]=Y[E++],2<(R-=3););R&&(Y[c++]=Y[E++],1<R&&(Y[c++]=Y[E++]))}break}}break}}while(l<A&&c<h);l-=R=_>>3,v&=(1<<(_-=R<<3))-1,s.next_in=l,s.next_out=c,s.avail_in=l<A?A-l+5:5-(l-A),s.avail_out=c<h?h-c+257:257-(c-h),a.hold=v,a.bits=_}},{}],49:[function(n,r,i){var s=n("../utils/common"),o=n("./adler32"),a=n("./crc32"),l=n("./inffast"),A=n("./inftrees"),c=1,u=2,h=0,d=-2,p=1,f=852,b=592;function g(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(E){var k;return E&&E.state?(k=E.state,E.total_in=E.total_out=k.total=0,E.msg="",k.wrap&&(E.adler=1&k.wrap),k.mode=p,k.last=0,k.havedict=0,k.dmax=32768,k.head=null,k.hold=0,k.bits=0,k.lencode=k.lendyn=new s.Buf32(f),k.distcode=k.distdyn=new s.Buf32(b),k.sane=1,k.back=-1,h):d}function x(E){var k;return E&&E.state?((k=E.state).wsize=0,k.whave=0,k.wnext=0,_(E)):d}function F(E,k){var N,Y;return E&&E.state?(Y=E.state,k<0?(N=0,k=-k):(N=1+(k>>4),k<48&&(k&=15)),k&&(k<8||15<k)?d:(Y.window!==null&&Y.wbits!==k&&(Y.window=null),Y.wrap=N,Y.wbits=k,x(E))):d}function O(E,k){var N,Y;return E?(Y=new v,(E.state=Y).window=null,(N=F(E,k))!==h&&(E.state=null),N):d}var I,B,T=!0;function R(E){if(T){var k;for(I=new s.Buf32(512),B=new s.Buf32(32),k=0;k<144;)E.lens[k++]=8;for(;k<256;)E.lens[k++]=9;for(;k<280;)E.lens[k++]=7;for(;k<288;)E.lens[k++]=8;for(A(c,E.lens,0,288,I,0,E.work,{bits:9}),k=0;k<32;)E.lens[k++]=5;A(u,E.lens,0,32,B,0,E.work,{bits:5}),T=!1}E.lencode=I,E.lenbits=9,E.distcode=B,E.distbits=5}function D(E,k,N,Y){var oe,ie=E.state;return ie.window===null&&(ie.wsize=1<<ie.wbits,ie.wnext=0,ie.whave=0,ie.window=new s.Buf8(ie.wsize)),Y>=ie.wsize?(s.arraySet(ie.window,k,N-ie.wsize,ie.wsize,0),ie.wnext=0,ie.whave=ie.wsize):(Y<(oe=ie.wsize-ie.wnext)&&(oe=Y),s.arraySet(ie.window,k,N-Y,oe,ie.wnext),(Y-=oe)?(s.arraySet(ie.window,k,N-Y,Y,0),ie.wnext=Y,ie.whave=ie.wsize):(ie.wnext+=oe,ie.wnext===ie.wsize&&(ie.wnext=0),ie.whave<ie.wsize&&(ie.whave+=oe))),0}i.inflateReset=x,i.inflateReset2=F,i.inflateResetKeep=_,i.inflateInit=function(E){return O(E,15)},i.inflateInit2=O,i.inflate=function(E,k){var N,Y,oe,ie,ne,se,ue,le,U,z,q,ee,fe,me,ge,ye,Me,De,Se,Qe,Q,he,K,ae,Z=0,ce=new s.Buf8(4),_e=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return d;(N=E.state).mode===12&&(N.mode=13),ne=E.next_out,oe=E.output,ue=E.avail_out,ie=E.next_in,Y=E.input,se=E.avail_in,le=N.hold,U=N.bits,z=se,q=ue,he=h;e:for(;;)switch(N.mode){case p:if(N.wrap===0){N.mode=13;break}for(;U<16;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(2&N.wrap&&le===35615){ce[N.check=0]=255&le,ce[1]=le>>>8&255,N.check=a(N.check,ce,2,0),U=le=0,N.mode=2;break}if(N.flags=0,N.head&&(N.head.done=!1),!(1&N.wrap)||(((255&le)<<8)+(le>>8))%31){E.msg="incorrect header check",N.mode=30;break}if((15&le)!=8){E.msg="unknown compression method",N.mode=30;break}if(U-=4,Q=8+(15&(le>>>=4)),N.wbits===0)N.wbits=Q;else if(Q>N.wbits){E.msg="invalid window size",N.mode=30;break}N.dmax=1<<Q,E.adler=N.check=1,N.mode=512&le?10:12,U=le=0;break;case 2:for(;U<16;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(N.flags=le,(255&N.flags)!=8){E.msg="unknown compression method",N.mode=30;break}if(57344&N.flags){E.msg="unknown header flags set",N.mode=30;break}N.head&&(N.head.text=le>>8&1),512&N.flags&&(ce[0]=255&le,ce[1]=le>>>8&255,N.check=a(N.check,ce,2,0)),U=le=0,N.mode=3;case 3:for(;U<32;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.head&&(N.head.time=le),512&N.flags&&(ce[0]=255&le,ce[1]=le>>>8&255,ce[2]=le>>>16&255,ce[3]=le>>>24&255,N.check=a(N.check,ce,4,0)),U=le=0,N.mode=4;case 4:for(;U<16;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.head&&(N.head.xflags=255&le,N.head.os=le>>8),512&N.flags&&(ce[0]=255&le,ce[1]=le>>>8&255,N.check=a(N.check,ce,2,0)),U=le=0,N.mode=5;case 5:if(1024&N.flags){for(;U<16;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.length=le,N.head&&(N.head.extra_len=le),512&N.flags&&(ce[0]=255&le,ce[1]=le>>>8&255,N.check=a(N.check,ce,2,0)),U=le=0}else N.head&&(N.head.extra=null);N.mode=6;case 6:if(1024&N.flags&&(se<(ee=N.length)&&(ee=se),ee&&(N.head&&(Q=N.head.extra_len-N.length,N.head.extra||(N.head.extra=new Array(N.head.extra_len)),s.arraySet(N.head.extra,Y,ie,ee,Q)),512&N.flags&&(N.check=a(N.check,Y,ee,ie)),se-=ee,ie+=ee,N.length-=ee),N.length))break e;N.length=0,N.mode=7;case 7:if(2048&N.flags){if(se===0)break e;for(ee=0;Q=Y[ie+ee++],N.head&&Q&&N.length<65536&&(N.head.name+=String.fromCharCode(Q)),Q&&ee<se;);if(512&N.flags&&(N.check=a(N.check,Y,ee,ie)),se-=ee,ie+=ee,Q)break e}else N.head&&(N.head.name=null);N.length=0,N.mode=8;case 8:if(4096&N.flags){if(se===0)break e;for(ee=0;Q=Y[ie+ee++],N.head&&Q&&N.length<65536&&(N.head.comment+=String.fromCharCode(Q)),Q&&ee<se;);if(512&N.flags&&(N.check=a(N.check,Y,ee,ie)),se-=ee,ie+=ee,Q)break e}else N.head&&(N.head.comment=null);N.mode=9;case 9:if(512&N.flags){for(;U<16;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(le!==(65535&N.check)){E.msg="header crc mismatch",N.mode=30;break}U=le=0}N.head&&(N.head.hcrc=N.flags>>9&1,N.head.done=!0),E.adler=N.check=0,N.mode=12;break;case 10:for(;U<32;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}E.adler=N.check=g(le),U=le=0,N.mode=11;case 11:if(N.havedict===0)return E.next_out=ne,E.avail_out=ue,E.next_in=ie,E.avail_in=se,N.hold=le,N.bits=U,2;E.adler=N.check=1,N.mode=12;case 12:if(k===5||k===6)break e;case 13:if(N.last){le>>>=7&U,U-=7&U,N.mode=27;break}for(;U<3;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}switch(N.last=1&le,U-=1,3&(le>>>=1)){case 0:N.mode=14;break;case 1:if(R(N),N.mode=20,k!==6)break;le>>>=2,U-=2;break e;case 2:N.mode=17;break;case 3:E.msg="invalid block type",N.mode=30}le>>>=2,U-=2;break;case 14:for(le>>>=7&U,U-=7&U;U<32;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if((65535&le)!=(le>>>16^65535)){E.msg="invalid stored block lengths",N.mode=30;break}if(N.length=65535&le,U=le=0,N.mode=15,k===6)break e;case 15:N.mode=16;case 16:if(ee=N.length){if(se<ee&&(ee=se),ue<ee&&(ee=ue),ee===0)break e;s.arraySet(oe,Y,ie,ee,ne),se-=ee,ie+=ee,ue-=ee,ne+=ee,N.length-=ee;break}N.mode=12;break;case 17:for(;U<14;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(N.nlen=257+(31&le),le>>>=5,U-=5,N.ndist=1+(31&le),le>>>=5,U-=5,N.ncode=4+(15&le),le>>>=4,U-=4,286<N.nlen||30<N.ndist){E.msg="too many length or distance symbols",N.mode=30;break}N.have=0,N.mode=18;case 18:for(;N.have<N.ncode;){for(;U<3;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.lens[_e[N.have++]]=7&le,le>>>=3,U-=3}for(;N.have<19;)N.lens[_e[N.have++]]=0;if(N.lencode=N.lendyn,N.lenbits=7,K={bits:N.lenbits},he=A(0,N.lens,0,19,N.lencode,0,N.work,K),N.lenbits=K.bits,he){E.msg="invalid code lengths set",N.mode=30;break}N.have=0,N.mode=19;case 19:for(;N.have<N.nlen+N.ndist;){for(;ye=(Z=N.lencode[le&(1<<N.lenbits)-1])>>>16&255,Me=65535&Z,!((ge=Z>>>24)<=U);){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(Me<16)le>>>=ge,U-=ge,N.lens[N.have++]=Me;else{if(Me===16){for(ae=ge+2;U<ae;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(le>>>=ge,U-=ge,N.have===0){E.msg="invalid bit length repeat",N.mode=30;break}Q=N.lens[N.have-1],ee=3+(3&le),le>>>=2,U-=2}else if(Me===17){for(ae=ge+3;U<ae;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}U-=ge,Q=0,ee=3+(7&(le>>>=ge)),le>>>=3,U-=3}else{for(ae=ge+7;U<ae;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}U-=ge,Q=0,ee=11+(127&(le>>>=ge)),le>>>=7,U-=7}if(N.have+ee>N.nlen+N.ndist){E.msg="invalid bit length repeat",N.mode=30;break}for(;ee--;)N.lens[N.have++]=Q}}if(N.mode===30)break;if(N.lens[256]===0){E.msg="invalid code -- missing end-of-block",N.mode=30;break}if(N.lenbits=9,K={bits:N.lenbits},he=A(c,N.lens,0,N.nlen,N.lencode,0,N.work,K),N.lenbits=K.bits,he){E.msg="invalid literal/lengths set",N.mode=30;break}if(N.distbits=6,N.distcode=N.distdyn,K={bits:N.distbits},he=A(u,N.lens,N.nlen,N.ndist,N.distcode,0,N.work,K),N.distbits=K.bits,he){E.msg="invalid distances set",N.mode=30;break}if(N.mode=20,k===6)break e;case 20:N.mode=21;case 21:if(6<=se&&258<=ue){E.next_out=ne,E.avail_out=ue,E.next_in=ie,E.avail_in=se,N.hold=le,N.bits=U,l(E,q),ne=E.next_out,oe=E.output,ue=E.avail_out,ie=E.next_in,Y=E.input,se=E.avail_in,le=N.hold,U=N.bits,N.mode===12&&(N.back=-1);break}for(N.back=0;ye=(Z=N.lencode[le&(1<<N.lenbits)-1])>>>16&255,Me=65535&Z,!((ge=Z>>>24)<=U);){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(ye&&!(240&ye)){for(De=ge,Se=ye,Qe=Me;ye=(Z=N.lencode[Qe+((le&(1<<De+Se)-1)>>De)])>>>16&255,Me=65535&Z,!(De+(ge=Z>>>24)<=U);){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}le>>>=De,U-=De,N.back+=De}if(le>>>=ge,U-=ge,N.back+=ge,N.length=Me,ye===0){N.mode=26;break}if(32&ye){N.back=-1,N.mode=12;break}if(64&ye){E.msg="invalid literal/length code",N.mode=30;break}N.extra=15&ye,N.mode=22;case 22:if(N.extra){for(ae=N.extra;U<ae;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.length+=le&(1<<N.extra)-1,le>>>=N.extra,U-=N.extra,N.back+=N.extra}N.was=N.length,N.mode=23;case 23:for(;ye=(Z=N.distcode[le&(1<<N.distbits)-1])>>>16&255,Me=65535&Z,!((ge=Z>>>24)<=U);){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(!(240&ye)){for(De=ge,Se=ye,Qe=Me;ye=(Z=N.distcode[Qe+((le&(1<<De+Se)-1)>>De)])>>>16&255,Me=65535&Z,!(De+(ge=Z>>>24)<=U);){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}le>>>=De,U-=De,N.back+=De}if(le>>>=ge,U-=ge,N.back+=ge,64&ye){E.msg="invalid distance code",N.mode=30;break}N.offset=Me,N.extra=15&ye,N.mode=24;case 24:if(N.extra){for(ae=N.extra;U<ae;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}N.offset+=le&(1<<N.extra)-1,le>>>=N.extra,U-=N.extra,N.back+=N.extra}if(N.offset>N.dmax){E.msg="invalid distance too far back",N.mode=30;break}N.mode=25;case 25:if(ue===0)break e;if(ee=q-ue,N.offset>ee){if((ee=N.offset-ee)>N.whave&&N.sane){E.msg="invalid distance too far back",N.mode=30;break}fe=ee>N.wnext?(ee-=N.wnext,N.wsize-ee):N.wnext-ee,ee>N.length&&(ee=N.length),me=N.window}else me=oe,fe=ne-N.offset,ee=N.length;for(ue<ee&&(ee=ue),ue-=ee,N.length-=ee;oe[ne++]=me[fe++],--ee;);N.length===0&&(N.mode=21);break;case 26:if(ue===0)break e;oe[ne++]=N.length,ue--,N.mode=21;break;case 27:if(N.wrap){for(;U<32;){if(se===0)break e;se--,le|=Y[ie++]<<U,U+=8}if(q-=ue,E.total_out+=q,N.total+=q,q&&(E.adler=N.check=N.flags?a(N.check,oe,q,ne-q):o(N.check,oe,q,ne-q)),q=ue,(N.flags?le:g(le))!==N.check){E.msg="incorrect data check",N.mode=30;break}U=le=0}N.mode=28;case 28:if(N.wrap&&N.flags){for(;U<32;){if(se===0)break e;se--,le+=Y[ie++]<<U,U+=8}if(le!==(4294967295&N.total)){E.msg="incorrect length check",N.mode=30;break}U=le=0}N.mode=29;case 29:he=1;break e;case 30:he=-3;break e;case 31:return-4;case 32:default:return d}return E.next_out=ne,E.avail_out=ue,E.next_in=ie,E.avail_in=se,N.hold=le,N.bits=U,(N.wsize||q!==E.avail_out&&N.mode<30&&(N.mode<27||k!==4))&&D(E,E.output,E.next_out,q-E.avail_out)?(N.mode=31,-4):(z-=E.avail_in,q-=E.avail_out,E.total_in+=z,E.total_out+=q,N.total+=q,N.wrap&&q&&(E.adler=N.check=N.flags?a(N.check,oe,q,E.next_out-q):o(N.check,oe,q,E.next_out-q)),E.data_type=N.bits+(N.last?64:0)+(N.mode===12?128:0)+(N.mode===20||N.mode===15?256:0),(z==0&&q===0||k===4)&&he===h&&(he=-5),he)},i.inflateEnd=function(E){if(!E||!E.state)return d;var k=E.state;return k.window&&(k.window=null),E.state=null,h},i.inflateGetHeader=function(E,k){var N;return E&&E.state&&2&(N=E.state).wrap?((N.head=k).done=!1,h):d},i.inflateSetDictionary=function(E,k){var N,Y=k.length;return E&&E.state?(N=E.state).wrap!==0&&N.mode!==11?d:N.mode===11&&o(1,k,Y,0)!==N.check?-3:D(E,k,Y,Y)?(N.mode=31,-4):(N.havedict=1,h):d},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],A=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(c,u,h,d,p,f,b,g){var v,_,x,F,O,I,B,T,R,D=g.bits,E=0,k=0,N=0,Y=0,oe=0,ie=0,ne=0,se=0,ue=0,le=0,U=null,z=0,q=new s.Buf16(16),ee=new s.Buf16(16),fe=null,me=0;for(E=0;E<=15;E++)q[E]=0;for(k=0;k<d;k++)q[u[h+k]]++;for(oe=D,Y=15;1<=Y&&q[Y]===0;Y--);if(Y<oe&&(oe=Y),Y===0)return p[f++]=20971520,p[f++]=20971520,g.bits=1,0;for(N=1;N<Y&&q[N]===0;N++);for(oe<N&&(oe=N),E=se=1;E<=15;E++)if(se<<=1,(se-=q[E])<0)return-1;if(0<se&&(c===0||Y!==1))return-1;for(ee[1]=0,E=1;E<15;E++)ee[E+1]=ee[E]+q[E];for(k=0;k<d;k++)u[h+k]!==0&&(b[ee[u[h+k]]++]=k);if(I=c===0?(U=fe=b,19):c===1?(U=o,z-=257,fe=a,me-=257,256):(U=l,fe=A,-1),E=N,O=f,ne=k=le=0,x=-1,F=(ue=1<<(ie=oe))-1,c===1&&852<ue||c===2&&592<ue)return 1;for(;;){for(B=E-ne,R=b[k]<I?(T=0,b[k]):b[k]>I?(T=fe[me+b[k]],U[z+b[k]]):(T=96,0),v=1<<E-ne,N=_=1<<ie;p[O+(le>>ne)+(_-=v)]=B<<24|T<<16|R|0,_!==0;);for(v=1<<E-1;le&v;)v>>=1;if(v!==0?(le&=v-1,le+=v):le=0,k++,--q[E]==0){if(E===Y)break;E=u[h+b[k]]}if(oe<E&&(le&F)!==x){for(ne===0&&(ne=oe),O+=N,se=1<<(ie=E-ne);ie+ne<Y&&!((se-=q[ie+ne])<=0);)ie++,se<<=1;if(ue+=1<<ie,c===1&&852<ue||c===2&&592<ue)return 1;p[x=le&F]=oe<<24|ie<<16|O-f|0}}return le!==0&&(p[O+le]=E-ne<<24|64<<16|0),g.bits=oe,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),o=0,a=1;function l(Z){for(var ce=Z.length;0<=--ce;)Z[ce]=0}var A=0,c=29,u=256,h=u+1+c,d=30,p=19,f=2*h+1,b=15,g=16,v=7,_=256,x=16,F=17,O=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],R=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],D=new Array(2*(h+2));l(D);var E=new Array(2*d);l(E);var k=new Array(512);l(k);var N=new Array(256);l(N);var Y=new Array(c);l(Y);var oe,ie,ne,se=new Array(d);function ue(Z,ce,_e,Be,pe){this.static_tree=Z,this.extra_bits=ce,this.extra_base=_e,this.elems=Be,this.max_length=pe,this.has_stree=Z&&Z.length}function le(Z,ce){this.dyn_tree=Z,this.max_code=0,this.stat_desc=ce}function U(Z){return Z<256?k[Z]:k[256+(Z>>>7)]}function z(Z,ce){Z.pending_buf[Z.pending++]=255&ce,Z.pending_buf[Z.pending++]=ce>>>8&255}function q(Z,ce,_e){Z.bi_valid>g-_e?(Z.bi_buf|=ce<<Z.bi_valid&65535,z(Z,Z.bi_buf),Z.bi_buf=ce>>g-Z.bi_valid,Z.bi_valid+=_e-g):(Z.bi_buf|=ce<<Z.bi_valid&65535,Z.bi_valid+=_e)}function ee(Z,ce,_e){q(Z,_e[2*ce],_e[2*ce+1])}function fe(Z,ce){for(var _e=0;_e|=1&Z,Z>>>=1,_e<<=1,0<--ce;);return _e>>>1}function me(Z,ce,_e){var Be,pe,Pe=new Array(b+1),je=0;for(Be=1;Be<=b;Be++)Pe[Be]=je=je+_e[Be-1]<<1;for(pe=0;pe<=ce;pe++){var Ue=Z[2*pe+1];Ue!==0&&(Z[2*pe]=fe(Pe[Ue]++,Ue))}}function ge(Z){var ce;for(ce=0;ce<h;ce++)Z.dyn_ltree[2*ce]=0;for(ce=0;ce<d;ce++)Z.dyn_dtree[2*ce]=0;for(ce=0;ce<p;ce++)Z.bl_tree[2*ce]=0;Z.dyn_ltree[2*_]=1,Z.opt_len=Z.static_len=0,Z.last_lit=Z.matches=0}function ye(Z){8<Z.bi_valid?z(Z,Z.bi_buf):0<Z.bi_valid&&(Z.pending_buf[Z.pending++]=Z.bi_buf),Z.bi_buf=0,Z.bi_valid=0}function Me(Z,ce,_e,Be){var pe=2*ce,Pe=2*_e;return Z[pe]<Z[Pe]||Z[pe]===Z[Pe]&&Be[ce]<=Be[_e]}function De(Z,ce,_e){for(var Be=Z.heap[_e],pe=_e<<1;pe<=Z.heap_len&&(pe<Z.heap_len&&Me(ce,Z.heap[pe+1],Z.heap[pe],Z.depth)&&pe++,!Me(ce,Be,Z.heap[pe],Z.depth));)Z.heap[_e]=Z.heap[pe],_e=pe,pe<<=1;Z.heap[_e]=Be}function Se(Z,ce,_e){var Be,pe,Pe,je,Ue=0;if(Z.last_lit!==0)for(;Be=Z.pending_buf[Z.d_buf+2*Ue]<<8|Z.pending_buf[Z.d_buf+2*Ue+1],pe=Z.pending_buf[Z.l_buf+Ue],Ue++,Be===0?ee(Z,pe,ce):(ee(Z,(Pe=N[pe])+u+1,ce),(je=I[Pe])!==0&&q(Z,pe-=Y[Pe],je),ee(Z,Pe=U(--Be),_e),(je=B[Pe])!==0&&q(Z,Be-=se[Pe],je)),Ue<Z.last_lit;);ee(Z,_,ce)}function Qe(Z,ce){var _e,Be,pe,Pe=ce.dyn_tree,je=ce.stat_desc.static_tree,Ue=ce.stat_desc.has_stree,Ge=ce.stat_desc.elems,nt=-1;for(Z.heap_len=0,Z.heap_max=f,_e=0;_e<Ge;_e++)Pe[2*_e]!==0?(Z.heap[++Z.heap_len]=nt=_e,Z.depth[_e]=0):Pe[2*_e+1]=0;for(;Z.heap_len<2;)Pe[2*(pe=Z.heap[++Z.heap_len]=nt<2?++nt:0)]=1,Z.depth[pe]=0,Z.opt_len--,Ue&&(Z.static_len-=je[2*pe+1]);for(ce.max_code=nt,_e=Z.heap_len>>1;1<=_e;_e--)De(Z,Pe,_e);for(pe=Ge;_e=Z.heap[1],Z.heap[1]=Z.heap[Z.heap_len--],De(Z,Pe,1),Be=Z.heap[1],Z.heap[--Z.heap_max]=_e,Z.heap[--Z.heap_max]=Be,Pe[2*pe]=Pe[2*_e]+Pe[2*Be],Z.depth[pe]=(Z.depth[_e]>=Z.depth[Be]?Z.depth[_e]:Z.depth[Be])+1,Pe[2*_e+1]=Pe[2*Be+1]=pe,Z.heap[1]=pe++,De(Z,Pe,1),2<=Z.heap_len;);Z.heap[--Z.heap_max]=Z.heap[1],function(Ze,At){var Le,Ie,rt,Ke,wt,mt,ft=At.dyn_tree,Ht=At.max_code,_t=At.stat_desc.static_tree,Xt=At.stat_desc.has_stree,Vt=At.stat_desc.extra_bits,Jt=At.stat_desc.extra_base,En=At.stat_desc.max_length,Kt=0;for(Ke=0;Ke<=b;Ke++)Ze.bl_count[Ke]=0;for(ft[2*Ze.heap[Ze.heap_max]+1]=0,Le=Ze.heap_max+1;Le<f;Le++)En<(Ke=ft[2*ft[2*(Ie=Ze.heap[Le])+1]+1]+1)&&(Ke=En,Kt++),ft[2*Ie+1]=Ke,Ht<Ie||(Ze.bl_count[Ke]++,wt=0,Jt<=Ie&&(wt=Vt[Ie-Jt]),mt=ft[2*Ie],Ze.opt_len+=mt*(Ke+wt),Xt&&(Ze.static_len+=mt*(_t[2*Ie+1]+wt)));if(Kt!==0){do{for(Ke=En-1;Ze.bl_count[Ke]===0;)Ke--;Ze.bl_count[Ke]--,Ze.bl_count[Ke+1]+=2,Ze.bl_count[En]--,Kt-=2}while(0<Kt);for(Ke=En;Ke!==0;Ke--)for(Ie=Ze.bl_count[Ke];Ie!==0;)Ht<(rt=Ze.heap[--Le])||(ft[2*rt+1]!==Ke&&(Ze.opt_len+=(Ke-ft[2*rt+1])*ft[2*rt],ft[2*rt+1]=Ke),Ie--)}}(Z,ce),me(Pe,nt,Z.bl_count)}function Q(Z,ce,_e){var Be,pe,Pe=-1,je=ce[1],Ue=0,Ge=7,nt=4;for(je===0&&(Ge=138,nt=3),ce[2*(_e+1)+1]=65535,Be=0;Be<=_e;Be++)pe=je,je=ce[2*(Be+1)+1],++Ue<Ge&&pe===je||(Ue<nt?Z.bl_tree[2*pe]+=Ue:pe!==0?(pe!==Pe&&Z.bl_tree[2*pe]++,Z.bl_tree[2*x]++):Ue<=10?Z.bl_tree[2*F]++:Z.bl_tree[2*O]++,Pe=pe,nt=(Ue=0)===je?(Ge=138,3):pe===je?(Ge=6,3):(Ge=7,4))}function he(Z,ce,_e){var Be,pe,Pe=-1,je=ce[1],Ue=0,Ge=7,nt=4;for(je===0&&(Ge=138,nt=3),Be=0;Be<=_e;Be++)if(pe=je,je=ce[2*(Be+1)+1],!(++Ue<Ge&&pe===je)){if(Ue<nt)for(;ee(Z,pe,Z.bl_tree),--Ue!=0;);else pe!==0?(pe!==Pe&&(ee(Z,pe,Z.bl_tree),Ue--),ee(Z,x,Z.bl_tree),q(Z,Ue-3,2)):Ue<=10?(ee(Z,F,Z.bl_tree),q(Z,Ue-3,3)):(ee(Z,O,Z.bl_tree),q(Z,Ue-11,7));Pe=pe,nt=(Ue=0)===je?(Ge=138,3):pe===je?(Ge=6,3):(Ge=7,4)}}l(se);var K=!1;function ae(Z,ce,_e,Be){q(Z,(A<<1)+(Be?1:0),3),function(pe,Pe,je,Ue){ye(pe),Ue&&(z(pe,je),z(pe,~je)),s.arraySet(pe.pending_buf,pe.window,Pe,je,pe.pending),pe.pending+=je}(Z,ce,_e,!0)}i._tr_init=function(Z){K||(function(){var ce,_e,Be,pe,Pe,je=new Array(b+1);for(pe=Be=0;pe<c-1;pe++)for(Y[pe]=Be,ce=0;ce<1<<I[pe];ce++)N[Be++]=pe;for(N[Be-1]=pe,pe=Pe=0;pe<16;pe++)for(se[pe]=Pe,ce=0;ce<1<<B[pe];ce++)k[Pe++]=pe;for(Pe>>=7;pe<d;pe++)for(se[pe]=Pe<<7,ce=0;ce<1<<B[pe]-7;ce++)k[256+Pe++]=pe;for(_e=0;_e<=b;_e++)je[_e]=0;for(ce=0;ce<=143;)D[2*ce+1]=8,ce++,je[8]++;for(;ce<=255;)D[2*ce+1]=9,ce++,je[9]++;for(;ce<=279;)D[2*ce+1]=7,ce++,je[7]++;for(;ce<=287;)D[2*ce+1]=8,ce++,je[8]++;for(me(D,h+1,je),ce=0;ce<d;ce++)E[2*ce+1]=5,E[2*ce]=fe(ce,5);oe=new ue(D,I,u+1,h,b),ie=new ue(E,B,0,d,b),ne=new ue(new Array(0),T,0,p,v)}(),K=!0),Z.l_desc=new le(Z.dyn_ltree,oe),Z.d_desc=new le(Z.dyn_dtree,ie),Z.bl_desc=new le(Z.bl_tree,ne),Z.bi_buf=0,Z.bi_valid=0,ge(Z)},i._tr_stored_block=ae,i._tr_flush_block=function(Z,ce,_e,Be){var pe,Pe,je=0;0<Z.level?(Z.strm.data_type===2&&(Z.strm.data_type=function(Ue){var Ge,nt=4093624447;for(Ge=0;Ge<=31;Ge++,nt>>>=1)if(1&nt&&Ue.dyn_ltree[2*Ge]!==0)return o;if(Ue.dyn_ltree[18]!==0||Ue.dyn_ltree[20]!==0||Ue.dyn_ltree[26]!==0)return a;for(Ge=32;Ge<u;Ge++)if(Ue.dyn_ltree[2*Ge]!==0)return a;return o}(Z)),Qe(Z,Z.l_desc),Qe(Z,Z.d_desc),je=function(Ue){var Ge;for(Q(Ue,Ue.dyn_ltree,Ue.l_desc.max_code),Q(Ue,Ue.dyn_dtree,Ue.d_desc.max_code),Qe(Ue,Ue.bl_desc),Ge=p-1;3<=Ge&&Ue.bl_tree[2*R[Ge]+1]===0;Ge--);return Ue.opt_len+=3*(Ge+1)+5+5+4,Ge}(Z),pe=Z.opt_len+3+7>>>3,(Pe=Z.static_len+3+7>>>3)<=pe&&(pe=Pe)):pe=Pe=_e+5,_e+4<=pe&&ce!==-1?ae(Z,ce,_e,Be):Z.strategy===4||Pe===pe?(q(Z,2+(Be?1:0),3),Se(Z,D,E)):(q(Z,4+(Be?1:0),3),function(Ue,Ge,nt,Ze){var At;for(q(Ue,Ge-257,5),q(Ue,nt-1,5),q(Ue,Ze-4,4),At=0;At<Ze;At++)q(Ue,Ue.bl_tree[2*R[At]+1],3);he(Ue,Ue.dyn_ltree,Ge-1),he(Ue,Ue.dyn_dtree,nt-1)}(Z,Z.l_desc.max_code+1,Z.d_desc.max_code+1,je+1),Se(Z,Z.dyn_ltree,Z.dyn_dtree)),ge(Z),Be&&ye(Z)},i._tr_tally=function(Z,ce,_e){return Z.pending_buf[Z.d_buf+2*Z.last_lit]=ce>>>8&255,Z.pending_buf[Z.d_buf+2*Z.last_lit+1]=255&ce,Z.pending_buf[Z.l_buf+Z.last_lit]=255&_e,Z.last_lit++,ce===0?Z.dyn_ltree[2*_e]++:(Z.matches++,ce--,Z.dyn_ltree[2*(N[_e]+u+1)]++,Z.dyn_dtree[2*U(ce)]++),Z.last_lit===Z.lit_bufsize-1},i._tr_align=function(Z){q(Z,2,3),ee(Z,_,D),function(ce){ce.bi_valid===16?(z(ce,ce.bi_buf),ce.bi_buf=0,ce.bi_valid=0):8<=ce.bi_valid&&(ce.pending_buf[ce.pending++]=255&ce.bi_buf,ce.bi_buf>>=8,ce.bi_valid-=8)}(Z)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(o,a){if(!o.setImmediate){var l,A,c,u,h=1,d={},p=!1,f=o.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(o);b=b&&b.setTimeout?b:o,l={}.toString.call(o.process)==="[object process]"?function(x){process.nextTick(function(){v(x)})}:function(){if(o.postMessage&&!o.importScripts){var x=!0,F=o.onmessage;return o.onmessage=function(){x=!1},o.postMessage("","*"),o.onmessage=F,x}}()?(u="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",_,!1):o.attachEvent("onmessage",_),function(x){o.postMessage(u+x,"*")}):o.MessageChannel?((c=new MessageChannel).port1.onmessage=function(x){v(x.data)},function(x){c.port2.postMessage(x)}):f&&"onreadystatechange"in f.createElement("script")?(A=f.documentElement,function(x){var F=f.createElement("script");F.onreadystatechange=function(){v(x),F.onreadystatechange=null,A.removeChild(F),F=null},A.appendChild(F)}):function(x){setTimeout(v,0,x)},b.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var F=new Array(arguments.length-1),O=0;O<F.length;O++)F[O]=arguments[O+1];var I={callback:x,args:F};return d[h]=I,l(h),h++},b.clearImmediate=g}function g(x){delete d[x]}function v(x){if(p)setTimeout(v,0,x);else{var F=d[x];if(F){p=!0;try{(function(O){var I=O.callback,B=O.args;switch(B.length){case 0:I();break;case 1:I(B[0]);break;case 2:I(B[0],B[1]);break;case 3:I(B[0],B[1],B[2]);break;default:I.apply(a,B)}})(F)}finally{g(x),p=!1}}}}function _(x){x.source===o&&typeof x.data=="string"&&x.data.indexOf(u)===0&&v(+x.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Fr<"u"?Fr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mz);var UOe=mz.exports;const OOe=ss(UOe);function MOe(){const t=["Clásico","Moderno","Minimalista"],[e,n]=$.useState(()=>localStorage.getItem("selectedTemplate")||null),{userName:r,partnerName:i,weddingDate:s,venue:o,themeColor:a}=Uh(),[l,A]=$.useState(!1),[c,u]=$.useState({schedule:"",dressCode:"",story:"",registry:"",locationLink:""});$.useEffect(()=>{e?localStorage.setItem("selectedTemplate",e):localStorage.removeItem("selectedTemplate")},[e]);const h=()=>{const{schedule:p,dressCode:f,story:b,registry:g,locationLink:v}=c;return`<!DOCTYPE html><html lang="es"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Boda de ${r} y ${i}</title><style>body{font-family:sans-serif;text-align:center;padding:2rem;color:${a}}header{background-color:${a};color:#fff;padding:1rem}section{margin:2rem 0}</style></head><body><header><h1>${r} &amp; ${i}</h1><p>${s} - ${o}</p></header><section><h2>¡Estás invitado!</h2>${p?`<p><strong>Horario:</strong> ${p}</p>`:""}${f?`<p><strong>Código de vestimenta:</strong> ${f}</p>`:""}${b?`<p>${b}</p>`:""}${v?`<p><a href="${v}">Cómo llegar</a></p>`:""}${g?`<p><a href="${g}">Lista de regalos</a></p>`:""}</section><footer><p>¡Te esperamos!</p></footer></body></html>`},d=async()=>{const p=h(),f=new OOe;f.file("index.html",p);const b=await f.generateAsync({type:"blob"});dNe.saveAs(b,"wedding_site.zip")};return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Diseño Web"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:t.map((p,f)=>y.jsx("div",{className:`p-4 border rounded-lg cursor-pointer ${e===p?"border-blue-600 bg-blue-50":""}`,onClick:()=>n(p),children:y.jsx("p",{className:"text-lg font-medium",children:p})},f))}),e&&y.jsxs(y.Fragment,{children:[y.jsxs("div",{className:"mt-6 p-4 bg-white rounded shadow",children:[y.jsxs("h2",{className:"text-xl font-semibold",children:[r," & ",i]}),y.jsxs("p",{children:["Nos casamos el ",s," en ",o,"."]})]}),y.jsxs("div",{className:"mt-4 grid gap-4 md:grid-cols-2",children:[y.jsx("input",{type:"text",placeholder:"Horario (ej. 17:00 Ceremonia)",value:c.schedule,onChange:p=>u({...c,schedule:p.target.value}),className:"border rounded px-2 py-1"}),y.jsx("input",{type:"text",placeholder:"Dress code",value:c.dressCode,onChange:p=>u({...c,dressCode:p.target.value}),className:"border rounded px-2 py-1"}),y.jsx("input",{type:"text",placeholder:"Enlace ubicación (Google Maps)",value:c.locationLink,onChange:p=>u({...c,locationLink:p.target.value}),className:"border rounded px-2 py-1"}),y.jsx("input",{type:"text",placeholder:"Enlace lista de regalos",value:c.registry,onChange:p=>u({...c,registry:p.target.value}),className:"border rounded px-2 py-1"}),y.jsx("textarea",{rows:3,placeholder:"Nuestra historia",value:c.story,onChange:p=>u({...c,story:p.target.value}),className:"border rounded px-2 py-1 md:col-span-2"})]}),y.jsxs("div",{className:"flex space-x-2 mt-4",children:[y.jsx("button",{onClick:d,className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Descargar Sitio"}),y.jsx("button",{onClick:()=>A(!0),className:"bg-gray-600 text-white px-4 py-2 rounded",children:"Vista Previa"})]})]}),l&&y.jsx("div",{className:"mt-4",children:y.jsx("iframe",{srcDoc:h(),sandbox:"allow-same-origin",className:"w-full h-96 border"})})]})}const QOe=[{path:"invitaciones",label:"Invitaciones"},{path:"logo",label:"Logo"},{path:"menu",label:"Menú"},{path:"seating-plan",label:"Seating Plan"},{path:"menu-catering",label:"Menú Catering"},{path:"papeles-nombres",label:"Papeles Nombres"}],jOe=re.memo(()=>{const t=pA(),e=Ih();$.useEffect(()=>{(t.pathname==="/disenos"||t.pathname==="/disenos/")&&e("/disenos/invitaciones",{replace:!0})},[t.pathname,e]);const n=$.useMemo(()=>QOe.map(r=>({...r,href:`/disenos/${r.path}`})),[]);return t.pathname==="/disenos"||t.pathname==="/disenos/"?y.jsx("div",{className:"p-6",role:"status","aria-live":"polite",children:"Cargando..."}):y.jsxs("section",{className:"p-6 flex flex-col gap-6","aria-labelledby":"disenos-heading",children:[y.jsx("h1",{id:"disenos-heading",className:"text-2xl font-bold text-gray-800",children:"Diseños"}),y.jsx("nav",{role:"tablist","aria-label":"Secciones de Diseño",className:"flex overflow-x-auto space-x-2 pb-2",children:n.map(r=>y.jsx(zM,{to:r.href,role:"tab","aria-current":t.pathname===r.href?"page":void 0,className:({isActive:i})=>`px-4 py-2 rounded-t-lg font-medium whitespace-nowrap focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500 ${i?"bg-white border-t-2 border-l-2 border-r-2 border-blue-500 text-blue-600 font-semibold":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:r.label},r.path))}),y.jsx(pn,{className:"overflow-hidden focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500",role:"region","aria-label":"Contenido de Diseños",children:y.jsx("div",{className:"p-6",children:y.jsx(xv,{})})})]})});function HOe({title:t,storageKey:e}){const[n,r]=$.useState(()=>localStorage.getItem(e)||null),i=$.useRef(),s=a=>{var c;const l=(c=a.target.files)==null?void 0:c[0];if(!l)return;const A=new FileReader;A.onload=u=>{const h=u.target.result;r(h),localStorage.setItem(e,h)},A.readAsDataURL(l)},o=()=>{r(null),localStorage.removeItem(e)};return y.jsxs(pn,{className:"p-4 space-y-4 flex flex-col items-center",children:[y.jsx("h2",{className:"text-lg font-semibold",children:t}),n?y.jsxs(y.Fragment,{children:[y.jsx("img",{src:n,alt:t,className:"max-h-40 object-contain border rounded"}),y.jsxs("button",{onClick:o,className:"flex items-center gap-1 bg-red-600 text-white px-3 py-1 rounded",children:[y.jsx(Gv,{size:16})," Eliminar"]})]}):y.jsxs(y.Fragment,{children:[y.jsx("input",{type:"file",accept:"image/*",ref:i,onChange:s,className:"hidden"}),y.jsxs("button",{onClick:()=>{var a;return(a=i.current)==null?void 0:a.click()},className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded",children:[y.jsx(Phe,{size:18})," Subir imagen"]})]})]})}function VOe(){const[t,e]=$.useState(()=>localStorage.getItem("logoColor")||"#FF69B4"),n=r=>{e(r.target.value),localStorage.setItem("logoColor",r.target.value)};return y.jsxs("div",{className:"space-y-6",children:[y.jsx(HOe,{title:"Subir Logo",storageKey:"logoImage"}),y.jsxs(pn,{className:"p-4 flex flex-col gap-4 items-start",children:[y.jsx("h2",{className:"text-lg font-semibold",children:"Color principal"}),y.jsx("input",{type:"color",value:t,onChange:n,className:"w-16 h-10 p-0 border-0 cursor-pointer","aria-label":"Seleccionar color del logo"}),y.jsxs("p",{className:"text-sm text-gray-600",children:["Código: ",t]})]})]})}const $Oe=()=>{try{const t=localStorage.getItem("menuDesigner");return t?JSON.parse(t):{entradas:[],principales:[],postres:[],bebidas:[]}}catch{return{entradas:[],principales:[],postres:[],bebidas:[]}}};function zOe(){const[t,e]=$.useState($Oe),[n,r]=$.useState("entradas"),[i,s]=$.useState("");$.useEffect(()=>{localStorage.setItem("menuDesigner",JSON.stringify(t))},[t]);const o=()=>{i.trim()&&(e(l=>({...l,[n]:[...l[n],i.trim()]})),s(""))},a=(l,A)=>{e(c=>({...c,[l]:c[l].filter((u,h)=>h!==A)}))};return y.jsxs("div",{className:"space-y-6",children:[y.jsxs(pn,{className:"p-6 space-y-4",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Diseño del Menú"}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-2 md:items-end",children:[y.jsxs("select",{value:n,onChange:l=>r(l.target.value),className:"border rounded px-3 py-2",children:[y.jsx("option",{value:"entradas",children:"Entradas"}),y.jsx("option",{value:"principales",children:"Plato principal"}),y.jsx("option",{value:"postres",children:"Postres"}),y.jsx("option",{value:"bebidas",children:"Bebidas"})]}),y.jsx("input",{type:"text",placeholder:"Nombre del plato",value:i,onChange:l=>s(l.target.value),className:"flex-grow border rounded px-3 py-2"}),y.jsxs("button",{onClick:o,className:"flex items-center gap-1 bg-blue-600 text-white px-4 py-2 rounded",children:[y.jsx(bb,{size:16})," Añadir"]})]})]}),y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h2",{className:"text-xl font-semibold",children:"Vista Previa"}),y.jsx("div",{className:"space-y-4 text-center font-serif",children:Object.entries(t).map(([l,A])=>y.jsxs("div",{className:"space-y-1",children:[y.jsx("h3",{className:"text-lg font-bold capitalize",children:l}),A.length===0&&y.jsx("p",{className:"text-sm text-gray-500",children:"Sin elementos"}),A.map((c,u)=>y.jsxs("div",{className:"flex items-center justify-center gap-2 group",children:[y.jsx("span",{children:c}),y.jsx("button",{onClick:()=>a(l,u),className:"hidden group-hover:inline-flex text-red-600","aria-label":`Eliminar ${c}`,children:y.jsx(Gv,{size:14})})]},u))]},l))})]})]})}function KOe(){return y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Seating Plan Post"}),y.jsx("p",{children:"Aquí podrás diseñar la señalización del seating plan."})]})}function WOe(){return y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Menú Catering"}),y.jsx("p",{children:"Aquí podrás gestionar los detalles de catering y menús especiales (intolerancias, niños, vegetarianos...)."})]})}function GOe(){return y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Papeles con Nombres"}),y.jsx("p",{children:"Aquí podrás diseñar los cartelitos con nombres para las mesas."})]})}function qOe(){const[t,e]=$.useState("notes"),[n,r]=$.useState([]),[i,s]=$.useState(""),[o,a]=$.useState([]),[l,A]=$.useState([]);return y.jsxs("div",{className:"p-6",children:[y.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Ideas"}),y.jsxs("div",{className:"flex space-x-4 mb-4",children:[y.jsx("button",{onClick:()=>e("notes"),className:`px-4 py-2 rounded ${t==="notes"?"bg-blue-600 text-white":""}`,children:"Notas"}),y.jsx("button",{onClick:()=>e("voices"),className:`px-4 py-2 rounded ${t==="voices"?"bg-blue-600 text-white":""}`,children:"Notas de Voz"}),y.jsx("button",{onClick:()=>e("photos"),className:`px-4 py-2 rounded ${t==="photos"?"bg-blue-600 text-white":""}`,children:"Fotos"})]}),t==="notes"&&y.jsxs("div",{children:[y.jsx("textarea",{value:i,onChange:c=>s(c.target.value),className:"w-full border rounded p-2 mb-2",placeholder:"Escribe tu nota..."}),y.jsx("button",{onClick:()=>{i&&(r(c=>[...c,i]),s(""))},className:"bg-blue-600 text-white px-4 py-2 rounded",children:"Añadir Nota"}),y.jsx("ul",{className:"mt-4 list-disc list-inside",children:n.map((c,u)=>y.jsx("li",{children:c},u))})]}),t==="voices"&&y.jsxs("div",{children:[y.jsx("input",{type:"file",accept:"audio/*",onChange:c=>{const u=c.target.files[0];u&&a(h=>[...h,URL.createObjectURL(u)])}}),y.jsx("ul",{className:"mt-4 space-y-2",children:o.map((c,u)=>y.jsx("li",{children:y.jsx("audio",{controls:!0,src:c})},u))})]}),t==="photos"&&y.jsxs("div",{children:[y.jsx("input",{type:"file",accept:"image/*",onChange:c=>{const u=c.target.files[0];u&&A(h=>[...h,URL.createObjectURL(u)])}}),y.jsx("div",{className:"mt-4 grid grid-cols-3 gap-2",children:l.map((c,u)=>y.jsx("img",{src:c,alt:`Foto ${u}`,className:"w-full h-32 object-cover rounded"},u))})]})]})}function YOe(){return y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Buzón de correo"}),y.jsx("p",{children:"Aquí aparecerán tus mensajes."})]})}function XOe(){return y.jsxs(pn,{className:"p-6 space-y-6",children:[y.jsx("h1",{className:"text-2xl font-semibold",children:"Notificaciones"}),y.jsx("p",{children:"Aquí aparecerán tus notificaciones."})]})}function JOe(){const{isAuthenticated:t}=Uh();return t?y.jsx(xv,{}):y.jsx(r1,{to:"/",replace:!0})}function ZOe(){return y.jsxs(nle,{children:[y.jsx(fY,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),y.jsx(Tq,{children:y.jsxs(wq,{children:[y.jsx(on,{path:"/",element:y.jsx(Ohe,{})}),y.jsx(on,{path:"/signup",element:y.jsx(Mhe,{})}),y.jsx(on,{element:y.jsx(JOe,{}),children:y.jsxs(on,{element:y.jsx(Uhe,{}),children:[y.jsx(on,{path:"home",element:y.jsx(Khe,{})}),y.jsx(on,{path:"tasks",element:y.jsx(hNe,{})}),y.jsx(on,{path:"finance",element:y.jsx(fNe,{})}),y.jsx(on,{path:"invitados",element:y.jsx(gNe,{})}),y.jsx(on,{path:"invitados/seating",element:y.jsx(TOe,{})}),y.jsx(on,{path:"invitados/invitaciones",element:y.jsx(wU,{})}),y.jsx(on,{path:"proveedores",element:y.jsx(mNe,{})}),y.jsx(on,{path:"proveedores/contratos",element:y.jsx(IOe,{})}),y.jsxs(on,{path:"protocolo",element:y.jsx(kOe,{}),children:[y.jsx(on,{index:!0,element:y.jsx(r1,{to:"momentos-especiales",replace:!0})}),y.jsx(on,{path:"momentos-especiales",element:y.jsx(POe,{})}),y.jsx(on,{path:"timing",element:y.jsx(DOe,{})}),y.jsx(on,{path:"checklist",element:y.jsx(LOe,{})}),y.jsx(on,{path:"ayuda-ceremonia",element:y.jsx(ROe,{})})]}),y.jsx(on,{path:"perfil",element:y.jsx(vNe,{})}),y.jsx(on,{path:"notificaciones",element:y.jsx(XOe,{})}),y.jsx(on,{path:"buzon",element:y.jsx(YOe,{})}),y.jsx(on,{path:"diseno-web",element:y.jsx(MOe,{})}),y.jsx(on,{path:"ideas",element:y.jsx(qOe,{})}),y.jsxs(on,{path:"disenos",element:y.jsx(jOe,{}),children:[y.jsx(on,{index:!0,element:y.jsx(r1,{to:"invitaciones",replace:!0})}),y.jsx(on,{path:"invitaciones",element:y.jsx(wU,{})}),y.jsx(on,{path:"logo",element:y.jsx(VOe,{})}),y.jsx(on,{path:"menu",element:y.jsx(zOe,{})}),y.jsx(on,{path:"seating-plan",element:y.jsx(KOe,{})}),y.jsx(on,{path:"menu-catering",element:y.jsx(WOe,{})}),y.jsx(on,{path:"papeles-nombres",element:y.jsx(GOe,{})})]}),y.jsx(on,{path:"more",element:y.jsx(pNe,{}),children:y.jsx(on,{index:!0,element:y.jsx("p",{children:"Selecciona una sección"})})}),y.jsx(on,{path:"*",element:y.jsx(r1,{to:"home",replace:!0})})]})})]})})]})}Dx.createRoot(document.getElementById("root")).render(y.jsx(re.StrictMode,{children:y.jsx(ZOe,{})}));export{Pu as _,Fr as c,ss as g};
